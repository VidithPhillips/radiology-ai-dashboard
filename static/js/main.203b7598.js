/*! For license information please see main.203b7598.js.LICENSE.txt */
(()=>{var e={49:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var x=v.prototype=new y;x.constructor=v,m(x,b.prototype),x.isPureReactComponent=!0;var E=Array.isArray,T=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var s,i={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)T.call(t,s)&&!k.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:a,ref:o,props:i,_owner:w.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+A(l,0):i,E(a)?(s="",null!=e&&(s=e.replace(I,"$&/")+"/"),C(a,t,s,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",E(e))for(var c=0;c<e.length;c++){var u=i+A(o=e[c],c);l+=C(o,t,s,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=C(o=o.value,t,s,u=i+A(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],s=0;return C(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},M={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:w};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=s,t.Profiler=a,t.PureComponent=v,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)T.call(t,c)&&!k.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},53:(e,t,n)=>{var r=n(658),s=n(271),i=n(545),a=n(281),o=n(647),l=n(855),c=n(583);c.alea=r,c.xor128=s,c.xorwow=i,c.xorshift7=a,c.xor4096=o,c.tychei=l,e.exports=c},72:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(S){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var s={},i={};function a(e,t){var n,r,a;return t?(a=0<=(e>>>=0)&&e<256)&&(r=i[e])?r:(n=l(e,(0|e)<0?-1:0,!0),a&&(i[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(r=s[e])?r:(n=l(e,e<0?-1:0,!1),a&&(s[e]=n),n)}function o(e,t){if(isNaN(e))return t?b:g;if(t){if(e<0)return b;if(e>=p)return T}else{if(e<=-f)return w;if(e+1>=f)return E}return e<0?o(-e,t).neg():l(e%d|0,e/d|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=o,n.fromBits=l;var c=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var s=o(c(n,8)),i=g,a=0;a<e.length;a+=8){var l=Math.min(8,e.length-a),h=parseInt(e.substring(a,a+l),n);if(l<8){var d=o(c(n,l));i=i.mul(d).add(o(h))}else i=(i=i.mul(s)).add(o(h))}return i.unsigned=t,i}function h(e,t){return"number"===typeof e?o(e,t):"string"===typeof e?u(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=h;var d=4294967296,p=d*d,f=p/2,m=a(1<<24),g=a(0);n.ZERO=g;var b=a(0,!0);n.UZERO=b;var y=a(1);n.ONE=y;var v=a(1,!0);n.UONE=v;var x=a(-1);n.NEG_ONE=x;var E=l(-1,2147483647,!1);n.MAX_VALUE=E;var T=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=T;var w=l(0,-2147483648,!1);n.MIN_VALUE=w;var k=n.prototype;k.toInt=function(){return this.unsigned?this.low>>>0:this.low},k.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},k.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(w)){var t=o(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var s=o(c(e,6),this.unsigned),i=this,a="";;){var l=i.div(s),u=(i.sub(l.mul(s)).toInt()>>>0).toString(e);if((i=l).isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}},k.getHighBits=function(){return this.high},k.getHighBitsUnsigned=function(){return this.high>>>0},k.getLowBits=function(){return this.low},k.getLowBitsUnsigned=function(){return this.low>>>0},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},k.isZero=function(){return 0===this.high&&0===this.low},k.eqz=k.isZero,k.isNegative=function(){return!this.unsigned&&this.high<0},k.isPositive=function(){return this.unsigned||this.high>=0},k.isOdd=function(){return 1===(1&this.low)},k.isEven=function(){return 0===(1&this.low)},k.equals=function(e){return r(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},k.eq=k.equals,k.notEquals=function(e){return!this.eq(e)},k.neq=k.notEquals,k.ne=k.notEquals,k.lessThan=function(e){return this.comp(e)<0},k.lt=k.lessThan,k.lessThanOrEqual=function(e){return this.comp(e)<=0},k.lte=k.lessThanOrEqual,k.le=k.lessThanOrEqual,k.greaterThan=function(e){return this.comp(e)>0},k.gt=k.greaterThan,k.greaterThanOrEqual=function(e){return this.comp(e)>=0},k.gte=k.greaterThanOrEqual,k.ge=k.greaterThanOrEqual,k.compare=function(e){if(r(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},k.comp=k.compare,k.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(y)},k.neg=k.negate,k.add=function(e){r(e)||(e=h(e));var t=this.high>>>16,n=65535&this.high,s=this.low>>>16,i=65535&this.low,a=e.high>>>16,o=65535&e.high,c=e.low>>>16,u=0,d=0,p=0,f=0;return p+=(f+=i+(65535&e.low))>>>16,d+=(p+=s+c)>>>16,u+=(d+=n+o)>>>16,u+=t+a,l((p&=65535)<<16|(f&=65535),(u&=65535)<<16|(d&=65535),this.unsigned)},k.subtract=function(e){return r(e)||(e=h(e)),this.add(e.neg())},k.sub=k.subtract,k.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=h(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(w))return e.isOdd()?w:g;if(e.eq(w))return this.isOdd()?w:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return o(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,s=65535&this.high,i=this.low>>>16,a=65535&this.low,c=e.high>>>16,u=65535&e.high,d=e.low>>>16,p=65535&e.low,f=0,b=0,y=0,v=0;return y+=(v+=a*p)>>>16,b+=(y+=i*p)>>>16,y&=65535,b+=(y+=a*d)>>>16,f+=(b+=s*p)>>>16,b&=65535,f+=(b+=i*d)>>>16,b&=65535,f+=(b+=a*u)>>>16,f+=n*p+s*d+i*u+a*c,l((y&=65535)<<16|(v&=65535),(f&=65535)<<16|(b&=65535),this.unsigned)},k.mul=k.multiply,k.divide=function(e){if(r(e)||(e=h(e)),e.isZero())throw Error("division by zero");var n,s,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?b:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return b;if(e.gt(this.shru(1)))return v;i=b}else{if(this.eq(w))return e.eq(y)||e.eq(x)?w:e.eq(w)?y:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?y:x:(s=this.sub(e.mul(n)),i=n.add(s.div(e)));if(e.eq(w))return this.unsigned?b:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=g}for(s=this;s.gte(e);){n=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),u=a<=48?1:c(2,a-48),d=o(n),p=d.mul(e);p.isNegative()||p.gt(s);)p=(d=o(n-=u,this.unsigned)).mul(e);d.isZero()&&(d=y),i=i.add(d),s=s.sub(p)}return i},k.div=k.divide,k.modulo=function(e){return r(e)||(e=h(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},k.mod=k.modulo,k.rem=k.modulo,k.not=function(){return l(~this.low,~this.high,this.unsigned)},k.and=function(e){return r(e)||(e=h(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},k.or=function(e){return r(e)||(e=h(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},k.xor=function(e){return r(e)||(e=h(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},k.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},k.shl=k.shiftLeft,k.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},k.shr=k.shiftRight,k.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},k.shru=k.shiftRightUnsigned,k.shr_u=k.shiftRightUnsigned,k.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},k.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},k.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},k.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},k.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},108:()=>{},119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},234:()=>{},271:function(e,t,n){var r;!function(e,s){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var n=new i(e),r=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,r&&("object"==typeof r&&a(r,n),s.state=function(){return a(n,{})}),s}s&&s.exports?s.exports=o:n.amdD&&n.amdO?void 0===(r=function(){return o}.call(t,n,t,s))||(s.exports=r):this.xor128=o}(0,e=n.nmd(e),n.amdD)},281:function(e,t,n){var r;!function(e,s){function i(e){var t=this;t.next=function(){var e,n,r=t.x,s=t.i;return e=r[s],n=(e^=e>>>7)^e<<24,n^=(e=r[s+1&7])^e>>>10,n^=(e=r[s+3&7])^e>>>3,n^=(e=r[s+4&7])^e<<7,e=r[s+7&7],n^=(e^=e<<13)^e<<9,r[s]=n,t.i=s+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,r&&(r.x&&a(r,n),s.state=function(){return a(n,{})}),s}s&&s.exports?s.exports=o:n.amdD&&n.amdO?void 0===(r=function(){return o}.call(t,n,t,s))||(s.exports=r):this.xorshift7=o}(0,e=n.nmd(e),n.amdD)},340:(e,t,n)=>{"use strict";e.exports=n(761)},345:(e,t,n)=>{"use strict";var r=n(950),s=n(340);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),I=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var P,F=Object.assign;function $(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),i=r.stack.split("\n"),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==i[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function z(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case T:return"Portal";case S:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function j(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ie(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var be=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,we=null,ke=null;function Se(e){if(e=vs(e)){if("function"!==typeof Te)throw Error(i(280));var t=e.stateNode;t&&(t=Es(t),Te(e.stateNode,e.type,t))}}function _e(e){we?ke?ke.push(e):ke=[e]:we=e}function Ie(){if(we){var e=we,t=ke;if(ke=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Ce(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ae(e,t,n)}finally{Ne=!1,(null!==we||null!==ke)&&(Ce(),Ie())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Es(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Oe=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Oe=!1}function Le(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Pe=!1,Fe=null,$e=!1,Be=null,Ue={onError:function(e){Pe=!0,Fe=e}};function ze(e,t,n,r,s,i,a,o,l){Pe=!1,Fe=null,Le.apply(Ue,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(He(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Ge(s),e;if(a===r)return Ge(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var je=s.unstable_scheduleCallback,Ye=s.unstable_cancelCallback,Ke=s.unstable_shouldYield,Xe=s.unstable_requestPaint,Qe=s.unstable_now,Je=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?r=ht(o):0!==(i&=a)&&(r=ht(i))}else 0!==(a=n&~s)?r=ht(a):0!==i&&(r=ht(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-at(t)),r|=e[n],t&=~s;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var vt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,Tt,wt,kt,St,_t=!1,It=[],At=null,Ct=null,Nt=null,Dt=new Map,Rt=new Map,Ot=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Pt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=vs(t))&&Tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Ft(e){var t=ys(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function $t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vs(n))&&Tt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){$t(e)&&n.delete(t)}function Ut(){_t=!1,null!==At&&$t(At)&&(At=null),null!==Ct&&$t(Ct)&&(Ct=null),null!==Nt&&$t(Nt)&&(Nt=null),Dt.forEach(Bt),Rt.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ut)))}function Ht(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&zt(At,e),null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),Dt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Wt=x.ReactCurrentBatchConfig,Gt=!0;function Vt(e,t,n,r){var s=vt,i=Wt.transition;Wt.transition=null;try{vt=1,jt(e,t,n,r)}finally{vt=s,Wt.transition=i}}function qt(e,t,n,r){var s=vt,i=Wt.transition;Wt.transition=null;try{vt=4,jt(e,t,n,r)}finally{vt=s,Wt.transition=i}}function jt(e,t,n,r){if(Gt){var s=Kt(e,t,n,r);if(null===s)Gr(e,t,r,Yt,n),Lt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return At=Pt(At,e,t,n,r,s),!0;case"dragenter":return Ct=Pt(Ct,e,t,n,r,s),!0;case"mouseover":return Nt=Pt(Nt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Dt.set(i,Pt(Dt.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rt.set(i,Pt(Rt.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==s;){var i=vs(s);if(null!==i&&Et(i),null===(i=Kt(e,t,n,r))&&Gr(e,t,r,Yt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Yt=null;function Kt(e,t,n,r){if(Yt=null,null!==(e=ys(e=Ee(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,s="value"in Qt?Qt.value:Qt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),pn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=sn(pn),mn=sn(F({},pn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),bn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=sn(yn),xn=sn(F({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return kn}var _n=F({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(_n),An=sn(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Dn),On=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Pn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Mn||Ln&&8<Ln&&11>=Ln),$n=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){_e(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,jn=null;function Yn(e){$r(e,0)}function Kn(e){if(j(xs(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),jn=qn=null)}function nr(e){if("value"===e.propertyName&&Kn(jn)){var t=[];Vn(t,jn,e,Ee(e)),De(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),jn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(jn)}function ir(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!h.call(t,s)||!or(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ur(n,i);var a=ur(n,r);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,br=null,yr=null,vr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(br,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},wr={},kr={};function Sr(e){if(wr[e])return wr[e];if(!Tr[e])return e;var t,n=Tr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return wr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);var _r=Sr("animationend"),Ir=Sr("animationiteration"),Ar=Sr("animationstart"),Cr=Sr("transitionend"),Nr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),l(t,[e])}for(var Or=0;Or<Dr.length;Or++){var Mr=Dr[Or];Rr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Rr(_r,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(Ar,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,o,l,c){if(ze.apply(this,arguments),Pe){if(!Pe)throw Error(i(198));var u=Fe;Pe=!1,Fe=null,$e||($e=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function $r(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Fr(s,o,c),i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Fr(s,o,c),i=l}}}if($e)throw e=Be,$e=!1,Be=null,e}function Br(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Xt(t)){case 1:var s=Vt;break;case 4:s=qt;break;default:s=jt}n=s.bind(null,t,n,e),s=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=ys(o)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}o=o.parentNode}}r=r.return}De((function(){var r=i,s=Ee(n),a=[];e:{var o=Nr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case _r:case Ir:case Ar:l=bn;break;case Cr:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=Re(f,d))&&u.push(Vr(f,m,p)))),h)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[fs])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(h=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?o:xs(l),p=null==c?o:xs(c),(o=new u(m,f+"leave",l,n,s)).target=h,o.relatedTarget=p,m=null,ys(s)===r&&((u=new u(d,f+"enter",c,n,s)).target=p,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,f=0,p=u=l;p;p=jr(p))f++;for(p=0,m=d;m;m=jr(m))p++;for(;0<f-p;)u=jr(u),f--;for(;0<p-f;)d=jr(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=jr(u),d=jr(d)}u=null}else u=null;null!==l&&Yr(a,o,l,u,!1),null!==c&&null!==h&&Yr(a,h,c,u,!0)}if("select"===(l=(o=r?xs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(Gn(o))if(Qn)g=ar;else{g=sr;var b=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Vn(a,g,n,s):(b&&b(e,o,r),"focusout"===e&&(b=o._wrapperState)&&b.controlled&&"number"===o.type&&ee(o,"number",o.value)),b=r?xs(r):window,e){case"focusin":(Gn(b)||"true"===b.contentEditable)&&(gr=b,br=r,yr=null);break;case"focusout":yr=br=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,xr(a,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,s)}var y;if(Mn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Fn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Hn&&(y=en()):(Jt="value"in(Qt=s)?Qt.value:Qt.textContent,Hn=!0)),0<(b=qr(r,v)).length&&(v=new xn(v,e,null,n,s),a.push({event:v,listeners:b}),y?v.data=y:null!==(y=zn(n))&&(v.data=y))),(y=Pn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,$n);case"textInput":return(e=t.data)===$n&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Mn&&Un(e,t)?(e=en(),Zt=Jt=Qt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(s=new xn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:r}),s.data=y))}$r(a,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Re(e,n))&&r.unshift(Vr(e,i,s)),null!=(i=Re(e,t))&&r.push(Vr(e,i,s))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Re(n,i))&&a.unshift(Vr(n,l,o)):s||null!=(l=Re(n,i))&&a.push(Vr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(i(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,as="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout((function(){throw e}))}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Ht(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),ds="__reactFiber$"+hs,ps="__reactProps$"+hs,fs="__reactContainer$"+hs,ms="__reactEvents$"+hs,gs="__reactListeners$"+hs,bs="__reactHandles$"+hs;function ys(e){var t=e[ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[ds]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[ds])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function vs(e){return!(e=e[ds]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Es(e){return e[ps]||null}var Ts=[],ws=-1;function ks(e){return{current:e}}function Ss(e){0>ws||(e.current=Ts[ws],Ts[ws]=null,ws--)}function _s(e,t){ws++,Ts[ws]=e.current,e.current=t}var Is={},As=ks(Is),Cs=ks(!1),Ns=Is;function Ds(e,t){var n=e.type.contextTypes;if(!n)return Is;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rs(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Os(){Ss(Cs),Ss(As)}function Ms(e,t,n){if(As.current!==Is)throw Error(i(168));_s(As,t),_s(Cs,n)}function Ls(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,W(e)||"Unknown",s));return F({},n,r)}function Ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Is,Ns=As.current,_s(As,e),_s(Cs,Cs.current),!0}function Fs(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ls(e,t,Ns),r.__reactInternalMemoizedMergedChildContext=e,Ss(Cs),Ss(As),_s(As,e)):Ss(Cs),_s(Cs,n)}var $s=null,Bs=!1,Us=!1;function zs(e){null===$s?$s=[e]:$s.push(e)}function Hs(){if(!Us&&null!==$s){Us=!0;var e=0,t=vt;try{var n=$s;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}$s=null,Bs=!1}catch(s){throw null!==$s&&($s=$s.slice(e+1)),je(Ze,Hs),s}finally{vt=t,Us=!1}}return null}var Ws=[],Gs=0,Vs=null,qs=0,js=[],Ys=0,Ks=null,Xs=1,Qs="";function Js(e,t){Ws[Gs++]=qs,Ws[Gs++]=Vs,Vs=e,qs=t}function Zs(e,t,n){js[Ys++]=Xs,js[Ys++]=Qs,js[Ys++]=Ks,Ks=e;var r=Xs;e=Qs;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Xs=1<<32-at(t)+s|n<<s|r,Qs=i+e}else Xs=1<<i|n<<s|r,Qs=e}function ei(e){null!==e.return&&(Js(e,1),Zs(e,1,0))}function ti(e){for(;e===Vs;)Vs=Ws[--Gs],Ws[Gs]=null,qs=Ws[--Gs],Ws[Gs]=null;for(;e===Ks;)Ks=js[--Ys],js[Ys]=null,Qs=js[--Ys],js[Ys]=null,Xs=js[--Ys],js[Ys]=null}var ni=null,ri=null,si=!1,ii=null;function ai(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ks?{id:Xs,overflow:Qs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(si){var t=ri;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=cs(n.nextSibling);var r=ni;t&&oi(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function hi(e){if(e!==ni)return!1;if(!si)return ui(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw di(),Error(i(418));for(;t;)ai(e,t),t=cs(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?cs(e.stateNode.nextSibling):null;return!0}function di(){for(var e=ri;e;)e=cs(e.nextSibling)}function pi(){ri=ni=null,si=!1}function fi(e){null===ii?ii=[e]:ii.push(e)}var mi=x.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function vi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===w?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&yi(i)===t.type)?((r=s(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$c(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case T:return(t=$c(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;bi(e,t)}return null}function p(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===s?c(e,t,n,r):null;case T:return n.key===s?u(e,t,n,r):null;case R:return p(e,t,(s=n._init)(n._payload),r)}if(te(n)||L(n))return null!==s?null:h(e,t,n,r,null);bi(e,n)}return null}function f(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case T:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case R:return f(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,s,null);bi(t,r)}return null}function m(s,i,o,l){for(var c=null,u=null,h=i,m=i=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var b=p(s,h,o[m],l);if(null===b){null===h&&(h=g);break}e&&h&&null===b.alternate&&t(s,h),i=a(b,i,m),null===u?c=b:u.sibling=b,u=b,h=g}if(m===o.length)return n(s,h),si&&Js(s,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(s,o[m],l))&&(i=a(h,i,m),null===u?c=h:u.sibling=h,u=h);return si&&Js(s,m),c}for(h=r(s,h);m<o.length;m++)null!==(g=f(h,s,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(s,e)})),si&&Js(s,m),c}function g(s,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var h=u=null,m=o,g=o=0,b=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var v=p(s,m,y.value,c);if(null===v){null===m&&(m=b);break}e&&m&&null===v.alternate&&t(s,m),o=a(v,o,g),null===h?u=v:h.sibling=v,h=v,m=b}if(y.done)return n(s,m),si&&Js(s,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(s,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return si&&Js(s,g),u}for(m=r(s,m);!y.done;g++,y=l.next())null!==(y=f(m,s,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(s,e)})),si&&Js(s,g),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===w&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===w){if(7===u.tag){n(r,u.sibling),(i=s(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&yi(c)===u.type){n(r,u.sibling),(i=s(u,a.props)).ref=gi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===w?((i=Lc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Mc(a.type,a.key,a.props,null,r.mode,l)).ref=gi(r,i,a),l.return=r,r=l)}return o(r);case T:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=s(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=$c(a,r.mode,l)).return=r,r=i}return o(r);case R:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(L(a))return g(r,i,a,l);bi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,a)).return=r,r=i):(n(r,i),(i=Fc(a,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var xi=vi(!0),Ei=vi(!1),Ti=ks(null),wi=null,ki=null,Si=null;function _i(){Si=ki=wi=null}function Ii(e){var t=Ti.current;Ss(Ti),e._currentValue=t}function Ai(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){wi=e,Si=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Ni(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===wi)throw Error(i(308));ki=e,wi.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Di=null;function Ri(e){null===Di?Di=[e]:Di.push(e)}function Oi(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ri(t)):(n.next=s.next,s.next=n),t.interleaved=n,Mi(e,r)}function Mi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Li=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $i(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Mi(e,n)}return null===(s=r.interleaved)?(t.next=t,Ri(r)):(t.next=s.next,s.next=t),r.interleaved=t,Mi(e,n)}function Ui(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hi(e,t,n,r){var s=e.updateQueue;Li=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var h=s.baseState;for(a=0,u=c=l=null,o=i;;){var d=o.lane,p=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(d=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=m.payload)?f.call(p,h,d):f)||void 0===d)break e;h=F({},h,d);break e;case 2:Li=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=s.effects)?s.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=d;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(d=o).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===u&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Pl|=a,e.lanes=a,e.memoizedState=h}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var Gi={},Vi=ks(Gi),qi=ks(Gi),ji=ks(Gi);function Yi(e){if(e===Gi)throw Error(i(174));return e}function Ki(e,t){switch(_s(ji,t),_s(qi,e),_s(Vi,Gi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Vi),_s(Vi,t)}function Xi(){Ss(Vi),Ss(qi),Ss(ji)}function Qi(e){Yi(ji.current);var t=Yi(Vi.current),n=le(t,e.type);t!==n&&(_s(qi,e),_s(Vi,n))}function Ji(e){qi.current===e&&(Ss(Vi),Ss(qi))}var Zi=ks(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=x.ReactCurrentDispatcher,sa=x.ReactCurrentBatchConfig,ia=0,aa=null,oa=null,la=null,ca=!1,ua=!1,ha=0,da=0;function pa(){throw Error(i(321))}function fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,s,a){if(ia=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Ja:Za,e=n(r,s),ua){a=0;do{if(ua=!1,ha=0,25<=a)throw Error(i(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,s)}while(ua)}if(ra.current=Qa,t=null!==oa&&null!==oa.next,ia=0,la=oa=aa=null,ca=!1,t)throw Error(i(300));return e}function ga(){var e=0!==ha;return ha=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(i(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function va(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ya(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=oa,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((ia&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,aa.lanes|=h,Pl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(vo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,aa.lanes|=a,Pl|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ea(e){var t=ya(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);or(a,t.memoizedState)||(vo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ta(){}function wa(e,t){var n=aa,r=ya(),s=t(),a=!or(r.memoizedState,s);if(a&&(r.memoizedState=s,vo=!0),r=r.queue,La(_a.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Na(9,Sa.bind(null,n,r,s,t),void 0,null),null===Cl)throw Error(i(349));0!==(30&ia)||ka(n,t,s)}return s}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sa(e,t,n,r){t.value=n,t.getSnapshot=r,Ia(t)&&Aa(e)}function _a(e,t,n){return n((function(){Ia(t)&&Aa(e)}))}function Ia(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Aa(e){var t=Mi(e,1);null!==t&&nc(t,e,1,-1)}function Ca(e){var t=ba();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t.queue=e,e=e.dispatch=ja.bind(null,aa,e),[t.memoizedState,e]}function Na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Da(){return ya().memoizedState}function Ra(e,t,n,r){var s=ba();aa.flags|=e,s.memoizedState=Na(1|t,n,void 0,void 0===r?null:r)}function Oa(e,t,n,r){var s=ya();r=void 0===r?null:r;var i=void 0;if(null!==oa){var a=oa.memoizedState;if(i=a.destroy,null!==r&&fa(r,a.deps))return void(s.memoizedState=Na(t,n,i,r))}aa.flags|=e,s.memoizedState=Na(1|t,n,i,r)}function Ma(e,t){return Ra(8390656,8,e,t)}function La(e,t){return Oa(2048,8,e,t)}function Pa(e,t){return Oa(4,2,e,t)}function Fa(e,t){return Oa(4,4,e,t)}function $a(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4,4,$a.bind(null,t,e),n)}function Ua(){}function za(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return 0===(21&ia)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Pl|=n,e.baseState=!0),t)}function Ga(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=sa.transition;sa.transition={};try{e(!1),t()}finally{vt=n,sa.transition=r}}function Va(){return ya().memoizedState}function qa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Ka(t,n);else if(null!==(n=Oi(e,t,n,r))){nc(n,e,r,ec()),Xa(n,t,r)}}function ja(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Ka(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(s.next=s,Ri(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Oi(e,t,s,r))&&(nc(n,e,r,s=ec()),Xa(n,t,r))}}function Ya(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ka(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Qa={readContext:Ni,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Ja={readContext:Ni,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:Ni,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,$a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ba().memoizedState=e},useState:Ca,useDebugValue:Ua,useDeferredValue:function(e){return ba().memoizedState=e},useTransition:function(){var e=Ca(!1),t=e[0];return e=Ga.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,s=ba();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Cl)throw Error(i(349));0!==(30&ia)||ka(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Ma(_a.bind(null,r,a,e),[e]),r.flags|=2048,Na(9,Sa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ba(),t=Cl.identifierPrefix;if(si){var n=Qs;t=":"+t+"R"+(n=(Xs&~(1<<32-at(Xs)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:Ni,useCallback:za,useContext:Ni,useEffect:La,useImperativeHandle:Ba,useInsertionEffect:Pa,useLayoutEffect:Fa,useMemo:Ha,useReducer:xa,useRef:Da,useState:function(){return xa(va)},useDebugValue:Ua,useDeferredValue:function(e){return Wa(ya(),oa.memoizedState,e)},useTransition:function(){return[xa(va)[0],ya().memoizedState]},useMutableSource:Ta,useSyncExternalStore:wa,useId:Va,unstable_isNewReconciler:!1},eo={readContext:Ni,useCallback:za,useContext:Ni,useEffect:La,useImperativeHandle:Ba,useInsertionEffect:Pa,useLayoutEffect:Fa,useMemo:Ha,useReducer:Ea,useRef:Da,useState:function(){return Ea(va)},useDebugValue:Ua,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:Wa(t,oa.memoizedState,e)},useTransition:function(){return[Ea(va)[0],ya().memoizedState]},useMutableSource:Ta,useSyncExternalStore:wa,useId:Va,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=$i(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,s))&&(nc(t,e,s,r),Ui(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=$i(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,s))&&(nc(t,e,s,r),Ui(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=$i(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Bi(e,s,r))&&(nc(t,e,r,n),Ui(t,e,r))}};function so(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,i))}function io(e,t,n){var r=!1,s=Is,i=t.contextType;return"object"===typeof i&&null!==i?i=Ni(i):(s=Rs(t)?Ns:As.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ds(e,s):Is),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Pi(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Ni(i):(i=Rs(t)?Ns:As.current,s.context=Ds(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ro.enqueueReplaceState(s,s.state,null),Hi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=$i(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Vl=r),uo(0,t)},n}function fo(e,t,n){(n=$i(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bo(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=$i(-1,1)).tag=2,Bi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var yo=x.ReactCurrentOwner,vo=!1;function xo(e,t,n,r){t.child=null===e?Ei(t,null,n,r):xi(t,e.child,n,r)}function Eo(e,t,n,r,s){n=n.render;var i=t.ref;return Ci(t,s),r=ma(e,t,n,r,i,s),n=ga(),null===e||vo?(si&&n&&ei(t),t.flags|=1,xo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Go(e,t,s))}function To(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Rc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,wo(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Go(e,t,s)}return t.flags|=1,(e=Oc(i,r)).ref=t.ref,e.return=t,t.child=e}function wo(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(vo=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,Go(e,t,s);0!==(131072&e.flags)&&(vo=!0)}}return _o(e,t,n,r,s)}function ko(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_s(Ol,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_s(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,_s(Ol,Rl),Rl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,_s(Ol,Rl),Rl|=r;return xo(e,t,s,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,n,r,s){var i=Rs(n)?Ns:As.current;return i=Ds(t,i),Ci(t,s),n=ma(e,t,n,r,i,s),r=ga(),null===e||vo?(si&&r&&ei(t),t.flags|=1,xo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Go(e,t,s))}function Io(e,t,n,r,s){if(Rs(n)){var i=!0;Ps(t)}else i=!1;if(Ci(t,s),null===t.stateNode)Wo(e,t),io(t,n,r),oo(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ni(c):c=Ds(t,c=Rs(n)?Ns:As.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Li=!1;var d=t.memoizedState;a.state=d,Hi(t,r,a,s),l=t.memoizedState,o!==r||d!==l||Cs.current||Li?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Li||so(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ni(l):l=Ds(t,l=Rs(n)?Ns:As.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ao(t,a,r,l),Li=!1,d=t.memoizedState,a.state=d,Hi(t,r,a,s);var f=t.memoizedState;o!==h||d!==f||Cs.current||Li?("function"===typeof p&&(no(t,n,p,r),f=t.memoizedState),(c=Li||so(t,n,c,r,d,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ao(e,t,n,r,i,s)}function Ao(e,t,n,r,s,i){So(e,t);var a=0!==(128&t.flags);if(!r&&!a)return s&&Fs(t,n,!1),Go(e,t,i);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,o,i)):xo(e,t,o,i),t.memoizedState=r.state,s&&Fs(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Ms(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ms(0,t.context,!1),Ki(e,t.containerInfo)}function No(e,t,n,r,s){return pi(),fi(s),t.flags|=256,xo(e,t,n,r),t.child}var Do,Ro,Oo,Mo,Lo={dehydrated:null,treeContext:null,retryLane:0};function Po(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,s=t.pendingProps,a=Zi.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_s(Zi,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Pc(l,s,0,null),e=Lc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Po(n),t.memoizedState=Lo,e):$o(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,r=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Pc({mode:"visible",children:r.children},s,0,null),(a=Lc(a,s,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xi(t,e.child,null,o),t.child.memoizedState=Po(o),t.memoizedState=Lo,a);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Bo(e,t,o,r=co(a=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(r=Cl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Mi(e,s),nc(r,e,s,-1))}return mc(),Bo(e,t,o,r=co(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ri=cs(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(js[Ys++]=Xs,js[Ys++]=Qs,js[Ys++]=Ks,Xs=e.id,Qs=e.overflow,Ks=t),t=$o(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,a,n);if(o){o=s.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==a?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Oc(r,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Po(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,s}return e=(o=e.child).sibling,s=Oc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function $o(e,t){return(t=Pc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,r){return null!==r&&fi(r),xi(t,e.child,null,n),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ai(e.return,t,n)}function zo(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ho(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_s(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),zo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ea(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}zo(t,!0,n,null,i);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Go(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Pl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jo(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(t),null;case 1:case 17:return Rs(t.type)&&Os(),qo(t),null;case 3:return r=t.stateNode,Xi(),Ss(Cs),Ss(As),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(ac(ii),ii=null))),Ro(e,t),qo(t),null;case 5:Ji(t);var s=Yi(ji.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qo(t),null}if(e=Yi(Vi.current),hi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ds]=t,r[ps]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(s=0;s<Lr.length;s++)Br(Lr[s],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":se(r,a),Br("invalid",r)}for(var l in ye(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":q(r),Z(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ds]=t,e[ps]=r,Do(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Br("cancel",e),Br("close",e),s=r;break;case"iframe":case"object":case"embed":Br("load",e),s=r;break;case"video":case"audio":for(s=0;s<Lr.length;s++)Br(Lr[s],e);s=r;break;case"source":Br("error",e),s=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),s=r;break;case"details":Br("toggle",e),s=r;break;case"input":X(e,r),s=K(e,r),Br("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Br("invalid",e)}for(a in ye(n,s),c=s)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Br("scroll",e):null!=u&&v(e,a,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qo(t),null;case 6:if(e&&null!=t.stateNode)Mo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Yi(ji.current),Yi(Vi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[ds]=t,(a=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ds]=t,t.stateNode=r}return qo(t),null;case 13:if(Ss(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))di(),pi(),t.flags|=98560,a=!1;else if(a=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[ds]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qo(t),a=!1}else null!==ii&&(ac(ii),ii=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Ml&&(Ml=3):mc())),null!==t.updateQueue&&(t.flags|=4),qo(t),null);case 4:return Xi(),Ro(e,t),null===e&&Hr(t.stateNode.containerInfo),qo(t),null;case 10:return Ii(t.type._context),qo(t),null;case 19:if(Ss(Zi),null===(a=t.memoizedState))return qo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Vo(a,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Vo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _s(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Hl&&(t.flags|=128,r=!0,Vo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!si)return qo(t),null}else 2*Qe()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Vo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=Zi.current,_s(Zi,r?1&n|2:1&n),t):(qo(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(qo(t),6&t.subtreeFlags&&(t.flags|=8192)):qo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Yo(e,t){switch(ti(t),t.tag){case 1:return Rs(t.type)&&Os(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),Ss(Cs),Ss(As),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(Ss(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(Zi),null;case 4:return Xi(),null;case 10:return Ii(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Do=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},Oo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Yi(Vi.current);var i,a=null;switch(n){case"input":s=K(e,s),r=K(e,r),a=[];break;case"select":s=F({},s,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":s=re(e,s),r=re(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Mo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ko=!1,Xo=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&el(t,n,i)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ds],delete t[ps],delete t[ms],delete t[gs],delete t[bs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Xo||Zo(n,t);case 6:var r=ul,s=hl;ul=null,dl(e,t,n),hl=s,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Ht(e)):ls(ul,n.stateNode));break;case 4:r=ul,s=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=s;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&el(n,t,a),s=s.next}while(s!==r)}dl(e,t,n);break;case 1:if(!Xo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,dl(e,t,n),Xo=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qo),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(a,o,s),ul=null,hl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){kc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),bl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),bl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),bl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var s=e.stateNode;try{de(s,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(s,a),ve(l,o);var u=ve(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(s,d):"dangerouslySetInnerHTML"===h?he(s,d):"children"===h?de(s,d):v(s,h,d,u)}switch(l){case"input":J(s,a);break;case"textarea":ie(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(s,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(s,!!a.multiple,a.defaultValue,!0):ne(s,!!a.multiple,a.multiple?[]:"",!1))}s[ps]=a}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),bl(e);break;case 13:ml(t,e),bl(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(zl=Qe())),4&r&&fl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||h,ml(t,e),Xo=u):ml(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Jo=e,h=e.child;null!==h;){for(d=Jo=h;null!==Jo;){switch(f=(p=Jo).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Zo(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Zo(p,p.return);break;case 22:if(null!==p.memoizedState){El(d);continue}}null!==f?(f.return=p,Jo=f):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{s=d.stateNode,u?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),bl(e),4&r&&fl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(de(s,""),r.flags&=-33),cl(e,ol(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(i(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Jo=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var s=Jo,i=s.child;if(22===s.tag&&r){var a=null!==s.memoizedState||Ko;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Ko;var c=Xo;if(Ko=a,(Xo=l)&&!c)for(Jo=s;null!==Jo;)l=(a=Jo).child,22===a.tag&&null!==a.memoizedState?Tl(s):null!==l?(l.return=a,Jo=l):Tl(s);for(;null!==i;)Jo=i,vl(i,t,n),i=i.sibling;Jo=s,Ko=o,Xo=c}xl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,Jo=i):xl(e)}}function xl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Wi(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ht(d)}}}break;default:throw Error(i(163))}Xo||512&t.flags&&sl(t)}catch(p){kc(t,t.return,p)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function El(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function Tl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){kc(t,s,l)}}var i=t.return;try{sl(t)}catch(l){kc(t,i,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var wl,kl=Math.ceil,Sl=x.ReactCurrentDispatcher,_l=x.ReactCurrentOwner,Il=x.ReactCurrentBatchConfig,Al=0,Cl=null,Nl=null,Dl=0,Rl=0,Ol=ks(0),Ml=0,Ll=null,Pl=0,Fl=0,$l=0,Bl=null,Ul=null,zl=0,Hl=1/0,Wl=null,Gl=!1,Vl=null,ql=null,jl=!1,Yl=null,Kl=0,Xl=0,Ql=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Al)?Qe():-1!==Jl?Jl:Jl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Dl?Dl&-Dl:null!==mi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Ql=null,Error(i(185));bt(e,n,r),0!==(2&Al)&&e===Cl||(e===Cl&&(0===(2&Al)&&(Fl|=n),4===Ml&&oc(e,Dl)),rc(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Hl=Qe()+500,Bs&&Hs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=dt(e,e===Cl?Dl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Bs=!0,zs(e)}(lc.bind(null,e)):zs(lc.bind(null,e)),as((function(){0===(6&Al)&&Hs()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Jl=-1,Zl=0,0!==(6&Al))throw Error(i(327));var n=e.callbackNode;if(Tc()&&e.callbackNode!==n)return null;var r=dt(e,e===Cl?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var s=Al;Al|=2;var a=fc();for(Cl===e&&Dl===t||(Wl=null,Hl=Qe()+500,dc(e,t));;)try{yc();break}catch(l){pc(e,l)}_i(),Sl.current=a,Al=s,null!==Nl?t=0:(Cl=null,Dl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(r=s,t=ic(e,s))),1===t)throw n=Ll,dc(e,0),oc(e,r),rc(e,Qe()),n;if(6===t)oc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!or(i(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gc(e,r))&&(0!==(a=ft(e))&&(r=a,t=ic(e,a))),1===t))throw n=Ll,dc(e,0),oc(e,r),rc(e,Qe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Ec(e,Ul,Wl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Qe())){if(0!==dt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(Ec.bind(null,e,Ul,Wl),t);break}Ec(e,Ul,Wl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>s&&(s=o),r&=~a}if(r=s,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=rs(Ec.bind(null,e,Ul,Wl),r);break}Ec(e,Ul,Wl);break;default:throw Error(i(329))}}}return rc(e,Qe()),e.callbackNode===n?sc.bind(null,e):null}function ic(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~$l,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Al))throw Error(i(327));Tc();var t=dt(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ll,dc(e,0),oc(e,t),rc(e,Qe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Ul,Wl),rc(e,Qe()),null}function cc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Hl=Qe()+500,Bs&&Hs())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&Tc();var t=Al;Al|=1;var n=Il.transition,r=vt;try{if(Il.transition=null,vt=1,e)return e()}finally{vt=r,Il.transition=n,0===(6&(Al=t))&&Hs()}}function hc(){Rl=Ol.current,Ss(Ol)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Os();break;case 3:Xi(),Ss(Cs),Ss(As),na();break;case 5:Ji(r);break;case 4:Xi();break;case 13:case 19:Ss(Zi);break;case 10:Ii(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Cl=e,Nl=e=Oc(e.current,null),Dl=Rl=t,Ml=0,Ll=null,$l=Fl=Pl=0,Ul=Bl=null,null!==Di){for(t=0;t<Di.length;t++)if(null!==(r=(n=Di[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=s,r.next=a}n.pending=r}Di=null}return e}function pc(e,t){for(;;){var n=Nl;try{if(_i(),ra.current=Qa,ca){for(var r=aa.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ca=!1}if(ia=0,la=oa=aa=null,ua=!1,ha=0,_l.current=null,null===n||null===n.return){Ml=1,Ll=t,Nl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=go(o);if(null!==f){f.flags&=-257,bo(f,o,l,0,t),1&f.mode&&mo(a,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(i(426))}else if(si&&1&l.mode){var b=go(o);if(null!==b){0===(65536&b.flags)&&(b.flags|=256),bo(b,o,l,0,t),fi(lo(c,l));break e}}a=c=lo(c,l),4!==Ml&&(Ml=2),null===Bl?Bl=[a]:Bl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zi(a,po(0,c,t));break e;case 1:l=c;var y=a.type,v=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===ql||!ql.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,zi(a,fo(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(x){t=x,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function fc(){var e=Sl.current;return Sl.current=Qa,null===e?Qa:e}function mc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Cl||0===(268435455&Pl)&&0===(268435455&Fl)||oc(Cl,Dl)}function gc(e,t){var n=Al;Al|=2;var r=fc();for(Cl===e&&Dl===t||(Wl=null,dc(e,t));;)try{bc();break}catch(s){pc(e,s)}if(_i(),Al=n,Sl.current=r,null!==Nl)throw Error(i(261));return Cl=null,Dl=0,Ml}function bc(){for(;null!==Nl;)vc(Nl)}function yc(){for(;null!==Nl&&!Ke();)vc(Nl)}function vc(e){var t=wl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?xc(e):Nl=t,_l.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=jo(n,t,Rl)))return void(Nl=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ml=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ml&&(Ml=5)}function Ec(e,t,n){var r=vt,s=Il.transition;try{Il.transition=null,vt=1,function(e,t,n,r){do{Tc()}while(null!==Yl);if(0!==(6&Al))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,a),e===Cl&&(Nl=Cl=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||jl||(jl=!0,Cc(tt,(function(){return Tc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Il.transition,Il.transition=null;var o=vt;vt=1;var l=Al;Al|=4,_l.current=null,function(e,t){if(es=Gt,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(E){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==s&&3!==d.nodeType||(l=o+s),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===s&&(l=o),p===a&&++h===r&&(c=o),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Gt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,b=m.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(E){kc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ts),Gt=!!es,ts=es=null,e.current=n,yl(n,e,s),Xe(),Al=l,vt=o,Il.transition=a}else e.current=n;if(jl&&(jl=!1,Yl=e,Kl=s),a=e.pendingLanes,0===a&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Gl)throw Gl=!1,e=Vl,Vl=null,e;0!==(1&Kl)&&0!==e.tag&&Tc(),a=e.pendingLanes,0!==(1&a)?e===Ql?Xl++:(Xl=0,Ql=e):Xl=0,Hs()}(e,t,n,r)}finally{Il.transition=s,vt=r}return null}function Tc(){if(null!==Yl){var e=xt(Kl),t=Il.transition,n=vt;try{if(Il.transition=null,vt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Kl=0,0!==(6&Al))throw Error(i(331));var s=Al;for(Al|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var h=Jo;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Jo=d;else for(;null!==Jo;){var p=(h=Jo).sibling,f=h.return;if(il(h),h===u){Jo=null;break}if(null!==p){p.return=f,Jo=p;break}Jo=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(null!==g)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Jo=y;break e}Jo=a.return}}var v=e.current;for(Jo=v;null!==Jo;){var x=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Jo=x;else e:for(o=v;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(T){kc(l,l.return,T)}if(l===o){Jo=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Jo=E;break e}Jo=l.return}}if(Al=s,Hs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(T){}r=!0}return r}finally{vt=n,Il.transition=t}}return!1}function wc(e,t,n){e=Bi(e,t=po(0,t=lo(n,t),1),1),t=ec(),null!==e&&(bt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Bi(t,e=fo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(bt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Dl&n)===n&&(4===Ml||3===Ml&&(130023424&Dl)===Dl&&500>Qe()-zl?dc(e,0):$l|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Mi(e,t))&&(bt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),_c(e,n)}function Cc(e,t){return je(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Nc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,s,a){var o=2;if(r=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case w:return Lc(n.children,s,a,t);case k:o=8,s|=8;break;case S:return(e=Dc(12,n,t,2|s)).elementType=S,e.lanes=a,e;case C:return(e=Dc(13,n,t,s)).elementType=C,e.lanes=a,e;case N:return(e=Dc(19,n,t,s)).elementType=N,e.lanes=a,e;case O:return Pc(n,s,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case I:o=9;break e;case A:o=11;break e;case D:o=14;break e;case R:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Dc(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Pc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function $c(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,s,i,a,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Dc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(i),e}function zc(e){if(!e)return Is;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Rs(n))return Ls(e,n,t)}return t}function Hc(e,t,n,r,s,i,a,o,l){return(e=Uc(n,r,!0,e,0,i,0,o,l)).context=zc(null),n=e.current,(i=$i(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Bi(n,i,s),e.current.lanes=s,bt(e,s,r),rc(e,r),e}function Wc(e,t,n,r){var s=t.current,i=ec(),a=tc(s);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=$i(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bi(s,t,a))&&(nc(e,s,a,i),Ui(e,s,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Cs.current)vo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),pi();break;case 5:Qi(t);break;case 1:Rs(t.type)&&Ps(t);break;case 4:Ki(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;_s(Ti,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_s(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(_s(Zi,1&Zi.current),null!==(e=Go(e,t,n))?e.sibling:null);_s(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),_s(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Go(e,t,n)}(e,t,n);vo=0!==(131072&e.flags)}else vo=!1,si&&0!==(1048576&t.flags)&&Zs(t,qs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var s=Ds(t,As.current);Ci(t,n),s=ma(null,t,r,e,s,n);var a=ga();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(r)?(a=!0,Ps(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Pi(t),s.updater=ro,t.stateNode=s,s._reactInternals=t,oo(t,r,e,n),t=Ao(null,t,r,!0,a,n)):(t.tag=0,si&&a&&ei(t),xo(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===D)return 14}return 2}(r),e=to(r,e),s){case 0:t=_o(null,t,r,e,n);break e;case 1:t=Io(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=To(null,t,r,to(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,_o(e,t,r,s=t.elementType===r?s:to(r,s),n);case 1:return r=t.type,s=t.pendingProps,Io(e,t,r,s=t.elementType===r?s:to(r,s),n);case 3:e:{if(Co(t),null===e)throw Error(i(387));r=t.pendingProps,s=(a=t.memoizedState).element,Fi(e,t),Hi(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=No(e,t,r,n,s=lo(Error(i(423)),t));break e}if(r!==s){t=No(e,t,r,n,s=lo(Error(i(424)),t));break e}for(ri=cs(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=Ei(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===s){t=Go(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return Qi(t),null===e&&ci(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,ns(r,s)?o=null:null!==a&&ns(r,a)&&(t.flags|=32),So(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Fo(e,t,n);case 4:return Ki(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,Eo(e,t,r,s=t.elementType===r?s:to(r,s),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,_s(Ti,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===s.children&&!Cs.current){t=Go(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=$i(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ai(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ai(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}xo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ci(t,n),r=r(s=Ni(s)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return s=to(r=t.type,t.pendingProps),To(e,t,r,s=to(r.type,s),n);case 15:return wo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:to(r,s),Wo(e,t),t.tag=1,Rs(r)?(e=!0,Ps(t)):e=!1,Ci(t,n),io(t,r,s),oo(t,r,s,n),Ao(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return ko(e,t,n)}throw Error(i(156,t.tag))};var jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof s){var o=s;s=function(){var e=Gc(a);o.call(e)}}Wc(t,a,e,s)}else a=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=Gc(a);i.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[fs]=a.current,Hr(8===e.nodeType?e.parentNode:e),uc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=Gc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fs]=l.current,Hr(8===e.nodeType?e.parentNode:e),uc((function(){Wc(t,l,n,r)})),l}(n,t,e,s,r);return Gc(a)}Kc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Kc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Wc(null,e,null,null)})),t[fs]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Qe()),0===(6&Al)&&(Hl=Qe()+500,Hs()))}break;case 13:uc((function(){var t=Mi(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},Tt=function(e){if(13===e.tag){var t=Mi(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),n=Mi(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},kt=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Te=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Es(r);if(!s)throw Error(i(90));j(r),J(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,Ce=uc;var eu={usingClientEntryPoint:!1,Events:[vs,xs,Es,_e,Ie,cc]},tu={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{st=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",s=jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,s),e[fs]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",o=jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,s,0,a,o),e[fs]=t.current,Hr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Kc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fs]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,n)=>{"use strict";var r=n(119);t.H=r.createRoot,r.hydrateRoot},366:function(e,t,n){e.exports=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?c(e):t}function h(e,t){return d(e)||p(e,t)||f()}function d(e){if(Array.isArray(e))return e}function p(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,s=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){s=!0,i=l}finally{try{r||null==o.return||o.return()}finally{if(s)throw i}}return n}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function m(e,t){return e(t={exports:{}},t.exports),t.exports}e=e&&e.hasOwnProperty("default")?e.default:e;var g="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function b(){}function y(){}y.resetWarningCache=b;var v=function(){function e(e,t,n,r,s,i){if(i!==g){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:y,resetWarningCache:b};return n.PropTypes=n,n},x=m((function(e){e.exports=v()}));function E(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function T(e,t){var n;void 0===t&&(t=E);var r,s=[],i=!1;function a(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return i&&n===this&&t(a,s)||(r=e.apply(this,a),i=!0,n=this,s=a),r}return a}var w=864e5,k=7,S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_=["","Mon","","Wed","","Fri",""];function I(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}function A(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function C(e){return e instanceof Date?e:new Date(e)}function N(e){return I(new Date,-e)}function D(e){for(var t=[],n=0;n<e;n+=1)t.push(n);return t}var R=10,O=4,M="react-calendar-heatmap-",L=function(n){function l(){var e,n;t(this,l);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return s(c(n=u(this,(e=o(l)).call.apply(e,[this].concat(i)))),"getValueCache",T((function(e){return e.values.reduce((function(e,t){var r=C(t.date);return e[Math.floor((r-n.getStartDateWithEmptyDays())/w)]={value:t,className:n.props.classForValue(t),title:n.props.titleForValue?n.props.titleForValue(t):null,tooltipDataAttrs:n.getTooltipDataAttrsForValue(t)},e}),{})}))),n}return a(l,n),r(l,[{key:"getDateDifferenceInDays",value:function(){var e=this.props,t=e.startDate,n=e.numDays;if(n)return console.warn("numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead."),n;var r=this.getEndDate()-C(t);return Math.ceil(r/w)}},{key:"getSquareSizeWithGutter",value:function(){return R+this.props.gutterSize}},{key:"getMonthLabelSize",value:function(){return this.props.showMonthLabels?this.props.horizontal?R+O:2*(R+O):0}},{key:"getWeekdayLabelSize",value:function(){return this.props.showWeekdayLabels?this.props.horizontal?30:1.5*R:0}},{key:"getStartDate",value:function(){return I(this.getEndDate(),1-this.getDateDifferenceInDays())}},{key:"getEndDate",value:function(){return A(C(this.props.endDate))}},{key:"getStartDateWithEmptyDays",value:function(){return I(this.getStartDate(),-this.getNumEmptyDaysAtStart())}},{key:"getNumEmptyDaysAtStart",value:function(){return this.getStartDate().getDay()}},{key:"getNumEmptyDaysAtEnd",value:function(){return k-1-this.getEndDate().getDay()}},{key:"getWeekCount",value:function(){var e=this.getDateDifferenceInDays()+this.getNumEmptyDaysAtStart()+this.getNumEmptyDaysAtEnd();return Math.ceil(e/k)}},{key:"getWeekWidth",value:function(){return k*this.getSquareSizeWithGutter()}},{key:"getWidth",value:function(){return this.getWeekCount()*this.getSquareSizeWithGutter()-(this.props.gutterSize-this.getWeekdayLabelSize())}},{key:"getHeight",value:function(){return this.getWeekWidth()+(this.getMonthLabelSize()-this.props.gutterSize)+this.getWeekdayLabelSize()}},{key:"getValueForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].value:null}},{key:"getClassNameForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].className:this.props.classForValue(null)}},{key:"getTitleForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].title:this.props.titleForValue?this.props.titleForValue(null):null}},{key:"getTooltipDataAttrsForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].tooltipDataAttrs:this.getTooltipDataAttrsForValue({date:null,count:null})}},{key:"getTooltipDataAttrsForValue",value:function(e){var t=this.props.tooltipDataAttrs;return"function"===typeof t?t(e):t}},{key:"getTransformForWeek",value:function(e){return this.props.horizontal?"translate(".concat(e*this.getSquareSizeWithGutter(),", 0)"):"translate(0, ".concat(e*this.getSquareSizeWithGutter(),")")}},{key:"getTransformForWeekdayLabels",value:function(){return this.props.horizontal?"translate(".concat(R,", ").concat(this.getMonthLabelSize(),")"):null}},{key:"getTransformForMonthLabels",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", 0)"):"translate(".concat(this.getWeekWidth()+O,", ").concat(this.getWeekdayLabelSize(),")")}},{key:"getTransformForAllWeeks",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", ").concat(this.getMonthLabelSize(),")"):"translate(0, ".concat(this.getWeekdayLabelSize(),")")}},{key:"getViewBox",value:function(){return this.props.horizontal?"0 0 ".concat(this.getWidth()," ").concat(this.getHeight()):"0 0 ".concat(this.getHeight()," ").concat(this.getWidth())}},{key:"getSquareCoordinates",value:function(e){return this.props.horizontal?[0,e*this.getSquareSizeWithGutter()]:[e*this.getSquareSizeWithGutter(),0]}},{key:"getWeekdayLabelCoordinates",value:function(e){return this.props.horizontal?[0,(e+1)*R+e*this.props.gutterSize]:[e*R+e*this.props.gutterSize,R]}},{key:"getMonthLabelCoordinates",value:function(e){if(this.props.horizontal)return[e*this.getSquareSizeWithGutter(),this.getMonthLabelSize()-O];var t=-2;return[0,(e+1)*this.getSquareSizeWithGutter()+t]}},{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"handleMouseOver",value:function(e,t){this.props.onMouseOver&&this.props.onMouseOver(e,t)}},{key:"handleMouseLeave",value:function(e,t){this.props.onMouseLeave&&this.props.onMouseLeave(e,t)}},{key:"renderSquare",value:function(t,n){var r=this;if((n<this.getNumEmptyDaysAtStart()||n>=this.getNumEmptyDaysAtStart()+this.getDateDifferenceInDays())&&!this.props.showOutOfRangeDays)return null;var s=h(this.getSquareCoordinates(t),2),a=s[0],o=s[1],l=this.getValueForIndex(n),c=e.createElement("rect",i({key:n,width:R,height:R,x:a,y:o,className:this.getClassNameForIndex(n),onClick:function(){return r.handleClick(l)},onMouseOver:function(e){return r.handleMouseOver(e,l)},onMouseLeave:function(e){return r.handleMouseLeave(e,l)}},this.getTooltipDataAttrsForIndex(n)),e.createElement("title",null,this.getTitleForIndex(n))),u=this.props.transformDayElement;return u?u(c,l,n):c}},{key:"renderWeek",value:function(t){var n=this;return e.createElement("g",{key:t,transform:this.getTransformForWeek(t),className:"".concat(M,"week")},D(k).map((function(e){return n.renderSquare(e,t*k+e)})))}},{key:"renderAllWeeks",value:function(){var e=this;return D(this.getWeekCount()).map((function(t){return e.renderWeek(t)}))}},{key:"renderMonthLabels",value:function(){var t=this;return this.props.showMonthLabels?D(this.getWeekCount()-1).map((function(n){var r=I(t.getStartDateWithEmptyDays(),(n+1)*k),s=h(t.getMonthLabelCoordinates(n),2),i=s[0],a=s[1];return r.getDate()>=1&&r.getDate()<=k?e.createElement("text",{key:n,x:i,y:a,className:"".concat(M,"month-label")},t.props.monthLabels[r.getMonth()]):null})):null}},{key:"renderWeekdayLabels",value:function(){var t=this;return this.props.showWeekdayLabels?this.props.weekdayLabels.map((function(n,r){var s=h(t.getWeekdayLabelCoordinates(r),2),i=s[0],a=s[1],o="".concat(t.props.horizontal?"":"".concat(M,"small-text")," ").concat(M,"weekday-label");return 1&r?e.createElement("text",{key:"".concat(i).concat(a),x:i,y:a,className:o},n):null})):null}},{key:"render",value:function(){return this.valueCache=this.getValueCache(this.props),e.createElement("svg",{className:"react-calendar-heatmap",viewBox:this.getViewBox()},e.createElement("g",{transform:this.getTransformForMonthLabels(),className:"".concat(M,"month-labels")},this.renderMonthLabels()),e.createElement("g",{transform:this.getTransformForAllWeeks(),className:"".concat(M,"all-weeks")},this.renderAllWeeks()),e.createElement("g",{transform:this.getTransformForWeekdayLabels(),className:"".concat(M,"weekday-labels")},this.renderWeekdayLabels()))}}]),l}(e.Component);return L.propTypes={values:x.arrayOf(x.shape({date:x.oneOfType([x.string,x.number,x.instanceOf(Date)]).isRequired}).isRequired).isRequired,numDays:x.number,startDate:x.oneOfType([x.string,x.number,x.instanceOf(Date)]),endDate:x.oneOfType([x.string,x.number,x.instanceOf(Date)]),gutterSize:x.number,horizontal:x.bool,showMonthLabels:x.bool,showWeekdayLabels:x.bool,showOutOfRangeDays:x.bool,tooltipDataAttrs:x.oneOfType([x.object,x.func]),titleForValue:x.func,classForValue:x.func,monthLabels:x.arrayOf(x.string),weekdayLabels:x.arrayOf(x.string),onClick:x.func,onMouseOver:x.func,onMouseLeave:x.func,transformDayElement:x.func},L.defaultProps={numDays:null,startDate:N(200),endDate:new Date,gutterSize:1,horizontal:!0,showMonthLabels:!0,showWeekdayLabels:!1,showOutOfRangeDays:!1,tooltipDataAttrs:null,titleForValue:null,classForValue:function(e){return e?"color-filled":"color-empty"},monthLabels:S,weekdayLabels:_,onClick:null,onMouseOver:null,onMouseLeave:null,transformDayElement:null},L}(n(950))},414:(e,t,n)=>{"use strict";e.exports=n(654)},530:()=>{},545:function(e,t,n){var r;!function(e,s){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var n=new i(e),r=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,r&&("object"==typeof r&&a(r,n),s.state=function(){return a(n,{})}),s}s&&s.exports?s.exports=o:n.amdD&&n.amdO?void 0===(r=function(){return o}.call(t,n,t,s))||(s.exports=r):this.xorwow=o}(0,e=n.nmd(e),n.amdD)},551:()=>{},583:function(e,t,n){var r;!function(s,i,a){var o,l=256,c=a.pow(l,6),u=a.pow(2,52),h=2*u,d=255;function p(e,t,n){var r=[],d=b(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(l):(e=new Uint8Array(l),(s.crypto||s.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,y(i)]}}():e,3),r),p=new f(r),v=function(){for(var e=p.g(6),t=c,n=0;e<u;)e=(e+n)*l,t*=l,n=p.g(1);for(;e>=h;)e/=2,t/=2,n>>>=1;return(e+n)/t};return v.int32=function(){return 0|p.g(4)},v.quick=function(){return p.g(4)/4294967296},v.double=v,b(y(p.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,p),e.state=function(){return m(p,{})}),n?(a.random=e,t):e})(v,d,"global"in t?t.global:this==a,t.state)}function f(e){var t,n=e.length,r=this,s=0,i=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);s<l;)a[s]=s++;for(s=0;s<l;s++)a[s]=a[i=d&i+e[s%n]+(t=a[s])],a[i]=t;(r.g=function(e){for(var t,n=0,s=r.i,i=r.j,a=r.S;e--;)t=a[s=d&s+1],n=n*l+a[d&(a[s]=a[i=d&i+t])+(a[i]=t)];return r.i=s,r.j=i,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],s=typeof e;if(t&&"object"==s)for(n in e)try{r.push(g(e[n],t-1))}catch(i){}return r.length?r:"string"==s?e:e+"\0"}function b(e,t){for(var n,r=e+"",s=0;s<r.length;)t[d&s]=d&(n^=19*t[d&s])+r.charCodeAt(s++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(b(a.random(),i),e.exports){e.exports=p;try{o=n(234)}catch(v){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},590:()=>{},647:function(e,t,n){var r;!function(e,s){function i(e){var t=this;t.next=function(){var e,n,r=t.w,s=t.X,i=t.i;return t.w=r=r+1640531527|0,n=s[i+34&127],e=s[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=s[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,s,i,a,o=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),s=0,i=-32;i<l;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,s=0==(n=o[127&i]^=r+a)?s+1:0);for(s>=128&&(o[127&(t&&t.length||0)]=-1),s=127,i=512;i>0;--i)r=o[s+34&127],n=o[s=s+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,o[s]=r^n;e.w=a,e.X=o,e.i=s}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,r&&(r.X&&a(r,n),s.state=function(){return a(n,{})}),s}s&&s.exports?s.exports=o:n.amdD&&n.amdO?void 0===(r=function(){return o}.call(t,n,t,s))||(s.exports=r):this.xor4096=o}(0,e=n.nmd(e),n.amdD)},654:(e,t,n)=>{"use strict";var r=n(950),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},658:function(e,t,n){var r;!function(e,s){function i(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var n=new i(e),r=t&&t.state,s=n.next;return s.int32=function(){return 4294967296*n.next()|0},s.double=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.quick=s,r&&("object"==typeof r&&a(r,n),s.state=function(){return a(n,{})}),s}s&&s.exports?s.exports=o:n.amdD&&n.amdO?void 0===(r=function(){return o}.call(t,n,t,s))||(s.exports=r):this.alea=o}(0,e=n.nmd(e),n.amdD)},666:e=>{e.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},738:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,b="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,O(T);else{var t=r(u);null!==t&&M(E,t.startTime-e)}}function T(e,n){m=!1,g&&(g=!1,y(_),_=-1),f=!0;var i=p;try{for(x(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!C());){var a=d.callback;if("function"===typeof a){d.callback=null,p=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&s(c),x(n)}else s(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&M(E,h.startTime-n),l=!1}return l}finally{d=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,_=-1,I=5,A=-1;function C(){return!(t.unstable_now()-A<I)}function N(){if(null!==S){var e=t.unstable_now();A=e;var n=!0;try{n=S(!0,e)}finally{n?w():(k=!1,S=null)}}else k=!1}if("function"===typeof v)w=function(){v(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=N,w=function(){R.postMessage(null)}}else w=function(){b(N,0)};function O(e){S=e,k||(k=!0,w())}function M(e,n){_=b((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,O(T))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,M(E,i-a))):(e.sortIndex=o,n(c,e),m||f||(m=!0,O(T))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},817:()=>{},855:function(e,t,n){var r;!function(e,s){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,s=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^s,s=s-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^s,t.a=s-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var n=new i(e),r=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,r&&("object"==typeof r&&a(r,n),s.state=function(){return a(n,{})}),s}s&&s.exports?s.exports=o:n.amdD&&n.amdO?void 0===(r=function(){return o}.call(t,n,t,s))||(s.exports=r):this.tychei=o}(0,e=n.nmd(e),n.amdD)},875:e=>{function t(e,t){if((e=e.replace(/\s+/g,""))===(t=t.replace(/\s+/g,"")))return 1;if(e.length<2||t.length<2)return 0;let n=new Map;for(let s=0;s<e.length-1;s++){const t=e.substring(s,s+2),r=n.has(t)?n.get(t)+1:1;n.set(t,r)}let r=0;for(let s=0;s<t.length-1;s++){const e=t.substring(s,s+2),i=n.has(e)?n.get(e):0;i>0&&(n.set(e,i-1),r++)}return 2*r/(e.length+t.length-2)}e.exports={compareTwoStrings:t,findBestMatch:function(e,n){if(!function(e,t){return"string"===typeof e&&(!!Array.isArray(t)&&(!!t.length&&!t.find((function(e){return"string"!==typeof e}))))}(e,n))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const r=[];let s=0;for(let a=0;a<n.length;a++){const i=n[a],o=t(e,i);r.push({target:i,rating:o}),o>r[s].rating&&(s=a)}const i=r[s];return{ratings:r,bestMatch:i,bestMatchIndex:s}}}},950:(e,t,n)=>{"use strict";e.exports=n(49)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>ke,hasStandardBrowserEnv:()=>_e,hasStandardBrowserWebWorkerEnv:()=>Ie,navigator:()=>Se,origin:()=>Ae});var t={};n.r(t),n.d(t,{assertParamsValid:()=>Hw,computeFlatOffset:()=>tk,computeOutShape:()=>Gw,getNormalizedAxes:()=>Yw,isSliceContinous:()=>ek,maskToAxes:()=>Ww,parseSliceParams:()=>nk,sliceInfo:()=>rk,startForAxis:()=>Jw,startIndicesWithElidedDims:()=>Kw,stopForAxis:()=>Zw,stopIndicesWithElidedDims:()=>Xw,stridesForAxis:()=>Qw,stridesWithElidedDims:()=>Vw});var r={};n.r(r),n.d(r,{collectGatherOpShapeInfo:()=>EA,computeOutShape:()=>xA,segOpComputeOptimalWindowSize:()=>vA});var s={};n.r(s),n.d(s,{ERF_A1:()=>FI,ERF_A2:()=>$I,ERF_A3:()=>BI,ERF_A4:()=>UI,ERF_A5:()=>zI,ERF_P:()=>PI,PARALLELIZE_THRESHOLD:()=>TI,RowPartitionType:()=>bI,SELU_SCALE:()=>LI,SELU_SCALEALPHA:()=>MI,applyActivation:()=>x_,assertAndGetBroadcastShape:()=>Sw,assertAxesAreInnerMostDims:()=>pS,assertParamsConsistent:()=>mI,assignToTypedArray:()=>jI,axesAreInnerMostDims:()=>cS,calculateShapes:()=>OI,checkEinsumDimSizes:()=>nA,checkPadOnDimRoundingMode:()=>Tk,combineLocations:()=>uS,combineRaggedTensorToTensorShapes:()=>yI,complexWithEvenIndex:()=>GI,complexWithOddIndex:()=>VI,computeConv2DInfo:()=>hk,computeConv3DInfo:()=>dk,computeDefaultPad:()=>pk,computeDilation2DInfo:()=>lk,computeOptimalWindowSize:()=>wI,computeOutAndReduceShapes:()=>hS,computeOutShape:()=>gI,computePool2DInfo:()=>ck,computePool3DInfo:()=>uk,convertConv2DDataFormat:()=>Ek,decodeEinsumEquation:()=>eA,eitherStridesOrDilationsAreOne:()=>vk,expandShapeToKeepDim:()=>dS,exponent:()=>KI,exponents:()=>YI,fromStringArrayToUint8:()=>wA,fromUint8ToStringArray:()=>TA,getAxesPermutation:()=>fS,getBroadcastDims:()=>ww,getComplexWithIndex:()=>qI,getEinsumComputePath:()=>rA,getEinsumPermutation:()=>tA,getFusedBiasGradient:()=>v_,getFusedDyActivation:()=>y_,getImageCenter:()=>kI,getInnerMostAxes:()=>gS,getPermuted:()=>_I,getRaggedRank:()=>xI,getReductionAxes:()=>kw,getReshaped:()=>SI,getReshapedPermuted:()=>II,getRowPartitionTypesHelper:()=>vI,getSliceBeginCoords:()=>AI,getSliceSize:()=>CI,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>oA,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>lA,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>cA,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>dA,getSparseReshapeInputOutputMismatchErrorMessage:()=>fA,getSparseReshapeInputOutputMultipleErrorMessage:()=>pA,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>uA,getSparseReshapeNegativeOutputDimErrorMessage:()=>hA,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>yA,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>mA,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>gA,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>bA,getUndoAxesPermutation:()=>mS,isIdentityPermutation:()=>sA,log:()=>Px,mergeRealAndImagArrays:()=>HI,prepareAndValidate:()=>NI,prepareSplitSize:()=>aA,segment_util:()=>r,shouldFuse:()=>E_,slice_util:()=>t,splitRealAndImagArrays:()=>WI,stridesOrDilationsArePositive:()=>xk,tupleValuesAreOne:()=>yk,upcastType:()=>ME,validateDefaultValueShape:()=>EI,validateInput:()=>RI,validateUpdateShape:()=>DI,warn:()=>Lx});var i={};n.r(i),n.d(i,{mx:()=>v$,XI:()=>hB,Nk:()=>dB,f6:()=>fB,ct:()=>f$,YG:()=>bB,hH:()=>wB,z3:()=>oU,sG:()=>yU,uM:()=>wU,vS:()=>UU,qB:()=>YU,GG:()=>XU,lg:()=>tz,rq:()=>JU,cu:()=>fz,WR:()=>hz,GE:()=>bz,px:()=>vz,jC:()=>Mz,He:()=>Fz,hE:()=>jz,BF:()=>ZB,Dk:()=>rH,cl:()=>hH,_B:()=>kH,ub:()=>CH,_f:()=>RH,Ku:()=>$H,qy:()=>UH,Zy:()=>JH,bu:()=>tW,zv:()=>i$,dH:()=>A$,HS:()=>oB,yH:()=>EW,l3:()=>wW,z9:()=>SW,x6:()=>NW,_m:()=>FW,eW:()=>HW,GK:()=>VW,SP:()=>YW,yr:()=>XW,dl:()=>CU,Dw:()=>nG,xT:()=>aG,_X:()=>L$,wz:()=>pG});var a={};n.r(a),n.d(a,{contains:()=>T1,extract:()=>w1,html:()=>b1,merge:()=>k1,parseHTML:()=>x1,root:()=>E1,text:()=>v1,xml:()=>y1});var o={};n.r(o),n.d(o,{addClass:()=>K1,attr:()=>F1,data:()=>W1,hasClass:()=>Y1,prop:()=>U1,removeAttr:()=>j1,removeClass:()=>X1,toggleClass:()=>Q1,val:()=>G1});var l={};n.r(l),n.d(l,{DocumentPosition:()=>L3,append:()=>m3,appendChild:()=>f3,compareDocumentPosition:()=>P3,existsOne:()=>T3,filter:()=>y3,find:()=>v3,findAll:()=>w3,findOne:()=>E3,findOneChild:()=>x3,getAttributeValue:()=>o3,getChildren:()=>s3,getElementById:()=>N3,getElements:()=>C3,getElementsByClassName:()=>R3,getElementsByTagName:()=>D3,getElementsByTagType:()=>O3,getFeed:()=>$3,getInnerHTML:()=>e3,getName:()=>c3,getOuterHTML:()=>Z2,getParent:()=>i3,getSiblings:()=>a3,getText:()=>t3,hasAttrib:()=>l3,hasChildren:()=>b2,innerText:()=>r3,isCDATA:()=>p2,isComment:()=>m2,isDocument:()=>g2,isTag:()=>d2,isText:()=>f2,nextElementSibling:()=>u3,prepend:()=>b3,prependChild:()=>g3,prevElementSibling:()=>h3,removeElement:()=>d3,removeSubsets:()=>M3,replaceElement:()=>p3,testElement:()=>A3,textContent:()=>n3,uniqueSort:()=>F3});var c={};n.r(c),n.d(c,{_findBySelector:()=>Q4,add:()=>R5,addBack:()=>O5,children:()=>f5,closest:()=>a5,contents:()=>m5,each:()=>g5,end:()=>D5,eq:()=>_5,filter:()=>v5,filterArray:()=>x5,find:()=>X4,first:()=>k5,get:()=>I5,has:()=>w5,index:()=>C5,is:()=>E5,last:()=>S5,map:()=>b5,next:()=>o5,nextAll:()=>l5,nextUntil:()=>c5,not:()=>T5,parent:()=>r5,parents:()=>s5,parentsUntil:()=>i5,prev:()=>u5,prevAll:()=>h5,prevUntil:()=>d5,siblings:()=>p5,slice:()=>N5,toArray:()=>A5});var u={};n.r(u),n.d(u,{_makeDomArray:()=>L5,after:()=>j5,append:()=>U5,appendTo:()=>$5,before:()=>K5,clone:()=>r6,empty:()=>Z5,html:()=>e6,insertAfter:()=>Y5,insertBefore:()=>X5,prepend:()=>z5,prependTo:()=>B5,remove:()=>Q5,replaceWith:()=>J5,text:()=>n6,toString:()=>t6,unwrap:()=>V5,wrap:()=>W5,wrapAll:()=>q5,wrapInner:()=>G5});var h={};n.r(h),n.d(h,{css:()=>s6});var d={};n.r(d),n.d(d,{serialize:()=>u6,serializeArray:()=>h6});var p={};n.r(p),n.d(p,{extract:()=>p6});var f=n(950),m=n.t(f,2),g=n(352);function b(e,t){return function(){return e.apply(t,arguments)}}const{toString:y}=Object.prototype,{getPrototypeOf:v}=Object,x=(E=Object.create(null),e=>{const t=y.call(e);return E[t]||(E[t]=t.slice(8,-1).toLowerCase())});var E;const T=e=>(e=e.toLowerCase(),t=>x(t)===e),w=e=>t=>typeof t===e,{isArray:k}=Array,S=w("undefined");const _=T("ArrayBuffer");const I=w("string"),A=w("function"),C=w("number"),N=e=>null!==e&&"object"===typeof e,D=e=>{if("object"!==x(e))return!1;const t=v(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},R=T("Date"),O=T("File"),M=T("Blob"),L=T("FileList"),P=T("URLSearchParams"),[F,$,B,U]=["ReadableStream","Request","Response","Headers"].map(T);function z(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),k(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=s?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function H(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const W="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,G=e=>!S(e)&&e!==W;const V=(q="undefined"!==typeof Uint8Array&&v(Uint8Array),e=>q&&e instanceof q);var q;const j=T("HTMLFormElement"),Y=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),K=T("RegExp"),X=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};z(n,((n,s)=>{let i;!1!==(i=t(n,s,e))&&(r[s]=i||n)})),Object.defineProperties(e,r)},Q="abcdefghijklmnopqrstuvwxyz",J="0123456789",Z={DIGIT:J,ALPHA:Q,ALPHA_DIGIT:Q+Q.toUpperCase()+J};const ee=T("AsyncFunction"),te=(ne="function"===typeof setImmediate,re=A(W.postMessage),ne?setImmediate:re?((e,t)=>(W.addEventListener("message",(n=>{let{source:r,data:s}=n;r===W&&s===e&&t.length&&t.shift()()}),!1),n=>{t.push(n),W.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e));var ne,re;const se="undefined"!==typeof queueMicrotask?queueMicrotask.bind(W):"undefined"!==typeof process&&process.nextTick||te,ie={isArray:k,isArrayBuffer:_,isBuffer:function(e){return null!==e&&!S(e)&&null!==e.constructor&&!S(e.constructor)&&A(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||A(e.append)&&("formdata"===(t=x(e))||"object"===t&&A(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&_(e.buffer),t},isString:I,isNumber:C,isBoolean:e=>!0===e||!1===e,isObject:N,isPlainObject:D,isReadableStream:F,isRequest:$,isResponse:B,isHeaders:U,isUndefined:S,isDate:R,isFile:O,isBlob:M,isRegExp:K,isFunction:A,isStream:e=>N(e)&&A(e.pipe),isURLSearchParams:P,isTypedArray:V,isFileList:L,forEach:z,merge:function e(){const{caseless:t}=G(this)&&this||{},n={},r=(r,s)=>{const i=t&&H(n,s)||s;D(n[i])&&D(r)?n[i]=e(n[i],r):D(r)?n[i]=e({},r):k(r)?n[i]=r.slice():n[i]=r};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&z(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return z(t,((t,r)=>{n&&A(t)?e[r]=b(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,i,a;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&v(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:x,kindOfTest:T,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(k(e))return e;let t=e.length;if(!C(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:j,hasOwnProperty:Y,hasOwnProp:Y,reduceDescriptors:X,freezeMethods:e=>{X(e,((t,n)=>{if(A(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];A(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return k(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:H,global:W,isContextDefined:G,ALPHABET:Z,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&A(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(N(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=k(e)?[]:{};return z(e,((e,t)=>{const i=n(e,r+1);!S(i)&&(s[t]=i)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:ee,isThenable:e=>e&&(N(e)||A(e))&&A(e.then)&&A(e.catch),setImmediate:te,asap:se};function ae(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}ie.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const oe=ae.prototype,le={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{le[e]={value:e}})),Object.defineProperties(ae,le),Object.defineProperty(oe,"isAxiosError",{value:!0}),ae.from=(e,t,n,r,s,i)=>{const a=Object.create(oe);return ie.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ae.call(a,e.message,t,n,r,s),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const ce=ae;function ue(e){return ie.isPlainObject(e)||ie.isArray(e)}function he(e){return ie.endsWith(e,"[]")?e.slice(0,-2):e}function de(e,t,n){return e?e.concat(t).map((function(e,t){return e=he(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const pe=ie.toFlatObject(ie,{},null,(function(e){return/^is[A-Z]/.test(e)}));const fe=function(e,t,n){if(!ie.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=ie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ie.isUndefined(t[e])}))).metaTokens,s=n.visitor||c,i=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&ie.isSpecCompliantForm(t);if(!ie.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ie.isDate(e))return e.toISOString();if(!o&&ie.isBlob(e))throw new ce("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(e)||ie.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let o=e;if(e&&!s&&"object"===typeof e)if(ie.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(ie.isArray(e)&&function(e){return ie.isArray(e)&&!e.some(ue)}(e)||(ie.isFileList(e)||ie.endsWith(n,"[]"))&&(o=ie.toArray(e)))return n=he(n),o.forEach((function(e,r){!ie.isUndefined(e)&&null!==e&&t.append(!0===a?de([n],r,i):null===a?n:n+"[]",l(e))})),!1;return!!ue(e)||(t.append(de(s,n,i),l(e)),!1)}const u=[],h=Object.assign(pe,{defaultVisitor:c,convertValue:l,isVisitable:ue});if(!ie.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!ie.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),ie.forEach(n,(function(n,i){!0===(!(ie.isUndefined(n)||null===n)&&s.call(t,n,ie.isString(i)?i.trim():i,r,h))&&e(n,r?r.concat(i):[i])})),u.pop()}}(e),t};function me(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ge(e,t){this._pairs=[],e&&fe(e,this,t)}const be=ge.prototype;be.append=function(e,t){this._pairs.push([e,t])},be.toString=function(e){const t=e?function(t){return e.call(this,t,me)}:me;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ye=ge;function ve(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xe(e,t,n){if(!t)return e;const r=n&&n.encode||ve;ie.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(i=s?s(t,n):ie.isURLSearchParams(t)?t.toString():new ye(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Ee=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Te={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},we={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ye,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ke="undefined"!==typeof window&&"undefined"!==typeof document,Se="object"===typeof navigator&&navigator||void 0,_e=ke&&(!Se||["ReactNative","NativeScript","NS"].indexOf(Se.product)<0),Ie="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ae=ke&&window.location.href||"http://localhost",Ce={...e,...we};const Ne=function(e){function t(e,n,r,s){let i=e[s++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),o=s>=e.length;if(i=!i&&ie.isArray(r)?r.length:i,o)return ie.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&ie.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],s)&&ie.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(ie.isFormData(e)&&ie.isFunction(e.entries)){const n={};return ie.forEachEntry(e,((e,r)=>{t(function(e){return ie.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const De={transitional:Te,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=ie.isObject(e);s&&ie.isHTMLForm(e)&&(e=new FormData(e));if(ie.isFormData(e))return r?JSON.stringify(Ne(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e)||ie.isReadableStream(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return fe(e,new Ce.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Ce.isNode&&ie.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=ie.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return fe(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(ie.isString(e))try{return(t||JSON.parse)(e),ie.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||De.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(ie.isResponse(e)||ie.isReadableStream(e))return e;if(e&&ie.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(s){if(n){if("SyntaxError"===s.name)throw ce.from(s,ce.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ce.classes.FormData,Blob:Ce.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],(e=>{De.headers[e]={}}));const Re=De,Oe=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Me=Symbol("internals");function Le(e){return e&&String(e).trim().toLowerCase()}function Pe(e){return!1===e||null==e?e:ie.isArray(e)?e.map(Pe):String(e)}function Fe(e,t,n,r,s){return ie.isFunction(r)?r.call(this,t,n):(s&&(t=n),ie.isString(t)?ie.isString(r)?-1!==t.indexOf(r):ie.isRegExp(r)?r.test(t):void 0:void 0)}class $e{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Le(t);if(!s)throw new Error("header name must be a non-empty string");const i=ie.findKey(r,s);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=Pe(e))}const i=(e,t)=>ie.forEach(e,((e,n)=>s(e,n,t)));if(ie.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(ie.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Oe[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(ie.isHeaders(e))for(const[a,o]of e.entries())s(o,a,n);else null!=e&&s(t,e,n);return this}get(e,t){if(e=Le(e)){const n=ie.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(ie.isFunction(t))return t.call(this,e,n);if(ie.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Le(e)){const n=ie.findKey(this,e);return!(!n||void 0===this[n]||t&&!Fe(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Le(e)){const s=ie.findKey(n,e);!s||t&&!Fe(0,n[s],s,t)||(delete n[s],r=!0)}}return ie.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Fe(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return ie.forEach(this,((r,s)=>{const i=ie.findKey(n,s);if(i)return t[i]=Pe(r),void delete t[s];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();a!==s&&delete t[s],t[a]=Pe(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ie.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&ie.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Me]=this[Me]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Le(e);t[r]||(!function(e,t){const n=ie.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return ie.isArray(e)?e.forEach(r):r(e),this}}$e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ie.reduceDescriptors($e.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),ie.freezeMethods($e);const Be=$e;function Ue(e,t){const n=this||Re,r=t||n,s=Be.from(r.headers);let i=r.data;return ie.forEach(e,(function(e){i=e.call(n,i,s.normalize(),t?t.status:void 0)})),s.normalize(),i}function ze(e){return!(!e||!e.__CANCEL__)}function He(e,t,n){ce.call(this,null==e?"canceled":e,ce.ERR_CANCELED,t,n),this.name="CanceledError"}ie.inherits(He,ce,{__CANCEL__:!0});const We=He;function Ge(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new ce("Request failed with status code "+n.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ve=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,i=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];s||(s=l),n[i]=o,r[i]=l;let u=a,h=0;for(;u!==i;)h+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-s<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};const qe=function(e,t){let n,r,s=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=i?a(l,e):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),i-t)))},()=>n&&a(n)]},je=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=Ve(50,250);return qe((n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,o=i-r,l=s(o);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},Ye=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ke=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ie.asap((()=>e(...n)))},Xe=Ce.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ce.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ce.origin),Ce.navigator&&/(msie|trident)/i.test(Ce.navigator.userAgent)):()=>!0,Qe=Ce.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const a=[e+"="+encodeURIComponent(t)];ie.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ie.isString(r)&&a.push("path="+r),ie.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Je(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ze=e=>e instanceof Be?{...e}:e;function et(e,t){t=t||{};const n={};function r(e,t,n,r){return ie.isPlainObject(e)&&ie.isPlainObject(t)?ie.merge.call({caseless:r},e,t):ie.isPlainObject(t)?ie.merge({},t):ie.isArray(t)?t.slice():t}function s(e,t,n,s){return ie.isUndefined(t)?ie.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function i(e,t){if(!ie.isUndefined(t))return r(void 0,t)}function a(e,t){return ie.isUndefined(t)?ie.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,s,i){return i in t?r(n,s):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>s(Ze(e),Ze(t),0,!0)};return ie.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||s,a=i(e[r],t[r],r);ie.isUndefined(a)&&i!==o||(n[r]=a)})),n}const tt=e=>{const t=et({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=Be.from(o),t.url=xe(Je(t.baseURL,t.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ie.isFormData(r))if(Ce.hasStandardBrowserEnv||Ce.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(Ce.hasStandardBrowserEnv&&(s&&ie.isFunction(s)&&(s=s(t)),s||!1!==s&&Xe(t.url))){const e=i&&a&&Qe.read(a);e&&o.set(i,e)}return t},nt="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=tt(e);let s=r.data;const i=Be.from(r.headers).normalize();let a,o,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:p}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Be.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Ge((function(e){t(e),f()}),(function(e){n(e),f()}),{data:h&&"text"!==h&&"json"!==h?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new ce("Request aborted",ce.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new ce("Network Error",ce.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||Te;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new ce(t,s.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,e,m)),m=null},void 0===s&&i.setContentType(null),"setRequestHeader"in m&&ie.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),ie.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),h&&"json"!==h&&(m.responseType=r.responseType),p&&([l,u]=je(p,!0),m.addEventListener("progress",l)),d&&m.upload&&([o,c]=je(d),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new We(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);b&&-1===Ce.protocols.indexOf(b)?n(new ce("Unsupported protocol "+b+":",ce.ERR_BAD_REQUEST,e)):m.send(s||null)}))},rt=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof ce?t:new We(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,s(new ce(`timeout ${t} of ms exceeded`,ce.ETIMEDOUT))}),t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:o}=r;return o.unsubscribe=()=>ie.asap(a),o}},st=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},it=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},at=(e,t,n,r)=>{const s=async function*(e,t){for await(const n of it(e))yield*st(n,t)}(e,t);let i,a=0,o=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return o(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},ot="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,lt=ot&&"function"===typeof ReadableStream,ct=ot&&("function"===typeof TextEncoder?(ut=new TextEncoder,e=>ut.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var ut;const ht=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(s){return!1}},dt=lt&&ht((()=>{let e=!1;const t=new Request(Ce.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),pt=lt&&ht((()=>ie.isReadableStream(new Response("").body))),ft={stream:pt&&(e=>e.body)};var mt;ot&&(mt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ft[e]&&(ft[e]=ie.isFunction(mt[e])?t=>t[e]():(t,n)=>{throw new ce(`Response type '${e}' is not supported`,ce.ERR_NOT_SUPPORT,n)})})));const gt=async(e,t)=>{const n=ie.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(ie.isBlob(e))return e.size;if(ie.isSpecCompliantForm(e)){const t=new Request(Ce.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ie.isArrayBufferView(e)||ie.isArrayBuffer(e)?e.byteLength:(ie.isURLSearchParams(e)&&(e+=""),ie.isString(e)?(await ct(e)).byteLength:void 0)})(t):n},bt=ot&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=tt(e);c=c?(c+"").toLowerCase():"text";let p,f=rt([s,i&&i.toAbortSignal()],a);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&dt&&"get"!==n&&"head"!==n&&0!==(g=await gt(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(ie.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Ye(g,je(Ke(l)));r=at(n.body,65536,e,t)}}ie.isString(h)||(h=h?"include":"omit");const s="credentials"in Request.prototype;p=new Request(t,{...d,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:s?h:void 0});let i=await fetch(p);const a=pt&&("stream"===c||"response"===c);if(pt&&(o||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=ie.toFiniteNumber(i.headers.get("content-length")),[n,r]=o&&Ye(t,je(Ke(o),!0))||[];i=new Response(at(i.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let b=await ft[ie.findKey(ft,c)||"text"](i,e);return!a&&m&&m(),await new Promise(((t,n)=>{Ge(t,n,{data:b,headers:Be.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(b){if(m&&m(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new ce("Network Error",ce.ERR_NETWORK,e,p),{cause:b.cause||b});throw ce.from(b,b&&b.code,e,p)}}),yt={http:null,xhr:nt,fetch:bt};ie.forEach(yt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const vt=e=>`- ${e}`,xt=e=>ie.isFunction(e)||null===e||!1===e,Et=e=>{e=ie.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!xt(n)&&(r=yt[(t=String(n)).toLowerCase()],void 0===r))throw new ce(`Unknown adapter '${t}'`);if(r)break;s[t||"#"+i]=r}if(!r){const e=Object.entries(s).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(vt).join("\n"):" "+vt(e[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Tt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new We(null,e)}function wt(e){Tt(e),e.headers=Be.from(e.headers),e.data=Ue.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Et(e.adapter||Re.adapter)(e).then((function(t){return Tt(e),t.data=Ue.call(e,e.transformResponse,t),t.headers=Be.from(t.headers),t}),(function(t){return ze(t)||(Tt(e),t&&t.response&&(t.response.data=Ue.call(e,e.transformResponse,t.response),t.response.headers=Be.from(t.response.headers))),Promise.reject(t)}))}const kt="1.7.9",St={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{St[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const _t={};St.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,i)=>{if(!1===e)throw new ce(r(s," has been removed"+(t?" in "+t:"")),ce.ERR_DEPRECATED);return t&&!_t[s]&&(_t[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,i)}},St.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const It={assertOptions:function(e,t,n){if("object"!==typeof e)throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new ce("option "+i+" must be "+n,ce.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new ce("Unknown option "+i,ce.ERR_BAD_OPTION)}},validators:St},At=It.validators;class Ct{constructor(e){this.defaults=e,this.interceptors={request:new Ee,response:new Ee}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=et(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&It.assertOptions(n,{silentJSONParsing:At.transitional(At.boolean),forcedJSONParsing:At.transitional(At.boolean),clarifyTimeoutError:At.transitional(At.boolean)},!1),null!=r&&(ie.isFunction(r)?t.paramsSerializer={serialize:r}:It.assertOptions(r,{encode:At.function,serialize:At.function},!0)),It.assertOptions(t,{baseUrl:At.spelling("baseURL"),withXsrfToken:At.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&ie.merge(s.common,s[t.method]);s&&ie.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=Be.concat(i,s);const a=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!o){const e=[wt.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=a.length;let d=t;for(h=0;h<u;){const e=a[h++],t=a[h++];try{d=e(d)}catch(p){t.call(this,p);break}}try{c=wt.call(this,d)}catch(p){return Promise.reject(p)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return xe(Je((e=et(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}ie.forEach(["delete","get","head","options"],(function(e){Ct.prototype[e]=function(t,n){return this.request(et(n||{},{method:e,url:t,data:(n||{}).data}))}})),ie.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(et(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ct.prototype[e]=t(),Ct.prototype[e+"Form"]=t(!0)}));const Nt=Ct;class Dt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new We(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Dt((function(t){e=t})),cancel:e}}}const Rt=Dt;const Ot={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ot).forEach((e=>{let[t,n]=e;Ot[n]=t}));const Mt=Ot;const Lt=function e(t){const n=new Nt(t),r=b(Nt.prototype.request,n);return ie.extend(r,Nt.prototype,n,{allOwnKeys:!0}),ie.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(et(t,n))},r}(Re);Lt.Axios=Nt,Lt.CanceledError=We,Lt.CancelToken=Rt,Lt.isCancel=ze,Lt.VERSION=kt,Lt.toFormData=fe,Lt.AxiosError=ce,Lt.Cancel=Lt.CanceledError,Lt.all=function(e){return Promise.all(e)},Lt.spread=function(e){return function(t){return e.apply(null,t)}},Lt.isAxiosError=function(e){return ie.isObject(e)&&!0===e.isAxiosError},Lt.mergeConfig=et,Lt.AxiosHeaders=Be,Lt.formToJSON=e=>Ne(ie.isHTMLForm(e)?new FormData(e):e),Lt.getAdapter=Et,Lt.HttpStatusCode=Mt,Lt.default=Lt;const Pt=Lt;function Ft(e){return e+.5|0}const $t=(e,t,n)=>Math.max(Math.min(e,n),t);function Bt(e){return $t(Ft(2.55*e),0,255)}function Ut(e){return $t(Ft(255*e),0,255)}function zt(e){return $t(Ft(e/2.55)/100,0,1)}function Ht(e){return $t(Ft(100*e),0,100)}const Wt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Gt=[..."0123456789ABCDEF"],Vt=e=>Gt[15&e],qt=e=>Gt[(240&e)>>4]+Gt[15&e],jt=e=>(240&e)>>4===(15&e);function Yt(e){var t=(e=>jt(e.r)&&jt(e.g)&&jt(e.b)&&jt(e.a))(e)?Vt:qt;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Kt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Xt(e,t,n){const r=t*Math.min(n,1-n),s=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(s-3,9-s,1),-1)};return[s(0),s(8),s(4)]}function Qt(e,t,n){const r=function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(s,4-s,1),0)};return[r(5),r(3),r(1)]}function Jt(e,t,n){const r=Xt(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function Zt(e){const t=e.r/255,n=e.g/255,r=e.b/255,s=Math.max(t,n,r),i=Math.min(t,n,r),a=(s+i)/2;let o,l,c;return s!==i&&(c=s-i,l=a>.5?c/(2-s-i):c/(s+i),o=function(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,s),o=60*o+.5),[0|o,l||0,a]}function en(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Ut)}function tn(e,t,n){return en(Xt,e,t,n)}function nn(e){return(e%360+360)%360}function rn(e){const t=Kt.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?Bt(+t[5]):Ut(+t[5]));const s=nn(+t[2]),i=+t[3]/100,a=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return en(Jt,e,t,n)}(s,i,a):"hsv"===t[1]?function(e,t,n){return en(Qt,e,t,n)}(s,i,a):tn(s,i,a),{r:n[0],g:n[1],b:n[2],a:r}}const sn={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},an={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let on;function ln(e){on||(on=function(){const e={},t=Object.keys(an),n=Object.keys(sn);let r,s,i,a,o;for(r=0;r<t.length;r++){for(a=o=t[r],s=0;s<n.length;s++)i=n[s],o=o.replace(i,sn[i]);i=parseInt(an[a],16),e[o]=[i>>16&255,i>>8&255,255&i]}return e}(),on.transparent=[0,0,0,0]);const t=on[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const cn=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const un=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,hn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function dn(e,t,n){if(e){let r=Zt(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=tn(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function pn(e,t){return e?Object.assign(t||{},e):e}function fn(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ut(e[3]))):(t=pn(e,{r:0,g:0,b:0,a:1})).a=Ut(t.a),t}function mn(e){return"r"===e.charAt(0)?function(e){const t=cn.exec(e);let n,r,s,i=255;if(t){if(t[7]!==n){const e=+t[7];i=t[8]?Bt(e):$t(255*e,0,255)}return n=+t[1],r=+t[3],s=+t[5],n=255&(t[2]?Bt(n):$t(n,0,255)),r=255&(t[4]?Bt(r):$t(r,0,255)),s=255&(t[6]?Bt(s):$t(s,0,255)),{r:n,g:r,b:s,a:i}}}(e):rn(e)}class gn{constructor(e){if(e instanceof gn)return e;const t=typeof e;let n;"object"===t?n=fn(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*Wt[e[1]],g:255&17*Wt[e[2]],b:255&17*Wt[e[3]],a:5===n?17*Wt[e[4]]:255}:7!==n&&9!==n||(t={r:Wt[e[1]]<<4|Wt[e[2]],g:Wt[e[3]]<<4|Wt[e[4]],b:Wt[e[5]]<<4|Wt[e[6]],a:9===n?Wt[e[7]]<<4|Wt[e[8]]:255})),t}(e)||ln(e)||mn(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=pn(this._rgb);return e&&(e.a=zt(e.a)),e}set rgb(e){this._rgb=fn(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${zt(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?Yt(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Zt(e),n=t[0],r=Ht(t[1]),s=Ht(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${zt(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let s;const i=t===s?.5:t,a=2*i-1,o=n.a-r.a,l=((a*o===-1?a:(a+o)/(1+a*o))+1)/2;s=1-l,n.r=255&l*n.r+s*r.r+.5,n.g=255&l*n.g+s*r.g+.5,n.b=255&l*n.b+s*r.b+.5,n.a=i*n.a+(1-i)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=hn(zt(e.r)),s=hn(zt(e.g)),i=hn(zt(e.b));return{r:Ut(un(r+n*(hn(zt(t.r))-r))),g:Ut(un(s+n*(hn(zt(t.g))-s))),b:Ut(un(i+n*(hn(zt(t.b))-i))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new gn(this.rgb)}alpha(e){return this._rgb.a=Ut(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Ft(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return dn(this._rgb,2,e),this}darken(e){return dn(this._rgb,2,-e),this}saturate(e){return dn(this._rgb,1,e),this}desaturate(e){return dn(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Zt(e);n[0]=nn(n[0]+t),n=tn(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function bn(){}const yn=(()=>{let e=0;return()=>e++})();function vn(e){return null===e||void 0===e}function xn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function En(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Tn(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function wn(e,t){return Tn(e)?e:t}function kn(e,t){return"undefined"===typeof e?t:e}const Sn=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function _n(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function In(e,t,n,r){let s,i,a;if(xn(e))if(i=e.length,r)for(s=i-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<i;s++)t.call(n,e[s],s);else if(En(e))for(a=Object.keys(e),i=a.length,s=0;s<i;s++)t.call(n,e[a[s]],a[s])}function An(e,t){let n,r,s,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],i=t[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Cn(e){if(xn(e))return e.map(Cn);if(En(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=Cn(e[n[s]]);return t}return e}function Nn(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Dn(e,t,n,r){if(!Nn(e))return;const s=t[e],i=n[e];En(s)&&En(i)?Rn(s,i,r):t[e]=Cn(i)}function Rn(e,t,n){const r=xn(t)?t:[t],s=r.length;if(!En(e))return e;const i=(n=n||{}).merger||Dn;let a;for(let o=0;o<s;++o){if(a=r[o],!En(a))continue;const t=Object.keys(a);for(let r=0,s=t.length;r<s;++r)i(t[r],e,a,n)}return e}function On(e,t){return Rn(e,t,{merger:Mn})}function Mn(e,t,n){if(!Nn(e))return;const r=t[e],s=n[e];En(r)&&En(s)?On(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Cn(s))}const Ln={"":e=>e,x:e=>e.x,y:e=>e.y};function Pn(e,t){const n=Ln[t]||(Ln[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function Fn(e){return e.charAt(0).toUpperCase()+e.slice(1)}const $n=e=>"undefined"!==typeof e,Bn=e=>"function"===typeof e,Un=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const zn=Math.PI,Hn=2*zn,Wn=Hn+zn,Gn=Number.POSITIVE_INFINITY,Vn=zn/180,qn=zn/2,jn=zn/4,Yn=2*zn/3,Kn=Math.log10,Xn=Math.sign;function Qn(e,t,n){return Math.abs(e-t)<n}function Jn(e){const t=Math.round(e);e=Qn(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Kn(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Zn(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function er(e,t,n){let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function tr(e){return e*(zn/180)}function nr(e){return e*(180/zn)}function rr(e){if(!Tn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function sr(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*zn&&(i+=Hn),{angle:i,distance:s}}function ir(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ar(e,t){return(e-t+Wn)%Hn-zn}function or(e){return(e%Hn+Hn)%Hn}function lr(e,t,n,r){const s=or(e),i=or(t),a=or(n),o=or(i-s),l=or(a-s),c=or(s-i),u=or(s-a);return s===i||s===a||r&&i===a||o>l&&c<u}function cr(e,t,n){return Math.max(t,Math.min(n,e))}function ur(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function hr(e,t,n){n=n||(n=>e[n]<t);let r,s=e.length-1,i=0;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const dr=(e,t,n,r)=>hr(e,n,r?r=>{const s=e[r][t];return s<n||s===n&&e[r+1][t]===n}:r=>e[r][t]<n),pr=(e,t,n)=>hr(e,n,(r=>e[r][t]>=n));const fr=["push","pop","shift","splice","unshift"];function mr(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);-1!==s&&r.splice(s,1),r.length>0||(fr.forEach((t=>{delete e[t]})),delete e._chartjs)}function gr(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const br="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function yr(e,t){let n=[],r=!1;return function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];n=i,r||(r=!0,br.call(window,(()=>{r=!1,e.apply(t,n)})))}}const vr=e=>"start"===e?"left":"end"===e?"right":"center",xr=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Er(e,t,n){const r=t.length;let s=0,i=r;if(e._sorted){const{iScale:a,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=a.axis,{min:h,max:d,minDefined:p,maxDefined:f}=a.getUserBounds();if(p){if(s=Math.min(dr(l,u,h).lo,n?r:dr(t,u,a.getPixelForValue(h)).lo),c){const e=l.slice(0,s+1).reverse().findIndex((e=>!vn(e[o.axis])));s-=Math.max(0,e)}s=cr(s,0,r-1)}if(f){let e=Math.max(dr(l,a.axis,d,!0).hi+1,n?0:dr(t,u,a.getPixelForValue(d),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!vn(e[o.axis])));e+=Math.max(0,t)}i=cr(e,s,r)-s}else i=r-s}return{start:s,count:i}}function Tr(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=s,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const wr=e=>0===e||1===e,kr=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Hn/n),Sr=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Hn/n)+1,_r={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*qn),easeOutSine:e=>Math.sin(e*qn),easeInOutSine:e=>-.5*(Math.cos(zn*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>wr(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>wr(e)?e:kr(e,.075,.3),easeOutElastic:e=>wr(e)?e:Sr(e,.075,.3),easeInOutElastic(e){const t=.1125;return wr(e)?e:e<.5?.5*kr(2*e,t,.45):.5+.5*Sr(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-_r.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*_r.easeInBounce(2*e):.5*_r.easeOutBounce(2*e-1)+.5};function Ir(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Ar(e){return Ir(e)?e:new gn(e)}function Cr(e){return Ir(e)?e:new gn(e).saturate(.5).darken(.1).hexString()}const Nr=["x","y","borderWidth","radius","tension"],Dr=["color","borderColor","backgroundColor"];const Rr=new Map;function Or(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Rr.get(n);return r||(r=new Intl.NumberFormat(e,t),Rr.set(n,r)),r}(t,n).format(e)}const Mr={values:e=>xn(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let s,i=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(s="scientific"),i=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const a=Kn(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Or(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Kn(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?Mr.numeric.call(this,e,t,n):""}};var Lr={formatters:Mr};const Pr=Object.create(null),Fr=Object.create(null);function $r(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function Br(e,t,n){return"string"===typeof t?Rn($r(e,t),n):Rn($r(e,""),t)}class Ur{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Cr(t.backgroundColor),this.hoverBorderColor=(e,t)=>Cr(t.borderColor),this.hoverColor=(e,t)=>Cr(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Br(this,e,t)}get(e){return $r(this,e)}describe(e,t){return Br(Fr,e,t)}override(e,t){return Br(Pr,e,t)}route(e,t,n,r){const s=$r(this,e),i=$r(this,n),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=i[r];return En(e)?Object.assign({},t,e):kn(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach((e=>e(this)))}}var zr=new Ur({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Dr},numbers:{type:"number",properties:Nr}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Lr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Hr(e,t,n,r,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Wr(e,t,n,r){let s=(r=r||{}).data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(s=r.data={},i=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let a=0;const o=n.length;let l,c,u,h,d;for(l=0;l<o;l++)if(h=n[l],void 0===h||null===h||xn(h)){if(xn(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||xn(d)||(a=Hr(e,s,i,a,d))}else a=Hr(e,s,i,a,h);e.restore();const p=i.length/2;if(p>n.length){for(l=0;l<p;l++)delete s[i[l]];i.splice(0,p)}return a}function Gr(e,t,n){const r=e.currentDevicePixelRatio,s=0!==n?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function Vr(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function qr(e,t,n,r){jr(e,t,n,r,null)}function jr(e,t,n,r,s){let i,a,o,l,c,u,h,d;const p=t.pointStyle,f=t.rotation,m=t.radius;let g=(f||0)*Vn;if(p&&"object"===typeof p&&(i=p.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:s?e.ellipse(n,r,s/2,m,0,0,Hn):e.arc(n,r,m,0,Hn),e.closePath();break;case"triangle":u=s?s/2:m,e.moveTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=Yn,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=Yn,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,a=Math.cos(g+jn)*l,h=Math.cos(g+jn)*(s?s/2-c:l),o=Math.sin(g+jn)*l,d=Math.sin(g+jn)*(s?s/2-c:l),e.arc(n-h,r-o,c,g-zn,g-qn),e.arc(n+d,r-a,c,g-qn,g),e.arc(n+h,r+o,c,g,g+qn),e.arc(n-d,r+a,c,g+qn,g+zn),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,u=s?s/2:l,e.rect(n-u,r-l,2*u,2*l);break}g+=jn;case"rectRot":h=Math.cos(g)*(s?s/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,d=Math.sin(g)*(s?s/2:m),e.moveTo(n-h,r-o),e.lineTo(n+d,r-a),e.lineTo(n+h,r+o),e.lineTo(n-d,r+a),e.closePath();break;case"crossRot":g+=jn;case"cross":h=Math.cos(g)*(s?s/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,d=Math.sin(g)*(s?s/2:m),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a);break;case"star":h=Math.cos(g)*(s?s/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,d=Math.sin(g)*(s?s/2:m),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a),g+=jn,h=Math.cos(g)*(s?s/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,d=Math.sin(g)*(s?s/2:m),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a);break;case"line":a=s?s/2:Math.cos(g)*m,o=Math.sin(g)*m,e.moveTo(n-a,r-o),e.lineTo(n+a,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(s?s/2:m),r+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Yr(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Kr(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Xr(e){e.restore()}function Qr(e,t,n,r,s){if(!t)return e.lineTo(n.x,n.y);if("middle"===s){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===s!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Jr(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Zr(e,t,n,r,s){if(s.strikethrough||s.underline){const i=e.measureText(r),a=t-i.actualBoundingBoxLeft,o=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,u),e.lineTo(o,u),e.stroke()}}function es(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function ts(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=xn(t)?t:[t],o=i.strokeWidth>0&&""!==i.strokeColor;let l,c;for(e.save(),e.font=s.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),vn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,i),l=0;l<a.length;++l)c=a[l],i.backdrop&&es(e,i.backdrop),o&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),vn(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,n,r,i.maxWidth)),e.fillText(c,n,r,i.maxWidth),Zr(e,n,r,c,i),r+=Number(s.lineHeight);e.restore()}function ns(e,t){const{x:n,y:r,w:s,h:i,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*zn,zn,!0),e.lineTo(n,r+i-a.bottomLeft),e.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,zn,qn,!0),e.lineTo(n+s-a.bottomRight,r+i),e.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,qn,0,!0),e.lineTo(n+s,r+a.topRight),e.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-qn,!0),e.lineTo(n+a.topLeft,r)}const rs=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ss=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function is(e,t){const n=(""+e).match(rs);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function as(e,t){const n={},r=En(t),s=r?Object.keys(t):t,i=En(e)?r?n=>kn(e[n],e[t[n]]):t=>e[t]:()=>e;for(const a of s)n[a]=+i(a)||0;return n}function os(e){return as(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ls(e){return as(e,["topLeft","topRight","bottomLeft","bottomRight"])}function cs(e){const t=os(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function us(e,t){e=e||{},t=t||zr.font;let n=kn(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=kn(e.style,t.style);r&&!(""+r).match(ss)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:kn(e.family,t.family),lineHeight:is(kn(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:kn(e.weight,t.weight),string:""};return s.string=function(e){return!e||vn(e.size)||vn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function hs(e,t,n,r){let s,i,a,o=!0;for(s=0,i=e.length;s<i;++s)if(a=e[s],void 0!==a&&(void 0!==t&&"function"===typeof a&&(a=a(t),o=!1),void 0!==n&&xn(a)&&(a=a[n%a.length],o=!1),void 0!==a))return r&&!o&&(r.cacheable=!1),a}function ds(e,t){return Object.assign(Object.create(e),t)}function ps(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const s=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=ks("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:n,_getTarget:r,override:r=>ps([r,...e],t,s,n)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>ys(n,r,(()=>function(e,t,n,r){let s;for(const i of t)if(s=ks(gs(i,e),n),"undefined"!==typeof s)return bs(e,s)?Ts(n,r,e,s):s}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Ss(e).includes(t),ownKeys:e=>Ss(e),set(e,t,n){const s=e._storage||(e._storage=r());return e[t]=s[t]=n,delete e._keys,!0}})}function fs(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:ms(e,r),setContext:t=>fs(e,t,n,r),override:s=>fs(e.override(s),t,n,r)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>ys(e,t,(()=>function(e,t,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=e;let o=r[t];Bn(o)&&a.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(i,a||r);o.delete(e),bs(e,l)&&(l=Ts(s._scopes,s,e,l));return l}(t,o,e,n));xn(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=n;if("undefined"!==typeof i.index&&r(e))return t[i.index%t.length];if(En(t[0])){const n=t,r=s._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Ts(r,s,e,l);t.push(fs(n,i,a&&a[e],o))}}return t}(t,o,e,a.isIndexable));bs(t,o)&&(o=fs(o,s,i&&i[t],a));return o}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function ms(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Bn(n)?n:()=>n,isIndexable:Bn(r)?r:()=>r}}const gs=(e,t)=>e?e+Fn(t):t,bs=(e,t)=>En(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function ys(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function vs(e,t,n){return Bn(e)?e(t,n):e}const xs=(e,t)=>!0===e?t:"string"===typeof e?Pn(t,e):void 0;function Es(e,t,n,r,s){for(const i of t){const t=xs(n,i);if(t){e.add(t);const i=vs(t._fallback,n,s);if("undefined"!==typeof i&&i!==n&&i!==r)return i}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function Ts(e,t,n,r){const s=t._rootScopes,i=vs(t._fallback,n,r),a=[...e,...s],o=new Set;o.add(r);let l=ws(o,a,n,i||n,r);return null!==l&&(("undefined"===typeof i||i===n||(l=ws(o,a,i,l,r),null!==l))&&ps(Array.from(o),[""],s,i,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];if(xn(s)&&En(n))return n;return s||{}}(t,n,r))))}function ws(e,t,n,r,s){for(;n;)n=Es(e,t,n,r,s);return n}function ks(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function Ss(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function _s(e,t,n,r){const{iScale:s}=e,{key:i="r"}=this._parsing,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],a[o]={r:s.parse(Pn(u,i),c)};return a}const Is=Number.EPSILON||1e-14,As=(e,t)=>t<e.length&&!e[t].skip&&e[t],Cs=e=>"x"===e?"y":"x";function Ns(e,t,n,r){const s=e.skip?t:e,i=t,a=n.skip?t:n,o=ir(i,s),l=ir(a,i);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:i.x-h*(a.x-s.x),y:i.y-h*(a.y-s.y)},next:{x:i.x+d*(a.x-s.x),y:i.y+d*(a.y-s.y)}}}function Ds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=Cs(t),r=e.length,s=Array(r).fill(0),i=Array(r);let a,o,l,c=As(e,0);for(a=0;a<r;++a)if(o=l,l=c,c=As(e,a+1),l){if(c){const e=c[t]-l[t];s[a]=0!==e?(c[n]-l[n])/e:0}i[a]=o?c?Xn(s[a-1])!==Xn(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}!function(e,t,n){const r=e.length;let s,i,a,o,l,c=As(e,0);for(let u=0;u<r-1;++u)l=c,c=As(e,u+1),l&&c&&(Qn(t[u],0,Is)?n[u]=n[u+1]=0:(s=n[u]/t[u],i=n[u+1]/t[u],o=Math.pow(s,2)+Math.pow(i,2),o<=9||(a=3/Math.sqrt(o),n[u]=s*a*t[u],n[u+1]=i*a*t[u])))}(e,s,i),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=Cs(n),s=e.length;let i,a,o,l=As(e,0);for(let c=0;c<s;++c){if(a=o,o=l,l=As(e,c+1),!o)continue;const s=o[n],u=o[r];a&&(i=(s-a[n])/3,o[`cp1${n}`]=s-i,o[`cp1${r}`]=u-i*t[c]),l&&(i=(l[n]-s)/3,o[`cp2${n}`]=s+i,o[`cp2${r}`]=u+i*t[c])}}(e,i,t)}function Rs(e,t,n){return Math.max(Math.min(e,n),t)}function Os(e,t,n,r,s){let i,a,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)Ds(e,s);else{let n=r?e[e.length-1]:e[0];for(i=0,a=e.length;i<a;++i)o=e[i],l=Ns(n,o,e[Math.min(i+1,a-(r?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,s,i,a,o=Yr(e[0],t);for(n=0,r=e.length;n<r;++n)a=i,i=o,o=n<r-1&&Yr(e[n+1],t),i&&(s=e[n],a&&(s.cp1x=Rs(s.cp1x,t.left,t.right),s.cp1y=Rs(s.cp1y,t.top,t.bottom)),o&&(s.cp2x=Rs(s.cp2x,t.left,t.right),s.cp2y=Rs(s.cp2y,t.top,t.bottom)))}(e,n)}function Ms(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Ls(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Ps(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const Fs=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const $s=["top","right","bottom","left"];function Bs(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=$s[s];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function Us(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=Fs(n),i="border-box"===s.boxSizing,a=Bs(s,"padding"),o=Bs(s,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:i}=r;let a,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(s,i,e.target))a=s,o=i;else{const e=t.getBoundingClientRect();a=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:a,y:o,box:l}}(e,n),h=a.left+(u&&o.left),d=a.top+(u&&o.top);let{width:p,height:f}=t;return i&&(p-=a.width+o.width,f-=a.height+o.height),{x:Math.round((l-h)/p*n.width/r),y:Math.round((c-d)/f*n.height/r)}}const zs=e=>Math.round(10*e)/10;function Hs(e,t,n,r){const s=Fs(e),i=Bs(s,"margin"),a=Ps(s.maxWidth,e,"clientWidth")||Gn,o=Ps(s.maxHeight,e,"clientHeight")||Gn,l=function(e,t,n){let r,s;if(void 0===t||void 0===n){const i=e&&Ls(e);if(i){const e=i.getBoundingClientRect(),a=Fs(i),o=Bs(a,"border","width"),l=Bs(a,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=Ps(a.maxWidth,i,"clientWidth"),s=Ps(a.maxHeight,i,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||Gn,maxHeight:s||Gn}}(e,t,n);let{width:c,height:u}=l;if("content-box"===s.boxSizing){const e=Bs(s,"border","width"),t=Bs(s,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-i.width),u=Math.max(0,r?c/r:u-i.height),c=zs(Math.min(c,a,l.maxWidth)),u=zs(Math.min(u,o,l.maxHeight)),c&&!u&&(u=zs(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=zs(Math.floor(u*r))),{width:c,height:u}}function Ws(e,t,n){const r=t||1,s=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||a.height!==s||a.width!==i)&&(e.currentDevicePixelRatio=r,a.height=s,a.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0)}const Gs=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Ms()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function Vs(e,t){const n=function(e,t){return Fs(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function qs(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function js(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function Ys(e,t,n,r){const s={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},a=qs(e,s,n),o=qs(s,i,n),l=qs(i,t,n),c=qs(a,o,n),u=qs(o,l,n);return qs(c,u,n)}function Ks(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Xs(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Qs(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Js(e){return"angle"===e?{between:lr,compare:ar,normalize:or}:{between:ur,compare:(e,t)=>e-t,normalize:e=>e}}function Zs(e){let{start:t,end:n,count:r,loop:s,style:i}=e;return{start:t%r,end:n%r,loop:s&&(n-t+1)%r===0,style:i}}function ei(e,t,n){if(!n)return[e];const{property:r,start:s,end:i}=n,a=t.length,{compare:o,between:l,normalize:c}=Js(r),{start:u,end:h,loop:d,style:p}=function(e,t,n){const{property:r,start:s,end:i}=n,{between:a,normalize:o}=Js(r),l=t.length;let c,u,{start:h,end:d,loop:p}=e;if(p){for(h+=l,d+=l,c=0,u=l;c<u&&a(o(t[h%l][r]),s,i);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:p,style:e.style}}(e,t,n),f=[];let m,g,b,y=!1,v=null;const x=()=>y||l(s,b,m)&&0!==o(s,b),E=()=>!y||0===o(i,m)||l(i,b,m);for(let T=u,w=u;T<=h;++T)g=t[T%a],g.skip||(m=c(g[r]),m!==b&&(y=l(m,s,i),null===v&&x()&&(v=0===o(m,s)?T:w),null!==v&&E()&&(f.push(Zs({start:v,end:T,loop:d,count:a,style:p})),v=null),w=T,b=m));return null!==v&&f.push(Zs({start:v,end:h,loop:d,count:a,style:p})),f}function ti(e,t){const n=[],r=e.segments;for(let s=0;s<r.length;s++){const i=ei(r[s],e.points,t);i.length&&n.push(...i)}return n}function ni(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const s=e._chart.getContext(),i=ri(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=n.length,c=[];let u=i,h=t[0].start,d=h;function p(e,t,r,s){const i=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=i;for(;n[t%l].skip;)t+=i;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:s}),u=s,h=t%l)}}for(const f of t){h=o?h:f.start;let e,t=n[h%l];for(d=h+1;d<=f.end;d++){const i=n[d%l];e=ri(r.setContext(ds(s,{type:"segment",p0:t,p1:i,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:a}))),si(e,u)&&p(h,d-1,f.loop,u),t=i,u=e}h<d-1&&p(h,d-1,f.loop,u)}return c}(e,t,n,r):t}function ri(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function si(e,t){if(!t)return!1;const n=[],r=function(e,t){return Ir(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}class ii{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const s=t.listeners[r],i=t.duration;s.forEach((r=>r({chart:e,initial:t.initial,numSteps:i,currentStep:Math.min(n-t.start,i)})))}_refresh(){this._request||(this._running=!0,this._request=br.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let i,a=s.length-1,o=!1;for(;a>=0;--a)i=s[a],i._active?(i._total>n.duration&&(n.duration=i._total),i.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),s.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=s.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ai=new ii;const oi="transparent",li={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=Ar(e||oi),s=r.valid&&Ar(t||oi);return s&&s.valid?s.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class ci{constructor(e,t,n,r){const s=t[n];r=hs([e.to,r,s,e.from]);const i=hs([e.from,s,r]);this._active=!0,this._fn=e.fn||li[e.type||typeof i],this._easing=_r[e.easing]||_r.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=i,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,i=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=hs([e.to,t,r,e.from]),this._from=hs([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,s=this._from,i=this._loop,a=this._to;let o;if(this._active=s!==a&&(i||t<n),!this._active)return this._target[r]=a,void this._notify(!0);t<0?this._target[r]=s:(o=t/n%2,o=i&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(s,a,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class ui{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!En(e))return;const t=Object.keys(zr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const s=e[r];if(!En(s))return;const i={};for(const e of t)i[e]=s[e];(xn(s.properties)&&s.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,i)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const t=e[r[s]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),s}_createAnimations(e,t){const n=this._properties,r=[],s=e.$animations||(e.$animations={}),i=Object.keys(t),a=Date.now();let o;for(o=i.length-1;o>=0;--o){const l=i[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=s[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,a);continue}u.cancel()}h&&h.duration?(s[l]=u=new ci(h,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(ai.add(this._chart,n),!0):void 0}}function hi(e,t){const n=e&&e.options||{},r=n.reverse,s=void 0===n.min?t:0,i=void 0===n.max?t:0;return{start:r?i:s,end:r?s:i}}function di(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function pi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=e.keys,i="single"===r.mode;let a,o,l,c;if(null===t)return;let u=!1;for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===n){if(u=!0,r.all)continue;break}c=e.values[l],Tn(c)&&(i||0===t||Xn(t)===Xn(c))&&(t+=c)}return u||r.all?t:0}function fi(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function mi(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function gi(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const t=e[s.index];if(n&&t>0||!n&&t<0)return s.index}return null}function bi(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:o}=r,l=i.axis,c=a.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(i,a,r),h=t.length;let d;for(let p=0;p<h;++p){const e=t[p],{[l]:n,[c]:i}=e;d=(e._stacks||(e._stacks={}))[c]=mi(s,u,n),d[o]=i,d._top=gi(d,a,!0,r.type),d._bottom=gi(d,a,!1,r.type);(d._visualValues||(d._visualValues={}))[o]=i}}function yi(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function vi(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const xi=e=>"reset"===e||"none"===e,Ei=(e,t)=>t?e:Object.assign({},e);class Ti{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=fi(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&vi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,s=t.xAxisID=kn(n.xAxisID,yi(e,"x")),i=t.yAxisID=kn(n.yAxisID,yi(e,"y")),a=t.rAxisID=kn(n.rAxisID,yi(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,s,i,a),c=t.vAxisID=r(o,i,s,a);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(i),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&mr(this._data,this),e._stacked&&vi(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(En(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,s="x"===n.axis?"x":"y",i="x"===r.axis?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[s]:u,[i]:e[u]};return o}(t,e)}else if(n!==t){if(n){mr(n,this);const e=this._cachedMeta;vi(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),fr.forEach((t=>{const n="_onData"+Fn(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];const a=r.apply(this,s);return e._chartjs.listeners.forEach((e=>{"function"===typeof e[n]&&e[n](...s)})),a}})})))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=fi(t.vScale,t),t.stack!==n.stack&&(r=!0,vi(t),t.stack=n.stack),this._resyncElements(e),(r||s!==t._stacked)&&(bi(this,t._parsed),t._stacked=fi(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:s,_stacked:i}=n,a=s.axis;let o,l,c,u=0===e&&t===r.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=xn(r[e])?this.parseArrayData(n,r,e,t):En(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const s=()=>null===l[a]||h&&l[a]<h[a];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],u&&(s()&&(u=!1),h=l);n._sorted=u}i&&bi(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:s,vScale:i}=e,a=s.axis,o=i.axis,l=s.getLabels(),c=s===i,u=new Array(r);let h,d,p;for(h=0,d=r;h<d;++h)p=h+n,u[h]={[a]:c||s.parse(l[p],p),[o]:i.parse(t[p],p)};return u}parseArrayData(e,t,n,r){const{xScale:s,yScale:i}=e,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],a[o]={x:s.parse(u[0],c),y:i.parse(u[1],c)};return a}parseObjectData(e,t,n,r){const{xScale:s,yScale:i}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,u,h,d;for(c=0,u=r;c<u;++c)h=c+n,d=t[h],l[c]={x:s.parse(Pn(d,a),h),y:i.parse(Pn(d,o),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,s=this._cachedMeta,i=t[e.axis];return pi({keys:di(r,!0),values:t._stacks[e.axis]._visualValues},i,s.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const s=n[t.axis];let i=null===s?NaN:s;const a=r&&n._stacks[t.axis];r&&a&&(r.values=a,i=pi(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,s=n._sorted&&e===n.iScale,i=r.length,a=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:di(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}(a);let h,d;function p(){d=r[h];const t=d[a.axis];return!Tn(d[e.axis])||c>t||u<t}for(h=0;h<i&&(p()||(this.updateRangeFromParsed(l,e,d,o),!s));++h);if(s)for(h=i-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(l,e,d,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,s,i;for(r=0,s=t.length;r<s;++r)i=t[r][e.axis],Tn(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,s;return En(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:!1===e}}(kn(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=hi(e,n),s=hi(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],s=t.chartArea,i=[],a=this._drawStart||0,o=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,s,a,o),c=a;c<a+o;++c){const t=r[c];t.hidden||(t.active&&l?i.push(t):t.draw(e,s))}for(c=0;c<i.length;++c)i[c].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];s=t.$context||(t.$context=function(e,t,n){return ds(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function(e,t){return ds(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,s=this._cachedDataOpts,i=e+"-"+t,a=s[i],o=this.enableOptionSharing&&$n(n);if(a)return Ei(a,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?[`${e}Hover`,"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(zr.elements[e]),p=l.resolveNamedOptions(h,d,(()=>this.getContext(n,r,t)),u);return p.$shared&&(p.$shared=o,s[i]=Object.freeze(Ei(p,o))),p}_resolveAnimations(e,t,n){const r=this.chart,s=this._cachedDataOpts,i=`animation-${t}`,a=s[i];if(a)return a;let o;if(!1!==r.options.animation){const r=this.chart.config,s=r.datasetAnimationScopeKeys(this._type,t),i=r.getOptionScopes(this.getDataset(),s);o=r.createResolver(i,this.getContext(e,n,t))}const l=new ui(r,o&&o.animations);return o&&o._cacheable&&(s[i]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||xi(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(n),i=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:i}}updateElement(e,t,n,r){xi(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!xi(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[a,o,l]of this._syncList)this[a](o,l);this._syncList=[];const r=n.length,s=t.length,i=Math.min(s,r);i&&this.parse(0,i),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,s=r.data,i=e+t;let a;const o=e=>{for(e.length+=t,a=e.length-1;a>=i;a--)e[a]=e[a-t]};for(o(s),a=e;a<i;++a)s[a]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&vi(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function wi(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,s=n.length;t<s;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=gr(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,s,i,a,o=t._length;const l=()=>{32767!==i&&-32768!==i&&($n(a)&&(o=Math.min(o,Math.abs(i-a)||o)),a=i)};for(r=0,s=n.length;r<s;++r)i=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)i=t.getPixelForTick(r),l();return o}function ki(e,t,n,r){return xn(e)?function(e,t,n,r){const s=n.parse(e[0],r),i=n.parse(e[1],r),a=Math.min(s,i),o=Math.max(s,i);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:i,min:a,max:o}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Si(e,t,n,r){const s=e.iScale,i=e.vScale,a=s.getLabels(),o=s===i,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=t[c],h={},h[s.axis]=o||s.parse(a[c],c),l.push(ki(d,h,i,c));return l}function _i(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Ii(e,t,n,r){let s=t.borderSkipped;const i={};if(!s)return void(e.borderSkipped=i);if(!0===s)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:o,reverse:l,top:c,bottom:u}=function(e){let t,n,r,s,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:t,top:s,bottom:i}}(e);"middle"===s&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?s=c:(n._bottom||0)===r?s=u:(i[Ai(u,a,o,l)]=!0,s=c)),i[Ai(s,a,o,l)]=!0,e.borderSkipped=i}function Ai(e,t,n,r){var s,i,a;return r?(a=n,e=Ci(e=(s=e)===(i=t)?a:s===a?i:s,n,t)):e=Ci(e,t,n),e}function Ci(e,t,n){return"start"===e?t:"end"===e?n:e}function Ni(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}class Di extends Ti{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,s)=>{const i=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:r,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let s,i,a=e=>+n[e];if(En(n[e])){const{key:e="value"}=this._parsing;a=t=>+Pn(n[t],e)}for(s=e,i=e+t;s<i;++s)r._parsed[s]=a(s)}}_getRotation(){return tr(this.options.rotation-90)}_getCircumference(){return tr(this.options.circumference)}_getRotationExtents(){let e=Hn,t=-Hn;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,s=r._getRotation(),i=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+i)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,s=r.data,i=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-i)/2,0),o=Math.min((l=this.options.cutout,c=a,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:m,offsetY:g}=function(e,t,n){let r=1,s=1,i=0,a=0;if(t<Hn){const o=e,l=o+t,c=Math.cos(o),u=Math.sin(o),h=Math.cos(l),d=Math.sin(l),p=(e,t,r)=>lr(e,o,l,!0)?1:Math.max(t,t*n,r,r*n),f=(e,t,r)=>lr(e,o,l,!0)?-1:Math.min(t,t*n,r,r*n),m=p(0,c,h),g=p(qn,u,d),b=f(zn,c,h),y=f(zn+qn,u,d);r=(m-b)/2,s=(g-y)/2,i=-(m+b)/2,a=-(g+y)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}(d,h,o),b=(n.width-i)/p,y=(n.height-i)/f,v=Math.max(Math.min(b,y)/2,0),x=Sn(this.options.radius,v),E=(x-Math.max(x*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*x,this.offsetY=g*x,r.total=this.calculateTotal(),this.outerRadius=x-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Hn)}updateElements(e,t,n,r){const s="reset"===r,i=this.chart,a=i.chartArea,o=i.options.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,u=s&&o.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(t,r);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,s);for(m=t;m<t+n;++m){const t=this._circumference(m,s),n=e[m],i={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:d,innerRadius:h};f&&(i.options=p||this.resolveDataElementOptions(m,n.active?"active":r)),g+=t,this.updateElement(n,m,i,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const s=e._parsed[n];null===s||isNaN(s)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Hn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=Or(t._parsed[e],n.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,s,i,a,o;if(!e)for(r=0,s=n.data.datasets.length;r<s;++r)if(n.isDatasetVisible(r)){i=n.getDatasetMeta(r),e=i.data,a=i.controller;break}if(!e)return 0;for(r=0,s=e.length;r<s;++r)o=a.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(kn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Ri extends Ti{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:s}=t,i=this.chart._animationsDisabled;let{start:a,count:o}=Er(t,r,i);this._drawStart=a,this._drawCount=o,Tr(t)&&(a=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:l},e),this.updateElements(r,a,o,e)}updateElements(e,t,n,r){const s="reset"===r,{iScale:i,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),h=i.axis,d=a.axis,{spanGaps:p,segment:f}=this.options,m=Zn(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||"none"===r,b=t+n,y=e.length;let v=t>0&&this.getParsed(t-1);for(let x=0;x<y;++x){const n=e[x],p=g?n:{};if(x<t||x>=b){p.skip=!0;continue}const y=this.getParsed(x),E=vn(y[d]),T=p[h]=i.getPixelForValue(y[h],x),w=p[d]=s||E?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,y,o):y[d],x);p.skip=isNaN(T)||isNaN(w)||E,p.stop=x>0&&Math.abs(y[h]-v[h])>m,f&&(p.parsed=y,p.raw=l.data[x]),u&&(p.options=c||this.resolveDataElementOptions(x,n.active?"active":r)),g||this.updateElement(n,x,p,r),v=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const s=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,s,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Oi extends Ti{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,s)=>{const i=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:r,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=Or(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,t,n,r){return _s.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(r/2,0),i=(s-Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-i*this.index,this.innerRadius=this.outerRadius-i}updateElements(e,t,n,r){const s="reset"===r,i=this.chart,a=i.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,u=o.getIndexAngle(0)-.5*zn;let h,d=u;const p=360/this.countVisibleElements();for(h=0;h<t;++h)d+=this._computeAngle(h,r,p);for(h=t;h<t+n;h++){const t=e[h];let n=d,f=d+this._computeAngle(h,r,p),m=i.getDataVisibility(h)?o.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=f,s&&(a.animateScale&&(m=0),a.animateRotate&&(n=f=u));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:f,options:this.resolveDataElementOptions(h,t.active?"active":r)};this.updateElement(t,h,g,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?tr(this.resolveDataElementOptions(e,t).angle||n):0}}class Mi extends Di{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}var Li=Object.freeze({__proto__:null,BarController:class extends Ti{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,r){return Si(e,t,n,r)}parseArrayData(e,t,n,r){return Si(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:s,vScale:i}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l="x"===s.axis?a:o,c="x"===i.axis?a:o,u=[];let h,d,p,f;for(h=n,d=n+r;h<d;++h)f=t[h],p={},p[s.axis]=s.parse(Pn(f,l),h),u.push(ki(Pn(f,c),p,i,h));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,s=this.getParsed(e),i=s._custom,a=_i(i)?"["+i.start+", "+i.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const s="reset"===r,{index:i,_cachedMeta:{vScale:a}}=this,o=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,r);for(let d=t;d<t+n;d++){const t=this.getParsed(d),n=s||vn(t[a.axis])?{base:o,head:o}:this._calculateBarValuePixels(d),p=this._calculateBarIndexPixels(d,c),f=(t._stacks||{})[a.axis],m={horizontal:l,base:n.base,enableBorderRadius:!f||_i(t._custom)||i===f._top||i===f._bottom,x:l?n.head:p.center,y:l?p.center:n.head,height:l?p.size:Math.abs(n.size),width:l?Math.abs(n.size):p.size};h&&(m.options=u||this.resolveDataElementOptions(d,e[d].active?"active":r));const g=m.options||e[d].options;Ii(m,g,f,i),Ni(m,g,c.ratio),this.updateElement(e[d],d,m,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),s=n.options.stacked,i=[],a=this._cachedMeta.controller.getParsed(t),o=a&&a[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===o)),r=t&&t[e.vScale.axis];if(vn(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===s||-1===i.indexOf(c.stack)||void 0===s&&void 0===c.stack)&&i.push(c.stack),c.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),s=void 0!==t?r.indexOf(t):-1;return-1===s?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let s,i;for(s=0,i=t.data.length;s<i;++s)r.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const a=e.barThickness;return{min:a||wi(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:s,minBarLength:i}}=this,a=s||0,o=this.getParsed(e),l=o._custom,c=_i(l);let u,h,d=o[t.axis],p=0,f=n?this.applyStack(t,o,n):d;f!==d&&(p=f-d,f=d),c&&(d=l.barStart,f=l.barEnd-l.barStart,0!==d&&Xn(d)!==Xn(l.barEnd)&&(p=0),p+=d);const m=vn(s)||c?p:s;let g=t.getPixelForValue(m);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(p+f):g,h=u-g,Math.abs(h)<i){h=function(e,t,n){return 0!==e?Xn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(h,t,a)*i,d===a&&(g-=h/2);const e=t.getPixelForDecimal(0),s=t.getPixelForDecimal(1),l=Math.min(e,s),p=Math.max(e,s);g=Math.max(Math.min(g,p),l),u=g+h,n&&!c&&(o._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(g))}if(g===t.getPixelForValue(a)){const e=Xn(h)*t.getLineWidthForValue(a)/2;g+=e,h-=e}return{size:h,base:g,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,s=r.skipNull,i=kn(r.maxBarThickness,1/0);let a,o;if(t.grouped){const n=s?this._getStackCount(e):t.stackCount,l="flex"===r.barThickness?function(e,t,n,r){const s=t.pixels,i=s[e];let a=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;null===a&&(a=i-(null===o?t.end-t.start:o-i)),null===o&&(o=i+i-a);const c=i-(i-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n):function(e,t,n,r){const s=n.barThickness;let i,a;return vn(s)?(i=t.min*n.categoryPercentage,a=n.barPercentage):(i=s*r,a=1),{chunk:i/r,ratio:a,start:t.pixels[e]-i/2}}(e,t,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=l.start+l.chunk*c+l.chunk/2,o=Math.min(i,l.chunk*l.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(i,t.min*t.ratio);return{base:a-o/2,head:a+o/2,center:a,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let s=0;for(;s<r;++s)null===this.getParsed(s)[t.axis]||n[s].hidden||n[s].draw(this._ctx)}},BubbleController:class extends Ti{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const s=super.parsePrimitiveData(e,t,n,r);for(let i=0;i<s.length;i++)s[i]._custom=this.resolveDataElementOptions(i+n).radius;return s}parseArrayData(e,t,n,r){const s=super.parseArrayData(e,t,n,r);for(let i=0;i<s.length;i++){const e=t[n+i];s[i]._custom=kn(e[2],this.resolveDataElementOptions(i+n).radius)}return s}parseObjectData(e,t,n,r){const s=super.parseObjectData(e,t,n,r);for(let i=0;i<s.length;i++){const e=t[n+i];s[i]._custom=kn(e&&e.r&&+e.r,this.resolveDataElementOptions(i+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:s}=t,i=this.getParsed(e),a=r.getLabelForValue(i.x),o=s.getLabelForValue(i.y),l=i._custom;return{label:n[e]||"",value:"("+a+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const s="reset"===r,{iScale:i,vScale:a}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,r),c=i.axis,u=a.axis;for(let h=t;h<t+n;h++){const t=e[h],n=!s&&this.getParsed(h),d={},p=d[c]=s?i.getPixelForDecimal(.5):i.getPixelForValue(n[c]),f=d[u]=s?a.getBasePixel():a.getPixelForValue(n[u]);d.skip=isNaN(p)||isNaN(f),l&&(d.options=o||this.resolveDataElementOptions(h,t.active?"active":r),s&&(d.options.radius=0)),this.updateElement(t,h,d,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return"active"!==t&&(r.radius=0),r.radius+=kn(n&&n._custom,s),r}},DoughnutController:Di,LineController:Ri,PieController:Mi,PolarAreaController:Oi,RadarController:class extends Ti{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return _s.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const i={_loop:!0,_fullLoop:s.length===r.length,options:t};this.updateElement(n,void 0,i,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const s=this._cachedMeta.rScale,i="reset"===r;for(let a=t;a<t+n;a++){const t=e[a],n=this.resolveDataElementOptions(a,t.active?"active":r),o=s.getPointPositionForValue(a,this.getParsed(a).r),l=i?s.xCenter:o.x,c=i?s.yCenter:o.y,u={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,a,u,r)}}},ScatterController:class extends Ti{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:s}=t,i=this.getParsed(e),a=r.getLabelForValue(i.x),o=s.getLabelForValue(i.y);return{label:n[e]||"",value:"("+a+", "+o+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:s,count:i}=Er(t,n,r);if(this._drawStart=s,this._drawCount=i,Tr(t)&&(s=0,i=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:s,_dataset:i}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=n;const a=this.resolveDatasetElementOptions(e);a.segment=this.options.segment,this.updateElement(s,void 0,{animated:!r,options:a},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,s,i,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const s="reset"===r,{iScale:i,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),u=this.getSharedOptions(c),h=this.includeOptions(r,u),d=i.axis,p=a.axis,{spanGaps:f,segment:m}=this.options,g=Zn(f)?f:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||"none"===r;let y=t>0&&this.getParsed(t-1);for(let v=t;v<t+n;++v){const t=e[v],n=this.getParsed(v),c=b?t:{},f=vn(n[p]),x=c[d]=i.getPixelForValue(n[d],v),E=c[p]=s||f?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,n,o):n[p],v);c.skip=isNaN(x)||isNaN(E)||f,c.stop=v>0&&Math.abs(n[d]-y[d])>g,m&&(c.parsed=n,c.raw=l.data[v]),h&&(c.options=u||this.resolveDataElementOptions(v,t.active?"active":r)),b||this.updateElement(t,v,c,r),y=n}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const s=t[0].size(this.resolveDataElementOptions(0)),i=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,s,i)/2}}});function Pi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Fi{static override(e){Object.assign(Fi.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Pi()}parse(){return Pi()}format(){return Pi()}add(){return Pi()}diff(){return Pi()}startOf(){return Pi()}endOf(){return Pi()}}var $i=Fi;function Bi(e,t,n,r){const{controller:s,data:i,_sorted:a}=e,o=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&a&&i.length){const a=o._reversePixels?pr:dr;if(!r){const r=a(i,t,n);if(l){const{vScale:t}=s._cachedMeta,{_parsed:n}=e,i=n.slice(0,r.lo+1).reverse().findIndex((e=>!vn(e[t.axis])));r.lo-=Math.max(0,i);const a=n.slice(r.hi).findIndex((e=>!vn(e[t.axis])));r.hi+=Math.max(0,a)}return r}if(s._sharedOptions){const e=i[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=a(i,t,n-r),s=a(i,t,n+r);return{lo:e.lo,hi:s.hi}}}}return{lo:0,hi:i.length-1}}function Ui(e,t,n,r,s){const i=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,l=i.length;o<l;++o){const{index:e,data:n}=i[o],{lo:l,hi:c}=Bi(i[o],t,a,s);for(let t=l;t<=c;++t){const s=n[t];s.skip||r(s,e,t)}}}function zi(e,t,n,r,s){const i=[];if(!s&&!e.isPointInArea(t))return i;return Ui(e,n,t,(function(n,a,o){(s||Yr(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&i.push({element:n,datasetIndex:a,index:o})}),!0),i}function Hi(e,t,n,r,s,i){let a=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const s=t?Math.abs(e.x-r.x):0,i=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(i,2))}}(n);let l=Number.POSITIVE_INFINITY;return Ui(e,n,t,(function(n,c,u){const h=n.inRange(t.x,t.y,s);if(r&&!h)return;const d=n.getCenterPoint(s);if(!(!!i||e.isPointInArea(d))&&!h)return;const p=o(t,d);p<l?(a=[{element:n,datasetIndex:c,index:u}],l=p):p===l&&a.push({element:n,datasetIndex:c,index:u})})),a}function Wi(e,t,n,r,s,i){return i||e.isPointInArea(t)?"r"!==n||r?Hi(e,t,n,r,s,i):function(e,t,n,r){let s=[];return Ui(e,n,t,(function(e,n,i){const{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=sr(e,{x:t.x,y:t.y});lr(l,a,o)&&s.push({element:e,datasetIndex:n,index:i})})),s}(e,t,n,s):[]}function Gi(e,t,n,r,s){const i=[],a="x"===n?"inXRange":"inYRange";let o=!1;return Ui(e,n,t,((e,r,l)=>{e[a]&&e[a](t[n],s)&&(i.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,s))})),r&&!o?[]:i}var Vi={evaluateInteractionItems:Ui,modes:{index(e,t,n,r){const s=Us(t,e),i=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?zi(e,s,i,r,a):Wi(e,s,i,!1,r,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const s=Us(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?zi(e,s,i,r,a):Wi(e,s,i,!1,r,a);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>zi(e,Us(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const s=Us(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;return Wi(e,s,i,n.intersect,r,a)},x:(e,t,n,r)=>Gi(e,Us(t,e),"x",n.intersect,r),y:(e,t,n,r)=>Gi(e,Us(t,e),"y",n.intersect,r)}};const qi=["left","top","right","bottom"];function ji(e,t){return e.filter((e=>e.pos===t))}function Yi(e,t){return e.filter((e=>-1===qi.indexOf(e.pos)&&e.box.axis===t))}function Ki(e,t){return e.sort(((e,n)=>{const r=t?n:e,s=t?e:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight}))}function Xi(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:s}=n;if(!e||!qi.includes(r))continue;const i=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=s}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let i,a,o;for(i=0,a=e.length;i<a;++i){o=e[i];const{fullSize:a}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:a&&t.availableWidth,o.height=s):(o.width=r,o.height=c?c*s:a&&t.availableHeight)}return n}function Qi(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Ji(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Zi(e,t,n,r){const{pos:s,box:i}=n,a=e.maxPadding;if(!En(s)){n.size&&(e[s]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?i.height:i.width),n.size=t.size/t.count,e[s]+=n.size}i.getPadding&&Ji(a,i.getPadding());const o=Math.max(0,t.outerWidth-Qi(a,e,"left","right")),l=Math.max(0,t.outerHeight-Qi(a,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function ea(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function ta(e,t,n,r){const s=[];let i,a,o,l,c,u;for(i=0,a=e.length,c=0;i<a;++i){o=e[i],l=o.box,l.update(o.width||t.w,o.height||t.h,ea(o.horizontal,t));const{same:a,other:h}=Zi(t,n,o,r);c|=a&&s.length,u=u||h,l.fullSize||s.push(o)}return c&&ta(s,t,n,r)||u}function na(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function ra(e,t,n,r){const s=n.padding;let{x:i,y:a}=t;for(const o of e){const e=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,i=l.size||e.height;$n(l.start)&&(a=l.start),e.fullSize?na(e,s.left,a,n.outerWidth-s.right-s.left,i):na(e,t.left+l.placed,a,r,i),l.start=a,l.placed+=r,a=e.bottom}else{const r=t.h*c,a=l.size||e.width;$n(l.start)&&(i=l.start),e.fullSize?na(e,i,s.top,a,n.outerHeight-s.bottom-s.top):na(e,i,t.top+l.placed,a,r),l.start=i,l.placed+=r,i=e.right}}t.x=i,t.y=a}var sa={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=cs(e.options.layout.padding),i=Math.max(t-s.width,0),a=Math.max(n-s.height,0),o=function(e){const t=function(e){const t=[];let n,r,s,i,a,o;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],({position:i,options:{stack:a,stackWeight:o=1}}=s),t.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:o});return t}(e),n=Ki(t.filter((e=>e.box.fullSize)),!0),r=Ki(ji(t,"left"),!0),s=Ki(ji(t,"right")),i=Ki(ji(t,"top"),!0),a=Ki(ji(t,"bottom")),o=Yi(t,"x"),l=Yi(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:ji(t,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(a).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;In(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/u,hBoxMaxHeight:a/2}),d=Object.assign({},s);Ji(d,cs(r));const p=Object.assign({maxPadding:d,w:i,h:a,x:s.left,y:s.top},s),f=Xi(l.concat(c),h);ta(o.fullSize,p,h,f),ta(l,p,h,f),ta(c,p,h,f)&&ta(l,p,h,f),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),ra(o.leftAndTop,p,h,f),p.x+=p.w,p.y+=p.h,ra(o.rightAndBottom,p,h,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},In(o.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class ia{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class aa extends ia{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const oa="$chartjs",la={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ca=e=>null===e||""===e;const ua=!!Gs&&{passive:!0};function ha(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,ua)}function da(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function pa(e,t,n){const r=e.canvas,s=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||da(n.addedNodes,r),t=t&&!da(n.removedNodes,r);t&&n()}));return s.observe(document,{childList:!0,subtree:!0}),s}function fa(e,t,n){const r=e.canvas,s=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||da(n.removedNodes,r),t=t&&!da(n.addedNodes,r);t&&n()}));return s.observe(document,{childList:!0,subtree:!0}),s}const ma=new Map;let ga=0;function ba(){const e=window.devicePixelRatio;e!==ga&&(ga=e,ma.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function ya(e,t,n){const r=e.canvas,s=r&&Ls(r);if(!s)return;const i=yr(((e,t)=>{const r=s.clientWidth;n(e,t),r<s.clientWidth&&n()}),window),a=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||i(n,r)}));return a.observe(s),function(e,t){ma.size||window.addEventListener("resize",ba),ma.set(e,t)}(e,i),a}function va(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){ma.delete(e),ma.size||window.removeEventListener("resize",ba)}(e)}function xa(e,t,n){const r=e.canvas,s=yr((t=>{null!==e.ctx&&n(function(e,t){const n=la[e.type]||e.type,{x:r,y:s}=Us(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==s?s:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,ua)}(r,t,s),s}class Ea extends ia{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[oa]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",ca(s)){const t=Vs(e,"width");void 0!==t&&(e.width=t)}if(ca(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Vs(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[oa])return!1;const n=t[oa].initial;["height","width"].forEach((e=>{const r=n[e];vn(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[oa],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),s={attach:pa,detach:fa,resize:ya}[t]||xa;r[t]=s(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:va,detach:va,resize:va}[t]||ha)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return Hs(e,t,n,r)}isAttached(e){const t=e&&Ls(e);return!(!t||!t.isConnected)}}class Ta{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Zn(this.x)&&Zn(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function wa(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}(e),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],a=i.length,o=i[0],l=i[a-1],c=[];if(a>s)return function(e,t,n,r){let s,i=0,a=n[0];for(r=Math.ceil(r),s=0;s<e.length;s++)s===a&&(t.push(e[s]),i++,a=n[i*r])}(t,c,i,a/s),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),s=t.length/n;if(!r)return Math.max(s,1);const i=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let a=0,o=i.length-1;a<o;a++){const e=i[a];if(e>s)return e}return Math.max(s,1)}(i,t,s);if(a>0){let e,n;const r=a>1?Math.round((l-o)/(a-1)):null;for(ka(t,c,u,vn(r)?0:o-r,o),e=0,n=a-1;e<n;e++)ka(t,c,u,i[e],i[e+1]);return ka(t,c,u,l,vn(r)?t.length:l+r),c}return ka(t,c,u),c}function ka(e,t,n,r,s){const i=kn(r,0),a=Math.min(kn(s,e.length),e.length);let o,l,c,u=0;for(n=Math.ceil(n),s&&(o=s-r,n=o/Math.floor(o/n)),c=i;c<0;)u++,c=Math.round(i+u*n);for(l=Math.max(i,0);l<a;l++)l===c&&(t.push(e[l]),u++,c=Math.round(i+u*n))}const Sa=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,_a=(e,t)=>Math.min(t||e,e);function Ia(e,t){const n=[],r=e.length/t,s=e.length;let i=0;for(;i<s;i+=r)n.push(e[Math.floor(i)]);return n}function Aa(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),i=e._startPixel,a=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(s);if(!(n&&(l=1===r?Math.max(c-i,a-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<i-o||c>a+o)))return c}function Ca(e){return e.drawTicks?e.tickLength:0}function Na(e,t){if(!e.display)return 0;const n=us(e.font,t),r=cs(e.padding);return(xn(e.text)?e.text.length:1)*n.lineHeight+r.height}function Da(e,t,n){let r=vr(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class Ra extends Ta{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=wn(e,Number.POSITIVE_INFINITY),t=wn(t,Number.NEGATIVE_INFINITY),n=wn(n,Number.POSITIVE_INFINITY),r=wn(r,Number.NEGATIVE_INFINITY),{min:wn(e,n),max:wn(t,r),minDefined:Tn(e),maxDefined:Tn(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds();if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let o=0,l=a.length;o<l;++o)t=a[o].controller.getMinMax(this,e),s||(n=Math.min(n,t.min)),i||(r=Math.max(r,t.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:wn(n,wn(r,n)),max:wn(r,wn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){_n(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:s,ticks:i}=this.options,a=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:s}=e,i=Sn(t,(s-r)/2),a=(e,t)=>n&&0===e?0:e+t;return{min:a(r,-Math.abs(i)),max:a(s,i)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=a<this.ticks.length;this._convertTicksToLabels(o?Ia(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(this.ticks=wa(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){_n(this.options.afterUpdate,[this])}beforeSetDimensions(){_n(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){_n(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),_n(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){_n(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n],s.label=_n(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){_n(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){_n(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=_a(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let i,a,o,l=r;if(!this._isVisible()||!t.display||r>=s||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=cr(this.chart.width-u,0,this.maxWidth);i=e.offset?this.maxWidth/n:d/(n-1),u+6>i&&(i=d/(n-(e.offset?.5:1)),a=this.maxHeight-Ca(e.grid)-t.padding-Na(e.title,this.chart.options.font),o=Math.sqrt(u*u+h*h),l=nr(Math.min(Math.asin(cr((c.highest.height+6)/i,-1,1)),Math.asin(cr(a/o,-1,1))-Math.asin(cr(h/o,-1,1)))),l=Math.max(r,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){_n(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){_n(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:s}}=this,i=this._isVisible(),a=this.isHorizontal();if(i){const i=Na(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=Ca(s)+i):(e.height=this.maxHeight,e.width=Ca(s)+i),n.display&&this.ticks.length){const{first:t,last:r,widest:s,highest:i}=this._getLabelSizes(),o=2*n.padding,l=tr(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(a){const t=n.mirror?0:u*s.width+c*i.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*s.width+u*i.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:s,padding:i},position:a}=this.options,o=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;o?l?(u=r*e.width,h=n*t.height):(u=n*e.height,h=r*t.width):"start"===s?h=t.width:"end"===s?u=e.width:"inner"!==s&&(u=e.width/2,h=t.width/2),this.paddingLeft=Math.max((u-a+i)*this.width/(this.width-a),0),this.paddingRight=Math.max((h-c+i)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===s?(n=0,r=e.height):"end"===s&&(n=t.height,r=0),this.paddingTop=n+i,this.paddingBottom=r+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){_n(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)vn(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Ia(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:s}=this,i=[],a=[],o=Math.floor(t/_a(t,n));let l,c,u,h,d,p,f,m,g,b,y,v=0,x=0;for(l=0;l<t;l+=o){if(h=e[l].label,d=this._resolveTickFontOptions(l),r.font=p=d.string,f=s[p]=s[p]||{data:{},gc:[]},m=d.lineHeight,g=b=0,vn(h)||xn(h)){if(xn(h))for(c=0,u=h.length;c<u;++c)y=h[c],vn(y)||xn(y)||(g=Hr(r,f.data,f.gc,g,y),b+=m)}else g=Hr(r,f.data,f.gc,g,h),b=m;i.push(g),a.push(b),v=Math.max(g,v),x=Math.max(b,x)}!function(e,t){In(e,(e=>{const n=e.gc,r=n.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[n[s]];n.splice(0,r)}}))}(s,t);const E=i.indexOf(v),T=a.indexOf(x),w=e=>({width:i[e]||0,height:a[e]||0});return{first:w(0),last:w(t-1),widest:w(E),highest:w(T),widths:i,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return cr(this._alignToPixels?Gr(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return ds(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=function(e,t){return ds(e,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=tr(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),i=e.autoSkipPadding||0,a=s?s.widest.width+i:0,o=s?s.highest.height+i:0;return this.isHorizontal()?o*n>a*r?a/n:o/r:o*r<a*n?o/n:a/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:s,position:i,border:a}=r,o=s.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),u=Ca(s),h=[],d=a.setContext(this.getContext()),p=d.display?d.width:0,f=p/2,m=function(e){return Gr(n,e,p)};let g,b,y,v,x,E,T,w,k,S,_,I;if("top"===i)g=m(this.bottom),E=this.bottom-u,w=g-f,S=m(e.top)+f,I=e.bottom;else if("bottom"===i)g=m(this.top),S=e.top,I=m(e.bottom)-f,E=g+f,w=this.top+u;else if("left"===i)g=m(this.right),x=this.right-u,T=g-f,k=m(e.left)+f,_=e.right;else if("right"===i)g=m(this.left),k=e.left,_=m(e.right)-f,x=g+f,T=this.left+u;else if("x"===t){if("center"===i)g=m((e.top+e.bottom)/2+.5);else if(En(i)){const e=Object.keys(i)[0],t=i[e];g=m(this.chart.scales[e].getPixelForValue(t))}S=e.top,I=e.bottom,E=g+f,w=E+u}else if("y"===t){if("center"===i)g=m((e.left+e.right)/2);else if(En(i)){const e=Object.keys(i)[0],t=i[e];g=m(this.chart.scales[e].getPixelForValue(t))}x=g-f,T=x-u,k=e.left,_=e.right}const A=kn(r.ticks.maxTicksLimit,c),C=Math.max(1,Math.ceil(c/A));for(b=0;b<c;b+=C){const e=this.getContext(b),t=s.setContext(e),r=a.setContext(e),i=t.lineWidth,c=t.color,u=r.dash||[],d=r.dashOffset,p=t.tickWidth,f=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;y=Aa(this,b,o),void 0!==y&&(v=Gr(n,y,i),l?x=T=k=_=v:E=w=S=I=v,h.push({tx1:x,ty1:E,tx2:T,ty2:w,x1:k,y1:S,x2:_,y2:I,width:i,color:c,borderDash:u,borderDashOffset:d,tickWidth:p,tickColor:f,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:s}=n,i=this.isHorizontal(),a=this.ticks,{align:o,crossAlign:l,padding:c,mirror:u}=s,h=Ca(n.grid),d=h+c,p=u?-c:d,f=-tr(this.labelRotation),m=[];let g,b,y,v,x,E,T,w,k,S,_,I,A="middle";if("top"===r)E=this.bottom-p,T=this._getXAxisLabelAlignment();else if("bottom"===r)E=this.top+p,T=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(h);T=e.textAlign,x=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(h);T=e.textAlign,x=e.x}else if("x"===t){if("center"===r)E=(e.top+e.bottom)/2+d;else if(En(r)){const e=Object.keys(r)[0],t=r[e];E=this.chart.scales[e].getPixelForValue(t)+d}T=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)x=(e.left+e.right)/2-d;else if(En(r)){const e=Object.keys(r)[0],t=r[e];x=this.chart.scales[e].getPixelForValue(t)}T=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===o?A="top":"end"===o&&(A="bottom"));const C=this._getLabelSizes();for(g=0,b=a.length;g<b;++g){y=a[g],v=y.label;const e=s.setContext(this.getContext(g));w=this.getPixelForTick(g)+s.labelOffset,k=this._resolveTickFontOptions(g),S=k.lineHeight,_=xn(v)?v.length:1;const t=_/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let h,d=T;if(i?(x=w,"inner"===T&&(d=g===b-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),I="top"===r?"near"===l||0!==f?-_*S+S/2:"center"===l?-C.highest.height/2-t*S+S:-C.highest.height+S/2:"near"===l||0!==f?S/2:"center"===l?C.highest.height/2-t*S:C.highest.height-_*S,u&&(I*=-1),0===f||e.showLabelBackdrop||(x+=S/2*Math.sin(f))):(E=w,I=(1-_)*S/2),e.showLabelBackdrop){const t=cs(e.backdropPadding),n=C.heights[g],r=C.widths[g];let s=I-t.top,i=0-t.left;switch(A){case"middle":s-=n/2;break;case"bottom":s-=n}switch(T){case"center":i-=r/2;break;case"right":i-=r;break;case"inner":g===b-1?i-=r:g>0&&(i-=r/2)}h={left:i,top:s,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:v,font:k,textOffset:I,options:{rotation:f,color:n,strokeColor:o,strokeWidth:c,textAlign:d,textBaseline:A,translation:[x,E],backdrop:h}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-tr(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,i=e+s,a=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+s,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l+=a)):(l=this.right-i,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+s,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l-=a)):(l=this.left+i,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:s,height:i}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,s,i),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,i;const a=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(s=0,i=r.length;s<i;++s){const e=r[s];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),i=n.display?s.width:0;if(!i)return;const a=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=Gr(e,this.left,i)-i/2,c=Gr(e,this.right,a)+a/2,u=h=o):(u=Gr(e,this.top,i)-i/2,h=Gr(e,this.bottom,a)+a/2,l=c=o),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&Kr(t,n);const r=this.getLabelItems(e);for(const s of r){const e=s.options,n=s.font;ts(t,s.label,0,s.textOffset,n,e)}n&&Xr(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const s=us(n.font),i=cs(n.padding),a=n.align;let o=s.lineHeight/2;"bottom"===t||"center"===t||En(t)?(o+=i.bottom,xn(n.text)&&(o+=s.lineHeight*(n.text.length-1))):o+=i.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(e,t,n,r){const{top:s,left:i,bottom:a,right:o,chart:l}=e,{chartArea:c,scales:u}=l;let h,d,p,f=0;const m=a-s,g=o-i;if(e.isHorizontal()){if(d=xr(r,i,o),En(n)){const e=Object.keys(n)[0],r=n[e];p=u[e].getPixelForValue(r)+m-t}else p="center"===n?(c.bottom+c.top)/2+m-t:Sa(e,n,t);h=o-i}else{if(En(n)){const e=Object.keys(n)[0],r=n[e];d=u[e].getPixelForValue(r)-g+t}else d="center"===n?(c.left+c.right)/2-g+t:Sa(e,n,t);p=xr(r,a,s),f="left"===n?-qn:qn}return{titleX:d,titleY:p,maxWidth:h,rotation:f}}(this,o,t,a);ts(e,n.text,0,0,s,{color:n.color,maxWidth:u,rotation:h,textAlign:Da(a,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=kn(e.grid&&e.grid.z,-1),r=kn(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Ra.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,i;for(s=0,i=t.length;s<i;++s){const i=t[s];i[n]!==this.id||e&&i.type!==e||r.push(i)}return r}_resolveTickFontOptions(e){return us(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Oa{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,s=e.id,i=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,function(e,t,n){const r=Rn(Object.create(null),[n?zr.get(n):{},zr.get(t),e.defaults]);zr.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),s=r.pop(),i=[e].concat(r).join("."),a=t[n].split("."),o=a.pop(),l=a.join(".");zr.route(i,s,l,o)}))}(t,e.defaultRoutes);e.descriptors&&zr.describe(t,e.descriptors)}(e,i,n),this.override&&zr.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in zr[r]&&(delete zr[r][n],this.override&&delete Pr[n])}}class Ma{constructor(){this.controllers=new Oa(Ti,"datasets",!0),this.elements=new Oa(Ta,"elements"),this.plugins=new Oa(Object,"plugins"),this.scales=new Oa(Ra,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):In(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=Fn(e);_n(n["before"+r],[],n),t[e](n),_n(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var La=new Ma;class Pa{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),i=this._notify(s,e,t,n);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,t,n,r){r=r||{};for(const s of e){const e=s.plugin;if(!1===_n(e[n],[t,r,s.options],e)&&r.cancelable)return!1}return!0}invalidate(){vn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=kn(n.options&&n.options.plugins,{}),s=function(e){const t={},n=[],r=Object.keys(La.plugins.items);for(let i=0;i<r.length;i++)n.push(La.getPlugin(r[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const e=s[i];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:s,localIds:i}=t;const a=[],o=e.getContext();for(const l of s){const t=l.id,s=Fa(n[t],r);null!==s&&a.push({plugin:l,options:$a(e.config,{plugin:l,local:i[t]},s,o)})}return a}(e,s,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function Fa(e,t){return t||!1!==e?!0===e?{}:e:null}function $a(e,t,n,r){let{plugin:s,local:i}=t;const a=e.pluginScopeKeys(s),o=e.getOptionScopes(n,a);return i&&s.defaults&&o.push(s.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ba(e,t){const n=zr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Ua(e){if("x"===e||"y"===e||"r"===e)return e}function za(e){if(Ua(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n){const t=i.axis||("top"===(s=i.position)||"bottom"===s?"x":"left"===s||"right"===s?"y":void 0)||e.length>1&&Ua(e[0].toLowerCase());if(t)return t}var s;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Ha(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Wa(e,t){const n=Pr[e.type]||{scales:{}},r=t.scales||{},s=Ba(e.type,t),i=Object.create(null);return Object.keys(r).forEach((t=>{const a=r[t];if(!En(a))return console.error(`Invalid scale configuration for scale: ${t}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const o=za(t,a,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return Ha(e,"x",n[0])||Ha(e,"y",n[0])}return{}}(t,e),zr.scales[a.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,s),c=n.scales||{};i[t]=On(Object.create(null),[{axis:o},a,c[o],c[l]])})),e.data.datasets.forEach((n=>{const s=n.type||e.type,a=n.indexAxis||Ba(s,t),o=(Pr[s]||{}).scales||{};Object.keys(o).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),s=n[t+"AxisID"]||t;i[s]=i[s]||Object.create(null),On(i[s],[{axis:t},r[s],o[e]])}))})),Object.keys(i).forEach((e=>{const t=i[e];On(t,[zr.scales[t.type],zr.scale])})),i}function Ga(e){const t=e.options||(e.options={});t.plugins=kn(t.plugins,{}),t.scales=Wa(e,t)}function Va(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const qa=new Map,ja=new Set;function Ya(e,t){let n=qa.get(e);return n||(n=t(),qa.set(e,n),ja.add(n)),n}const Ka=(e,t,n)=>{const r=Pn(t,n);void 0!==r&&e.add(r)};class Xa{constructor(e){this._config=function(e){return(e=e||{}).data=Va(e.data),Ga(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Va(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ga(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ya(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return Ya(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return Ya(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return Ya(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:s}=this,i=this._cachedScopes(e,n),a=i.get(t);if(a)return a;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>Ka(o,e,t)))),t.forEach((e=>Ka(o,r,e))),t.forEach((e=>Ka(o,Pr[s]||{},e))),t.forEach((e=>Ka(o,zr,e))),t.forEach((e=>Ka(o,Fr,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),ja.has(t)&&i.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Pr[t]||{},zr.datasets[t]||{},{type:t},zr,Fr]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const s={$shared:!0},{resolver:i,subPrefixes:a}=Qa(this._resolverCache,e,r);let o=i;if(function(e,t){const{isScriptable:n,isIndexable:r}=ms(e);for(const s of t){const t=n(s),i=r(s),a=(i||t)&&e[s];if(t&&(Bn(a)||Ja(a))||i&&xn(a))return!0}return!1}(i,t)){s.$shared=!1;o=fs(i,n=Bn(n)?n():n,this.createResolver(e,n,a))}for(const l of t)s[l]=o[l];return s}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:s}=Qa(this._resolverCache,e,n);return En(t)?fs(s,t,void 0,r):s}}function Qa(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let i=r.get(s);if(!i){i={resolver:ps(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(s,i)}return i}const Ja=e=>En(e)&&Object.getOwnPropertyNames(e).some((t=>Bn(e[t])));const Za=["top","bottom","left","right","chartArea"];function eo(e,t){return"top"===e||"bottom"===e||-1===Za.indexOf(e)&&"x"===t}function to(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function no(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),_n(n&&n.onComplete,[e],t)}function ro(e){const t=e.chart,n=t.options.animation;_n(n&&n.onProgress,[e],t)}function so(e){return Ms()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const io={},ao=e=>{const t=so(e);return Object.values(io).filter((e=>e.canvas===t)).pop()};function oo(e,t,n){const r=Object.keys(e);for(const s of r){const r=+s;if(r>=t){const i=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=i)}}}function lo(e,t,n){return e.options.clip?e[n]:t[n]}class co{static defaults=(()=>zr)();static instances=(()=>io)();static overrides=(()=>Pr)();static registry=(()=>La)();static version="4.4.8";static getChart=(()=>ao)();static register(){La.add(...arguments),uo()}static unregister(){La.remove(...arguments),uo()}constructor(e,t){const n=this.config=new Xa(t),r=so(e),s=ao(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!Ms()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?aa:Ea}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,i.aspectRatio),o=a&&a.canvas,l=o&&o.height,c=o&&o.width;this.id=yn(),this.ctx=a,this.canvas=o,this.width=c,this.height=l,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Pa,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}((e=>this.update(e)),i.resizeDelay||0),this._dataChanges=[],io[this.id]=this,a&&o?(ai.listen(this,"complete",no),ai.listen(this,"progress",ro),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:s}=this;return vn(e)?t&&s?s:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return La}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ws(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vr(this.canvas,this.ctx),this}stop(){return ai.stop(this),this}resize(e,t){ai.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(r,e,t,s),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,Ws(this,a,!0)&&(this.notifyPlugins("resize",{size:i}),_n(n.onResize,[this,i],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){In(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let s=[];t&&(s=s.concat(Object.keys(t).map((e=>{const n=t[e],r=za(e,n),s="r"===r,i="x"===r;return{options:n,dposition:s?"chartArea":i?"bottom":"left",dtype:s?"radialLinear":i?"category":"linear"}})))),In(s,(t=>{const s=t.options,i=s.id,a=za(i,s),o=kn(s.type,t.dtype);void 0!==s.position&&eo(s.position,a)===eo(t.dposition)||(s.position=t.dposition),r[i]=!0;let l=null;if(i in n&&n[i].type===o)l=n[i];else{l=new(La.getScale(o))({id:i,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(s,e)})),In(r,((e,t)=>{e||delete n[t]})),In(n,(e=>{sa.configure(this,e,e.options),sa.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(to("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let s=this.getDatasetMeta(n);const i=r.type||this.config.type;if(s.type&&s.type!==i&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=i,s.indexAxis=r.indexAxis||Ba(i,this.options),s.order=r.order||0,s.index=n,s.label=""+r.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const t=La.getController(i),{datasetElementType:r,dataElementType:a}=zr.datasets[i];Object.assign(t,{dataElementType:La.getElement(a),datasetElementType:r&&La.getElement(r)}),s.controller=new t(this,n),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){In(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===s.indexOf(e);e.buildOrUpdateElements(t),i=Math.max(+e.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),r||In(s,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(to("z","_idx"));const{_active:a,_lastEvent:o}=this;o?this._eventHandler(o,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){In(this.scales,(e=>{sa.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);Un(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:s}of t){oo(e,r,"_removeElements"===n?-s:s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let s=1;s<t;s++)if(!Un(r,n(s)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;sa.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],In(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Bn(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ai.has(this)?this.attached&&!ai.running(this)&&ai.start(this):(this.draw(),no({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,s;for(r=0,s=t.length;r<s;++r){const s=t[r];e&&!s.visible||n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,s=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:lo(n,t,"left"),right:lo(n,t,"right"),top:lo(r,t,"top"),bottom:lo(r,t,"bottom")}:t}(e,this.chartArea),i={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(r&&Kr(t,{left:!1===n.left?0:s.left-n.left,right:!1===n.right?this.width:s.right+n.right,top:!1===n.top?0:s.top-n.top,bottom:!1===n.bottom?this.height:s.bottom+n.bottom}),e.controller.draw(),r&&Xr(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Yr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const s=Vi.modes[t];return"function"===typeof s?s(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=ds(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",s=this.getDatasetMeta(e),i=s.controller._resolveAnimations(void 0,r);$n(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(s,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ai.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Vr(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete io[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};In(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},s=(e,t)=>{this.canvas&&this.resize(e,t)};let i;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",s),n("detach",i)};i=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():i()}unbindEvents(){In(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},In(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let s,i,a,o;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,o=e.length;a<o;++a){i=e[a];const t=i&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[r+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!An(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,s=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),i=s(t,e),a=n?e:s(e,t);i.length&&this.updateHoverStyle(i,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:s}=this,i=t,a=this._getActiveElements(e,r,n,i),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,_n(s.onHover,[e,a,this],this),o&&_n(s.onClick,[e,a,this],this));const c=!An(a,r);return(c||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}function uo(){return In(co.instances,(e=>e._plugins.invalidate()))}function ho(e,t,n,r){const s=as(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const i=(n-t)/2,a=Math.min(i,r*t/2),o=e=>{const t=(n-Math.min(i,e))*r/2;return cr(e,0,Math.min(i,t))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:cr(s.innerStart,0,a),innerEnd:cr(s.innerEnd,0,a)}}function po(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function fo(e,t,n,r,s,i){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let p=0;const f=s-l;if(r){const e=((u>0?u-r:0)+(h>0?h-r:0))/2;p=(f-(0!==e?f*e/(e+r):f))/2}const m=(f-Math.max(.001,f*h-n/zn)/h)/2,g=l+m+p,b=s-m-p,{outerStart:y,outerEnd:v,innerStart:x,innerEnd:E}=ho(t,d,h,b-g),T=h-y,w=h-v,k=g+y/T,S=b-v/w,_=d+x,I=d+E,A=g+x/_,C=b-E/I;if(e.beginPath(),i){const t=(k+S)/2;if(e.arc(a,o,h,k,t),e.arc(a,o,h,t,S),v>0){const t=po(w,S,a,o);e.arc(t.x,t.y,v,S,b+qn)}const n=po(I,b,a,o);if(e.lineTo(n.x,n.y),E>0){const t=po(I,C,a,o);e.arc(t.x,t.y,E,b+qn,C+Math.PI)}const r=(b-E/d+(g+x/d))/2;if(e.arc(a,o,d,b-E/d,r,!0),e.arc(a,o,d,r,g+x/d,!0),x>0){const t=po(_,A,a,o);e.arc(t.x,t.y,x,A+Math.PI,g-qn)}const s=po(T,g,a,o);if(e.lineTo(s.x,s.y),y>0){const t=po(T,k,a,o);e.arc(t.x,t.y,y,g-qn,k)}}else{e.moveTo(a,o);const t=Math.cos(k)*h+a,n=Math.sin(k)*h+o;e.lineTo(t,n);const r=Math.cos(S)*h+a,s=Math.sin(S)*h+o;e.lineTo(r,s)}e.closePath()}function mo(e,t,n,r,s){const{fullCircles:i,startAngle:a,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,p?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let f=t.endAngle;if(i){fo(e,t,n,r,f,s);for(let t=0;t<i;++t)e.stroke();isNaN(o)||(f=a+(o%Hn||Hn))}p&&function(e,t,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:o,innerRadius:l}=t;let c=s/o;e.beginPath(),e.arc(i,a,o,r-c,n+c),l>s?(c=s/l,e.arc(i,a,l,n+c,r-c,!0)):e.arc(i,a,s,n+qn,r-qn),e.closePath(),e.clip()}(e,t,f),i||(fo(e,t,n,r,f,s),e.stroke())}function go(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=kn(n.borderCapStyle,t.borderCapStyle),e.setLineDash(kn(n.borderDash,t.borderDash)),e.lineDashOffset=kn(n.borderDashOffset,t.borderDashOffset),e.lineJoin=kn(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=kn(n.borderWidth,t.borderWidth),e.strokeStyle=kn(n.borderColor,t.borderColor)}function bo(e,t,n){e.lineTo(n.x,n.y)}function yo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:s=0,end:i=r-1}=n,{start:a,end:o}=t,l=Math.max(s,a),c=Math.min(i,o),u=s<a&&i<a||s>o&&i>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function vo(e,t,n,r){const{points:s,options:i}=t,{count:a,start:o,loop:l,ilen:c}=yo(s,n,r),u=function(e){return e.stepped?Qr:e.tension||"monotone"===e.cubicInterpolationMode?Jr:bo}(i);let h,d,p,{move:f=!0,reverse:m}=r||{};for(h=0;h<=c;++h)d=s[(o+(m?c-h:h))%a],d.skip||(f?(e.moveTo(d.x,d.y),f=!1):u(e,p,d,m,i.stepped),p=d);return l&&(d=s[(o+(m?c:0))%a],u(e,p,d,m,i.stepped)),!!l}function xo(e,t,n,r){const s=t.points,{count:i,start:a,ilen:o}=yo(s,n,r),{move:l=!0,reverse:c}=r||{};let u,h,d,p,f,m,g=0,b=0;const y=e=>(a+(c?o-e:e))%i,v=()=>{p!==f&&(e.lineTo(g,f),e.lineTo(g,p),e.lineTo(g,m))};for(l&&(h=s[y(0)],e.moveTo(h.x,h.y)),u=0;u<=o;++u){if(h=s[y(u)],h.skip)continue;const t=h.x,n=h.y,r=0|t;r===d?(n<p?p=n:n>f&&(f=n),g=(b*g+t)/++b):(v(),e.lineTo(t,n),d=r,b=0,p=f=n),m=n}v()}function Eo(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?xo:vo}const To="function"===typeof Path2D;function wo(e,t,n,r){To&&!t.options.segment?function(e,t,n,r){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,r)&&s.closePath()),go(e,t.options),e.stroke(s)}(e,t,n,r):function(e,t,n,r){const{segments:s,options:i}=t,a=Eo(t);for(const o of s)go(e,i,o.style),e.beginPath(),a(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class ko extends Ta{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;Os(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,s=n.length;if(!s)return[];const i=!!e._loop,{start:a,end:o}=function(e,t,n,r){let s=0,i=t-1;if(n&&!r)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(i+=s);i>s&&e[i%t].skip;)i--;return i%=t,{start:s,end:i}}(n,s,i,r);return ni(e,!0===r?[{start:a,end:o,loop:i}]:function(e,t,n,r){const s=e.length,i=[];let a,o=t,l=e[t];for(a=t+1;a<=n;++a){const n=e[a%s];n.skip||n.stop?l.skip||(r=!1,i.push({start:t%s,end:(a-1)%s,loop:r}),t=o=n.stop?a:null):(o=a,l.skip&&(t=a)),l=n}return null!==o&&i.push({start:t%s,end:o%s,loop:r}),i}(n,a,o<a?o+s:o,!!e._fullLoop&&0===a&&o===s-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],s=this.points,i=ti(this,{property:t,start:r,end:r});if(!i.length)return;const a=[],o=function(e){return e.stepped?js:e.tension||"monotone"===e.cubicInterpolationMode?Ys:qs}(n);let l,c;for(l=0,c=i.length;l<c;++l){const{start:c,end:u}=i[l],h=s[c],d=s[u];if(h===d){a.push(h);continue}const p=o(h,d,Math.abs((r-h[t])/(d[t]-h[t])),n.stepped);p[t]=e[t],a.push(p)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return Eo(this)(e,this,t,n)}path(e,t,n){const r=this.segments,s=Eo(this);let i=this._loop;t=t||0,n=n||this.points.length-t;for(const a of r)i&=s(e,this,a,{start:t,end:t+n-1});return!!i}draw(e,t,n,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),wo(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function So(e,t,n,r){const s=e.options,{[n]:i}=e.getProps([n],r);return Math.abs(t-i)<s.radius+s.hitRadius}function _o(e,t){const{x:n,y:r,base:s,width:i,height:a}=e.getProps(["x","y","base","width","height"],t);let o,l,c,u,h;return e.horizontal?(h=a/2,o=Math.min(n,s),l=Math.max(n,s),c=r-h,u=r+h):(h=i/2,o=n-h,l=n+h,c=Math.min(r,s),u=Math.max(r,s)),{left:o,top:c,right:l,bottom:u}}function Io(e,t,n,r){return e?0:cr(t,n,r)}function Ao(e){const t=_o(e),n=t.right-t.left,r=t.bottom-t.top,s=function(e,t,n){const r=e.options.borderWidth,s=e.borderSkipped,i=os(r);return{t:Io(s.top,i.top,0,n),r:Io(s.right,i.right,0,t),b:Io(s.bottom,i.bottom,0,n),l:Io(s.left,i.left,0,t)}}(e,n/2,r/2),i=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=ls(s),a=Math.min(t,n),o=e.borderSkipped,l=r||En(s);return{topLeft:Io(!l||o.top||o.left,i.topLeft,0,a),topRight:Io(!l||o.top||o.right,i.topRight,0,a),bottomLeft:Io(!l||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:Io(!l||o.bottom||o.right,i.bottomRight,0,a)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Co(e,t,n,r){const s=null===t,i=null===n,a=e&&!(s&&i)&&_o(e,r);return a&&(s||ur(t,a.left,a.right))&&(i||ur(n,a.top,a.bottom))}function No(e,t){e.rect(t.x,t.y,t.w,t.h)}function Do(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+r,y:e.y+s,w:e.w+i,h:e.h+a,radius:e.radius}}var Ro=Object.freeze({__proto__:null,ArcElement:class extends Ta{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:s,distance:i}=sr(r,{x:e,y:t}),{startAngle:a,endAngle:o,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=kn(u,o-a),p=lr(s,a,o)&&a!==o,f=d>=Hn||p,m=ur(i,l+h,c+h);return f&&m}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:s,innerRadius:i,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(r+s)/2,u=(i+a+l+o)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,i=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>Hn?Math.floor(n/Hn):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const o=r*(1-Math.sin(Math.min(zn,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,s){const{fullCircles:i,startAngle:a,circumference:o}=t;let l=t.endAngle;if(i){fo(e,t,n,r,l,s);for(let t=0;t<i;++t)e.fill();isNaN(o)||(l=a+(o%Hn||Hn))}fo(e,t,n,r,l,s),e.fill()}(e,this,o,s,i),mo(e,this,o,s,i),e.restore()}},BarElement:class extends Ta{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:i}=Ao(this),a=(o=i.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?ns:No;var o;e.save(),i.w===s.w&&i.h===s.h||(e.beginPath(),a(e,Do(i,t,s)),e.clip(),a(e,Do(s,-t,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,Do(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return Co(this,e,t,n)}inXRange(e,t){return Co(this,e,null,t)}inYRange(e,t){return Co(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},LineElement:ko,PointElement:class extends Ta{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:s,y:i}=this.getProps(["x","y"],n);return Math.pow(e-s,2)+Math.pow(t-i,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return So(this,e,"x",t)}inYRange(e,t){return So(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Yr(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,qr(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}});const Oo=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Mo=Oo.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function Lo(e){return Oo[e%Oo.length]}function Po(e){return Mo[e%Mo.length]}function Fo(e){let t=0;return(n,r)=>{const s=e.getDatasetMeta(r).controller;s instanceof Di?t=function(e,t){return e.backgroundColor=e.data.map((()=>Lo(t++))),t}(n,t):s instanceof Oi?t=function(e,t){return e.backgroundColor=e.data.map((()=>Po(t++))),t}(n,t):s&&(t=function(e,t){return e.borderColor=Lo(t),e.backgroundColor=Po(t),++t}(n,t))}}function $o(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var Bo={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:s}=e.config,{elements:i}=s,a=$o(r)||(o=s)&&(o.borderColor||o.backgroundColor)||i&&$o(i)||"rgba(0,0,0,0.1)"!==zr.borderColor||"rgba(0,0,0,0.1)"!==zr.backgroundColor;var o;if(!n.forceOverride&&a)return;const l=Fo(e);r.forEach(l)}};function Uo(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function zo(e){e.data.datasets.forEach((e=>{Uo(e)}))}var Ho={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void zo(e);const r=e.width;e.data.datasets.forEach(((t,s)=>{const{_data:i,indexAxis:a}=t,o=e.getDatasetMeta(s),l=i||t.data;if("y"===hs([a,e.options.indexAxis]))return;if(!o.controller.supportsDecimation)return;const c=e.scales[o.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let{start:u,count:h}=function(e,t){const n=t.length;let r,s=0;const{iScale:i}=e,{min:a,max:o,minDefined:l,maxDefined:c}=i.getUserBounds();return l&&(s=cr(dr(t,i.axis,a).lo,0,n-1)),r=c?cr(dr(t,i.axis,o).hi+1,s,n)-s:n-s,{start:s,count:r}}(o,l);if(h<=(n.threshold||4*r))return void Uo(t);let d;switch(vn(i)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":d=function(e,t,n,r,s){const i=s.samples||r;if(i>=n)return e.slice(t,t+n);const a=[],o=(n-2)/(i-2);let l=0;const c=t+n-1;let u,h,d,p,f,m=t;for(a[l++]=e[m],u=0;u<i-2;u++){let r,s=0,i=0;const c=Math.floor((u+1)*o)+1+t,g=Math.min(Math.floor((u+2)*o)+1,n)+t,b=g-c;for(r=c;r<g;r++)s+=e[r].x,i+=e[r].y;s/=b,i/=b;const y=Math.floor(u*o)+1+t,v=Math.min(Math.floor((u+1)*o)+1,n)+t,{x:x,y:E}=e[m];for(d=p=-1,r=y;r<v;r++)p=.5*Math.abs((x-s)*(e[r].y-E)-(x-e[r].x)*(i-E)),p>d&&(d=p,h=e[r],f=r);a[l++]=h,m=f}return a[l++]=e[c],a}(l,u,h,r,n);break;case"min-max":d=function(e,t,n,r){let s,i,a,o,l,c,u,h,d,p,f=0,m=0;const g=[],b=t+n-1,y=e[t].x,v=e[b].x-y;for(s=t;s<t+n;++s){i=e[s],a=(i.x-y)/v*r,o=i.y;const t=0|a;if(t===l)o<d?(d=o,c=s):o>p&&(p=o,u=s),f=(m*f+i.x)/++m;else{const n=s-1;if(!vn(c)&&!vn(u)){const t=Math.min(c,u),r=Math.max(c,u);t!==h&&t!==n&&g.push({...e[t],x:f}),r!==h&&r!==n&&g.push({...e[r],x:f})}s>0&&n!==h&&g.push(e[n]),g.push(i),l=t,m=0,d=p=o,c=u=h=s}}return g}(l,u,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}t._decimated=d}))},destroy(e){zo(e)}};function Wo(e,t,n,r){if(r)return;let s=t[e],i=n[e];return"angle"===e&&(s=or(s),i=or(i)),{property:e,start:s,end:i}}function Go(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Vo(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function qo(e,t){let n=[],r=!1;return xn(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},s=t.points,i=[];return t.segments.forEach((e=>{let{start:t,end:a}=e;a=Go(t,a,s);const o=s[t],l=s[a];null!==r?(i.push({x:o.x,y:r}),i.push({x:l.x,y:r})):null!==n&&(i.push({x:n,y:o.y}),i.push({x:n,y:l.y}))})),i}(e,t),n.length?new ko({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function jo(e){return e&&!1!==e.fill}function Yo(e,t,n){let r=e[t].fill;const s=[t];let i;if(!n)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!Tn(r))return r;if(i=e[r],!i)return!1;if(i.visible)return r;s.push(r),r=i.fill}return!1}function Ko(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=kn(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(En(r))return!isNaN(r.value)&&r;let s=parseFloat(r);return Tn(s)&&Math.floor(s)===s?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Xo(e,t,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:a,last:o,point:l}=Qo(i,t,"x");if(!(!l||a&&o))if(a)r.unshift(l);else if(e.push(l),!o)break}e.push(...r)}function Qo(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const s=r[n],i=e.segments,a=e.points;let o=!1,l=!1;for(let c=0;c<i.length;c++){const e=i[c],t=a[e.start][n],r=a[e.end][n];if(ur(s,t,r)){o=s===t,l=s===r;break}}return{first:o,last:l,point:r}}class Jo{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:s,radius:i}=this;return t=t||{start:0,end:Hn},e.arc(r,s,i,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}}function Zo(e){const{chart:t,fill:n,line:r}=e;if(Tn(n))return function(e,t){const n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,s=[],i=r.segments,a=r.points,o=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const e=r[s];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);o.push(qo({x:null,y:t.bottom},r));for(let l=0;l<i.length;l++){const e=i[l];for(let t=e.start;t<=e.end;t++)Xo(s,a[t],o)}return new ko({points:s,options:{}})}(e);if("shape"===n)return!0;const s=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,r=t.options,s=t.getLabels().length,i=r.reverse?t.max:t.min,a=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:En(e)?e.value:t.getBaseValue(),r}(n,t,i),o=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,i);return new Jo({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(a)})}for(let l=0;l<s;++l)o.push(t.getPointPositionForValue(l,a));return o}(e);return function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:En(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(Tn(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return s instanceof Jo?s:qo(s,r)}function el(e,t,n){const r=Zo(t),{line:s,scale:i,axis:a}=t,o=s.options,l=o.fill,c=o.backgroundColor,{above:u=c,below:h=c}=l||{};r&&s.points.length&&(Kr(e,n),function(e,t){const{line:n,target:r,above:s,below:i,area:a,scale:o}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&i!==s&&(tl(e,r,a.top),nl(e,{line:n,target:r,color:s,scale:o,property:l}),e.restore(),e.save(),tl(e,r,a.bottom));nl(e,{line:n,target:r,color:i,scale:o,property:l}),e.restore()}(e,{line:s,target:r,above:u,below:h,area:n,scale:i,axis:a}),Xr(e))}function tl(e,t,n){const{segments:r,points:s}=t;let i=!0,a=!1;e.beginPath();for(const o of r){const{start:r,end:l}=o,c=s[r],u=s[Go(r,l,s)];i?(e.moveTo(c.x,c.y),i=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),a=!!t.pathSegment(e,o,{move:a}),a?e.closePath():e.lineTo(u.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function nl(e,t){const{line:n,target:r,property:s,color:i,scale:a}=t,o=function(e,t,n){const r=e.segments,s=e.points,i=t.points,a=[];for(const o of r){let{start:e,end:r}=o;r=Go(e,r,s);const l=Wo(n,s[e],s[r],o.loop);if(!t.segments){a.push({source:o,target:l,start:s[e],end:s[r]});continue}const c=ti(t,l);for(const t of c){const e=Wo(n,i[t.start],i[t.end],t.loop),r=ei(o,s,e);for(const s of r)a.push({source:s,target:t,start:{[n]:Vo(l,e,"start",Math.max)},end:{[n]:Vo(l,e,"end",Math.min)}})}}return a}(n,r,s);for(const{source:l,target:c,start:u,end:h}of o){const{style:{backgroundColor:t=i}={}}=l,o=!0!==r;e.save(),e.fillStyle=t,rl(e,a,o&&Wo(s,u,h)),e.beginPath();const d=!!n.pathSegment(e,l);let p;if(o){d?e.closePath():sl(e,r,h,s);const t=!!r.pathSegment(e,c,{move:d,reverse:!0});p=d&&t,p||sl(e,r,u,s)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function rl(e,t,n){const{top:r,bottom:s}=t.chart.chartArea,{property:i,start:a,end:o}=n||{};"x"===i&&(e.beginPath(),e.rect(a,r,o-a,s-r),e.clip())}function sl(e,t,n,r){const s=t.interpolate(n,r);s&&e.lineTo(s.x,s.y)}var il={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,s=[];let i,a,o,l;for(a=0;a<r;++a)i=e.getDatasetMeta(a),o=i.dataset,l=null,o&&o.options&&o instanceof ko&&(l={visible:e.isDatasetVisible(a),index:a,fill:Ko(o,a,r),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:o}),i.$filler=l,s.push(l);for(a=0;a<r;++a)l=s[a],l&&!1!==l.fill&&(l.fill=Yo(s,a,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,s=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let a=s.length-1;a>=0;--a){const t=s[a].$filler;t&&(t.line.updateControlPoints(i,t.axis),r&&t.fill&&el(e.ctx,t,i))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const t=r[s].$filler;jo(t)&&el(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;jo(r)&&"beforeDatasetDraw"===n.drawTime&&el(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const al=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class ol extends Ta{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=_n(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=us(n.font),s=r.size,i=this._computeTitleHeight(),{boxWidth:a,itemHeight:o}=al(n,s);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(i,s,a,o)+10):(c=this.maxHeight,l=this._fitCols(i,r,a,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:s,maxWidth:i,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+a;let u=e;s.textAlign="left",s.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((e,p)=>{const f=n+t/2+s.measureText(e.text).width;(0===p||l[l.length-1]+f+2*a>i)&&(u+=c,l[l.length-(p>0?0:1)]=0,d+=c,h++),o[p]={left:0,top:d,row:h,width:f,height:r},l[l.length-1]+=f+a})),u}_fitCols(e,t,n,r){const{ctx:s,maxHeight:i,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=i-e;let u=a,h=0,d=0,p=0,f=0;return this.legendItems.forEach(((e,i)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,r,s){const i=function(e,t,n,r){let s=e.text;s&&"string"!==typeof s&&(s=s.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(s).width}(r,e,t,n),a=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=ll(t,n));return r}(s,r,t.lineHeight);return{itemWidth:i,itemHeight:a}}(n,t,s,e,r);i>0&&d+g+2*a>c&&(u+=h+a,l.push({width:h,height:d}),p+=h+a,f++,h=d=0),o[i]={left:p,top:d,col:f,width:m,height:g},h=Math.max(h,m),d+=g+a})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:s}}=this,i=Ks(s,this.left,this.width);if(this.isHorizontal()){let s=0,a=xr(n,this.left+r,this.right-this.lineWidths[s]);for(const o of t)s!==o.row&&(s=o.row,a=xr(n,this.left+r,this.right-this.lineWidths[s])),o.top+=this.top+e+r,o.left=i.leftForLtr(i.x(a),o.width),a+=o.width+r}else{let s=0,a=xr(n,this.top+e+r,this.bottom-this.columnSizes[s].height);for(const o of t)o.col!==s&&(s=o.col,a=xr(n,this.top+e+r,this.bottom-this.columnSizes[s].height)),o.top=a,o.left+=this.left+r,o.left=i.leftForLtr(i.x(o.left),o.width),a+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Kr(e,this),this._draw(),Xr(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:s,labels:i}=e,a=zr.color,o=Ks(e.rtl,this.left,this.width),l=us(i.font),{padding:c}=i,u=l.size,h=u/2;let d;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:m}=al(i,u),g=this.isHorizontal(),b=this._computeTitleHeight();d=g?{x:xr(s,this.left+c,this.right-n[0]),y:this.top+c+b,line:0}:{x:this.left+c,y:xr(s,this.top+b+c,this.bottom-t[0].height),line:0},Xs(this.ctx,e.textDirection);const y=m+c;this.legendItems.forEach(((v,x)=>{r.strokeStyle=v.fontColor,r.fillStyle=v.fontColor;const E=r.measureText(v.text).width,T=o.textAlign(v.textAlign||(v.textAlign=i.textAlign)),w=p+h+E;let k=d.x,S=d.y;o.setWidth(this.width),g?x>0&&k+w+c>this.right&&(S=d.y+=y,d.line++,k=d.x=xr(s,this.left+c,this.right-n[d.line])):x>0&&S+y>this.bottom&&(k=d.x=k+t[d.line].width+c,d.line++,S=d.y=xr(s,this.top+b+c,this.bottom-t[d.line].height));if(function(e,t,n){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;r.save();const s=kn(n.lineWidth,1);if(r.fillStyle=kn(n.fillStyle,a),r.lineCap=kn(n.lineCap,"butt"),r.lineDashOffset=kn(n.lineDashOffset,0),r.lineJoin=kn(n.lineJoin,"miter"),r.lineWidth=s,r.strokeStyle=kn(n.strokeStyle,a),r.setLineDash(kn(n.lineDash,[])),i.usePointStyle){const a={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:s},l=o.xPlus(e,p/2);jr(r,a,l,t+h,i.pointStyleWidth&&p)}else{const i=t+Math.max((u-f)/2,0),a=o.leftForLtr(e,p),l=ls(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?ns(r,{x:a,y:i,w:p,h:f,radius:l}):r.rect(a,i,p,f),r.fill(),0!==s&&r.stroke()}r.restore()}(o.x(k),S,v),k=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(T,k+p+h,g?k+w:this.right,e.rtl),function(e,t,n){ts(r,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(k),S,v),g)d.x+=w+c;else if("string"!==typeof v.text){const e=l.lineHeight;d.y+=ll(v,e)+c}else d.y+=y})),Qs(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=us(t.font),r=cs(t.padding);if(!t.display)return;const s=Ks(e.rtl,this.left,this.width),i=this.ctx,a=t.position,o=n.size/2,l=r.top+o;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=xr(e.align,u,this.right-h);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+xr(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=xr(a,u,u+h);i.textAlign=s.textAlign(vr(a)),i.textBaseline="middle",i.strokeStyle=t.color,i.fillStyle=t.color,i.font=n.string,ts(i,t.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,t=us(e.font),n=cs(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,s;if(ur(e,this.left,this.right)&&ur(t,this.top,this.bottom))for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],ur(e,r.left,r.left+r.width)&&ur(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,s=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!s&&_n(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!s&&_n(t.onHover,[e,n,this],this)}else n&&_n(t.onClick,[e,n,this],this)}}function ll(e,t){return t*(e.text?e.text.length:0)}var cl={id:"legend",_element:ol,start(e,t,n){const r=e.legend=new ol({ctx:e.ctx,options:n,chart:e});sa.configure(e,r,n),sa.addBox(e,r)},stop(e){sa.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;sa.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=cs(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:i,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class ul extends Ta{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=xn(n.text)?n.text.length:1;this._padding=cs(n.padding);const s=r*us(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:s,options:i}=this,a=i.align;let o,l,c,u=0;return this.isHorizontal()?(l=xr(a,n,s),c=t+e,o=s-n):("left"===i.position?(l=n+e,c=xr(a,r,t),u=-.5*zn):(l=s-e,c=xr(a,t,r),u=.5*zn),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=us(t.font),r=n.lineHeight/2+this._padding.top,{titleX:s,titleY:i,maxWidth:a,rotation:o}=this._drawArgs(r);ts(e,t.text,0,0,n,{color:t.color,maxWidth:a,rotation:o,textAlign:vr(t.align),textBaseline:"middle",translation:[s,i]})}}var hl={id:"title",_element:ul,start(e,t,n){!function(e,t){const n=new ul({ctx:e.ctx,options:t,chart:e});sa.configure(e,n,t),sa.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;sa.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;sa.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const dl=new WeakMap;var pl={id:"subtitle",start(e,t,n){const r=new ul({ctx:e.ctx,options:n,chart:e});sa.configure(e,r,n),sa.addBox(e,r),dl.set(e,r)},stop(e){sa.removeBox(e,dl.get(e)),dl.delete(e)},beforeUpdate(e,t,n){const r=dl.get(e);sa.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fl={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,i=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),s+=e.y,++i}}if(0===i||0===r.size)return!1;const a=[...r].reduce(((e,t)=>e+t))/r.size;return{x:a,y:s/i}},nearest(e,t){if(!e.length)return!1;let n,r,s,i=t.x,a=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=ir(t,r.getCenterPoint());e<o&&(o=e,s=r)}}if(s){const e=s.tooltipPosition();i=e.x,a=e.y}return{x:i,y:a}}};function ml(e,t){return t&&(xn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function gl(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function bl(e,t){const{element:n,datasetIndex:r,index:s}=t,i=e.getDatasetMeta(r).controller,{label:a,value:o}=i.getLabelAndValue(s);return{chart:e,label:a,parsed:i.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:o,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function yl(e,t){const n=e.chart.ctx,{body:r,footer:s,title:i}=e,{boxWidth:a,boxHeight:o}=t,l=us(t.bodyFont),c=us(t.titleFont),u=us(t.footerFont),h=i.length,d=s.length,p=r.length,f=cs(t.padding);let m=f.height,g=0,b=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(b+=e.beforeBody.length+e.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),b){m+=p*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(b-p)*l.lineHeight+(b-1)*t.bodySpacing}d&&(m+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let y=0;const v=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,In(e.title,v),n.font=l.string,In(e.beforeBody.concat(e.afterBody),v),y=t.displayColors?a+2+t.boxPadding:0,In(r,(e=>{In(e.before,v),In(e.lines,v),In(e.after,v)})),y=0,n.font=u.string,In(e.footer,v),n.restore(),g+=f.width,{width:g,height:m}}function vl(e,t,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=s<=(o+l)/2?"left":"right":s<=i/2?c="left":s>=a-i/2&&(c="right"),function(e,t,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;return"left"===e&&s+i+a>t.width||"right"===e&&s-i-a<0||void 0}(c,e,t,n)&&(c="center"),c}function xl(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||vl(e,t,n,r),yAlign:r}}function El(e,t,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=e,{xAlign:o,yAlign:l}=n,c=s+i,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=ls(a);let f=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const m=function(e,t,n){let{y:r,height:s}=e;return"top"===t?r+=n:r-="bottom"===t?s+n:s/2,r}(t,l,c);return"center"===l?"left"===o?f+=c:"right"===o&&(f-=c):"left"===o?f-=Math.max(u,d)+s:"right"===o&&(f+=Math.max(h,p)+s),{x:cr(f,0,r.width-t.width),y:cr(m,0,r.height-t.height)}}function Tl(e,t,n){const r=cs(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function wl(e){return ml([],gl(e))}function kl(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Sl={beforeTitle:bn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:bn,beforeBody:bn,beforeLabel:bn,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return vn(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:bn,afterBody:bn,beforeFooter:bn,footer:bn,afterFooter:bn};function _l(e,t,n,r){const s=e[t].call(n,r);return"undefined"===typeof s?Sl[t].call(n,r):s}class Il extends Ta{static positioners=(()=>fl)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,s=new ui(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,ds(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=_l(n,"beforeTitle",this,e),s=_l(n,"title",this,e),i=_l(n,"afterTitle",this,e);let a=[];return a=ml(a,gl(r)),a=ml(a,gl(s)),a=ml(a,gl(i)),a}getBeforeBody(e,t){return wl(_l(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return In(e,(e=>{const t={before:[],lines:[],after:[]},s=kl(n,e);ml(t.before,gl(_l(s,"beforeLabel",this,e))),ml(t.lines,_l(s,"label",this,e)),ml(t.after,gl(_l(s,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return wl(_l(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=_l(n,"beforeFooter",this,e),s=_l(n,"footer",this,e),i=_l(n,"afterFooter",this,e);let a=[];return a=ml(a,gl(r)),a=ml(a,gl(s)),a=ml(a,gl(i)),a}_createItems(e){const t=this._active,n=this.chart.data,r=[],s=[],i=[];let a,o,l=[];for(a=0,o=t.length;a<o;++a)l.push(bl(this.chart,t[a]));return e.filter&&(l=l.filter(((t,r,s)=>e.filter(t,r,s,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),In(l,(t=>{const n=kl(e.callbacks,t);r.push(_l(n,"labelColor",this,t)),s.push(_l(n,"labelPointStyle",this,t)),i.push(_l(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=i,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let s,i=[];if(r.length){const e=fl[n.position].call(this,r,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const t=this._size=yl(this,n),a=Object.assign({},e,t),o=xl(this.chart,n,a),l=El(n,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,s={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=i,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const s=this.getCaretPosition(e,n,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:s}=this,{caretSize:i,cornerRadius:a}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:u}=ls(a),{x:h,y:d}=e,{width:p,height:f}=t;let m,g,b,y,v,x;return"center"===s?(v=d+f/2,"left"===r?(m=h,g=m-i,y=v+i,x=v-i):(m=h+p,g=m+i,y=v-i,x=v+i),b=m):(g="left"===r?h+Math.max(o,c)+i:"right"===r?h+p-Math.max(l,u)-i:this.caretX,"top"===s?(y=d,v=y-i,m=g-i,b=g+i):(y=d+f,v=y+i,m=g+i,b=g-i),x=y),{x1:m,x2:g,x3:b,y1:y,y2:v,y3:x}}drawTitle(e,t,n){const r=this.title,s=r.length;let i,a,o;if(s){const l=Ks(n.rtl,this.x,this.width);for(e.x=Tl(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",i=us(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=i.string,o=0;o<s;++o)t.fillText(r[o],l.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+a,o+1===s&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,r,s){const i=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=s,c=us(s.bodyFont),u=Tl(this,"left",s),h=r.x(u),d=o<c.lineHeight?(c.lineHeight-o)/2:0,p=t.y+d;if(s.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,c=p+o/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,qr(e,t,n,c),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,qr(e,t,n,c)}else{e.lineWidth=En(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const t=r.leftForLtr(h,l),n=r.leftForLtr(r.xPlus(h,1),l-2),a=ls(i.borderRadius);Object.values(a).some((e=>0!==e))?(e.beginPath(),e.fillStyle=s.multiKeyBackground,ns(e,{x:t,y:p,w:l,h:o,radius:a}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),ns(e,{x:n,y:p+1,w:l-2,h:o-2,radius:a}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,p,l,o),e.strokeRect(t,p,l,o),e.fillStyle=i.backgroundColor,e.fillRect(n,p+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:s,bodyAlign:i,displayColors:a,boxHeight:o,boxWidth:l,boxPadding:c}=n,u=us(n.bodyFont);let h=u.lineHeight,d=0;const p=Ks(n.rtl,this.x,this.width),f=function(n){t.fillText(n,p.x(e.x+d),e.y+h/2),e.y+=h+s},m=p.textAlign(i);let g,b,y,v,x,E,T;for(t.textAlign=i,t.textBaseline="middle",t.font=u.string,e.x=Tl(this,m,n),t.fillStyle=n.bodyColor,In(this.beforeBody,f),d=a&&"right"!==m?"center"===i?l/2+c:l+2+c:0,v=0,E=r.length;v<E;++v){for(g=r[v],b=this.labelTextColors[v],t.fillStyle=b,In(g.before,f),y=g.lines,a&&y.length&&(this._drawColorBox(t,e,v,p,n),h=Math.max(u.lineHeight,o)),x=0,T=y.length;x<T;++x)f(y[x]),h=u.lineHeight;In(g.after,f)}d=0,h=u.lineHeight,In(this.afterBody,f),e.y-=s}drawFooter(e,t,n){const r=this.footer,s=r.length;let i,a;if(s){const o=Ks(n.rtl,this.x,this.width);for(e.x=Tl(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",i=us(n.footerFont),t.fillStyle=n.footerColor,t.font=i.string,a=0;a<s;++a)t.fillText(r[a],o.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:s,yAlign:i}=this,{x:a,y:o}=e,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=ls(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+u,o),"top"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+l-h,o),t.quadraticCurveTo(a+l,o,a+l,o+h),"center"===i&&"right"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+l,o+c-p),t.quadraticCurveTo(a+l,o+c,a+l-p,o+c),"bottom"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+d,o+c),t.quadraticCurveTo(a,o+c,a,o+c-d),"center"===i&&"left"===s&&this.drawCaret(e,t,n,r),t.lineTo(a,o+u),t.quadraticCurveTo(a,o,a+u,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,s=n&&n.y;if(r||s){const n=fl[e.position].call(this,this._active,this._eventPosition);if(!n)return;const i=this._size=yl(this,e),a=Object.assign({},n,this._size),o=xl(t,e,a),l=El(e,a,o,t);r._to===l.x&&s._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=i.width,this.height=i.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=cs(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,r,t),Xs(e,t.textDirection),s.y+=i.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),Qs(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),s=!An(n,r),i=this._positionChanged(r,t);(s||i)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],i=this._getActiveElements(e,s,t,n),a=this._positionChanged(i,e),o=t||!An(i,s)||a;return o&&(this._active=i,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const s=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const i=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&i.reverse(),i}_positionChanged(e,t){const{caretX:n,caretY:r,options:s}=this,i=fl[s.position].call(this,e,t);return!1!==i&&(n!==i.x||r!==i.y)}}var Al={id:"tooltip",_element:Il,positioners:fl,afterInit(e,t,n){n&&(e.tooltip=new Il({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Sl},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Cl=Object.freeze({__proto__:null,Colors:Bo,Decimation:Ho,Filler:il,Legend:cl,SubTitle:pl,Title:hl,Tooltip:Al});function Nl(e,t,n,r){const s=e.indexOf(t);if(-1===s)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return s!==e.lastIndexOf(t)?n:s}function Dl(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Rl extends Ra{static id="category";static defaults=(()=>({ticks:{callback:Dl}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(vn(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:cr(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Nl(n,e,kn(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=t;i++)r.push({value:i});return r}getLabelForValue(e){return Dl.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Ol(e,t){const n=[],{bounds:r,step:s,min:i,max:a,precision:o,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=e,d=s||1,p=c-1,{min:f,max:m}=t,g=!vn(i),b=!vn(a),y=!vn(l),v=(m-f)/(u+1);let x,E,T,w,k=Jn((m-f)/p/d)*d;if(k<1e-14&&!g&&!b)return[{value:f},{value:m}];w=Math.ceil(m/k)-Math.floor(f/k),w>p&&(k=Jn(w*k/p/d)*d),vn(o)||(x=Math.pow(10,o),k=Math.ceil(k*x)/x),"ticks"===r?(E=Math.floor(f/k)*k,T=Math.ceil(m/k)*k):(E=f,T=m),g&&b&&s&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((a-i)/s,k/1e3)?(w=Math.round(Math.min((a-i)/k,c)),k=(a-i)/w,E=i,T=a):y?(E=g?i:E,T=b?a:T,w=l-1,k=(T-E)/w):(w=(T-E)/k,w=Qn(w,Math.round(w),k/1e3)?Math.round(w):Math.ceil(w));const S=Math.max(rr(k),rr(E));x=Math.pow(10,vn(o)?S:o),E=Math.round(E*x)/x,T=Math.round(T*x)/x;let _=0;for(g&&(h&&E!==i?(n.push({value:i}),E<i&&_++,Qn(Math.round((E+_*k)*x)/x,i,Ml(i,v,e))&&_++):E<i&&_++);_<w;++_){const e=Math.round((E+_*k)*x)/x;if(b&&e>a)break;n.push({value:e})}return b&&h&&T!==a?n.length&&Qn(n[n.length-1].value,a,Ml(a,v,e))?n[n.length-1].value=a:n.push({value:a}):b&&T!==a||n.push({value:T}),n}function Ml(e,t,n){let{horizontal:r,minRotation:s}=n;const i=tr(s),a=(r?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class Ll extends Ra{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return vn(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const i=e=>r=t?r:e,a=e=>s=n?s:e;if(e){const e=Xn(r),t=Xn(s);e<0&&t<0?a(0):e>0&&t>0&&i(0)}if(r===s){let t=0===s?1:Math.abs(.05*s);a(s+t),e||i(r-t)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=Ol({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&er(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Or(e,this.chart.options.locale,this.options.ticks.format)}}class Pl extends Ll{static id="linear";static defaults=(()=>({ticks:{callback:Lr.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Tn(e)?e:0,this.max=Tn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=tr(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Fl=e=>Math.floor(Kn(e)),$l=(e,t)=>Math.pow(10,Fl(e)+t);function Bl(e){return 1===e/Math.pow(10,Fl(e))}function Ul(e,t,n){const r=Math.pow(10,n),s=Math.floor(e/r);return Math.ceil(t/r)-s}function zl(e,t){let{min:n,max:r}=t;n=wn(e.min,n);const s=[],i=Fl(n);let a=function(e,t){let n=Fl(t-e);for(;Ul(e,t,n)>10;)n++;for(;Ul(e,t,n)<10;)n--;return Math.min(n,Fl(e))}(n,r),o=a<0?Math.pow(10,Math.abs(a)):1;const l=Math.pow(10,a),c=i>a?Math.pow(10,i):0,u=Math.round((n-c)*o)/o,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,a)),p=wn(e.min,Math.round((c+h+d*Math.pow(10,a))*o)/o);for(;p<r;)s.push({value:p,major:Bl(p),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(a++,d=2,o=a>=0?1:o),p=Math.round((c+h+d*Math.pow(10,a))*o)/o;const f=wn(e.max,p);return s.push({value:f,major:Bl(f),significand:d}),s}class Hl extends Ra{static id="logarithmic";static defaults=(()=>({ticks:{callback:Lr.formatters.logarithmic,major:{enabled:!0}}}))();constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Ll.prototype.parse.apply(this,[e,t]);if(0!==n)return Tn(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Tn(e)?Math.max(0,e):null,this.max=Tn(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Tn(this._userMin)&&(this.min=e===$l(this.min,0)?$l(this.min,-1):$l(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const s=t=>n=e?n:t,i=e=>r=t?r:e;n===r&&(n<=0?(s(1),i(10)):(s($l(n,-1)),i($l(r,1)))),n<=0&&s($l(r,-1)),r<=0&&i($l(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=zl({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&er(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":Or(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Kn(e),this._valueRange=Kn(this.max)-Kn(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Kn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Wl(e){const t=e.ticks;if(t.display&&e.display){const e=cs(t.backdropPadding);return kn(t.font&&t.font.size,zr.font.size)+e.height}return 0}function Gl(e,t,n,r,s){return e===r||e===s?{start:t-n/2,end:t+n/2}:e<r||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function Vl(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],s=[],i=e._pointLabels.length,a=e.options.pointLabels,o=a.centerPointLabels?zn/i:0;for(let h=0;h<i;h++){const i=a.setContext(e.getPointLabelContext(h));s[h]=i.padding;const d=e.getPointPosition(h,e.drawingArea+s[h],o),p=us(i.font),f=(l=e.ctx,c=p,u=xn(u=e._pointLabels[h])?u:[u],{w:Wr(l,c.string,u),h:u.length*c.lineHeight});r[h]=f;const m=or(e.getIndexAngle(h)+o),g=Math.round(nr(m));ql(n,t,m,Gl(g,d.x,f.w,0,180),Gl(g,d.y,f.h,90,270))}var l,c,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],s=e._pointLabels.length,i=e.options,{centerPointLabels:a,display:o}=i.pointLabels,l={extra:Wl(i)/2,additionalAngle:a?zn/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=t[u];const s=jl(e,u,l);r.push(s),"auto"===o&&(s.visible=Yl(s,c),s.visible&&(c=s))}return r}(e,r,s)}function ql(e,t,n,r,s){const i=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;r.start<t.l?(o=(t.l-r.start)/i,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/i,e.r=Math.max(e.r,t.r+o)),s.start<t.t?(l=(t.t-s.start)/a,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/a,e.b=Math.max(e.b,t.b+l))}function jl(e,t,n){const r=e.drawingArea,{extra:s,additionalAngle:i,padding:a,size:o}=n,l=e.getPointPosition(t,r+s+a,i),c=Math.round(nr(or(l.angle+qn))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,o.h,c),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),d=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,o.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+o.w,bottom:u+o.h}}function Yl(e,t){if(!t)return!0;const{left:n,top:r,right:s,bottom:i}=e;return!(Yr({x:n,y:r},t)||Yr({x:n,y:i},t)||Yr({x:s,y:r},t)||Yr({x:s,y:i},t))}function Kl(e,t,n){const{left:r,top:s,right:i,bottom:a}=n,{backdropColor:o}=t;if(!vn(o)){const n=ls(t.borderRadius),l=cs(t.backdropPadding);e.fillStyle=o;const c=r-l.left,u=s-l.top,h=i-r+l.width,d=a-s+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),ns(e,{x:c,y:u,w:h,h:d,radius:n}),e.fill()):e.fillRect(c,u,h,d)}}function Xl(e,t,n,r){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Hn);else{let n=e.getPointPosition(0,t);s.moveTo(n.x,n.y);for(let i=1;i<r;i++)n=e.getPointPosition(i,t),s.lineTo(n.x,n.y)}}class Ql extends Ll{static id="radialLinear";static defaults=(()=>({display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Lr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}))();static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=cs(Wl(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Tn(e)&&!isNaN(e)?e:0,this.max=Tn(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Wl(this.options))}generateTickLabels(e){Ll.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=_n(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?Vl(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return or(e*(Hn/(this._pointLabels.length||1))+tr(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(vn(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(vn(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return ds(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-qn+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Xl(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:s}=t,i=this._pointLabels.length;let a,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let s=t-1;s>=0;s--){const t=e._pointLabelItems[s];if(!t.visible)continue;const i=r.setContext(e.getPointLabelContext(s));Kl(n,i,t);const a=us(i.font),{x:o,y:l,textAlign:c}=t;ts(n,e._pointLabels[s],o,l+a.lineHeight/2,a,{color:i.color,textAlign:c,textBaseline:"middle"})}}(this,i),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),a=r.setContext(n),l=s.setContext(n);!function(e,t,n,r,s){const i=e.ctx,a=t.circular,{color:o,lineWidth:l}=t;!a&&!r||!o||!l||n<0||(i.save(),i.strokeStyle=o,i.lineWidth=l,i.setLineDash(s.dash||[]),i.lineDashOffset=s.dashOffset,i.beginPath(),Xl(e,n,a,r),i.closePath(),i.stroke(),i.restore())}(this,a,o,i,l)}})),n.display){for(e.save(),a=i-1;a>=0;a--){const r=n.setContext(this.getPointLabelContext(a)),{color:s,lineWidth:i}=r;i&&s&&(e.lineWidth=i,e.strokeStyle=s,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let s,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((r,a)=>{if(0===a&&this.min>=0&&!t.reverse)return;const o=n.setContext(this.getContext(a)),l=us(o.font);if(s=this.getDistanceFromCenterForValue(this.ticks[a].value),o.showLabelBackdrop){e.font=l.string,i=e.measureText(r.label).width,e.fillStyle=o.backdropColor;const t=cs(o.backdropPadding);e.fillRect(-i/2-t.left,-s-l.size/2-t.top,i+t.width,l.size+t.height)}ts(e,r.label,0,-s,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})})),e.restore()}drawTitle(){}}const Jl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zl=Object.keys(Jl);function ec(e,t){return e-t}function tc(e,t){if(vn(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:i}=e._parseOpts;let a=t;return"function"===typeof r&&(a=r(a)),Tn(a)||(a="string"===typeof r?n.parse(a,r):n.parse(a)),null===a?null:(s&&(a="week"!==s||!Zn(i)&&!0!==i?n.startOf(a,s):n.startOf(a,"isoWeek",i)),+a)}function nc(e,t,n,r){const s=Zl.length;for(let i=Zl.indexOf(e);i<s-1;++i){const e=Jl[Zl[i]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(s*e.size))<=r)return Zl[i]}return Zl[s-1]}function rc(e,t,n){if(n){if(n.length){const{lo:r,hi:s}=hr(n,t);e[n[r]>=t?n[r]:n[s]]=!0}}else e[t]=!0}function sc(e,t,n){const r=[],s={},i=t.length;let a,o;for(a=0;a<i;++a)o=t[a],s[o]=a,r.push({value:o,major:!1});return 0!==i&&n?function(e,t,n,r){const s=e._adapter,i=+s.startOf(t[0].value,r),a=t[t.length-1].value;let o,l;for(o=i;o<=a;o=+s.add(o,1,r))l=n[o],l>=0&&(t[l].major=!0);return t}(e,r,s,n):r}class ic extends Ra{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new $i(e.adapters.date);r.init(t),On(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:tc(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:s,minDefined:i,maxDefined:a}=this.getUserBounds();function o(e){i||isNaN(e.min)||(r=Math.min(r,e.min)),a||isNaN(e.max)||(s=Math.max(s,e.max))}i&&a||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),r=Tn(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),s=Tn(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,i=function(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)r++;for(;s>r&&e[s-1]>n;)s--;return r>0||s<e.length?e.slice(r,s):e}(r,s,this.max);return this._unit=t.unit||(n.autoSkip?nc(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(e,t,n,r,s){for(let i=Zl.length-1;i>=Zl.indexOf(n);i--){const n=Zl[i];if(Jl[n].common&&e._adapter.diff(s,r,n)>=t-1)return n}return Zl[n?Zl.indexOf(n):0]}(this,i.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=Zl.indexOf(e)+1,n=Zl.length;t<n;++t)if(Jl[Zl[t]].common)return Zl[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&i.reverse(),sc(this,i,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,s=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),s=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const i=n.length<3?.5:.25;r=cr(r,0,i),s=cr(s,0,i),this._offsets={start:r,end:s,factor:1/(r+1+s)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,s=r.time,i=s.unit||nc(s.minUnit,t,n,this._getLabelCapacity(t)),a=kn(r.ticks.stepSize,1),o="week"===i&&s.isoWeekday,l=Zn(o)||!0===o,c={};let u,h,d=t;if(l&&(d=+e.startOf(d,"isoWeek",o)),d=+e.startOf(d,l?"day":i),e.diff(n,t,i)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+i);const p="data"===r.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+e.add(u,a,i),h++)rc(c,u,p);return u!==n&&"ticks"!==r.bounds&&1!==h||rc(c,u,p),Object.keys(c).sort(ec).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,s=t||n[r];return this._adapter.format(e,s)}_tickFormatFunction(e,t,n,r){const s=this.options,i=s.ticks.callback;if(i)return _n(i,[e,t,n],this);const a=s.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&a[o],u=l&&a[l],h=n[t],d=l&&u&&h&&h.major;return this._adapter.format(e,r||(d?u:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=tr(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),i=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*s+a*i,h:n*i+a*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,sc(this,[e],this._majorUnit),r),i=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(tc(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return gr(e.sort(ec))}}function ac(e,t,n){let r,s,i,a,o=0,l=e.length-1;n?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=dr(e,"pos",t)),({pos:r,time:i}=e[o]),({pos:s,time:a}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=dr(e,"time",t)),({time:r,pos:i}=e[o]),({time:s,pos:a}=e[l]));const c=s-r;return c?i+(a-i)*(t-r)/c:i}class oc extends ic{static id="timeseries";static defaults=(()=>ic.defaults)();constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ac(t,this.min),this._tableRange=ac(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],s=[];let i,a,o,l,c;for(i=0,a=e.length;i<a;++i)l=e[i],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(i=0,a=r.length;i<a;++i)c=r[i+1],o=r[i-1],l=r[i],Math.round((c+o)/2)!==l&&s.push({time:l,pos:i/(a-1)});return s}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(ac(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return ac(this._table,n*this._tableRange+this._minPos,!0)}}const lc=[Li,Ro,Cl,Object.freeze({__proto__:null,CategoryScale:Rl,LinearScale:Pl,LogarithmicScale:Hl,RadialLinearScale:Ql,TimeScale:ic,TimeSeriesScale:oc})],cc="label";function uc(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function hc(e,t){e.labels=t}function dc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cc;const r=[];e.datasets=t.map((t=>{const s=e.datasets.find((e=>e[n]===t[n]));return s&&t.data&&!r.includes(s)?(r.push(s),Object.assign(s,t),s):{...t}}))}function pc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cc;const n={labels:[],datasets:[]};return hc(n,e.labels),dc(n,e.datasets,t),n}function fc(e,t){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...d}=e,p=(0,f.useRef)(null),m=(0,f.useRef)(null),g=()=>{p.current&&(m.current=new co(p.current,{type:a,data:pc(o,i),options:l&&{...l},plugins:c}),uc(t,m.current))},b=()=>{uc(t,null),m.current&&(m.current.destroy(),m.current=null)};return(0,f.useEffect)((()=>{!s&&m.current&&l&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(m.current,l)}),[s,l]),(0,f.useEffect)((()=>{!s&&m.current&&hc(m.current.config.data,o.labels)}),[s,o.labels]),(0,f.useEffect)((()=>{!s&&m.current&&o.datasets&&dc(m.current.config.data,o.datasets,i)}),[s,o.datasets]),(0,f.useEffect)((()=>{m.current&&(s?(b(),setTimeout(g)):m.current.update(h))}),[s,l,o.labels,o.datasets,h]),(0,f.useEffect)((()=>{m.current&&(b(),setTimeout(g))}),[a]),(0,f.useEffect)((()=>(g(),()=>b())),[]),f.createElement("canvas",{ref:p,role:"img",height:n,width:r,...d},u)}const mc=(0,f.forwardRef)(fc);function gc(e,t){return co.register(t),(0,f.forwardRef)(((t,n)=>f.createElement(mc,{...t,ref:n,type:e})))}const bc=gc("line",Ri),yc=gc("pie",Mi);co.register(...lc);function vc(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=vc(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xc(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=vc(e))&&(r&&(r+=" "),r+=t);return r}Math.pow(10,8);const Ec=6048e5,Tc=6e4,wc=36e5,kc=Symbol.for("constructDateFrom");function Sc(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&kc in e?e[kc](t):e instanceof Date?new e.constructor(t):new Date(t)}function _c(e,t){return Sc(t||e,e)}function Ic(e,t){const n=()=>Sc(t?.in,NaN),r=t?.additionalDigits??2,s=function(e){const t={},n=e.split(Ac.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Ac.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ac.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=Ac.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let i;if(s.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?s:100*i,restDateString:e.slice((r[1]||r[2]).length)}}(s.date,r);i=function(e,t){if(null===t)return new Date(NaN);const n=e.match(Cc);if(!n)return new Date(NaN);const r=!!n[4],s=Rc(n[1]),i=Rc(n[2])-1,a=Rc(n[3]),o=Rc(n[4]),l=Rc(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,o,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,i=7*(t-1)+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}(t,o,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Mc[t]||(Lc(e)?29:28))}(t,i,a)&&function(e,t){return t>=1&&t<=(Lc(e)?366:365)}(t,s)?(e.setUTCFullYear(t,i,Math.max(s,a)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!i||isNaN(+i))return n();const a=+i;let o,l=0;if(s.time&&(l=function(e){const t=e.match(Nc);if(!t)return NaN;const n=Oc(t[1]),r=Oc(t[2]),s=Oc(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,s))return NaN;return n*wc+r*Tc+1e3*s}(s.time),isNaN(l)))return n();if(!s.timezone){const e=new Date(a+l),n=_c(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return o=function(e){if("Z"===e)return 0;const t=e.match(Dc);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,s))return NaN;return n*(r*wc+s*Tc)}(s.timezone),isNaN(o)?n():_c(a+l+o,t?.in)}const Ac={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Cc=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Nc=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Dc=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Rc(e){return e?parseInt(e):1}function Oc(e){return e&&parseFloat(e.replace(",","."))||0}const Mc=[31,null,31,30,31,30,31,31,30,31,30,31];function Lc(e){return e%400===0||e%4===0&&e%100!==0}const Pc={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Fc(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const $c={date:Fc({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Fc({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Fc({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Bc={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Uc(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,s=n?.width?String(n.width):t;r=e.formattingValues[s]||e.formattingValues[t]}else{const t=e.defaultWidth,s=n?.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const zc={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Uc({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Uc({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Uc({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Uc({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Uc({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Hc(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,(e=>e.test(a))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,(e=>e.test(a)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(a.length)}}}const Wc={ordinalNumber:(Gc={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(Gc.matchPattern);if(!n)return null;const r=n[0],s=e.match(Gc.parsePattern);if(!s)return null;let i=Gc.valueCallback?Gc.valueCallback(s[0]):s[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(r.length)}}),era:Hc({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Hc({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hc({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Hc({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Hc({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var Gc;const Vc={code:"en-US",formatDistance:(e,t,n)=>{let r;const s=Pc[e];return r="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:$c,formatRelative:(e,t,n,r)=>Bc[e],localize:zc,match:Wc,options:{weekStartsOn:0,firstWeekContainsDate:1}},qc=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},jc=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Yc={p:jc,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return qc(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",qc(r,t)).replace("{{time}}",jc(s,t))}},Kc=/^D+$/,Xc=/^Y+$/,Qc=["D","DD","YY","YYYY"];function Jc(e){return Kc.test(e)}function Zc(e){return Xc.test(e)}function eu(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),Qc.includes(e))throw new RangeError(r)}let tu={};function nu(){return tu}function ru(){return Object.assign({},nu())}function su(e,t){const n=function(e){return"function"===typeof e&&e.prototype?.constructor===e}(t)?new t(0):Sc(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class iu{subPriority=0;validate(e,t){return!0}}class au extends iu{constructor(e,t,n,r,s){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class ou extends iu{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>Sc(t,e))}set(e,t){return t.timestampIsSet?e:Sc(e,su(e,this.context))}}class lu{run(e,t,n,r){const s=this.parse(e,t,n,r);return s?{setter:new au(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,n){return!0}}const cu=/^(1[0-2]|0?\d)/,uu=/^(3[0-1]|[0-2]?\d)/,hu=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,du=/^(5[0-3]|[0-4]?\d)/,pu=/^(2[0-3]|[0-1]?\d)/,fu=/^(2[0-4]|[0-1]?\d)/,mu=/^(1[0-1]|0?\d)/,gu=/^(1[0-2]|0?\d)/,bu=/^[0-5]?\d/,yu=/^[0-5]?\d/,vu=/^\d/,xu=/^\d{1,2}/,Eu=/^\d{1,3}/,Tu=/^\d{1,4}/,wu=/^-?\d+/,ku=/^-?\d/,Su=/^-?\d{1,2}/,_u=/^-?\d{1,3}/,Iu=/^-?\d{1,4}/,Au=/^([+-])(\d{2})(\d{2})?|Z/,Cu=/^([+-])(\d{2})(\d{2})|Z/,Nu=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Du=/^([+-])(\d{2}):(\d{2})|Z/,Ru=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Ou(e,t){return e?{value:t(e.value),rest:e.rest}:e}function Mu(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Lu(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(s*wc+i*Tc+1e3*a),rest:t.slice(n[0].length)}}function Pu(e){return Mu(wu,e)}function Fu(e,t){switch(e){case 1:return Mu(vu,t);case 2:return Mu(xu,t);case 3:return Mu(Eu,t);case 4:return Mu(Tu,t);default:return Mu(new RegExp("^\\d{1,"+e+"}"),t)}}function $u(e,t){switch(e){case 1:return Mu(ku,t);case 2:return Mu(Su,t);case 3:return Mu(_u,t);case 4:return Mu(Iu,t);default:return Mu(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Bu(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Uu(e,t){const n=t>0,r=n?t:1-t;let s;if(r<=50)s=e||100;else{const t=r+50;s=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?s:1-s}function zu(e){return e%400===0||e%4===0&&e%100!==0}function Hu(e,t){const n=nu(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=_c(e,t?.in),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Wu(e,t){const n=_c(e,t?.in),r=n.getFullYear(),s=nu(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=Sc(t?.in||e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=Hu(a,t),l=Sc(t?.in||e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Hu(l,t);return+n>=+o?r+1:+n>=+c?r:r-1}function Gu(e,t){return Hu(e,{...t,weekStartsOn:1})}function Vu(e,t){const n=nu(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=Wu(e,t),i=Sc(t?.in||e,0);i.setFullYear(s,0,r),i.setHours(0,0,0,0);return Hu(i,t)}function qu(e,t){const n=_c(e,t?.in),r=+Hu(n,t)-+Vu(n,t);return Math.round(r/Ec)+1}function ju(e,t,n){const r=_c(e,n?.in),s=qu(r,n)-t;return r.setDate(r.getDate()-7*s),_c(r,n?.in)}function Yu(e,t){const n=_c(e,t?.in),r=n.getFullYear(),s=Sc(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Gu(s),a=Sc(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Gu(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Ku(e,t){const n=Yu(e,t),r=Sc(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Gu(r)}function Xu(e,t){const n=_c(e,t?.in),r=+Gu(n)-+Ku(n);return Math.round(r/Ec)+1}function Qu(e,t,n){const r=_c(e,n?.in),s=Xu(r,n)-t;return r.setDate(r.getDate()-7*s),r}const Ju=[31,28,31,30,31,30,31,31,30,31,30,31],Zu=[31,29,31,30,31,30,31,31,30,31,30,31];function eh(e,t,n){const r=_c(e,n?.in);return isNaN(t)?Sc(n?.in||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function th(e,t,n){const r=nu(),s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=_c(e,n?.in),a=i.getDay(),o=7-s;return eh(i,t<0||t>6?t-(a+o)%7:((t%7+7)%7+o)%7-(a+o)%7,n)}function nh(e,t){const n=_c(e,t?.in).getDay();return 0===n?7:n}function rh(e,t,n){const r=_c(e,n?.in);return eh(r,t-nh(r,n),n)}function sh(e){const t=_c(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}const ih={G:new class extends lu{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends lu{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return Ou(Fu(4,e),r);case"yo":return Ou(n.ordinalNumber(e,{unit:"year"}),r);default:return Ou(Fu(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=Uu(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const s="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}},Y:new class extends lu{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return Ou(Fu(4,e),r);case"Yo":return Ou(n.ordinalNumber(e,{unit:"year"}),r);default:return Ou(Fu(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const s=Wu(e,r);if(n.isTwoDigitYear){const t=Uu(n.year,s);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Hu(e,r)}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Hu(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends lu{priority=130;parse(e,t){return $u("R"===t?4:t.length,e)}set(e,t,n){const r=Sc(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Gu(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends lu{priority=130;parse(e,t){return $u("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends lu{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return Fu(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends lu{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return Fu(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends lu{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"M":return Ou(Mu(cu,e),r);case"MM":return Ou(Fu(2,e),r);case"Mo":return Ou(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends lu{priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"L":return Ou(Mu(cu,e),r);case"LL":return Ou(Fu(2,e),r);case"Lo":return Ou(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends lu{priority=100;parse(e,t,n){switch(t){case"w":return Mu(du,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Fu(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return Hu(ju(e,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends lu{priority=100;parse(e,t,n){switch(t){case"I":return Mu(du,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Fu(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Gu(Qu(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends lu{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return Mu(uu,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Fu(t.length,e)}}validate(e,t){const n=zu(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=Zu[r]:t>=1&&t<=Ju[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends lu{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return Mu(hu,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Fu(t.length,e)}}validate(e,t){return zu(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends lu{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=th(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends lu{priority=90;parse(e,t,n,r){const s=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Ou(Fu(t.length,e),s);case"eo":return Ou(n.ordinalNumber(e,{unit:"day"}),s);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=th(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends lu{priority=90;parse(e,t,n,r){const s=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Ou(Fu(t.length,e),s);case"co":return Ou(n.ordinalNumber(e,{unit:"day"}),s);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=th(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends lu{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return Fu(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Ou(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return Ou(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Ou(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return Ou(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=rh(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends lu{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Bu(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends lu{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Bu(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends lu{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Bu(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends lu{priority=70;parse(e,t,n){switch(t){case"h":return Mu(gu,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Fu(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends lu{priority=70;parse(e,t,n){switch(t){case"H":return Mu(pu,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Fu(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends lu{priority=70;parse(e,t,n){switch(t){case"K":return Mu(mu,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Fu(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends lu{priority=70;parse(e,t,n){switch(t){case"k":return Mu(fu,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Fu(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends lu{priority=60;parse(e,t,n){switch(t){case"m":return Mu(bu,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Fu(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]},s:new class extends lu{priority=50;parse(e,t,n){switch(t){case"s":return Mu(yu,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Fu(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]},S:new class extends lu{priority=30;parse(e,t){return Ou(Fu(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]},X:new class extends lu{priority=10;parse(e,t){switch(t){case"X":return Lu(Au,e);case"XX":return Lu(Cu,e);case"XXXX":return Lu(Nu,e);case"XXXXX":return Lu(Ru,e);default:return Lu(Du,e)}}set(e,t,n){return t.timestampIsSet?e:Sc(e,e.getTime()-sh(e)-n)}incompatibleTokens=["t","T","x"]},x:new class extends lu{priority=10;parse(e,t){switch(t){case"x":return Lu(Au,e);case"xx":return Lu(Cu,e);case"xxxx":return Lu(Nu,e);case"xxxxx":return Lu(Ru,e);default:return Lu(Du,e)}}set(e,t,n){return t.timestampIsSet?e:Sc(e,e.getTime()-sh(e)-n)}incompatibleTokens=["t","T","X"]},t:new class extends lu{priority=40;parse(e){return Pu(e)}set(e,t,n){return[Sc(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends lu{priority=20;parse(e){return Pu(e)}set(e,t,n){return[Sc(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}},ah=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oh=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lh=/^'([^]*?)'?$/,ch=/''/g,uh=/\S/,hh=/[a-zA-Z]/;function dh(e,t,n,r){const s=()=>Sc(r?.in||n,NaN),i=ru(),a=r?.locale??i.locale??Vc,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(!t)return e?s():_c(n,r?.in);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:a},u=[new ou(r?.in,n)],h=t.match(oh).map((e=>{const t=e[0];if(t in Yc){return(0,Yc[t])(e,a.formatLong)}return e})).join("").match(ah),d=[];for(let g of h){!r?.useAdditionalWeekYearTokens&&Zc(g)&&eu(g,t,e),!r?.useAdditionalDayOfYearTokens&&Jc(g)&&eu(g,t,e);const n=g[0],i=ih[n];if(i){const{incompatibleTokens:t}=i;if(Array.isArray(t)){const e=d.find((e=>t.includes(e.token)||e.token===n));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${g}\` at the same time`)}else if("*"===i.incompatibleTokens&&d.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);d.push({token:n,fullToken:g});const r=i.run(e,g,a.match,c);if(!r)return s();u.push(r.setter),e=r.rest}else{if(n.match(hh))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===g?g="'":"'"===n&&(g=ph(g)),0!==e.indexOf(g))return s();e=e.slice(g.length)}}if(e.length>0&&uh.test(e))return s();const p=u.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>u.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let f=_c(n,r?.in);if(isNaN(+f))return s();const m={};for(const g of p){if(!g.validate(f,c))return s();const e=g.set(f,m,c);Array.isArray(e)?(f=e[0],Object.assign(m,e[1])):f=e}return f}function ph(e){return e.match(lh)[1].replace(ch,"'")}function fh(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function mh(e){return!(!fh(e)&&"number"!==typeof e||isNaN(+_c(e)))}function gh(e,t){return+_c(e)<+_c(t)}function bh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=Sc.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(s)}function yh(e,t){const n=_c(e,t?.in);return n.setHours(0,0,0,0),n}function vh(e,t,n){const[r,s]=bh(n?.in,e,t),i=yh(r),a=yh(s),o=+i-sh(i),l=+a-sh(a);return Math.round((o-l)/864e5)}function xh(e,t){const n=_c(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Eh(e,t){const n=_c(e,t?.in);return vh(n,xh(n))+1}function Th(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const wh={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Th("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Th(n+1,2)},d:(e,t)=>Th(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Th(e.getHours()%12||12,t.length),H:(e,t)=>Th(e.getHours(),t.length),m:(e,t)=>Th(e.getMinutes(),t.length),s:(e,t)=>Th(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Th(Math.trunc(r*Math.pow(10,n-3)),t.length)}},kh="midnight",Sh="noon",_h="morning",Ih="afternoon",Ah="evening",Ch="night",Nh={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return wh.y(e,t)},Y:function(e,t,n,r){const s=Wu(e,r),i=s>0?s:1-s;if("YY"===t){return Th(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):Th(i,t.length)},R:function(e,t){return Th(Yu(e),t.length)},u:function(e,t){return Th(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Th(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Th(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return wh.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Th(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=qu(e,r);return"wo"===t?n.ordinalNumber(s,{unit:"week"}):Th(s,t.length)},I:function(e,t,n){const r=Xu(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Th(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):wh.d(e,t)},D:function(e,t,n){const r=Eh(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Th(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Th(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Th(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=0===r?7:r;switch(t){case"i":return String(s);case"ii":return Th(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(s=12===r?Sh:0===r?kh:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(s=r>=17?Ah:r>=12?Ih:r>=4?_h:Ch,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return wh.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):wh.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Th(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Th(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):wh.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):wh.s(e,t)},S:function(e,t){return wh.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Rh(r);case"XXXX":case"XX":return Oh(r);default:return Oh(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Rh(r);case"xxxx":case"xx":return Oh(r);default:return Oh(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Dh(r,":");default:return"GMT"+Oh(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Dh(r,":");default:return"GMT"+Oh(r,":")}},t:function(e,t,n){return Th(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Th(+e,t.length)}};function Dh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return 0===i?n+String(s):n+String(s)+t+Th(i,2)}function Rh(e,t){if(e%60===0){return(e>0?"-":"+")+Th(Math.abs(e)/60,2)}return Oh(e,t)}function Oh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+Th(Math.trunc(r/60),2)+t+Th(r%60,2)}const Mh=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lh=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ph=/^'([^]*?)'?$/,Fh=/''/g,$h=/[a-zA-Z]/;function Bh(e,t,n){const r=nu(),s=n?.locale??r.locale??Vc,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=_c(e,n?.in);if(!mh(o))throw new RangeError("Invalid time value");let l=t.match(Lh).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Yc[t])(e,s.formatLong)}return e})).join("").match(Mh).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Uh(e)};if(Nh[t])return{isToken:!0,value:e};if(t.match($h))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map((r=>{if(!r.isToken)return r.value;const i=r.value;(!n?.useAdditionalWeekYearTokens&&Zc(i)||!n?.useAdditionalDayOfYearTokens&&Jc(i))&&eu(i,t,String(e));return(0,Nh[i[0]])(o,i,s.localize,c)})).join("")}function Uh(e){const t=e.match(Ph);return t?t[1].replace(Fh,"'"):e}function zh(e,t,n){const r=_c(e,n?.in);return r.setHours(t),r}function Hh(e,t,n){const r=_c(e,n?.in);return r.setMinutes(t),r}function Wh(e,t,n){const r=_c(e,n?.in);return r.setSeconds(t),r}function Gh(e,t){const n=_c(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Vh(e,t){const n=_c(e,t?.in),r=n.getMonth(),s=r-r%3;return n.setMonth(s,1),n.setHours(0,0,0,0),n}function qh(e,t){const n=_c(e,t?.in);return n.setHours(23,59,59,999),n}function jh(e,t){const n=nu(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=_c(e,t?.in),i=s.getDay(),a=6+(i<r?-7:0)-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function Yh(e,t){const n=_c(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Kh(e,t,n){const[r,s]=bh(n?.in,e,t);return r.getFullYear()===s.getFullYear()}function Xh(e,t,n){const[r,s]=bh(n?.in,e,t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function Qh(e,t,n){const[r,s]=bh(n?.in,e,t);return+Vh(r)===+Vh(s)}function Jh(e,t,n){const[r,s]=bh(n?.in,e,t);return+yh(r)===+yh(s)}function Zh(e,t){return+_c(e)===+_c(t)}function ed(e,t,n){const r=+_c(e,n?.in),[s,i]=[+_c(t.start,n?.in),+_c(t.end,n?.in)].sort(((e,t)=>e-t));return r>=s&&r<=i}function td(e,t){const n=_c(e,t?.in),r=n.getFullYear(),s=n.getMonth(),i=Sc(n,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function nd(e,t,n){const r=_c(e,n?.in),s=r.getFullYear(),i=r.getDate(),a=Sc(n?.in||e,0);a.setFullYear(s,t,15),a.setHours(0,0,0,0);const o=td(a);return r.setMonth(t,Math.min(i,o)),r}function rd(e,t,n){const r=_c(e,n?.in),s=t-(Math.trunc(r.getMonth()/3)+1);return nd(r,r.getMonth()+3*s)}function sd(e,t){return _c(e,t?.in).getFullYear()}function id(e,t){return _c(e,t?.in).getMonth()}function ad(e,t){const n=_c(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function od(e,t){const n=_c(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function ld(e,t){return _c(e,t?.in).getHours()}function cd(e,t){return _c(e,t?.in).getMinutes()}function ud(e){return _c(e).getSeconds()}function hd(e,t,n){const r=_c(e,n?.in);if(isNaN(t))return Sc(n?.in||e,NaN);if(!t)return r;const s=r.getDate(),i=Sc(n?.in||e,r.getTime());i.setMonth(r.getMonth()+t+1,0);return s>=i.getDate()?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}function dd(e,t,n){return hd(e,-t,n)}function pd(e,t,n){const[r,s]=bh(n?.in,e,t);return 12*(r.getFullYear()-s.getFullYear())+(r.getMonth()-s.getMonth())}function fd(e,t,n){return hd(e,3*t,n)}function md(e,t,n){return fd(e,-t,n)}function gd(e,t,n){const[r,s]=bh(n?.in,e,t);return 4*(r.getFullYear()-s.getFullYear())+(od(r)-od(s))}function bd(e,t,n){return hd(e,12*t,n)}function yd(e,t,n){return bd(e,-t,n)}function vd(e,t,n){const[r,s]=bh(n?.in,e,t);return r.getFullYear()-s.getFullYear()}function xd(e,t){let n,r=t?.in;return e.forEach((e=>{r||"object"!==typeof e||(r=Sc.bind(null,e));const t=_c(e,r);(!n||n>t||isNaN(+t))&&(n=t)})),Sc(r,n||NaN)}function Ed(e,t){let n,r=t?.in;return e.forEach((e=>{r||"object"!==typeof e||(r=Sc.bind(null,e));const t=_c(e,r);(!n||n<t||isNaN(+t))&&(n=t)})),Sc(r,n||NaN)}function Td(e,t,n){return Sc(n?.in||e,+_c(e)+t)}function wd(e,t,n){return Td(e,t*wc,n)}function kd(e,t,n){const r=_c(e,n?.in);return r.setTime(r.getTime()+t*Tc),r}function Sd(e,t,n){return Td(e,1e3*t,n)}function _d(e,t){return+_c(e)>+_c(t)}function Id(e,t){return _c(e,t?.in).getDay()}function Ad(e,t){return _c(e,t?.in).getDate()}function Cd(e,t,n){return eh(e,7*t,n)}function Nd(e){return+_c(e)}function Dd(e,t,n){const r=_c(e,n?.in);return isNaN(+r)?Sc(n?.in||e,NaN):(r.setFullYear(t),r)}function Rd(e,t,n){const[r,s]=bh(n?.in,e,t),i=Od(r,s),a=Math.abs(vh(r,s));r.setDate(r.getDate()-i*a);const o=i*(a-Number(Od(r,s)===-i));return 0===o?0:o}function Od(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Md(e,t,n){return Cd(e,-t,n)}function Ld(e,t,n){return eh(e,-t,n)}var Pd=n(414);function Fd(){return"undefined"!==typeof window}function $d(e){return zd(e)?(e.nodeName||"").toLowerCase():"#document"}function Bd(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Ud(e){var t;return null==(t=(zd(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function zd(e){return!!Fd()&&(e instanceof Node||e instanceof Bd(e).Node)}function Hd(e){return!!Fd()&&(e instanceof Element||e instanceof Bd(e).Element)}function Wd(e){return!!Fd()&&(e instanceof HTMLElement||e instanceof Bd(e).HTMLElement)}function Gd(e){return!(!Fd()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Bd(e).ShadowRoot)}function Vd(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Qd(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function qd(e){return["table","td","th"].includes($d(e))}function jd(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function Yd(e){const t=Kd(),n=Hd(e)?Qd(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function Kd(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Xd(e){return["html","body","#document"].includes($d(e))}function Qd(e){return Bd(e).getComputedStyle(e)}function Jd(e){return Hd(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zd(e){if("html"===$d(e))return e;const t=e.assignedSlot||e.parentNode||Gd(e)&&e.host||Ud(e);return Gd(t)?t.host:t}function ep(e){const t=Zd(e);return Xd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wd(t)&&Vd(t)?t:ep(t)}function tp(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const s=ep(e),i=s===(null==(r=e.ownerDocument)?void 0:r.body),a=Bd(s);if(i){const e=np(a);return t.concat(a,a.visualViewport||[],Vd(s)?s:[],e&&n?tp(e):[])}return t.concat(s,tp(s,[],n))}function np(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var rp=n(119);const sp=Math.min,ip=Math.max,ap=Math.round,op=Math.floor,lp=e=>({x:e,y:e}),cp={left:"right",right:"left",bottom:"top",top:"bottom"},up={start:"end",end:"start"};function hp(e,t,n){return ip(e,sp(t,n))}function dp(e,t){return"function"===typeof e?e(t):e}function pp(e){return e.split("-")[0]}function fp(e){return e.split("-")[1]}function mp(e){return"x"===e?"y":"x"}function gp(e){return"y"===e?"height":"width"}function bp(e){return["top","bottom"].includes(pp(e))?"y":"x"}function yp(e){return mp(bp(e))}function vp(e){return e.replace(/start|end/g,(e=>up[e]))}function xp(e){return e.replace(/left|right|bottom|top/g,(e=>cp[e]))}function Ep(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Tp(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function wp(e,t,n){let{reference:r,floating:s}=e;const i=bp(t),a=yp(t),o=gp(a),l=pp(t),c="y"===i,u=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,d=r[o]/2-s[o]/2;let p;switch(l){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(fp(t)){case"start":p[a]-=d*(n&&c?-1:1);break;case"end":p[a]+=d*(n&&c?-1:1)}return p}async function kp(e,t){var n;void 0===t&&(t={});const{x:r,y:s,platform:i,rects:a,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:p=0}=dp(t,e),f=Ep(p),m=o[d?"floating"===h?"reference":"floating":h],g=Tp(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),b="floating"===h?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(o.floating)),v=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},x=Tp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:y,strategy:l}):b);return{top:(g.top-x.top+f.top)/v.y,bottom:(x.bottom-g.bottom+f.bottom)/v.y,left:(g.left-x.left+f.left)/v.x,right:(x.right-g.right+f.right)/v.x}}function Sp(e){const t=Qd(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Wd(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,o=ap(n)!==i||ap(r)!==a;return o&&(n=i,r=a),{width:n,height:r,$:o}}function _p(e){return Hd(e)?e:e.contextElement}function Ip(e){const t=_p(e);if(!Wd(t))return lp(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=Sp(t);let a=(i?ap(n.width):n.width)/r,o=(i?ap(n.height):n.height)/s;return a&&Number.isFinite(a)||(a=1),o&&Number.isFinite(o)||(o=1),{x:a,y:o}}const Ap=lp(0);function Cp(e){const t=Bd(e);return Kd()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ap}function Np(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const s=e.getBoundingClientRect(),i=_p(e);let a=lp(1);t&&(r?Hd(r)&&(a=Ip(r)):a=Ip(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Bd(e))&&t}(i,n,r)?Cp(i):lp(0);let l=(s.left+o.x)/a.x,c=(s.top+o.y)/a.y,u=s.width/a.x,h=s.height/a.y;if(i){const e=Bd(i),t=r&&Hd(r)?Bd(r):r;let n=e,s=np(n);for(;s&&r&&t!==n;){const e=Ip(s),t=s.getBoundingClientRect(),r=Qd(s),i=t.left+(s.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(s.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,h*=e.y,l+=i,c+=a,n=Bd(s),s=np(n)}}return Tp({width:u,height:h,x:l,y:c})}function Dp(e,t){const n=Jd(e).scrollLeft;return t?t.left+n:Np(Ud(e)).left+n}function Rp(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:Dp(e,r)),y:r.top+t.scrollTop}}function Op(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Bd(e),r=Ud(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,o=0,l=0;if(s){i=s.width,a=s.height;const e=Kd();(!e||e&&"fixed"===t)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:i,height:a,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=Ud(e),n=Jd(e),r=e.ownerDocument.body,s=ip(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ip(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Dp(e);const o=-n.scrollTop;return"rtl"===Qd(r).direction&&(a+=ip(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:o}}(Ud(e));else if(Hd(t))r=function(e,t){const n=Np(e,!0,"fixed"===t),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Wd(e)?Ip(e):lp(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:s*i.x,y:r*i.y}}(t,n);else{const n=Cp(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Tp(r)}function Mp(e,t){const n=Zd(e);return!(n===t||!Hd(n)||Xd(n))&&("fixed"===Qd(n).position||Mp(n,t))}function Lp(e,t,n){const r=Wd(t),s=Ud(t),i="fixed"===n,a=Np(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const l=lp(0);if(r||!r&&!i)if(("body"!==$d(t)||Vd(s))&&(o=Jd(t)),r){const e=Np(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else s&&(l.x=Dp(s));const c=!s||r||i?lp(0):Rp(s,o);return{x:a.left+o.scrollLeft-l.x-c.x,y:a.top+o.scrollTop-l.y-c.y,width:a.width,height:a.height}}function Pp(e){return"static"===Qd(e).position}function Fp(e,t){if(!Wd(e)||"fixed"===Qd(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Ud(e)===n&&(n=n.ownerDocument.body),n}function $p(e,t){const n=Bd(e);if(jd(e))return n;if(!Wd(e)){let t=Zd(e);for(;t&&!Xd(t);){if(Hd(t)&&!Pp(t))return t;t=Zd(t)}return n}let r=Fp(e,t);for(;r&&qd(r)&&Pp(r);)r=Fp(r,t);return r&&Xd(r)&&Pp(r)&&!Yd(r)?n:r||function(e){let t=Zd(e);for(;Wd(t)&&!Xd(t);){if(Yd(t))return t;if(jd(t))return null;t=Zd(t)}return null}(e)||n}const Bp={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i="fixed"===s,a=Ud(r),o=!!t&&jd(t.floating);if(r===a||o&&i)return n;let l={scrollLeft:0,scrollTop:0},c=lp(1);const u=lp(0),h=Wd(r);if((h||!h&&!i)&&(("body"!==$d(r)||Vd(a))&&(l=Jd(r)),Wd(r))){const e=Np(r);c=Ip(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const d=!a||h||i?lp(0):Rp(a,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-l.scrollTop*c.y+u.y+d.y}},getDocumentElement:Ud,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i="clippingAncestors"===n?jd(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=tp(e,[],!1).filter((e=>Hd(e)&&"body"!==$d(e))),s=null;const i="fixed"===Qd(e).position;let a=i?Zd(e):e;for(;Hd(a)&&!Xd(a);){const t=Qd(a),n=Yd(a);n||"fixed"!==t.position||(s=null),(i?!n&&!s:!n&&"static"===t.position&&s&&["absolute","fixed"].includes(s.position)||Vd(a)&&!n&&Mp(e,a))?r=r.filter((e=>e!==a)):s=t,a=Zd(a)}return t.set(e,r),r}(t,this._c):[].concat(n),a=[...i,r],o=a[0],l=a.reduce(((e,n)=>{const r=Op(t,n,s);return e.top=ip(r.top,e.top),e.right=sp(r.right,e.right),e.bottom=sp(r.bottom,e.bottom),e.left=ip(r.left,e.left),e}),Op(t,o,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:$p,getElementRects:async function(e){const t=this.getOffsetParent||$p,n=this.getDimensions,r=await n(e.floating);return{reference:Lp(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Sp(e);return{width:t,height:n}},getScale:Ip,isElement:Hd,isRTL:function(e){return"rtl"===Qd(e).direction}};function Up(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zp(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=_p(e),u=s||i?[...c?tp(c):[],...tp(t)]:[];u.forEach((e=>{s&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const h=c&&o?function(e,t){let n,r=null;const s=Ud(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),i();const c=e.getBoundingClientRect(),{left:u,top:h,width:d,height:p}=c;if(o||t(),!d||!p)return;const f={rootMargin:-op(h)+"px "+-op(s.clientWidth-(u+d))+"px "+-op(s.clientHeight-(h+p))+"px "+-op(u)+"px",threshold:ip(0,sp(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return a();r?a(!1,r):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}1!==r||Up(c,e.getBoundingClientRect())||a(),m=!1}try{r=new IntersectionObserver(g,{...f,root:s.ownerDocument})}catch(b){r=new IntersectionObserver(g,f)}r.observe(e)}(!0),i}(c,n):null;let d,p=-1,f=null;a&&(f=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=f)||e.observe(t)}))),n()})),c&&!l&&f.observe(c),f.observe(t));let m=l?Np(e):null;return l&&function t(){const r=Np(e);m&&!Up(m,r)&&n();m=r,d=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{s&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),null==h||h(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(d)}}const Hp=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:s}=e,i=await(null==r.isRTL?void 0:r.isRTL(s.floating)),a=pp(n),o=fp(n),l="y"===bp(n),c=["left","top"].includes(a)?-1:1,u=i&&l?-1:1,h=dp(t,e);let{mainAxis:d,crossAxis:p,alignmentAxis:f}="number"===typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&"number"===typeof f&&(p="end"===o?-1*f:f),l?{x:p*u,y:d*c}:{x:d*c,y:p*u}}(t,e);return a===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:a}}}}},Wp=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=dp(e,t),c={x:n,y:r},u=await kp(t,l),h=bp(pp(s)),d=mp(h);let p=c[d],f=c[h];if(i){const e="y"===d?"bottom":"right";p=hp(p+u["y"===d?"top":"left"],p,p-u[e])}if(a){const e="y"===h?"bottom":"right";f=hp(f+u["y"===h?"top":"left"],f,f-u[e])}const m=o.fn({...t,[d]:p,[h]:f});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[d]:i,[h]:a}}}}}},Gp=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...g}=dp(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const b=pp(s),y=bp(o),v=pp(o)===o,x=await(null==l.isRTL?void 0:l.isRTL(c.floating)),E=d||(v||!m?[xp(o)]:function(e){const t=xp(e);return[vp(e),t,vp(t)]}(o)),T="none"!==f;!d&&T&&E.push(...function(e,t,n,r){const s=fp(e);let i=function(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:a;default:return[]}}(pp(e),"start"===n,r);return s&&(i=i.map((e=>e+"-"+s)),t&&(i=i.concat(i.map(vp)))),i}(o,m,f,x));const w=[o,...E],k=await kp(t,g),S=[];let _=(null==(r=i.flip)?void 0:r.overflows)||[];if(u&&S.push(k[b]),h){const e=function(e,t,n){void 0===n&&(n=!1);const r=fp(e),s=yp(e),i=gp(s);let a="x"===s?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=xp(a)),[a,xp(a)]}(s,a,x);S.push(k[e[0]],k[e[1]])}if(_=[..._,{placement:s,overflows:S}],!S.every((e=>e<=0))){var I,A;const e=((null==(I=i.flip)?void 0:I.index)||0)+1,t=w[e];if(t)return{data:{index:e,overflows:_},reset:{placement:t}};let n=null==(A=_.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:A.placement;if(!n)switch(p){case"bestFit":{var C;const e=null==(C=_.filter((e=>{if(T){const t=bp(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:C[0];e&&(n=e);break}case"initialPlacement":n=o}if(s!==n)return{reset:{placement:n}}}return{}}}},Vp=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:o,middlewareData:l}=t,{element:c,padding:u=0}=dp(e,t)||{};if(null==c)return{};const h=Ep(u),d={x:n,y:r},p=yp(s),f=gp(p),m=await a.getDimensions(c),g="y"===p,b=g?"top":"left",y=g?"bottom":"right",v=g?"clientHeight":"clientWidth",x=i.reference[f]+i.reference[p]-d[p]-i.floating[f],E=d[p]-i.reference[p],T=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let w=T?T[v]:0;w&&await(null==a.isElement?void 0:a.isElement(T))||(w=o.floating[v]||i.floating[f]);const k=x/2-E/2,S=w/2-m[f]/2-1,_=sp(h[b],S),I=sp(h[y],S),A=_,C=w-m[f]-I,N=w/2-m[f]/2+k,D=hp(A,N,C),R=!l.arrow&&null!=fp(s)&&N!==D&&i.reference[f]/2-(N<A?_:I)-m[f]/2<0,O=R?N<A?N-A:N-C:0;return{[p]:d[p]+O,data:{[p]:D,centerOffset:N-D-O,...R&&{alignmentOffset:O}},reset:R}}}),qp=(e,t,n)=>{const r=new Map,s={platform:Bp,...n},i={...s.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,o=i.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:h}=wp(c,r,l),d=r,p={},f=0;for(let m=0;m<o.length;m++){const{name:n,fn:i}=o[m],{x:g,y:b,data:y,reset:v}=await i({x:u,y:h,initialPlacement:r,placement:d,strategy:s,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,h=null!=b?b:h,p={...p,[n]:{...p[n],...y}},v&&f<=50&&(f++,"object"===typeof v&&(v.placement&&(d=v.placement),v.rects&&(c=!0===v.rects?await a.getElementRects({reference:e,floating:t,strategy:s}):v.rects),({x:u,y:h}=wp(c,d,l))),m=-1)}return{x:u,y:h,placement:d,strategy:s,middlewareData:p}})(e,t,{...s,platform:i})};var jp="undefined"!==typeof document?f.useLayoutEffect:f.useEffect;function Yp(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Yp(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;0!==r--;){const n=s[r];if(("_owner"!==n||!e.$$typeof)&&!Yp(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function Kp(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Xp(e,t){const n=Kp(e);return Math.round(t*n)/n}function Qp(e){const t=f.useRef(e);return jp((()=>{t.current=e})),t}const Jp=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(s=n,{}.hasOwnProperty.call(s,"current"))?null!=n.current?Vp({element:n.current,padding:r}).fn(t):{}:n?Vp({element:n,padding:r}).fn(t):{};var s}}),Zp=(e,t)=>({...Hp(e),options:[e,t]}),ef=(e,t)=>({...Jp(e),options:[e,t]});const tf={...m},nf=tf.useInsertionEffect||(e=>e());function rf(e){const t=f.useRef((()=>{0}));return nf((()=>{t.current=e})),f.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const sf="ArrowUp",af="ArrowDown",of="ArrowLeft",lf="ArrowRight";var cf="undefined"!==typeof document?f.useLayoutEffect:f.useEffect;const uf=[of,lf],hf=[sf,af];let df=!1,pf=0;const ff=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+pf++;const mf=tf.useId||function(){const[e,t]=f.useState((()=>df?ff():void 0));return cf((()=>{null==e&&t(ff())}),[]),f.useEffect((()=>{df=!0}),[]),e};const gf=f.forwardRef((function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:s,shift:i}},width:a=14,height:o=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:u,stroke:h,d:d,style:{transform:p,...m}={},...g}=e;const b=mf(),[y,v]=f.useState(!1);if(cf((()=>{if(!r)return;"rtl"===Qd(r).direction&&v(!0)}),[r]),!r)return null;const[x,E]=n.split("-"),T="top"===x||"bottom"===x;let w=u;(T&&null!=i&&i.x||!T&&null!=i&&i.y)&&(w=null);const k=2*c,S=k/2,_=a/2*(l/-8+1),I=o/2*l/4,A=!!d,C=w&&"end"===E?"bottom":"top";let N=w&&"end"===E?"right":"left";w&&y&&(N="end"===E?"left":"right");const D=null!=(null==s?void 0:s.x)?w||s.x:"",R=null!=(null==s?void 0:s.y)?w||s.y:"",O=d||"M0,0 H"+a+" L"+(a-_)+","+(o-I)+" Q"+a/2+","+o+" "+_+","+(o-I)+" Z",M={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[x];return(0,Pd.jsxs)("svg",{...g,"aria-hidden":!0,ref:t,width:A?a:a+k,height:a,viewBox:"0 0 "+a+" "+(o>a?o:a),style:{position:"absolute",pointerEvents:"none",[N]:D,[C]:R,[x]:T||A?"100%":"calc(100% - "+k/2+"px)",transform:[M,p].filter((e=>!!e)).join(" "),...m},children:[k>0&&(0,Pd.jsx)("path",{clipPath:"url(#"+b+")",fill:"none",stroke:h,strokeWidth:k+(d?0:1),d:O}),(0,Pd.jsx)("path",{stroke:k&&!d?g.fill:"none",d:O}),(0,Pd.jsx)("clipPath",{id:b,children:(0,Pd.jsx)("rect",{x:-S,y:S*(A?-1:1),width:a+k,height:a})})]})}));function bf(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const yf=f.createContext(null),vf=f.createContext(null),xf=()=>{var e;return(null==(e=f.useContext(yf))?void 0:e.id)||null},Ef=()=>f.useContext(vf);function Tf(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,s=mf(),i=f.useRef({}),[a]=f.useState((()=>bf())),o=null!=xf(),[l,c]=f.useState(r.reference),u=rf(((e,t,r)=>{i.current.openEvent=e?t:void 0,a.emit("openchange",{open:e,event:t,reason:r,nested:o}),null==n||n(e,t,r)})),h=f.useMemo((()=>({setPositionReference:c})),[]),d=f.useMemo((()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference})),[l,r.reference,r.floating]);return f.useMemo((()=>({dataRef:i,open:t,onOpenChange:u,elements:d,events:a,floatingId:s,refs:h})),[t,u,d,a,s,h])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,s=r.elements,[i,a]=f.useState(null),[o,l]=f.useState(null),c=(null==s?void 0:s.domReference)||i,u=f.useRef(null),h=Ef();cf((()=>{c&&(u.current=c)}),[c]);const d=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[u,h]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,p]=f.useState(r);Yp(d,r)||p(r);const[m,g]=f.useState(null),[b,y]=f.useState(null),v=f.useCallback((e=>{e!==w.current&&(w.current=e,g(e))}),[]),x=f.useCallback((e=>{e!==k.current&&(k.current=e,y(e))}),[]),E=i||m,T=a||b,w=f.useRef(null),k=f.useRef(null),S=f.useRef(u),_=null!=l,I=Qp(l),A=Qp(s),C=Qp(c),N=f.useCallback((()=>{if(!w.current||!k.current)return;const e={placement:t,strategy:n,middleware:d};A.current&&(e.platform=A.current),qp(w.current,k.current,e).then((e=>{const t={...e,isPositioned:!1!==C.current};D.current&&!Yp(S.current,t)&&(S.current=t,rp.flushSync((()=>{h(t)})))}))}),[d,t,n,A,C]);jp((()=>{!1===c&&S.current.isPositioned&&(S.current.isPositioned=!1,h((e=>({...e,isPositioned:!1}))))}),[c]);const D=f.useRef(!1);jp((()=>(D.current=!0,()=>{D.current=!1})),[]),jp((()=>{if(E&&(w.current=E),T&&(k.current=T),E&&T){if(I.current)return I.current(E,T,N);N()}}),[E,T,N,I,_]);const R=f.useMemo((()=>({reference:w,floating:k,setReference:v,setFloating:x})),[v,x]),O=f.useMemo((()=>({reference:E,floating:T})),[E,T]),M=f.useMemo((()=>{const e={position:n,left:0,top:0};if(!O.floating)return e;const t=Xp(O.floating,u.x),r=Xp(O.floating,u.y);return o?{...e,transform:"translate("+t+"px, "+r+"px)",...Kp(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,o,O.floating,u.x,u.y]);return f.useMemo((()=>({...u,update:N,refs:R,elements:O,floatingStyles:M})),[u,N,R,O,M])}({...e,elements:{...s,...o&&{reference:o}}}),p=f.useCallback((e=>{const t=Hd(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l(t),d.refs.setReference(t)}),[d.refs]),m=f.useCallback((e=>{(Hd(e)||null===e)&&(u.current=e,a(e)),(Hd(d.refs.reference.current)||null===d.refs.reference.current||null!==e&&!Hd(e))&&d.refs.setReference(e)}),[d.refs]),g=f.useMemo((()=>({...d.refs,setReference:m,setPositionReference:p,domReference:u})),[d.refs,m,p]),b=f.useMemo((()=>({...d.elements,domReference:c})),[d.elements,c]),y=f.useMemo((()=>({...d,...r,refs:g,elements:b,nodeId:t})),[d,g,b,t,r]);return cf((()=>{r.dataRef.current.floatingContext=y;const e=null==h?void 0:h.nodesRef.current.find((e=>e.id===t));e&&(e.context=y)})),f.useMemo((()=>({...d,context:y,refs:g,elements:b})),[d,g,b,y])}var wf=function(e,t){return wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},wf(e,t)};function kf(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}wf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Sf=function(){return Sf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Sf.apply(this,arguments)};function _f(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;s<i;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}"function"===typeof SuppressedError&&SuppressedError;var If,Af=function(e){var t=e.showTimeSelectOnly,n=void 0!==t&&t,r=e.showTime,s=void 0!==r&&r,i=e.className,a=e.children,o=n?"Choose Time":"Choose Date".concat(s?" and Time":"");return f.createElement("div",{className:i,role:"dialog","aria-label":o,"aria-modal":"true"},a)},Cf=function(e){var t=e.children,n=e.onClickOutside,r=e.className,s=e.containerRef,i=e.style,a=function(e,t){var n=(0,f.useRef)(null),r=(0,f.useRef)(e);r.current=e;var s=(0,f.useCallback)((function(e){var s,i=e.composed&&e.composedPath&&e.composedPath().find((function(e){return e instanceof Node}))||e.target;n.current&&!n.current.contains(i)&&(t&&i instanceof HTMLElement&&i.classList.contains(t)||null===(s=r.current)||void 0===s||s.call(r,e))}),[t]);return(0,f.useEffect)((function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}}),[s]),n}(n,e.ignoreClass);return f.createElement("div",{className:r,style:i,ref:function(e){a.current=e,s&&(s.current=e)}},t)};function Nf(){return"undefined"!==typeof window?window:globalThis}!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"}(If||(If={}));function Df(e){if(null==e)return new Date;var t="string"===typeof e?Ic(e):_c(e);return Of(t)?t:new Date}function Rf(e,t,n,r,s){void 0===s&&(s=Df());for(var i=Jf(n)||Jf(Qf()),a=0,o=Array.isArray(t)?t:[t];a<o.length;a++){var l=o[a],c=dh(e,l,s,{locale:i,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(Of(c)&&(!r||e===Mf(c,l,n)))return c}return null}function Of(e,t){return mh(e)&&!gh(e,new Date("1/1/1800"))}function Mf(e,t,n){if("en"===n)return Bh(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Jf(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),Bh(e,t,{locale:r=r||Jf(Qf()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Lf(e,t){var n=t.dateFormat,r=t.locale,s=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Mf(e,s,r)||""}function Pf(e,t){var n=t.hour,r=void 0===n?0:n,s=t.minute,i=void 0===s?0:s,a=t.second;return zh(Hh(Wh(e,void 0===a?0:a),i),r)}function Ff(e){return yh(e)}function $f(e,t,n){return Hu(e,{locale:Jf(t||Qf()),weekStartsOn:n})}function Bf(e){return Gh(e)}function Uf(e){return xh(e)}function zf(e){return Vh(e)}function Hf(){return yh(Df())}function Wf(e){return qh(e)}function Gf(e){return Yh(e)}function Vf(e,t){return e&&t?Kh(e,t):!e&&!t}function qf(e,t){return e&&t?Xh(e,t):!e&&!t}function jf(e,t){return e&&t?Qh(e,t):!e&&!t}function Yf(e,t){return e&&t?Jh(e,t):!e&&!t}function Kf(e,t){return e&&t?Zh(e,t):!e&&!t}function Xf(e,t,n){var r,s=yh(t),i=qh(n);try{r=ed(e,{start:s,end:i})}catch(a){r=!1}return r}function Qf(){return Nf().__localeId__}function Jf(e){if("string"===typeof e){var t=Nf();return t.__localeData__?t.__localeData__[e]:void 0}return e}function Zf(e,t){return Mf(nd(Df(),e),"LLLL",t)}function em(e,t){return Mf(nd(Df(),e),"LLL",t)}function tm(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.maxDate,i=n.excludeDates,a=n.excludeDateIntervals,o=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return um(e,{minDate:r,maxDate:s})||i&&i.some((function(t){return t instanceof Date?Yf(e,t):Yf(e,t.date)}))||a&&a.some((function(t){var n=t.start,r=t.end;return ed(e,{start:n,end:r})}))||o&&!o.some((function(t){return Yf(e,t)}))||l&&!l.some((function(t){var n=t.start,r=t.end;return ed(e,{start:n,end:r})}))||c&&!c(Df(e))||!1}function nm(e,t){var n=void 0===t?{}:t,r=n.excludeDates,s=n.excludeDateIntervals;return s&&s.length>0?s.some((function(t){var n=t.start,r=t.end;return ed(e,{start:n,end:r})})):r&&r.some((function(t){var n;return t instanceof Date?Yf(e,t):Yf(e,null!==(n=t.date)&&void 0!==n?n:new Date)}))||!1}function rm(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.maxDate,i=n.excludeDates,a=n.includeDates,o=n.filterDate;return um(e,{minDate:r?Gh(r):void 0,maxDate:s?Yh(s):void 0})||(null===i||void 0===i?void 0:i.some((function(t){return qf(e,t instanceof Date?t:t.date)})))||a&&!a.some((function(t){return qf(e,t)}))||o&&!o(Df(e))||!1}function sm(e,t,n,r){var s=sd(e),i=id(e),a=sd(t),o=id(t),l=sd(r);return s===a&&s===l?i<=n&&n<=o:s<a&&(l===s&&i<=n||l===a&&o>=n||l<a&&l>s)}function im(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.maxDate,i=n.excludeDates,a=n.includeDates;return um(e,{minDate:r,maxDate:s})||i&&i.some((function(t){return qf(t instanceof Date?t:t.date,e)}))||a&&!a.some((function(t){return qf(t,e)}))||!1}function am(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.maxDate,i=n.excludeDates,a=n.includeDates,o=n.filterDate;return um(e,{minDate:r,maxDate:s})||(null===i||void 0===i?void 0:i.some((function(t){return jf(e,t instanceof Date?t:t.date)})))||a&&!a.some((function(t){return jf(e,t)}))||o&&!o(Df(e))||!1}function om(e,t,n){if(!t||!n)return!1;if(!mh(t)||!mh(n))return!1;var r=sd(t),s=sd(n);return r<=e&&s>=e}function lm(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.maxDate,i=n.excludeDates,a=n.includeDates,o=n.filterDate,l=new Date(e,0,1);return um(l,{minDate:r?xh(r):void 0,maxDate:s?ad(s):void 0})||(null===i||void 0===i?void 0:i.some((function(e){return Vf(l,e instanceof Date?e:e.date)})))||a&&!a.some((function(e){return Vf(l,e)}))||o&&!o(Df(l))||!1}function cm(e,t,n,r){var s=sd(e),i=od(e),a=sd(t),o=od(t),l=sd(r);return s===a&&s===l?i<=n&&n<=o:s<a&&(l===s&&i<=n||l===a&&o>=n||l<a&&l>s)}function um(e,t){var n,r=void 0===t?{}:t,s=r.minDate,i=r.maxDate;return null!==(n=s&&vh(e,s)<0||i&&vh(e,i)>0)&&void 0!==n&&n}function hm(e,t){return t.some((function(t){return ld(t)===ld(e)&&cd(t)===cd(e)&&ud(t)===ud(e)}))}function dm(e,t){var n=void 0===t?{}:t,r=n.excludeTimes,s=n.includeTimes,i=n.filterTime;return r&&hm(e,r)||s&&!hm(e,s)||i&&!i(e)||!1}function pm(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var s=Df();s=Wh(s=Hh(s=zh(s,ld(e)),cd(e)),ud(e));var i=Df();i=Wh(i=Hh(i=zh(i,ld(n)),cd(n)),ud(n));var a,o=Df();o=Wh(o=Hh(o=zh(o,ld(r)),cd(r)),ud(r));try{a=!ed(s,{start:i,end:o})}catch(l){a=!1}return a}function fm(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.includeDates,i=dd(e,1);return r&&pd(r,i)>0||s&&s.every((function(e){return pd(e,i)>0}))||!1}function mm(e,t){var n=void 0===t?{}:t,r=n.maxDate,s=n.includeDates,i=hd(e,1);return r&&pd(i,r)>0||s&&s.every((function(e){return pd(i,e)>0}))||!1}function gm(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.includeDates,i=yd(e,1);return r&&vd(r,i)>0||s&&s.every((function(e){return vd(e,i)>0}))||!1}function bm(e,t){var n=void 0===t?{}:t,r=n.maxDate,s=n.includeDates,i=bd(e,1);return r&&vd(i,r)>0||s&&s.every((function(e){return vd(i,e)>0}))||!1}function ym(e){var t=e.minDate,n=e.includeDates;return n&&t?xd(n.filter((function(e){return vh(e,t)>=0}))):n?xd(n):t}function vm(e){var t=e.maxDate,n=e.includeDates;return n&&t?Ed(n.filter((function(e){return vh(e,t)<=0}))):n?Ed(n):t}function xm(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var r=new Map,s=0,i=e.length;s<i;s++){var a=e[s];if(fh(a)){var o=Mf(a,"MM.dd.yyyy");(p=r.get(o)||[]).includes(t)||(p.push(t),r.set(o,p))}else if("object"===typeof a){var l=null!==(n=Object.keys(a)[0])&&void 0!==n?n:"",c=a[l];if("string"===typeof l&&Array.isArray(c))for(var u=0,h=c.length;u<h;u++){var d=c[u];if(d){var p;o=Mf(d,"MM.dd.yyyy");(p=r.get(o)||[]).includes(l)||(p.push(l),r.set(o,p))}}}}return r}function Em(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach((function(e){var r=e.date,s=e.holidayName;if(fh(r)){var i=Mf(r,"MM.dd.yyyy"),a=n.get(i)||{className:"",holidayNames:[]};if(!("className"in a)||a.className!==t||(o=a.holidayNames,l=[s],o.length!==l.length||!o.every((function(e,t){return e===l[t]})))){var o,l;a.className=t;var c=a.holidayNames;a.holidayNames=c?_f(_f([],c,!0),[s],!1):[s],n.set(i,a)}}})),n}function Tm(e,t,n,r,s){for(var i=s.length,a=[],o=0;o<i;o++){var l=e,c=s[o];c&&(l=Sd(l=kd(l=wd(l,ld(c)),cd(c)),ud(c)));var u=kd(e,(n+1)*r);_d(l,t)&&gh(l,u)&&void 0!=c&&a.push(c)}return a}function wm(e){return e<10?"0".concat(e):"".concat(e)}function km(e,t){void 0===t&&(t=12);var n=Math.ceil(sd(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function Sm(e){var t=e.getSeconds(),n=e.getMilliseconds();return _c(e.getTime()-1e3*t-n)}function _m(e){if(!fh(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Im(e,t){if(!fh(e)||!fh(t))throw new Error("Invalid date received");return gh(_m(e),_m(t))}function Am(e){return e.key===If.Space}var Cm,Nm=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=f.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var s=n.props.date,i=s instanceof Date&&!isNaN(+s)?s:new Date;if(null===e||void 0===e?void 0:e.includes(":")){var a=e.split(":"),o=a[0],l=a[1];i.setHours(Number(o)),i.setMinutes(Number(l))}null===(r=(t=n.props).onChange)||void 0===r||r.call(t,i)},n.renderTimeInput=function(){var e=n.state.time,t=n.props,r=t.date,s=t.timeString,i=t.customTimeInput;return i?(0,f.cloneElement)(i,{date:r,value:e,onChange:n.onTimeChange}):f.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var e;null===(e=n.inputRef.current)||void 0===e||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||s)}})},n.state={time:n.props.timeString},n}return kf(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},t.prototype.render=function(){return f.createElement("div",{className:"react-datepicker__input-time-container"},f.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),f.createElement("div",{className:"react-datepicker-time__input-container"},f.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(f.Component),Dm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dayEl=(0,f.createRef)(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var n,r;e.key===If.Space&&(e.preventDefault(),e.key=If.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isSameDay=function(e){return Yf(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var n=t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some((function(e){return t.isSameDayOrWeek(e)})):t.isSameDayOrWeek(t.props.selected),r=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!n&&t.isSameDayOrWeek(t.props.preSelection)&&!r},t.isDisabled=function(e){return void 0===e&&(e=t.props.day),tm(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return nm(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Yf(t.props.day,$f(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&Yf(e,$f(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,n=e.day,r=e.highlightDates;if(!r)return!1;var s=Mf(n,"MM.dd.yyyy");return r.get(s)},t.getHolidaysClass=function(){var e,n=t.props,r=n.day,s=n.holidays;if(!s)return[void 0];var i=Mf(r,"MM.dd.yyyy");return s.has(i)?[null===(e=s.get(i))||void 0===e?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,n=e.day,r=e.startDate,s=e.endDate;return!(!r||!s)&&Xf(n,r,s)},t.isInSelectingRange=function(){var e,n=t.props,r=n.day,s=n.selectsStart,i=n.selectsEnd,a=n.selectsRange,o=n.selectsDisabledDaysInRange,l=n.startDate,c=n.endDate,u=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return!(!(s||i||a)||!u||!o&&t.isDisabled())&&(s&&c&&(gh(u,c)||Kf(u,c))?Xf(r,u,c):(i&&l&&(_d(u,l)||Kf(u,l))||!(!a||!l||c||!_d(u,l)&&!Kf(u,l)))&&Xf(r,l,u))},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,s=n.startDate,i=n.selectsStart,a=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Yf(r,i?a:s)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,s=n.endDate,i=n.selectsEnd,a=n.selectsRange,o=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Yf(r,i||a?o:s)},t.isRangeStart=function(){var e=t.props,n=e.day,r=e.startDate,s=e.endDate;return!(!r||!s)&&Yf(r,n)},t.isRangeEnd=function(){var e=t.props,n=e.day,r=e.startDate,s=e.endDate;return!(!r||!s)&&Yf(s,n)},t.isWeekend=function(){var e=Id(t.props.day);return 0===e||6===e},t.isAfterMonth=function(){return void 0!==t.props.month&&(t.props.month+1)%12===id(t.props.day)},t.isBeforeMonth=function(){return void 0!==t.props.month&&(id(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Df())},t.isSelected=function(){var e;return t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some((function(e){return t.isSameDayOrWeek(e)})):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){var n;return xc("react-datepicker__day",t.props.dayClassName?t.props.dayClassName(e):void 0,"react-datepicker__day--"+Mf(t.props.day,"ddd",n),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,n=e.day,r=e.ariaLabelPrefixWhenEnabled,s=void 0===r?"Choose":r,i=e.ariaLabelPrefixWhenDisabled,a=void 0===i?"Not available":i,o=t.isDisabled()||t.isExcluded()?a:s;return"".concat(o," ").concat(Mf(n,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,n=e.day,r=e.holidays,s=void 0===r?new Map:r,i=e.excludeDates,a=Mf(n,"MM.dd.yyyy"),o=[];return s.has(a)&&o.push.apply(o,s.get(a).holidayNames),t.isExcluded()&&o.push(null===i||void 0===i?void 0:i.filter((function(e){return e instanceof Date?Yf(e,n):Yf(null===e||void 0===e?void 0:e.date,n)})).map((function(e){if(!(e instanceof Date))return null===e||void 0===e?void 0:e.message}))),o.join(", ")},t.getTabIndex=function(){var e=t.props.selected,n=t.props.preSelection;return(!t.props.showWeekPicker||!t.props.showWeekNumber&&t.isStartOfWeek())&&(t.isKeyboardSelected()||t.isSameDay(e)&&Yf(n,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&(null===(e=t.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(Ad(t.props.day),t.props.day):Ad(t.props.day)},t.render=function(){return f.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),""!==t.getTitle()&&f.createElement("span",{className:"overlay"},t.getTitle()))},t}return kf(t,e),t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){var e,t,n;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(n=document.activeElement)||void 0===n?void 0:n.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(f.Component),Rm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weekNumberEl=(0,f.createRef)(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===If.Space&&(e.preventDefault(),e.key=If.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Yf(t.props.date,t.props.selected)&&Yf(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Yf(t.props.date,t.props.selected)&&Yf(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;0===t.getTabIndex()&&!(null===e||void 0===e?void 0:e.isInputFocused)&&Yf(t.props.date,t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return kf(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,n=e.weekNumber,r=e.isWeekDisabled,s=e.ariaLabelPrefix,i=void 0===s?t.defaultProps.ariaLabelPrefix:s,a=e.onClick,o={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!r,"react-datepicker__week-number--selected":!!a&&Yf(this.props.date,this.props.selected)};return f.createElement("div",{ref:this.weekNumberEl,className:xc(o),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(f.Component),Om=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return tm(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,r,s){for(var i,a,o,l=new Date(e),c=0;c<7;c++){var u=new Date(e);if(u.setDate(u.getDate()+c),!n.isDisabled(u)){l=u;break}}"function"===typeof n.props.onWeekSelect&&n.props.onWeekSelect(l,r,s),n.props.showWeekPicker&&n.handleDayClick(l,s),(null!==(i=n.props.shouldCloseOnSelect)&&void 0!==i?i:t.defaultProps.shouldCloseOnSelect)&&(null===(o=(a=n.props).setOpen)||void 0===o||o.call(a,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):function(e){return Xu(e)}(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=eh(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=eh(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),r=[],s=n.formatWeekNumber(e);if(n.props.showWeekNumber){var i=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,s):void 0;r.push(f.createElement(Rm,Sf({key:"W"},t.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:i})))}return r.concat([0,1,2,3,4,5,6].map((function(r){var s=eh(e,r);return f.createElement(Dm,Sf({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:s.valueOf(),day:s,onClick:n.handleDayClick.bind(n,s),onMouseEnter:n.handleDayMouseEnter.bind(n,s)}))})))},n.startOfWeek=function(){return $f(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Yf(n.startOfWeek(),n.props.selected)&&Yf(n.startOfWeek(),n.props.preSelection)},n}return kf(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Yf(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return f.createElement("div",{className:xc(e)},this.renderDays())},t}(f.Component),Mm="two_columns",Lm="three_columns",Pm="four_columns",Fm=((Cm={})[Mm]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Cm[Lm]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Cm[Pm]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Cm);function $m(e,t){return e?Pm:t?Mm:Lm}var Bm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MONTH_REFS=_f([],Array(12),!0).map((function(){return(0,f.createRef)()})),t.QUARTER_REFS=_f([],Array(4),!0).map((function(){return(0,f.createRef)()})),t.isDisabled=function(e){return tm(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return nm(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,n){var r,s;null===(s=(r=t.props).onDayClick)||void 0===s||s.call(r,e,n,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var n,r;null===(r=(n=t.props).onDayMouseEnter)||void 0===r||r.call(n,e)},t.handleMouseLeave=function(){var e,n;null===(n=(e=t.props).onMouseLeave)||void 0===n||n.call(e)},t.isRangeStartMonth=function(e){var n=t.props,r=n.day,s=n.startDate,i=n.endDate;return!(!s||!i)&&qf(nd(r,e),s)},t.isRangeStartQuarter=function(e){var n=t.props,r=n.day,s=n.startDate,i=n.endDate;return!(!s||!i)&&jf(rd(r,e),s)},t.isRangeEndMonth=function(e){var n=t.props,r=n.day,s=n.startDate,i=n.endDate;return!(!s||!i)&&qf(nd(r,e),i)},t.isRangeEndQuarter=function(e){var n=t.props,r=n.day,s=n.startDate,i=n.endDate;return!(!s||!i)&&jf(rd(r,e),i)},t.isInSelectingRangeMonth=function(e){var n,r=t.props,s=r.day,i=r.selectsStart,a=r.selectsEnd,o=r.selectsRange,l=r.startDate,c=r.endDate,u=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(i||a||o)||!u)&&(i&&c?sm(u,c,e,s):(a&&l||!(!o||!l||c))&&sm(l,u,e,s))},t.isSelectingMonthRangeStart=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,s=r.day,i=r.startDate,a=r.selectsStart,o=nd(s,e),l=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return qf(o,a?l:i)},t.isSelectingMonthRangeEnd=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,s=r.day,i=r.endDate,a=r.selectsEnd,o=r.selectsRange,l=nd(s,e),c=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return qf(l,a||o?c:i)},t.isInSelectingRangeQuarter=function(e){var n,r=t.props,s=r.day,i=r.selectsStart,a=r.selectsEnd,o=r.selectsRange,l=r.startDate,c=r.endDate,u=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(i||a||o)||!u)&&(i&&c?cm(u,c,e,s):(a&&l||!(!o||!l||c))&&cm(l,u,e,s))},t.isWeekInMonth=function(e){var n=t.props.day,r=eh(e,6);return qf(e,n)||qf(r,n)},t.isCurrentMonth=function(e,t){return sd(e)===sd(Df())&&t===id(Df())},t.isCurrentQuarter=function(e,t){return sd(e)===sd(Df())&&t===od(Df())},t.isSelectedMonth=function(e,t,n){return id(n)===t&&sd(e)===sd(n)},t.isSelectMonthInList=function(e,n,r){return r.some((function(r){return t.isSelectedMonth(e,n,r)}))},t.isSelectedQuarter=function(e,t,n){return od(e)===t&&sd(e)===sd(n)},t.renderWeeks=function(){for(var e=[],n=t.props.fixedHeight,r=0,s=!1,i=$f(Bf(t.props.day),t.props.locale,t.props.calendarStartDay),a=t.props.selected?function(e){return t.props.showWeekPicker?$f(e,t.props.locale,t.props.calendarStartDay):t.props.selected}(t.props.selected):void 0,o=t.props.preSelection?function(e){return t.props.showWeekPicker?$f(e,t.props.locale,t.props.calendarStartDay):t.props.preSelection}(t.props.preSelection):void 0;e.push(f.createElement(Om,Sf({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:r,day:i,month:id(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:a,preSelection:o,showWeekNumber:t.props.showWeekNumbers}))),!s;){r++,i=Cd(i,1);var l=n&&r>=6,c=!n&&!t.isWeekInMonth(i);if(l||c){if(!t.props.peekNextMonth)break;s=!0}}return e},t.onMonthClick=function(e,n){var r=t.isMonthDisabledForLabelDate(n),s=r.isDisabled,i=r.labelDate;s||t.handleDayClick(Bf(i),e)},t.onMonthMouseEnter=function(e){var n=t.isMonthDisabledForLabelDate(e),r=n.isDisabled,s=n.labelDate;r||t.handleDayMouseEnter(Bf(s))},t.handleMonthNavigation=function(e,n){var r,s,i,a;null===(s=(r=t.props).setPreSelection)||void 0===s||s.call(r,n),null===(a=null===(i=t.MONTH_REFS[e])||void 0===i?void 0:i.current)||void 0===a||a.focus()},t.handleKeyboardNavigation=function(e,n,r){var s,i=t.props,a=i.selected,o=i.preSelection,l=i.setPreSelection,c=i.minDate,u=i.maxDate,h=i.showFourColumnMonthYearPicker,d=i.showTwoColumnMonthYearPicker;if(o){var p=$m(h,d),f=t.getVerticalOffset(p),m=null===(s=Fm[p])||void 0===s?void 0:s.grid,g=function(e,t,n){var r,s,i=t,a=n;switch(e){case If.ArrowRight:i=hd(t,1),a=11===n?0:n+1;break;case If.ArrowLeft:i=dd(t,1),a=0===n?11:n-1;break;case If.ArrowUp:i=dd(t,f),a=(null===(r=null===m||void 0===m?void 0:m[0])||void 0===r?void 0:r.includes(n))?n+12-f:n-f;break;case If.ArrowDown:i=hd(t,f),a=(null===(s=null===m||void 0===m?void 0:m[m.length-1])||void 0===s?void 0:s.includes(n))?n-12+f:n+f}return{newCalculatedDate:i,newCalculatedMonth:a}};if(n!==If.Enter){var b=function(e,n,r){for(var s=e,i=!1,a=0,o=g(s,n,r),l=o.newCalculatedDate,h=o.newCalculatedMonth;!i;){if(a>=40){l=n,h=r;break}var d;if(c&&l<c)s=If.ArrowRight,l=(d=g(s,l,h)).newCalculatedDate,h=d.newCalculatedMonth;if(u&&l>u)s=If.ArrowLeft,l=(d=g(s,l,h)).newCalculatedDate,h=d.newCalculatedMonth;if(im(l,t.props))l=(d=g(s,l,h)).newCalculatedDate,h=d.newCalculatedMonth;else i=!0;a++}return{newCalculatedDate:l,newCalculatedMonth:h}}(n,o,r),y=b.newCalculatedDate,v=b.newCalculatedMonth;switch(n){case If.ArrowRight:case If.ArrowLeft:case If.ArrowUp:case If.ArrowDown:t.handleMonthNavigation(v,y)}}else t.isMonthDisabled(r)||(t.onMonthClick(e,r),null===l||void 0===l||l(a))}},t.getVerticalOffset=function(e){var t,n;return null!==(n=null===(t=Fm[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==n?n:0},t.onMonthKeyDown=function(e,n){var r=t.props,s=r.disabledKeyboardNavigation,i=r.handleOnMonthKeyDown,a=e.key;a!==If.Tab&&e.preventDefault(),s||t.handleKeyboardNavigation(e,a,n),i&&i(e)},t.onQuarterClick=function(e,n){var r=rd(t.props.day,n);am(r,t.props)||t.handleDayClick(zf(r),e)},t.onQuarterMouseEnter=function(e){var n=rd(t.props.day,e);am(n,t.props)||t.handleDayMouseEnter(zf(n))},t.handleQuarterNavigation=function(e,n){var r,s,i,a;t.isDisabled(n)||t.isExcluded(n)||(null===(s=(r=t.props).setPreSelection)||void 0===s||s.call(r,n),null===(a=null===(i=t.QUARTER_REFS[e-1])||void 0===i?void 0:i.current)||void 0===a||a.focus())},t.onQuarterKeyDown=function(e,n){var r,s,i=e.key;if(!t.props.disabledKeyboardNavigation)switch(i){case If.Enter:t.onQuarterClick(e,n),null===(s=(r=t.props).setPreSelection)||void 0===s||s.call(r,t.props.selected);break;case If.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(4===n?1:n+1,fd(t.props.preSelection,1));break;case If.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(1===n?4:n-1,md(t.props.preSelection,1))}},t.isMonthDisabledForLabelDate=function(e){var n,r=t.props,s=r.day,i=r.minDate,a=r.maxDate,o=r.excludeDates,l=r.includeDates,c=nd(s,e);return{isDisabled:null!==(n=(i||a||o||l)&&rm(c,t.props))&&void 0!==n&&n,labelDate:c}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var n=t.props,r=n.day,s=n.startDate,i=n.endDate,a=n.preSelection,o=n.monthClassName,l=o?o(nd(r,e)):void 0,c=t.getSelection();return xc("react-datepicker__month-text","react-datepicker__month-".concat(e),l,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":c?t.isSelectMonthInList(r,e,c):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&a&&t.isSelectedMonth(r,e,a)&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":s&&i?sm(s,i,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=id(t.props.preSelection),r=t.isMonthDisabledForLabelDate(n).isDisabled;return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getQuarterTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=od(t.props.preSelection),r=am(t.props.day,t.props);return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getAriaLabel=function(e){var n=t.props,r=n.chooseDayAriaLabelPrefix,s=void 0===r?"Choose":r,i=n.disabledDayAriaLabelPrefix,a=void 0===i?"Not available":i,o=n.day,l=n.locale,c=nd(o,e),u=t.isDisabled(c)||t.isExcluded(c)?a:s;return"".concat(u," ").concat(Mf(c,"MMMM yyyy",l))},t.getQuarterClassNames=function(e){var n=t.props,r=n.day,s=n.startDate,i=n.endDate,a=n.selected,o=n.minDate,l=n.maxDate,c=n.excludeDates,u=n.includeDates,h=n.filterDate,d=n.preSelection,p=n.disabledKeyboardNavigation,f=(o||l||c||u||h)&&am(rd(r,e),t.props);return xc("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":f,"react-datepicker__quarter-text--selected":a?t.isSelectedQuarter(r,e,a):void 0,"react-datepicker__quarter-text--keyboard-selected":!p&&d&&t.isSelectedQuarter(r,e,d)&&!f,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":s&&i?cm(s,i,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e)})},t.getMonthContent=function(e){var n=t.props,r=n.showFullMonthYearPicker,s=n.renderMonthContent,i=n.locale,a=n.day,o=em(e,i),l=Zf(e,i);return s?s(e,o,l,a):r?l:o},t.getQuarterContent=function(e){var n,r=t.props,s=r.renderQuarterContent,i=function(e,t){return Mf(rd(Df(),e),"QQQ",t)}(e,r.locale);return null!==(n=null===s||void 0===s?void 0:s(e,i))&&void 0!==n?n:i},t.renderMonths=function(){var e,n=t.props,r=n.showTwoColumnMonthYearPicker,s=n.showFourColumnMonthYearPicker,i=n.day,a=n.selected,o=null===(e=Fm[$m(s,r)])||void 0===e?void 0:e.grid;return null===o||void 0===o?void 0:o.map((function(e,n){return f.createElement("div",{className:"react-datepicker__month-wrapper",key:n},e.map((function(e,n){return f.createElement("div",{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){Am(n)&&(n.preventDefault(),n.key=If.Enter),t.onMonthKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:"option","aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(i,e)?"date":void 0,"aria-selected":a?t.isSelectedMonth(i,e,a):void 0},t.getMonthContent(e))})))}))},t.renderQuarters=function(){var e=t.props,n=e.day,r=e.selected;return f.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(e,s){return f.createElement("div",{key:s,ref:t.QUARTER_REFS[s],role:"option",onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":r?t.isSelectedQuarter(n,e,r):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(n,e)?"date":void 0},t.getQuarterContent(e))})))},t.getClassNames=function(){var e=t.props,n=e.selectingDate,r=e.selectsStart,s=e.selectsEnd;return xc("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||s)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},t}return kf(t,e),t.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;return e.selectsMultiple?n:t?[t]:void 0},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,s=e.ariaLabelPrefix,i=void 0===s?"Month ":s,a=i?i.trim()+" ":"";return f.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(a).concat(Mf(r,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())},t}(f.Component),Um=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(e){return t.props.month===e},t.renderOptions=function(){return t.props.monthNames.map((function(e,n){return f.createElement("div",{className:t.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,n),"aria-selected":t.isSelectedMonth(n)?"true":void 0},t.isSelectedMonth(n)?f.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",e)}))},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return kf(t,e),t.prototype.render=function(){return f.createElement(Cf,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(f.Component),zm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map((function(e,t){return f.createElement("option",{key:e,value:t},e)}))},t.renderSelectMode=function(e){return f.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return f.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},f.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),f.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[t.props.month]))},t.renderDropdown=function(e){return f.createElement(Um,Sf({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return kf(t,e),t.prototype.render=function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return em(e,t.props.locale)}:function(e){return Zf(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return f.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(f.Component);function Hm(e,t){for(var n=[],r=Bf(e),s=Bf(t);!_d(r,s);)n.push(Df(r)),r=hd(r,1);return n}var Wm=function(e){function t(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map((function(e){var t=Nd(e),r=Vf(n.props.date,e)&&qf(n.props.date,e);return f.createElement("div",{className:r?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":r?"true":void 0},r?f.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",Mf(e,n.props.dateFormat,n.props.locale))}))},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Hm(n.props.minDate,n.props.maxDate)},n}return kf(t,e),t.prototype.render=function(){var e=xc({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return f.createElement(Cf,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(f.Component),Gm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=Bf(t.props.minDate),n=Bf(t.props.maxDate),r=[];!_d(e,n);){var s=Nd(e);r.push(f.createElement("option",{key:s,value:s},Mf(e,t.props.dateFormat,t.props.locale))),e=hd(e,1)}return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return f.createElement("select",{value:Nd(Bf(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=Mf(t.props.date,t.props.dateFormat,t.props.locale);return f.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},f.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),f.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},t.renderDropdown=function(){return f.createElement(Wm,Sf({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=Df(e);Vf(t.props.date,n)&&qf(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return kf(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return f.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(f.Component),Vm=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame((function(){var e,r,s;n.list&&(n.list.scrollTop=null!==(s=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(null!==(r=null===(e=n.header)||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0):n.list.clientHeight,n.centerLi))&&void 0!==s?s:0)}))},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&pm(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&dm(e,n.props)||null===(r=(t=n.props).onChange)||void 0===r||r.call(t,e)},n.isSelectedTime=function(e){return n.props.selected&&(t=n.props.selected,r=e,Sm(t).getTime()===Sm(r).getTime());var t,r},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&pm(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&dm(e,n.props)},n.liClasses=function(e){var r,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(e)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(3600*ld(e)+60*cd(e)+ud(e))%(60*(null!==(r=n.props.intervals)&&void 0!==r?r:t.defaultProps.intervals))!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(e,t){var r,s;e.key===If.Space&&(e.preventDefault(),e.key=If.Enter),(e.key===If.ArrowUp||e.key===If.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===If.ArrowDown||e.key===If.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===If.Enter&&n.handleClick(t),null===(s=(r=n.props).handleOnKeyDown)||void 0===s||s.call(r,e)},n.renderTimes=function(){for(var e,r=[],s="string"===typeof n.props.format?n.props.format:"p",i=null!==(e=n.props.intervals)&&void 0!==e?e:t.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Df(),o=Ff(a),l=n.props.injectTimes&&n.props.injectTimes.sort((function(e,t){return e.getTime()-t.getTime()})),c=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(a),u=c/i,h=0;h<u;h++){var d=kd(o,h*i);if(r.push(d),l){var p=Tm(o,d,h,i,l);r=r.concat(p)}}var m=r.reduce((function(e,t){return t.getTime()<=a.getTime()?t:e}),r[0]);return r.map((function(e){return f.createElement("li",{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===m&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===m?0:-1,role:"option","aria-selected":n.isSelectedTime(e)?"true":void 0,"aria-disabled":n.isDisabledTime(e)?"true":void 0},Mf(e,s,n.props.locale))}))},n.renderTimeCaption=function(){return!1===n.props.showTimeCaption?f.createElement(f.Fragment,null):f.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){n.header=e}},f.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return kf(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e,n=this,r=this.state.height;return f.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(e=this.props.todayButton)&&void 0!==e?e:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),f.createElement("div",{className:"react-datepicker__time"},f.createElement("div",{className:"react-datepicker__time-box"},f.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){n.list=e},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(f.Component),qm=function(e){function t(t){var n=e.call(this,t)||this;return n.YEAR_REFS=_f([],Array(n.props.yearItemNumber),!0).map((function(){return(0,f.createRef)()})),n.isDisabled=function(e){return tm(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return nm(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var e;return null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame((function(){var t,r;null===(r=null===(t=n.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===r||r.focus()}))},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,s,i,a,o=n.props,l=o.date,c=o.yearItemNumber;if(void 0!==l&&void 0!==c){var u=km(l,c).startPeriod;n.isDisabled(t)||n.isExcluded(t)||(null===(s=(r=n.props).setPreSelection)||void 0===s||s.call(r,t),e-u<0?n.updateFocusOnPaginate(c-(u-e)):e-u>=c?n.updateFocusOnPaginate(Math.abs(c-(e-u))):null===(a=null===(i=n.YEAR_REFS[e-u])||void 0===i?void 0:i.current)||void 0===a||a.focus())}},n.isSameDay=function(e,t){return Yf(e,t)},n.isCurrentYear=function(e){return e===sd(Df())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&Vf(Dd(Df(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&Vf(Dd(Df(),e),n.props.endDate)},n.isInRange=function(e){return om(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,s=t.selectsEnd,i=t.selectsRange,a=t.startDate,o=t.endDate;return!(!(r||s||i)||!n.selectingDate())&&(r&&o?om(e,n.selectingDate(),o):(s&&a||!(!i||!a||o))&&om(e,a,n.selectingDate()))},n.isSelectingRangeStart=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,s=r.startDate,i=r.selectsStart,a=Dd(Df(),e);return Vf(a,i?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==s&&void 0!==s?s:null)},n.isSelectingRangeEnd=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,s=r.endDate,i=r.selectsEnd,a=r.selectsRange,o=Dd(Df(),e);return Vf(o,i||a?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==s&&void 0!==s?s:null)},n.isKeyboardSelected=function(e){if(void 0!==n.props.date&&null!=n.props.selected&&null!=n.props.preSelection){var t=n.props,r=t.minDate,s=t.maxDate,i=t.excludeDates,a=t.includeDates,o=t.filterDate,l=Uf(Dd(n.props.date,e)),c=(r||s||i||a||o)&&lm(e,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Yf(l,Uf(n.props.selected))&&Yf(l,Uf(n.props.preSelection))&&!c}},n.onYearClick=function(e,t){var r=n.props.date;void 0!==r&&n.handleYearClick(Uf(Dd(r,t)),e)},n.onYearKeyDown=function(e,t){var r,s,i=e.key,a=n.props,o=a.date,l=a.yearItemNumber,c=a.handleOnKeyDown;if(i!==If.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(i){case If.Enter:if(null==n.props.selected)break;n.onYearClick(e,t),null===(s=(r=n.props).setPreSelection)||void 0===s||s.call(r,n.props.selected);break;case If.ArrowRight:if(null==n.props.preSelection)break;n.handleYearNavigation(t+1,bd(n.props.preSelection,1));break;case If.ArrowLeft:if(null==n.props.preSelection)break;n.handleYearNavigation(t-1,yd(n.props.preSelection,1));break;case If.ArrowUp:if(void 0===o||void 0===l||null==n.props.preSelection)break;var u=km(o,l).startPeriod;if((p=t-(d=3))<u){var h=l%d;t>=u&&t<u+h?d=h:d+=h,p=t-d}n.handleYearNavigation(p,yd(n.props.preSelection,d));break;case If.ArrowDown:if(void 0===o||void 0===l||null==n.props.preSelection)break;var d,p,f=km(o,l).endPeriod;if((p=t+(d=3))>f){h=l%d;t<=f&&t>f-h?d=h:d+=h,p=t+d}n.handleYearNavigation(p,bd(n.props.preSelection,d))}c&&c(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,s=t.minDate,i=t.maxDate,a=t.selected,o=t.excludeDates,l=t.includeDates,c=t.filterDate,u=t.yearClassName;return xc("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null===u||void 0===u?void 0:u(Dd(r,e)):void 0,{"react-datepicker__year-text--selected":a?e===sd(a):void 0,"react-datepicker__year-text--disabled":(s||i||o||l||c)&&lm(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||null==n.props.preSelection)return"-1";var t=sd(n.props.preSelection),r=lm(e,n.props);return e!==t||r?"-1":"0"},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return kf(t,e),t.prototype.render=function(){var e=this,t=[],n=this.props,r=n.date,s=n.yearItemNumber,i=n.onYearMouseEnter,a=n.onYearMouseLeave;if(void 0===r)return null;for(var o=km(r,s),l=o.startPeriod,c=o.endPeriod,u=function(n){t.push(f.createElement("div",{ref:h.YEAR_REFS[n-l],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){Am(t)&&(t.preventDefault(),t.key=If.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(h.getYearTabIndex(n)),className:h.getYearClassNames(n),onMouseEnter:h.props.usePointerEvent?void 0:function(e){return i(e,n)},onPointerEnter:h.props.usePointerEvent?function(e){return i(e,n)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(e){return a(e,n)},onPointerLeave:h.props.usePointerEvent?function(e){return a(e,n)}:void 0,key:n,"aria-current":h.isCurrentYear(n)?"date":void 0},h.getYearContent(n)))},h=this,d=l;d<=c;d++)u(d);return f.createElement("div",{className:"react-datepicker__year"},f.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(f.Component);function jm(e,t,n,r){for(var s=[],i=0;i<2*t+1;i++){var a=e+t-i,o=!0;n&&(o=sd(n)<=a),r&&o&&(o=sd(r)>=a),o&&s.push(a)}return s}var Ym=function(e){function t(t){var n=e.call(this,t)||this;n.renderOptions=function(){var e=n.props.year,t=n.state.yearsList.map((function(t){return f.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":e===t?"true":void 0},e===t?f.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)})),r=n.props.minDate?sd(n.props.minDate):null,s=n.props.maxDate?sd(n.props.maxDate):null;return s&&n.state.yearsList.find((function(e){return e===s}))||t.unshift(f.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},f.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),r&&n.state.yearsList.find((function(e){return e===r}))||t.push(f.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},f.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map((function(t){return t+e}));n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,i=r||(s?10:5);return n.state={yearsList:jm(n.props.year,i,n.props.minDate,n.props.maxDate)},n.dropdownRef=(0,f.createRef)(),n}return kf(t,e),t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find((function(e){return e.ariaSelected})):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=xc({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return f.createElement(Cf,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(f.Component),Km=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?sd(t.props.minDate):1900,n=t.props.maxDate?sd(t.props.maxDate):2100,r=[],s=e;s<=n;s++)r.push(f.createElement("option",{key:s,value:s},s));return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return f.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return f.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return t.toggleDropdown(e)}},f.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),f.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return f.createElement(Ym,Sf({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},(function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)}))},t.handleYearChange=function(e,n){var r;null===(r=t.onSelect)||void 0===r||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,s;null===(s=(r=t.props).onSelect)||void 0===s||s.call(r,e,n)},t.setOpen=function(){var e,n;null===(n=(e=t.props).setOpen)||void 0===n||n.call(e,!0)},t}return kf(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return f.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(f.Component),Xm=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Qm=function(e){function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(e){var t,n;(function(e){var t=(e.className||"").split(/\s+/);return Xm.some((function(e){return t.indexOf(e)>=0}))})(e.target)&&(null===(n=(t=r.props).onDropdownFocus)||void 0===n||n.call(t,e))},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,s=e.openToDate,i=ym(r.props),a=vm(r.props),o=Df(),l=s||n||t;return l||(i&&gh(o,i)?i:a&&_d(o,a)?a:o)},r.increaseMonth=function(){r.setState((function(e){return{date:hd(e.date,1)}}),(function(){return r.handleMonthChange(r.state.date)}))},r.decreaseMonth=function(){r.setState((function(e){return{date:dd(e.date,1)}}),(function(){return r.handleMonthChange(r.state.date)}))},r.handleDayClick=function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(e,t){r.setState({selectingDate:Dd(Df(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)},r.handleYearMouseLeave=function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)},r.handleYearChange=function(e){var t,n,s,i;null===(n=(t=r.props).onYearChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(e),null===(i=(s=r.props).setOpen)||void 0===i||i.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(e)},r.getEnabledPreSelectionDateForMonth=function(e){if(!tm(e,r.props))return e;for(var t=Bf(e),n=Rd(Gf(e),t),s=null,i=0;i<=n;i++){var a=eh(t,i);if(!tm(a,r.props)){s=a;break}}return s},r.handleMonthChange=function(e){var t,n,s,i=null!==(t=r.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect(i),null===(s=(n=r.props).setOpen)||void 0===s||s.call(n,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleCustomMonthChange=function(e){var t,n;null===(n=(t=r.props).onMonthChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState((function(t){return{date:Dd(t.date,Number(e))}}),(function(){return r.handleYearChange(r.state.date)}))},r.changeMonth=function(e){r.setState((function(t){return{date:nd(t.date,Number(e))}}),(function(){return r.handleMonthChange(r.state.date)}))},r.changeMonthYear=function(e){r.setState((function(t){return{date:Dd(nd(t.date,id(e)),sd(e))}}),(function(){return r.handleMonthYearChange(r.state.date)}))},r.header=function(e){void 0===e&&(e=r.state.date);var t=$f(e,r.props.locale,r.props.calendarStartDay),n=[];return r.props.showWeekNumbers&&n.push(f.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),n.concat([0,1,2,3,4,5,6].map((function(e){var n=eh(t,e),s=r.formatWeekday(n,r.props.locale),i=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return f.createElement("div",{key:e,"aria-label":Mf(n,"EEEE",r.props.locale),className:xc("react-datepicker__day-name",i)},s)})))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(Mf(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return Mf(e,"EEE",t)}(e,t):function(e,t){return Mf(e,"EEEEEE",t)}(e,t)},r.decreaseYear=function(){r.setState((function(e){var n;return{date:yd(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var e,n,s;if(!r.props.renderCustomHeader){var i,a=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,o=r.props.showPreviousMonths?a-1:0,l=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:o,c=dd(r.state.date,l);switch(!0){case r.props.showMonthYearPicker:i=gm(r.state.date,r.props);break;case r.props.showYearPicker:i=function(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.yearItemNumber,i=void 0===s?12:s,a=km(Uf(yd(e,i)),i).endPeriod,o=r&&sd(r);return o&&o>a||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=function(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.includeDates,i=md(xh(e),1);return r&&gd(r,i)>0||s&&s.every((function(e){return gd(e,i)>0}))||!1}(r.state.date,r.props);break;default:i=fm(c,r.props)}if(((null!==(s=r.props.forceShowMonthNavigation)&&void 0!==s?s:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!i)&&!r.props.showTimeSelectOnly){var u=["react-datepicker__navigation","react-datepicker__navigation--previous"],h=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(h=r.decreaseYear),i&&r.props.showDisabledMonthNavigation&&(u.push("react-datepicker__navigation--previous--disabled"),h=void 0);var d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,p=r.props,m=p.previousMonthButtonLabel,g=void 0===m?t.defaultProps.previousMonthButtonLabel:m,b=p.previousYearButtonLabel,y=void 0===b?t.defaultProps.previousYearButtonLabel:b,v=r.props,x=v.previousMonthAriaLabel,E=void 0===x?"string"===typeof g?g:"Previous Month":x,T=v.previousYearAriaLabel,w=void 0===T?"string"===typeof y?y:"Previous Year":T;return f.createElement("button",{type:"button",className:u.join(" "),onClick:h,onKeyDown:r.props.handleOnKeyDown,"aria-label":d?w:E},f.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},d?y:g))}}},r.increaseYear=function(){r.setState((function(e){var n;return{date:bd(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))},r.renderNextButton=function(){var e;if(!r.props.renderCustomHeader){var n;switch(!0){case r.props.showMonthYearPicker:n=bm(r.state.date,r.props);break;case r.props.showYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,s=n.yearItemNumber,i=void 0===s?12:s,a=km(bd(e,i),i).startPeriod,o=r&&sd(r);return o&&o<a||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,s=n.includeDates,i=fd(ad(e),1);return r&&gd(i,r)>0||s&&s.every((function(e){return gd(i,e)>0}))||!1}(r.state.date,r.props);break;default:n=mm(r.state.date,r.props)}if(((null!==(e=r.props.forceShowMonthNavigation)&&void 0!==e?e:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!n)&&!r.props.showTimeSelectOnly){var s=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var i=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(i=r.increaseYear),n&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),i=void 0);var a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,o=r.props,l=o.nextMonthButtonLabel,c=void 0===l?t.defaultProps.nextMonthButtonLabel:l,u=o.nextYearButtonLabel,h=void 0===u?t.defaultProps.nextYearButtonLabel:u,d=r.props,p=d.nextMonthAriaLabel,m=void 0===p?"string"===typeof c?c:"Next Month":p,g=d.nextYearAriaLabel,b=void 0===g?"string"===typeof h?h:"Next Year":g;return f.createElement("button",{type:"button",className:s.join(" "),onClick:i,onKeyDown:r.props.handleOnKeyDown,"aria-label":a?b:m},f.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},a?h:c))}}},r.renderCurrentMonth=function(e){void 0===e&&(e=r.state.date);var t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),f.createElement("h2",{className:t.join(" ")},Mf(e,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showYearDropdown&&!e)return f.createElement(Km,Sf({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:sd(r.state.date)}))},r.renderMonthDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthDropdown&&!e)return f.createElement(zm,Sf({},t.defaultProps,r.props,{month:id(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthYearDropdown&&!e)return f.createElement(Gm,Sf({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(e){r.props.onSelect(Hf(),e),r.props.setPreSelection&&r.props.setPreSelection(Hf())},r.renderTodayButton=function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return f.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i;return f.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),f.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)),f.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))},r.renderCustomHeader=function(e){var t,n,s=e.monthDate,i=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=fm(r.state.date,r.props),o=mm(r.state.date,r.props),l=gm(r.state.date,r.props),c=bm(r.state.date,r.props),u=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return f.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},null===(n=(t=r.props).renderCustomHeader)||void 0===n?void 0:n.call(t,Sf(Sf({},r.state),{customHeaderCount:i,monthDate:s,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:a,nextMonthButtonDisabled:o,prevYearButtonDisabled:l,nextYearButtonDisabled:c})),u&&f.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderYearHeader=function(e){var n=e.monthDate,s=r.props,i=s.showYearPicker,a=s.yearItemNumber,o=km(n,void 0===a?t.defaultProps.yearItemNumber:a),l=o.startPeriod,c=o.endPeriod;return f.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},i?"".concat(l," - ").concat(c):sd(n))},r.renderHeader=function(e){var t=e.monthDate,n=e.i,s={monthDate:t,i:void 0===n?0:n};switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(s);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(s);default:return r.renderDefaultHeader(s)}},r.renderMonths=function(){var e,n;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var s=[],i=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,a=r.props.showPreviousMonths?i-1:0,o=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?bd(r.state.date,a):dd(r.state.date,a),l=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:a,c=0;c<i;++c){var u=c-l+a,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?bd(o,u):hd(o,u),d="month-".concat(c),p=c<i-1,m=c>0;s.push(f.createElement("div",{key:d,ref:function(e){r.monthContainer=null!==e&&void 0!==e?e:void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:c}),f.createElement(Bm,Sf({},t.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:h,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:c,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:p,monthShowsDuplicateDaysStart:m}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?f.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),f.createElement(qm,Sf({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return f.createElement(Vm,Sf({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var e=r.props.selected?new Date(r.props.selected):void 0,n=e&&Of(e)&&Boolean(r.props.selected)?"".concat(wm(e.getHours()),":").concat(wm(e.getMinutes())):"";if(r.props.showTimeInput)return f.createElement(Nm,Sf({},t.defaultProps,r.props,{date:e,timeString:n,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var e,n,s=km(r.state.date,null!==(e=r.props.yearItemNumber)&&void 0!==e?e:t.defaultProps.yearItemNumber),i=s.startPeriod,a=s.endPeriod;return n=r.props.showYearPicker?"".concat(i," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?sd(r.state.date):"".concat(Zf(id(r.state.date),r.props.locale)," ").concat(sd(r.state.date)),f.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&n)},r.renderChildren=function(){if(r.props.children)return f.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=(0,f.createRef)(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return kf(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},t.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||Yf(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!Yf(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!qf(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},(function(){return n&&t.handleCustomMonthChange(t.state.date)}))}},t.prototype.render=function(){var e=this.props.container||Af;return f.createElement(Cf,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},f.createElement(e,{className:xc("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},t}(f.Component),Jm=function(e){var t=e.icon,n=e.className,r=void 0===n?"":n,s=e.onClick,i="react-datepicker__calendar-icon";if("string"===typeof t)return f.createElement("i",{className:"".concat(i," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:s});if(f.isValidElement(t)){var a=t;return f.cloneElement(a,{className:"".concat(a.props.className||""," ").concat(i," ").concat(r),onClick:function(e){"function"===typeof a.props.onClick&&a.props.onClick(e),"function"===typeof s&&s(e)}})}return f.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},f.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Zm=function(e){function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return kf(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return rp.createPortal(this.props.children,this.el)},t}(f.Component),eg=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},tg=function(e){function t(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=n.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(eg)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=(0,f.createRef)(),n}return kf(t,e),t.prototype.render=function(){var e;return(null!==(e=this.props.enableTabLoop)&&void 0!==e?e:t.defaultProps.enableTabLoop)?f.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},f.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,f.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(f.Component);var ng,rg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kf(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,n=e.className,r=e.wrapperClassName,s=e.hidePopper,i=void 0===s?t.defaultProps.hidePopper:s,a=e.popperComponent,o=e.targetComponent,l=e.enableTabLoop,c=e.popperOnKeyDown,u=e.portalId,h=e.portalHost,d=e.popperProps,p=e.showArrow,m=void 0;if(!i){var g=xc("react-datepicker-popper",n);m=f.createElement(tg,{enableTabLoop:l},f.createElement("div",{ref:d.refs.setFloating,style:d.floatingStyles,className:g,"data-placement":d.placement,onKeyDown:c},a,p&&f.createElement(gf,{ref:d.arrowRef,context:d.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(m=(0,f.createElement)(this.props.popperContainer,{},m)),u&&!i&&(m=f.createElement(Zm,{portalId:u,portalHost:h},m));var b=xc("react-datepicker-wrapper",r);return f.createElement(f.Fragment,null,f.createElement("div",{ref:d.refs.setReference,className:b},o),m)},t}(f.Component),sg=(ng=rg,function(e){var t,n,r,s="boolean"!==typeof e.hidePopper||e.hidePopper,i=(0,f.useRef)(null),a=Tf(Sf({open:!s,whileElementsMounted:zp,placement:e.popperPlacement,middleware:_f([(n={padding:15},{...Gp(n),options:[n,r]}),Zp(10),ef({element:i})],null!==(t=e.popperModifiers)&&void 0!==t?t:[],!0)},e.popperProps)),o=Sf(Sf({},e),{hidePopper:s,popperProps:Sf(Sf({},a),{arrowRef:i})});return f.createElement(ng,Sf({},o))}),ig="react-datepicker-ignore-onclickoutside";var ag="Date input not valid.",og=function(e){function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Df()},r.modifyHolidays=function(){var e;return null===(e=r.props.holidays)||void 0===e?void 0:e.reduce((function(e,t){var n=new Date(t.date);return Of(n)?_f(_f([],e,!0),[Sf(Sf({},t),{date:n})],!1):e}),[])},r.calcInitialState=function(){var e,t=r.getPreSelection(),n=ym(r.props),s=vm(r.props),i=n&&gh(t,Ff(n))?n:s&&_d(t,Wf(s))?s:t;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==e?e:i,highlightDates:xm(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Sf(Sf({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Sf(Sf({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout((function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})}),0)},r.safeBlur=function(){setTimeout((function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e)}),0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(e,t){void 0===t&&(t=!1),r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:cg},(function(){e||r.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&r.setBlur(),r.setState({inputValue:null})}))}))},r.inputOk=function(){return fh(r.state.preSelection)},r.isCalendarOpen=function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){var t,n,s=r.state.wasHidden,i=!s||r.state.open;s&&r.resetHiddenStatus(),r.state.preventFocus||(null===(n=(t=r.props).onFocus)||void 0===n||n.call(t,e),!i||r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},(function(){r.preventFocusTimeout=setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))}))},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout((function(){return r.setFocus()}),1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(e){var t,n;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&(null===(n=(t=r.props).onBlur)||void 0===n||n.call(t,e)),r.state.open&&!1===r.props.open&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){var t,n;r.props.inline||r.setOpen(!1),null===(n=(t=r.props).onClickOutside)||void 0===n||n.call(t,e),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e,n,s,i,a,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var c=o[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(r,o),c&&"function"===typeof c.isDefaultPrevented&&!c.isDefaultPrevented())){r.setState({inputValue:(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:lg});var u=r.props,h=u.selectsRange,d=u.startDate,p=u.endDate,f=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,m=null!==(n=r.props.strictParsing)&&void 0!==n?n:t.defaultProps.strictParsing,g=(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(h){var b=g.split("-",2).map((function(e){return e.trim()})),y=b[0],v=b[1],x=Rf(null!==y&&void 0!==y?y:"",f,r.props.locale,m),E=Rf(null!==v&&void 0!==v?v:"",f,r.props.locale,m),T=(null===d||void 0===d?void 0:d.getTime())!==(null===x||void 0===x?void 0:x.getTime()),w=(null===p||void 0===p?void 0:p.getTime())!==(null===E||void 0===E?void 0:E.getTime());if(!T&&!w)return;if(x&&tm(x,r.props))return;if(E&&tm(E,r.props))return;null===(i=(s=r.props).onChange)||void 0===i||i.call(s,[x,E],c)}else{var k=Rf(g,f,r.props.locale,m,null!==(a=r.props.selected)&&void 0!==a?a:void 0);!k&&g||r.setSelected(k,c,!0)}}},r.handleSelect=function(e,t,n){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.setSelected(e,t,!1,n),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(e);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var s=r.props,i=s.startDate,a=s.endDate;!i||a||!r.props.swapRange&&Im(e,i)||r.setOpen(!1)}},r.setSelected=function(e,t,n,s){var i,a,o=e;if(r.props.showYearPicker){if(null!==o&&lm(sd(o),r.props))return}else if(r.props.showMonthYearPicker){if(null!==o&&rm(o,r.props))return}else if(null!==o&&tm(o,r.props))return;var l=r.props,c=l.onChange,u=l.selectsRange,h=l.startDate,d=l.endDate,p=l.selectsMultiple,f=l.selectedDates,m=l.minTime,g=l.swapRange;if(!Kf(r.props.selected,o)||r.props.allowSameDay||u||p)if(null!==o&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(o=Pf(o,{hour:ld(r.props.selected),minute:cd(r.props.selected),second:ud(r.props.selected)})),n||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly||m&&(o=Pf(o,{hour:m.getHours(),minute:m.getMinutes(),second:m.getSeconds()})),r.props.inline||r.setState({preSelection:o}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:s})),u){var b=h&&!d,y=h&&d;!h&&!d?null===c||void 0===c||c([o,null],t):b&&(null===o?null===c||void 0===c||c([null,null],t):Im(o,h)?g?null===c||void 0===c||c([o,h],t):null===c||void 0===c||c([o,null],t):null===c||void 0===c||c([h,o],t)),y&&(null===c||void 0===c||c([o,null],t))}else if(p){if(null!==o)if(null===f||void 0===f?void 0:f.length)if(f.some((function(e){return Yf(e,o)}))){var v=f.filter((function(e){return!Yf(e,o)}));null===c||void 0===c||c(v,t)}else null===c||void 0===c||c(_f(_f([],f,!0),[o],!1),t);else null===c||void 0===c||c([o],t)}else null===c||void 0===c||c(o,t);n||(null===(a=(i=r.props).onSelect)||void 0===a||a.call(i,o,t),r.setState({inputValue:null}))},r.setPreSelection=function(e){var t=fh(r.props.minDate),n=fh(r.props.maxDate),s=!0;if(e){var i=Ff(e);if(t&&n)s=Xf(e,r.props.minDate,r.props.maxDate);else if(t){var a=Ff(r.props.minDate);s=_d(e,a)||Kf(i,a)}else if(n){var o=Wf(r.props.maxDate);s=gh(e,o)||Kf(i,o)}}s&&r.setState({preSelection:e})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(e){var t,n;if(!r.props.selectsRange&&!r.props.selectsMultiple){var s=r.props.selected?r.props.selected:r.getPreSelection(),i=r.props.selected?e:Pf(s,{hour:ld(e),minute:cd(e)});r.setState({preSelection:i}),null===(n=(t=r.props).onChange)||void 0===n||n.call(t,i),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var e,t;r.props.disabled||r.props.readOnly||r.setOpen(!0),null===(t=(e=r.props).onInputClick)||void 0===t||t.call(e)},r.onInputKeyDown=function(e){var t,n,s,i,a,o;null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e);var l=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if(l===If.ArrowDown||l===If.ArrowUp){e.preventDefault();var c=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',u=(null===(i=r.calendar)||void 0===i?void 0:i.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(c);return void(u instanceof HTMLElement&&u.focus({preventScroll:!0}))}var h=Df(r.state.preSelection);l===If.Enter?(e.preventDefault(),e.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===cg?(r.handleSelect(h,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(h)):r.setOpen(!1)):l===If.Escape?(e.preventDefault(),e.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):l===If.Tab&&r.setOpen(!1),r.inputOk()||null===(o=(a=r.props).onInputError)||void 0===o||o.call(a,{code:1,msg:ag})}}else l!==If.ArrowDown&&l!==If.ArrowUp&&l!==If.Enter||null===(s=r.onInputClick)||void 0===s||s.call(r)},r.onPortalKeyDown=function(e){e.key===If.Escape&&(e.preventDefault(),r.setState({preventFocus:!0},(function(){r.setOpen(!1),setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))})))},r.onDayKeyDown=function(e){var t,n,s,i,a,o,l=r.props,c=l.minDate,u=l.maxDate,h=l.disabledKeyboardNavigation,d=l.showWeekPicker,p=l.shouldCloseOnSelect,f=l.locale,m=l.calendarStartDay,g=l.adjustDateOnChange,b=l.inline;if(null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e),!h){var y=e.key,v=e.shiftKey,x=Df(r.state.preSelection),E=function(e,t){var n=t;switch(e){case If.ArrowRight:n=d?Cd(t,1):eh(t,1);break;case If.ArrowLeft:n=d?Md(t,1):Ld(t,1);break;case If.ArrowUp:n=Md(t,1);break;case If.ArrowDown:n=Cd(t,1);break;case If.PageUp:n=v?yd(t,1):dd(t,1);break;case If.PageDown:n=v?bd(t,1):hd(t,1);break;case If.Home:n=$f(t,f,m);break;case If.End:n=function(e){return jh(e)}(t)}return n};if(y===If.Enter)return e.preventDefault(),r.handleSelect(x,e),void(!p&&r.setPreSelection(x));if(y===If.Escape)return e.preventDefault(),r.setOpen(!1),void(r.inputOk()||null===(i=(s=r.props).onInputError)||void 0===i||i.call(s,{code:1,msg:ag}));var T=null;switch(y){case If.ArrowLeft:case If.ArrowRight:case If.ArrowUp:case If.ArrowDown:case If.PageUp:case If.PageDown:case If.Home:case If.End:T=function(e,t){for(var n=e,s=!1,i=0,a=E(e,t);!s;){if(i>=40){a=t;break}c&&a<c&&(n=If.ArrowRight,a=tm(c,r.props)?E(n,a):c),u&&a>u&&(n=If.ArrowLeft,a=tm(u,r.props)?E(n,a):u),tm(a,r.props)?(n!==If.PageUp&&n!==If.Home||(n=If.ArrowRight),n!==If.PageDown&&n!==If.End||(n=If.ArrowLeft),a=E(n,a)):s=!0,i++}return a}(y,x)}if(T){if(e.preventDefault(),r.setState({lastPreSelectChange:cg}),g&&r.setSelected(T),r.setPreSelection(T),b){var w=id(x),k=id(T),S=sd(x),_=sd(T);w!==k||S!==_?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}else null===(o=(a=r.props).onInputError)||void 0===o||o.call(a,{code:1,msg:ag})}},r.onPopperKeyDown=function(e){e.key===If.Escape&&(e.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput();var t=r.props,n=t.selectsRange,s=t.onChange;n?null===s||void 0===s||s([null,null],e):null===s||void 0===s||s(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(e){"boolean"===typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"===typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)},r.renderCalendar=function(){var e,n;return r.props.inline||r.isCalendarOpen()?f.createElement(Qm,Sf({showMonthYearDropdown:void 0,ref:function(e){r.calendar=e}},r.props,r.state,{setOpen:r.setOpen,dateFormat:null!==(e=r.props.dateFormatCalendar)&&void 0!==e?e:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:Em(r.modifyHolidays()),outsideClickIgnoreClass:ig,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:null!==(n=r.props.dropdownMode)&&void 0!==n?n:t.defaultProps.dropdownMode}),r.props.children):null},r.renderAriaLiveRegion=function(){var e,n=r.props,s=n.dateFormat,i=void 0===s?t.defaultProps.dateFormat:s,a=n.locale,o=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return e=r.props.selectsRange?"Selected start date: ".concat(Lf(r.props.startDate,{dateFormat:o,locale:a}),". ").concat(r.props.endDate?"End date: "+Lf(r.props.endDate,{dateFormat:o,locale:a}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(Lf(r.props.selected,{dateFormat:i,locale:a})):r.props.showYearPicker?"Selected year: ".concat(Lf(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?"Selected month: ".concat(Lf(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(Lf(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):"Selected date: ".concat(Lf(r.props.selected,{dateFormat:o,locale:a})),f.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)},r.renderDateInput=function(){var e,n,s,i=xc(r.props.className,((e={})[ig]=r.state.open,e)),a=r.props.customInput||f.createElement("input",{type:"text"}),o=r.props.customInputRef||"ref",l=r.props,c=l.dateFormat,u=void 0===c?t.defaultProps.dateFormat:c,h=l.locale,d="string"===typeof r.props.value?r.props.value:"string"===typeof r.state.inputValue?r.state.inputValue:r.props.selectsRange?function(e,t,n){if(!e)return"";var r=Lf(e,n),s=t?Lf(t,n):"";return"".concat(r," - ").concat(s)}(r.props.startDate,r.props.endDate,{dateFormat:u,locale:h}):r.props.selectsMultiple?function(e,t){if(!(null===e||void 0===e?void 0:e.length))return"";var n=e[0]?Lf(e[0],t):"";if(1===e.length)return n;if(2===e.length&&e[1]){var r=Lf(e[1],t);return"".concat(n,", ").concat(r)}var s=e.length-1;return"".concat(n," (+").concat(s,")")}(null!==(s=r.props.selectedDates)&&void 0!==s?s:[],{dateFormat:u,locale:h}):Lf(r.props.selected,{dateFormat:u,locale:h});return(0,f.cloneElement)(a,((n={})[o]=function(e){r.input=e},n.value=d,n.onBlur=r.handleBlur,n.onChange=r.handleChange,n.onClick=r.onInputClick,n.onFocus=r.handleFocus,n.onKeyDown=r.onInputKeyDown,n.id=r.props.id,n.name=r.props.name,n.form=r.props.form,n.autoFocus=r.props.autoFocus,n.placeholder=r.props.placeholderText,n.disabled=r.props.disabled,n.autoComplete=r.props.autoComplete,n.className=xc(a.props.className,i),n.title=r.props.title,n.readOnly=r.props.readOnly,n.required=r.props.required,n.tabIndex=r.props.tabIndex,n["aria-describedby"]=r.props.ariaDescribedBy,n["aria-invalid"]=r.props.ariaInvalid,n["aria-labelledby"]=r.props.ariaLabelledBy,n["aria-required"]=r.props.ariaRequired,n))},r.renderClearButton=function(){var e=r.props,t=e.isClearable,n=e.disabled,s=e.selected,i=e.startDate,a=e.endDate,o=e.clearButtonTitle,l=e.clearButtonClassName,c=void 0===l?"":l,u=e.ariaLabelClose,h=void 0===u?"Close":u,d=e.selectedDates;return t&&(null!=s||null!=i||null!=a||(null===d||void 0===d?void 0:d.length))?f.createElement("button",{type:"button",className:xc("react-datepicker__close-icon",c,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":h,onClick:r.onClearClick,title:o,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return kf(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var n,r,s,i,a,o;e.inline&&(a=e.selected,o=this.props.selected,a&&o?id(a)!==id(o)||sd(a)!==sd(o):a!==o)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:xm(this.props.highlightDates)}),t.focused||Kf(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(r=(n=this.props).onCalendarOpen)||void 0===r||r.call(n)),!0===t.open&&!1===this.state.open&&(null===(i=(s=this.props).onCalendarClose)||void 0===i||i.call(s)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,s=e.calendarIconClassName,i=e.toggleCalendarOnIconClick,a=this.state.open;return r&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),f.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&f.createElement(Jm,Sf({icon:n,className:xc(s,!s&&r,a&&"react-datepicker-ignore-onclickoutside")},i?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?f.createElement(tg,{enableTabLoop:this.props.enableTabLoop},f.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=f.createElement(Zm,Sf({portalId:this.props.portalId},this.props),t)),f.createElement("div",null,this.renderInputContainer(),t)}return f.createElement(sg,Sf({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(f.Component),lg="input",cg="navigate",ug=(n(366),n(738));const hg="react-tooltip-core-styles",dg="react-tooltip-base-styles",pg={core:!1,base:!1};function fg(e){let{css:t,id:n=dg,type:r="base",ref:s}=e;var i,a;if(!t||"undefined"==typeof document||pg[r])return;if("core"===r&&"undefined"!=typeof process&&(null===(i=null===process||void 0===process?void 0:{NODE_ENV:"production",PUBLIC_URL:"/radiology-ai-dashboard",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===i?void 0:i.REACT_TOOLTIP_DISABLE_CORE_STYLES))return;if("base"!==r&&"undefined"!=typeof process&&(null===(a=null===process||void 0===process?void 0:{NODE_ENV:"production",PUBLIC_URL:"/radiology-ai-dashboard",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===a?void 0:a.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;"core"===r&&(n=hg),s||(s={});const{insertAt:o}=s;if(document.getElementById(n))return;const l=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=n,c.type="text/css","top"===o&&l.firstChild?l.insertBefore(c,l.firstChild):l.appendChild(c),c.styleSheet?c.styleSheet.cssText=t:c.appendChild(document.createTextNode(t)),pg[r]=!0}const mg=async e=>{let{elementReference:t=null,tooltipReference:n=null,tooltipArrowReference:r=null,place:s="top",offset:i=10,strategy:a="absolute",middlewares:o=[Hp(Number(i)),Gp({fallbackAxisSideDirection:"start"}),Wp({padding:5})],border:l}=e;if(!t)return{tooltipStyles:{},tooltipArrowStyles:{},place:s};if(null===n)return{tooltipStyles:{},tooltipArrowStyles:{},place:s};const c=o;return r?(c.push(Vp({element:r,padding:5})),qp(t,n,{placement:s,strategy:a,middleware:c}).then((e=>{let{x:t,y:n,placement:r,middlewareData:s}=e;var i,a;const o={left:`${t}px`,top:`${n}px`,border:l},{x:c,y:u}=null!==(i=s.arrow)&&void 0!==i?i:{x:0,y:0},h=null!==(a={top:"bottom",right:"left",bottom:"top",left:"right"}[r.split("-")[0]])&&void 0!==a?a:"bottom",d=l&&{borderBottom:l,borderRight:l};let p=0;if(l){const e=`${l}`.match(/(\d+)px/);p=(null==e?void 0:e[1])?Number(e[1]):1}return{tooltipStyles:o,tooltipArrowStyles:{left:null!=c?`${c}px`:"",top:null!=u?`${u}px`:"",right:"",bottom:"",...d,[h]:`-${4+p}px`},place:r}}))):qp(t,n,{placement:"bottom",strategy:a,middleware:c}).then((e=>{let{x:t,y:n,placement:r}=e;return{tooltipStyles:{left:`${t}px`,top:`${n}px`},tooltipArrowStyles:{},place:r}}))},gg=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),bg=(e,t,n)=>{let r=null;const s=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];const o=()=>{r=null,n||e.apply(this,i)};n&&!r&&(e.apply(this,i),r=setTimeout(o,t)),n||(r&&clearTimeout(r),r=setTimeout(o,t))};return s.cancel=()=>{r&&(clearTimeout(r),r=null)},s},yg=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,vg=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,n)=>vg(e,t[n])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!yg(e)||!yg(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((n=>vg(e[n],t[n])))},xg=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((e=>{const n=t.getPropertyValue(e);return"auto"===n||"scroll"===n}))},Eg=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(xg(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Tg="undefined"!=typeof window?f.useLayoutEffect:f.useEffect,wg=e=>{e.current&&(clearTimeout(e.current),e.current=null)},kg="DEFAULT_TOOLTIP_ID",Sg={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},_g=(0,f.createContext)({getTooltipData:()=>Sg});function Ig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kg;return(0,f.useContext)(_g).getTooltipData(e)}var Ag={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Cg={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Ng=e=>{let{forwardRef:t,id:n,className:r,classNameArrow:s,variant:i="dark",anchorId:a,anchorSelect:o,place:l="top",offset:c=10,events:u=["hover"],openOnClick:h=!1,positionStrategy:d="absolute",middlewares:p,wrapper:m,delayShow:g=0,delayHide:b=0,float:y=!1,hidden:v=!1,noArrow:x=!1,clickable:E=!1,closeOnEsc:T=!1,closeOnScroll:w=!1,closeOnResize:k=!1,openEvents:S,closeEvents:_,globalCloseEvents:I,imperativeModeOnly:A,style:C,position:N,afterShow:D,afterHide:R,disableTooltip:O,content:M,contentWrapperRef:L,isOpen:P,defaultIsOpen:F=!1,setIsOpen:$,activeAnchor:B,setActiveAnchor:U,border:z,opacity:H,arrowColor:W,role:G="tooltip"}=e;var V;const q=(0,f.useRef)(null),j=(0,f.useRef)(null),Y=(0,f.useRef)(null),K=(0,f.useRef)(null),X=(0,f.useRef)(null),[Q,J]=(0,f.useState)({tooltipStyles:{},tooltipArrowStyles:{},place:l}),[Z,ee]=(0,f.useState)(!1),[te,ne]=(0,f.useState)(!1),[re,se]=(0,f.useState)(null),ie=(0,f.useRef)(!1),ae=(0,f.useRef)(null),{anchorRefs:oe,setActiveAnchor:le}=Ig(n),ce=(0,f.useRef)(!1),[ue,he]=(0,f.useState)([]),de=(0,f.useRef)(!1),pe=h||u.includes("click"),fe=pe||(null==S?void 0:S.click)||(null==S?void 0:S.dblclick)||(null==S?void 0:S.mousedown),me=S?{...S}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!S&&pe&&Object.assign(me,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const ge=_?{..._}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!_&&pe&&Object.assign(ge,{mouseleave:!1,blur:!1,mouseout:!1});const be=I?{...I}:{escape:T||!1,scroll:w||!1,resize:k||!1,clickOutsideAnchor:fe||!1};A&&(Object.assign(me,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(ge,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(be,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Tg((()=>(de.current=!0,()=>{de.current=!1})),[]);const ye=e=>{de.current&&(e&&ne(!0),setTimeout((()=>{de.current&&(null==$||$(e),void 0===P&&ee(e))}),10))};(0,f.useEffect)((()=>{if(void 0===P)return()=>null;P&&ne(!0);const e=setTimeout((()=>{ee(P)}),10);return()=>{clearTimeout(e)}}),[P]),(0,f.useEffect)((()=>{if(Z!==ie.current)if(wg(X),ie.current=Z,Z)null==D||D();else{const e=(()=>{const e=getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay").match(/^([\d.]+)(ms|s)$/);if(!e)return 0;const[,t,n]=e;return Number(t)*("ms"===n?1:1e3)})();X.current=setTimeout((()=>{ne(!1),se(null),null==R||R()}),e+25)}}),[Z]);const ve=e=>{J((t=>vg(t,e)?t:e))},xe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;wg(Y),te?ye(!0):Y.current=setTimeout((()=>{ye(!0)}),e)},Ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;wg(K),K.current=setTimeout((()=>{ce.current||ye(!1)}),e)},Te=e=>{var t;if(!e)return;const n=null!==(t=e.currentTarget)&&void 0!==t?t:e.target;if(!(null==n?void 0:n.isConnected))return U(null),void le({current:null});g?xe():ye(!0),U(n),le({current:n}),wg(K)},we=()=>{E?Ee(b||100):b?Ee():ye(!1),wg(Y)},ke=e=>{let{x:t,y:n}=e;var r;const s={getBoundingClientRect:()=>({x:t,y:n,width:0,height:0,top:n,left:t,right:t,bottom:n})};mg({place:null!==(r=null==re?void 0:re.place)&&void 0!==r?r:l,offset:c,elementReference:s,tooltipReference:q.current,tooltipArrowReference:j.current,strategy:d,middlewares:p,border:z}).then((e=>{ve(e)}))},Se=e=>{if(!e)return;const t=e,n={x:t.clientX,y:t.clientY};ke(n),ae.current=n},_e=e=>{var t;if(!Z)return;const n=e.target;n.isConnected&&((null===(t=q.current)||void 0===t?void 0:t.contains(n))||[document.querySelector(`[id='${a}']`),...ue].some((e=>null==e?void 0:e.contains(n)))||(ye(!1),wg(Y)))},Ie=bg(Te,50,!0),Ae=bg(we,50,!0),Ce=e=>{Ae.cancel(),Ie(e)},Ne=()=>{Ie.cancel(),Ae()},De=(0,f.useCallback)((()=>{var e,t;const n=null!==(e=null==re?void 0:re.position)&&void 0!==e?e:N;n?ke(n):y?ae.current&&ke(ae.current):(null==B?void 0:B.isConnected)&&mg({place:null!==(t=null==re?void 0:re.place)&&void 0!==t?t:l,offset:c,elementReference:B,tooltipReference:q.current,tooltipArrowReference:j.current,strategy:d,middlewares:p,border:z}).then((e=>{de.current&&ve(e)}))}),[Z,B,M,C,l,null==re?void 0:re.place,c,d,N,null==re?void 0:re.position,y]);(0,f.useEffect)((()=>{var e,t;const n=new Set(oe);ue.forEach((e=>{(null==O?void 0:O(e))||n.add({current:e})}));const r=document.querySelector(`[id='${a}']`);r&&!(null==O?void 0:O(r))&&n.add({current:r});const s=()=>{ye(!1)},i=Eg(B),o=Eg(q.current);be.scroll&&(window.addEventListener("scroll",s),null==i||i.addEventListener("scroll",s),null==o||o.addEventListener("scroll",s));let l=null;be.resize?window.addEventListener("resize",s):B&&q.current&&(l=zp(B,q.current,De,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const c=e=>{"Escape"===e.key&&ye(!1)};be.escape&&window.addEventListener("keydown",c),be.clickOutsideAnchor&&window.addEventListener("click",_e);const u=[],h=e=>{Z&&(null==e?void 0:e.target)===B||Te(e)},d=e=>{Z&&(null==e?void 0:e.target)===B&&we()},p=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],f=["click","dblclick","mousedown","mouseup"];Object.entries(me).forEach((e=>{let[t,n]=e;n&&(p.includes(t)?u.push({event:t,listener:Ce}):f.includes(t)&&u.push({event:t,listener:h}))})),Object.entries(ge).forEach((e=>{let[t,n]=e;n&&(p.includes(t)?u.push({event:t,listener:Ne}):f.includes(t)&&u.push({event:t,listener:d}))})),y&&u.push({event:"pointermove",listener:Se});const m=()=>{ce.current=!0},g=()=>{ce.current=!1,we()};return E&&!fe&&(null===(e=q.current)||void 0===e||e.addEventListener("mouseenter",m),null===(t=q.current)||void 0===t||t.addEventListener("mouseleave",g)),u.forEach((e=>{let{event:t,listener:r}=e;n.forEach((e=>{var n;null===(n=e.current)||void 0===n||n.addEventListener(t,r)}))})),()=>{var e,t;be.scroll&&(window.removeEventListener("scroll",s),null==i||i.removeEventListener("scroll",s),null==o||o.removeEventListener("scroll",s)),be.resize?window.removeEventListener("resize",s):null==l||l(),be.clickOutsideAnchor&&window.removeEventListener("click",_e),be.escape&&window.removeEventListener("keydown",c),E&&!fe&&(null===(e=q.current)||void 0===e||e.removeEventListener("mouseenter",m),null===(t=q.current)||void 0===t||t.removeEventListener("mouseleave",g)),u.forEach((e=>{let{event:t,listener:r}=e;n.forEach((e=>{var n;null===(n=e.current)||void 0===n||n.removeEventListener(t,r)}))}))}}),[B,De,te,oe,ue,S,_,I,pe,g,b]),(0,f.useEffect)((()=>{var e,t;let r=null!==(t=null!==(e=null==re?void 0:re.anchorSelect)&&void 0!==e?e:o)&&void 0!==t?t:"";!r&&n&&(r=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`);const s=new MutationObserver((e=>{const t=[],s=[];e.forEach((e=>{if("attributes"===e.type&&"data-tooltip-id"===e.attributeName&&(e.target.getAttribute("data-tooltip-id")===n?t.push(e.target):e.oldValue===n&&s.push(e.target)),"childList"===e.type){if(B){const t=[...e.removedNodes].filter((e=>1===e.nodeType));if(r)try{s.push(...t.filter((e=>e.matches(r)))),s.push(...t.flatMap((e=>[...e.querySelectorAll(r)])))}catch(e){}t.some((e=>{var t;return!!(null===(t=null==e?void 0:e.contains)||void 0===t?void 0:t.call(e,B))&&(ne(!1),ye(!1),U(null),wg(Y),wg(K),!0)}))}if(r)try{const n=[...e.addedNodes].filter((e=>1===e.nodeType));t.push(...n.filter((e=>e.matches(r)))),t.push(...n.flatMap((e=>[...e.querySelectorAll(r)])))}catch(e){}}})),(t.length||s.length)&&he((e=>[...e.filter((e=>!s.includes(e))),...t]))}));return s.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{s.disconnect()}}),[n,o,null==re?void 0:re.anchorSelect,B]),(0,f.useEffect)((()=>{De()}),[De]),(0,f.useEffect)((()=>{if(!(null==L?void 0:L.current))return()=>null;const e=new ResizeObserver((()=>{setTimeout((()=>De()))}));return e.observe(L.current),()=>{e.disconnect()}}),[M,null==L?void 0:L.current]),(0,f.useEffect)((()=>{var e;const t=document.querySelector(`[id='${a}']`),n=[...ue,t];B&&n.includes(B)||U(null!==(e=ue[0])&&void 0!==e?e:t)}),[a,ue,B]),(0,f.useEffect)((()=>(F&&ye(!0),()=>{wg(Y),wg(K)})),[]),(0,f.useEffect)((()=>{var e;let t=null!==(e=null==re?void 0:re.anchorSelect)&&void 0!==e?e:o;if(!t&&n&&(t=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`),t)try{const e=Array.from(document.querySelectorAll(t));he(e)}catch(e){he([])}}),[n,o,null==re?void 0:re.anchorSelect]),(0,f.useEffect)((()=>{Y.current&&(wg(Y),xe(g))}),[g]);const Re=null!==(V=null==re?void 0:re.content)&&void 0!==V?V:M,Oe=Z&&Object.keys(Q.tooltipStyles).length>0;return(0,f.useImperativeHandle)(t,(()=>({open:e=>{if(null==e?void 0:e.anchorSelect)try{document.querySelector(e.anchorSelect)}catch(t){return void console.warn(`[react-tooltip] "${e.anchorSelect}" is not a valid CSS selector`)}se(null!=e?e:null),(null==e?void 0:e.delay)?xe(e.delay):ye(!0)},close:e=>{(null==e?void 0:e.delay)?Ee(e.delay):ye(!1)},activeAnchor:B,place:Q.place,isOpen:Boolean(te&&!v&&Re&&Oe)}))),te&&!v&&Re?f.createElement(m,{id:n,role:G,className:ug("react-tooltip",Ag.tooltip,Cg.tooltip,Cg[i],r,`react-tooltip__place-${Q.place}`,Ag[Oe?"show":"closing"],Oe?"react-tooltip__show":"react-tooltip__closing","fixed"===d&&Ag.fixed,E&&Ag.clickable),onTransitionEnd:e=>{wg(X),Z||"opacity"!==e.propertyName||(ne(!1),se(null),null==R||R())},style:{...C,...Q.tooltipStyles,opacity:void 0!==H&&Oe?H:void 0},ref:q},Re,f.createElement(m,{className:ug("react-tooltip-arrow",Ag.arrow,Cg.arrow,s,x&&Ag.noArrow),style:{...Q.tooltipArrowStyles,background:W?`linear-gradient(to right bottom, transparent 50%, ${W} 50%)`:void 0},ref:j})):null},Dg=e=>{let{content:t}=e;return f.createElement("span",{dangerouslySetInnerHTML:{__html:t}})};f.forwardRef(((e,t)=>{let{id:n,anchorId:r,anchorSelect:s,content:i,html:a,render:o,className:l,classNameArrow:c,variant:u="dark",place:h="top",offset:d=10,wrapper:p="div",children:m=null,events:g=["hover"],openOnClick:b=!1,positionStrategy:y="absolute",middlewares:v,delayShow:x=0,delayHide:E=0,float:T=!1,hidden:w=!1,noArrow:k=!1,clickable:S=!1,closeOnEsc:_=!1,closeOnScroll:I=!1,closeOnResize:A=!1,openEvents:C,closeEvents:N,globalCloseEvents:D,imperativeModeOnly:R=!1,style:O,position:M,isOpen:L,defaultIsOpen:P=!1,disableStyleInjection:F=!1,border:$,opacity:B,arrowColor:U,setIsOpen:z,afterShow:H,afterHide:W,disableTooltip:G,role:V="tooltip"}=e;const[q,j]=(0,f.useState)(i),[Y,K]=(0,f.useState)(a),[X,Q]=(0,f.useState)(h),[J,Z]=(0,f.useState)(u),[ee,te]=(0,f.useState)(d),[ne,re]=(0,f.useState)(x),[se,ie]=(0,f.useState)(E),[ae,oe]=(0,f.useState)(T),[le,ce]=(0,f.useState)(w),[ue,he]=(0,f.useState)(p),[de,pe]=(0,f.useState)(g),[fe,me]=(0,f.useState)(y),[ge,be]=(0,f.useState)(null),[ye,ve]=(0,f.useState)(null),xe=(0,f.useRef)(F),{anchorRefs:Ee,activeAnchor:Te}=Ig(n),we=e=>null==e?void 0:e.getAttributeNames().reduce(((t,n)=>{var r;return n.startsWith("data-tooltip-")&&(t[n.replace(/^data-tooltip-/,"")]=null!==(r=null==e?void 0:e.getAttribute(n))&&void 0!==r?r:null),t}),{}),ke=e=>{const t={place:e=>{var t;Q(null!==(t=e)&&void 0!==t?t:h)},content:e=>{j(null!=e?e:i)},html:e=>{K(null!=e?e:a)},variant:e=>{var t;Z(null!==(t=e)&&void 0!==t?t:u)},offset:e=>{te(null===e?d:Number(e))},wrapper:e=>{var t;he(null!==(t=e)&&void 0!==t?t:p)},events:e=>{const t=null==e?void 0:e.split(" ");pe(null!=t?t:g)},"position-strategy":e=>{var t;me(null!==(t=e)&&void 0!==t?t:y)},"delay-show":e=>{re(null===e?x:Number(e))},"delay-hide":e=>{ie(null===e?E:Number(e))},float:e=>{oe(null===e?T:"true"===e)},hidden:e=>{ce(null===e?w:"true"===e)},"class-name":e=>{be(e)}};Object.values(t).forEach((e=>e(null))),Object.entries(e).forEach((e=>{let[n,r]=e;var s;null===(s=t[n])||void 0===s||s.call(t,r)}))};(0,f.useEffect)((()=>{j(i)}),[i]),(0,f.useEffect)((()=>{K(a)}),[a]),(0,f.useEffect)((()=>{Q(h)}),[h]),(0,f.useEffect)((()=>{Z(u)}),[u]),(0,f.useEffect)((()=>{te(d)}),[d]),(0,f.useEffect)((()=>{re(x)}),[x]),(0,f.useEffect)((()=>{ie(E)}),[E]),(0,f.useEffect)((()=>{oe(T)}),[T]),(0,f.useEffect)((()=>{ce(w)}),[w]),(0,f.useEffect)((()=>{me(y)}),[y]),(0,f.useEffect)((()=>{xe.current!==F&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[F]),(0,f.useEffect)((()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:"core"===F,disableBase:F}}))}),[]),(0,f.useEffect)((()=>{var e;const t=new Set(Ee);let i=s;if(!i&&n&&(i=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`),i)try{document.querySelectorAll(i).forEach((e=>{t.add({current:e})}))}catch(e){console.warn(`[react-tooltip] "${i}" is not a valid CSS selector`)}const a=document.querySelector(`[id='${r}']`);if(a&&t.add({current:a}),!t.size)return()=>null;const o=null!==(e=null!=ye?ye:a)&&void 0!==e?e:Te.current,l=new MutationObserver((e=>{e.forEach((e=>{var t;if(!o||"attributes"!==e.type||!(null===(t=e.attributeName)||void 0===t?void 0:t.startsWith("data-tooltip-")))return;const n=we(o);ke(n)}))})),c={attributes:!0,childList:!1,subtree:!1};if(o){const e=we(o);ke(e),l.observe(o,c)}return()=>{l.disconnect()}}),[Ee,Te,ye,r,s]),(0,f.useEffect)((()=>{(null==O?void 0:O.border)&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),$&&!gg("border",`${$}`)&&console.warn(`[react-tooltip] "${$}" is not a valid \`border\`.`),(null==O?void 0:O.opacity)&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),B&&!gg("opacity",`${B}`)&&console.warn(`[react-tooltip] "${B}" is not a valid \`opacity\`.`)}),[]);let Se=m;const _e=(0,f.useRef)(null);if(o){const e=o({content:(null==ye?void 0:ye.getAttribute("data-tooltip-content"))||q||null,activeAnchor:ye});Se=e?f.createElement("div",{ref:_e,className:"react-tooltip-content-wrapper"},e):null}else q&&(Se=q);Y&&(Se=f.createElement(Dg,{content:Y}));const Ie={forwardRef:t,id:n,anchorId:r,anchorSelect:s,className:ug(l,ge),classNameArrow:c,content:Se,contentWrapperRef:_e,place:X,variant:J,offset:ee,wrapper:ue,events:de,openOnClick:b,positionStrategy:fe,middlewares:v,delayShow:ne,delayHide:se,float:ae,hidden:le,noArrow:k,clickable:S,closeOnEsc:_,closeOnScroll:I,closeOnResize:A,openEvents:C,closeEvents:N,globalCloseEvents:D,imperativeModeOnly:R,style:O,position:M,isOpen:L,defaultIsOpen:P,border:$,opacity:B,arrowColor:U,setIsOpen:z,afterShow:H,afterHide:W,disableTooltip:G,activeAnchor:ye,setActiveAnchor:e=>ve(e),role:V};return f.createElement(Ng,{...Ie})}));"undefined"!=typeof window&&window.addEventListener("react-tooltip-inject-styles",(e=>{e.detail.disableCore||fg({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||fg({css:"\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}",type:"base"})}));class Rg{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class Og{refCount(e){return Mg("refCount")}incRef(e){return Mg("incRef")}timerAvailable(){return!0}time(e){return Mg("time")}read(e){return Mg("read")}readSync(e){return Mg("readSync")}readToGPU(e,t){return Mg("readToGPU")}numDataIds(){return Mg("numDataIds")}disposeData(e,t){return Mg("disposeData")}write(e,t,n){return Mg("write")}move(e,t,n,r,s){return Mg("move")}createTensorFromGPUData(e,t,n){return Mg("createTensorFromGPUData")}memory(){return Mg("memory")}floatPrecision(){return Mg("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return Mg("dispose")}}function Mg(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function Lg(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,$g(e,t,n)}function Pg(e,t,n){return Math.max(e,Math.min(t,n))}function Fg(e){return e%2===0?e:e+1}function $g(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Bg(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function Ug(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Bg(Wg(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function zg(e){Bg(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function Hg(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function Wg(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Gg(e){return e%1===0}function Vg(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function qg(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function jg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return new Promise(((s,i)=>{let a=0;const o=()=>{if(e())return void s();a++;const l=t(a);null!=n&&a>=n?i():null!=r?r(o,l):setTimeout(o,l)};o()}))}function Yg(e,t){let n=1,r=-1;for(let i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(e[i]<0)throw Error(`Shapes can not be < 0. Found ${e[i]} at dim ${i}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const s=e.slice();return s[r]=t/n,s}function Kg(e,t){const n=t.length;return Bg((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),Bg(e.every((e=>Gg(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function Xg(e,t){const n=[],r=[],s=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||s?null:Kg(t,e).sort();let a=0;for(let o=0;o<e.length;++o){if(null!=i){if(i[a]===o&&1!==e[o])throw new Error(`Can't squeeze axis ${o} since its dim '${e[o]}' is not 1`);(null==i[a]||i[a]>o)&&1===e[o]&&(n.push(e[o]),r.push(o)),i[a]<=o&&a++}1!==e[o]&&(n.push(e[o]),r.push(o))}return{newShape:n,keptDims:r}}function Qg(e,t){return Jg(e,t)}function Jg(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function Zg(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function eb(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function tb(e){return"string"===typeof e||e instanceof String}function nb(e){return"number"===typeof e}function rb(e){return Array.isArray(e)?rb(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":nb(e)?"float32":tb(e)?"string":"boolean"===typeof e?"bool":"float32"}function sb(e){return!!(e&&e.constructor&&e.call&&e.apply)}function ib(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function ab(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function ob(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=new Array;if(1===t.length){const i=t[0]*(r?2:1);for(let t=0;t<i;t++)s[t]=n[e+t]}else{const i=t[0],a=t.slice(1),o=a.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<i;t++)s[t]=ob(e+t*o,a,n,r)}return s}function lb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return ob(0,e,t,n)}function cb(e,t){const n=ub(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function ub(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function hb(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return lb(e,new Float32Array(n));if("int32"===t)return lb(e,new Int32Array(n));if("bool"===t)return lb(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function db(e){e.forEach((t=>{Bg(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function pb(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let s=0;s<e.length-1;++s)r+=n[s]*e[s];return r}function fb(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let s=0;s<r.length-1;++s)r[s]=Math.floor(e/n[s]),e-=r[s]*n[s];return r[r.length-1]=e,r}function mb(e){return e&&e.then&&"function"===typeof e.then}const gb="tfjsflags";class bb{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=yb,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(vb().getBool("IS_TEST")||vb().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];vb().getBool("IS_TEST")||vb().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(mb(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(gb in e){e[gb].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:""+ +n===n?+n:t}(0,n)}))}}}function yb(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")})),t}function vb(){return Eb}let xb,Eb=null;function Tb(){if(null==xb){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}xb=e}return xb}function wb(e,t){const n=function(){const e=Tb();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const kb="Abs",Sb="Acos",_b="Acosh",Ib="Add",Ab="AddN",Cb="All",Nb="Any",Db="ArgMax",Rb="ArgMin",Ob="Asin",Mb="Asinh",Lb="Atan",Pb="Atanh",Fb="Atan2",$b="AvgPool",Bb="AvgPoolGrad",Ub="AvgPool3D",zb="AvgPool3DGrad",Hb="BatchMatMul",Wb="BatchToSpaceND",Gb="Bincount",Vb="BitwiseAnd",qb="BroadcastArgs",jb="Cast",Yb="Ceil",Kb="ClipByValue",Xb="Complex",Qb="ComplexAbs",Jb="Concat",Zb="Conv2D",ey="Conv2DBackpropFilter",ty="Conv2DBackpropInput",ny="Conv3D",ry="Conv3DBackpropFilterV2",sy="Conv3DBackpropInputV2",iy="Cos",ay="Cosh",oy="Cumprod",ly="Cumsum",cy="CropAndResize",uy="DenseBincount",hy="DepthToSpace",dy="DepthwiseConv2dNative",py="DepthwiseConv2dNativeBackpropFilter",fy="DepthwiseConv2dNativeBackpropInput",my="Diag",gy="Dilation2D",by="Dilation2DBackpropInput",yy="Dilation2DBackpropFilter",vy="Draw",xy="RealDiv",Ey="Einsum",Ty="Elu",wy="EluGrad",ky="Erf",Sy="Equal",_y="Exp",Iy="ExpandDims",Ay="Expm1",Cy="FFT",Ny="Fill",Dy="FlipLeftRight",Ry="Floor",Oy="FloorDiv",My="FusedBatchNorm",Ly="GatherV2",Py="GatherNd",Fy="Greater",$y="GreaterEqual",By="Identity",Uy="IFFT",zy="Imag",Hy="IsFinite",Wy="IsInf",Gy="IsNan",Vy="LeakyRelu",qy="Less",jy="LessEqual",Yy="LinSpace",Ky="Log",Xy="Log1p",Qy="LogicalAnd",Jy="LogicalNot",Zy="LogicalOr",ev="LRN",tv="LRNGrad",nv="Max",rv="Maximum",sv="MaxPool",iv="MaxPoolGrad",av="MaxPool3D",ov="MaxPool3DGrad",lv="MaxPoolWithArgmax",cv="Mean",uv="Min",hv="Minimum",dv="MirrorPad",pv="Mod",fv="Multinomial",mv="Multiply",gv="Neg",bv="NotEqual",yv="NonMaxSuppressionV3",vv="NonMaxSuppressionV4",xv="NonMaxSuppressionV5",Ev="OnesLike",Tv="OneHot",wv="Pack",kv="PadV2",Sv="Pow",_v="Prelu",Iv="Prod",Av="RaggedGather",Cv="RaggedRange",Nv="RaggedTensorToTensor",Dv="Range",Rv="Real",Ov="Reciprocal",Mv="Relu",Lv="Reshape",Pv="ResizeNearestNeighbor",Fv="ResizeNearestNeighborGrad",$v="ResizeBilinear",Bv="ResizeBilinearGrad",Uv="Relu6",zv="Reverse",Hv="Round",Wv="Rsqrt",Gv="ScatterNd",Vv="TensorScatterUpdate",qv="SearchSorted",jv="Select",Yv="Selu",Kv="Slice",Xv="Sin",Qv="Sinh",Jv="Sign",Zv="Sigmoid",ex="Softplus",tx="Sqrt",nx="Sum",rx="SpaceToBatchND",sx="SplitV",ix="Softmax",ax="SparseFillEmptyRows",ox="SparseReshape",lx="SparseSegmentMean",cx="SparseSegmentSum",ux="SparseToDense",hx="SquaredDifference",dx="Square",px="StaticRegexReplace",fx="StridedSlice",mx="StringNGrams",gx="StringSplit",bx="StringToHashBucketFast",yx="Sub",vx="Tan",xx="Tanh",Ex="Tile",Tx="TopK",wx="Transform",kx="Transpose",Sx="Unique",_x="Unpack",Ix="UnsortedSegmentSum",Ax="ZerosLike",Cx="Step",Nx="FromPixels",Dx="RotateWithOffset",Rx="_FusedMatMul",Ox="FusedConv2D",Mx="FusedDepthwiseConv2D";function Lx(){vb().getBool("IS_TEST")||vb().getBool("PROD")||console.warn(...arguments)}function Px(){vb().getBool("IS_TEST")||vb().getBool("PROD")||console.log(...arguments)}const Fx=wb("kernelRegistry",(()=>new Map)),$x=wb("gradRegistry",(()=>new Map));function Bx(e,t){const n=Gx(e,t);return Fx.get(n)}function Ux(e){return $x.get(e)}function zx(e){const t=Fx.entries(),n=[];for(;;){const{done:r,value:s}=t.next();if(r)break;const[i,a]=s,[o]=i.split("_");o===e&&n.push(a)}return n}function Hx(e){const{kernelName:t,backendName:n}=e,r=Gx(t,n);Fx.has(r)&&Lx(`The kernel '${t}' for backend '${n}' is already registered`),Fx.set(r,e)}function Wx(e){const{kernelName:t}=e;$x.has(t)&&vb().getBool("DEBUG")&&Lx(`Overriding the gradient for '${t}'`),$x.set(t,e)}function Gx(e,t){return`${t}_${e}`}function Vx(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var qx=n(72);const jx=n.n(qx)()||qx;function Yx(e){return jx.fromString(e,!0,16)}const Kx=Yx("c3a5c85c97cb3127"),Xx=Yx("b492b66fbe98f273"),Qx=Yx("9ae16a3b2f90404f");function Jx(e){return e.xor(e.shru(47))}function Zx(e,t,n){const r=e.slice(t,t+n);return jx.fromBytes(Array.from(r),!0,!0)}function eE(e,t){return Zx(e,t,8)}function tE(e,t){return Zx(e,t,4)}function nE(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function rE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yx("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));let s=t.xor(r).mul(n);return s=s.xor(s.shru(47)),s=s.mul(n),s}function sE(e,t,n,r){return function(e,t,n,r,s,i){s=s.add(e),i=nE(i.add(s).add(r),21);const a=s;return s=(s=s.add(t)).add(n),i=i.add(nE(s,44)),[s.add(r),i.add(a)]}(eE(e,t),eE(e,t+8),eE(e,t+16),eE(e,t+24),n,r)}function iE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=jx.fromNumber(81,!0);if(t<=32)return t<=16?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){const n=Qx.add(2*t),r=eE(e,0).add(Qx),s=eE(e,t-8);return rE(nE(s,37).mul(n).add(r),nE(r,25).add(s).mul(n),n)}if(t>=4){const n=Qx.add(2*t);return rE(tE(e,0).shl(3).add(t),tE(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return Jx(Qx.mul(n).xor(Kx.mul(r))).mul(Qx)}return Qx}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=Qx.add(2*t),r=eE(e,0).mul(Xx),s=eE(e,8),i=eE(e,t-8).mul(n),a=eE(e,t-16).mul(Qx);return rE(nE(r.add(s),43).add(nE(i,30)).add(a),r.add(nE(s.add(Qx),18)).add(i),n)}(e,t);if(t<=64)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=Qx.add(2*t),r=eE(e,0).mul(Qx),s=eE(e,8),i=eE(e,t-8).mul(n),a=eE(e,t-16).mul(Qx),o=nE(r.add(s),43).add(nE(i,30)).add(a),l=rE(o,r.add(nE(s.add(Qx),18)).add(i),n),c=eE(e,16).mul(n),u=eE(e,24),h=o.add(eE(e,t-32)).mul(n),d=l.add(eE(e,t-24)).mul(n);return rE(nE(c.add(u),43).add(nE(h,30)).add(d),c.add(nE(u.add(r),18)).add(h),n)}(e,t);let r=n,s=n.mul(Xx).add(113),i=Jx(s.mul(Qx).add(113)).mul(Qx),a=[jx.UZERO,jx.UZERO],o=[jx.UZERO,jx.UZERO];r=r.mul(Qx).add(eE(e,0));let l=0;const c=64*(t-1>>6),u=c+(t-1&63)-63;do{r=nE(r.add(s).add(a[0]).add(eE(e,l+8)),37).mul(Xx),s=nE(s.add(a[1]).add(eE(e,l+48)),42).mul(Xx),r=r.xor(o[1]),s=s.add(a[0]).add(eE(e,l+40)),i=nE(i.add(o[0]),33).mul(Xx),a=sE(e,l,a[1].mul(Xx),r.add(o[0])),o=sE(e,l+32,i.add(o[1]),s.add(eE(e,l+16))),[i,r]=[r,i],l+=64}while(l!==c);const h=Xx.add(i.and(255).shl(1));return l=u,o[0]=o[0].add(t-1&63),a[0]=a[0].add(o[0]),o[0]=o[0].add(a[0]),r=nE(r.add(s).add(a[0]).add(eE(e,l+8)),37).mul(h),s=nE(s.add(a[1]).add(eE(e,l+48)),42).mul(h),r=r.xor(o[1].mul(9)),s=s.add(a[0].mul(9).add(eE(e,l+40))),i=nE(i.add(o[0]),33).mul(h),a=sE(e,l,a[1].mul(h),r.add(o[0])),o=sE(e,l+32,i.add(o[1]),s.add(eE(e,l+16))),[i,r]=[r,i],rE(rE(a[0],o[0],h).add(Jx(s).mul(Kx)).add(i),rE(a[1],o[1],h).add(r),h)}function aE(e,t){return"string"===t?cE(e):oE([e],t)}function oE(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=dE(e)),vb().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function lE(){return vb().platform.now()}function cE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",vb().platform.encode(e,t)}function uE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",vb().platform.decode(e,t)}function hE(e){return null!=vb().platform.isTypedArray?vb().platform.isTypedArray(e):Vx(e)}function dE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||mb(e)||null==e||hE(e)&&n)t.push(e);else if(Array.isArray(e)||hE(e))for(let r=0;r<e.length;++r)dE(e[r],t,n);else{let r=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let s=0;s<=r;s++)dE(e[s],t,n)}return t}class pE{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new mE)}profileKernel(e,t,n){let r;const s=()=>{r=n()};let i;const a=lE();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(s);else{s();for(const e of r)e.dataSync();i=Promise.resolve({kernelMs:lE()-a})}if(vb().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let o=0;o<r.length;o++){const t=r[o];t.data().then((n=>{fE(n,t.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:i.then((e=>e.kernelMs)),extraInfo:i.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:s,extraInfo:i}=e;n.forEach((e=>{Promise.all([e.data(),r,i]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],s,n[2])}))}))}}function fE(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn(`Found ${t} in the result of '${n}'`),!0}return!1}class mE{logKernelProfile(e,t,n,r,s,i){const a="number"===typeof r?qg(`${r}ms`,9):r.error,o=qg(e,25),l=t.rank,c=t.size,u=qg(t.shape.toString(),14);let h="";for(const d in s){const e=s[d];if(null!=e){const n=e.shape||t.shape,r=n.length;h+=`${d}: ${r}D ${r>0?n:""} `}}console.log(`%c${o}\t%c${a}\t%c${l}D ${u}\t%c${c}\t%c${h}\t%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function gE(e,t,n,r){const s=ab(t),i=function(e,t,n,r){const s=Hg(t),i=r[r.length-1],a=new Array(i).fill(0),o=t.length,l="complex64"===n?xE(e):e;if(o>1)for(let c=0;c<s/i;c++){const e=c*i;for(let t=0;t<i;t++)a[t]=Math.max(a[t],bE(l[e+t],0,n).length)}return a}(e,t,n,s),a=t.length,o=vE(e,t,n,s,i),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${a}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(o.map((e=>"    "+e)).join("\n")),l.join("\n")}function bE(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:tb(e)?`'${e}'`:"bool"===n?yE(e):parseFloat(e.toFixed(7)).toString(),qg(r,t)}function yE(e){return 0===e?"false":"true"}function vE(e,t,n,r,s){let i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const a="complex64"===n?2:1,o=t[0],l=t.length;if(0===l){if("complex64"===n){return[bE(xE(e)[0],0,n)]}return"bool"===n?[yE(e[0])]:[e[0].toString()]}if(1===l){if(o>20){const t=3*a;let r=Array.from(e.slice(0,t)),i=Array.from(e.slice((o-3)*a,o*a));return"complex64"===n&&(r=xE(r),i=xE(i)),["["+r.map(((e,t)=>bE(e,s[t],n))).join(", ")+", ..., "+i.map(((e,t)=>bE(e,s[o-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?xE(e):Array.from(e)).map(((e,t)=>bE(e,s[t],n))).join(", ")+"]"]}const c=t.slice(1),u=r.slice(1),h=r[0]*a,d=[];if(o>20){for(let t=0;t<3;t++){const r=t*h,i=r+h;d.push(...vE(e.slice(r,i),c,n,u,s,!1))}d.push("...");for(let t=o-3;t<o;t++){const r=t*h,i=r+h;d.push(...vE(e.slice(r,i),c,n,u,s,t===o-1))}}else for(let m=0;m<o;m++){const t=m*h,r=t+h;d.push(...vE(e.slice(t,r),c,n,u,s,m===o-1))}const p=2===l?",":"";d[0]="["+(o>0?d[0]+p:"");for(let m=1;m<d.length-1;m++)d[m]=" "+d[m]+p;let f=",\n";for(let m=2;m<l;m++)f+="\n";return d[d.length-1]=" "+d[d.length-1]+"]"+(i?"":f),d}function xE(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class EE{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=Hg(e),null!=n){const e=n.length;Bg(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||Jg(t,this.size),this.strides=ab(e)}set(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),Bg(n.length===this.rank,(()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`));const s=this.locToIndex(n);this.values[s]=e}get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);let r=0;for(const i of t){if(i<0||i>=this.shape[r]){const e=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(e)}r++}let s=t[t.length-1];for(let i=0;i<t.length-1;++i)s+=this.strides[i]*t[i];return this.values[s]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return TE().makeTensor(this.values,this.shape,this.dtype)}}let TE=null,wE=null,kE=null;class SE{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=Hg(e),this.strides=ab(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return wE.buffer(this.shape,this.dtype,e)}bufferSync(){return wE.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return lb(this.shape,e,"complex64"===this.dtype)}arraySync(){return lb(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=TE().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>uE(e)))}catch(Cm){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),TE().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=TE().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>uE(e)))}catch(Cm){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await TE().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),TE().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return wE.print(this,e)}clone(){return this.throwIfDisposed(),wE.clone(this)}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return gE(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),wE.cast(this,e)}variable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),TE().makeVariable(this,e,t,n)}}function _E(){return wb("Tensor",(()=>SE))}Object.defineProperty(SE,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),_E();class IE extends SE{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Wg(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);TE().disposeTensor(this),this.dataId=e.dataId,TE().incRef(this,null)}dispose(){TE().disposeVariable(this),this.isDisposedInternal=!0}}var AE,CE,NE,DE,RE;Object.defineProperty(IE,Symbol.hasInstance,{value:e=>e instanceof SE&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(AE||(AE={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(CE||(CE={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(NE||(NE={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(DE||(DE={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(RE||(RE={}));const OE={float32:DE,int32:CE,bool:NE,complex64:RE};function ME(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return OE[e][t]}function LE(e){return ME(e,"int32")}function PE(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function FE(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function $E(e,t){if(e.dtype===t.dtype)return[e,t];const n=ME(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function BE(e,t){return t.some((t=>t.id===e.id))}function UE(e){const t=[];return zE(e,t,new Set),t}function zE(e,t,n){if(null==e)return;if(e instanceof SE)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!==typeof r)return;var r;const s=e;for(const i in s){const e=s[i];n.has(e)||(n.add(e),zE(e,t,n))}}function HE(e){return null!=e.kernelName}class WE{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class GE{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new WE}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(Lx(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new pE(this.backendInstance),!0}setupRegisteredKernels(){zx(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){zx(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof Og||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,Lx(`Initialization of backend ${e} failed`),Lx(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return Lx(`Initialization of backend ${e} failed`),Lx(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:s}=this.initializeBackend(n);if(s||r)return{name:n,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,s=this.readSync(t),i=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,s,n.shape,n.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return GE.nextTensorId++}nextVariableId(){return GE.nextVariableId++}clone(e){const t=qE.runKernel(By,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return qE.runKernel(jb,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=Bx(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let s=0;n.forEach((e=>{s+="complex64"===e.dtype?3:1}));const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-t-s-i;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),s=this.state.numBytes,i=this.state.numTensors;let a,o;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=HE(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(HE(e)){const{kernelName:t,inputs:s,attrs:i}=e;null==this.backendName&&this.backend;const l=Bx(t,this.backendName);Bg(null!=l,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),a=()=>{const e=this.backend.numDataIds();o=l.kernelFunc({inputs:s,attrs:i,backend:this.backend});const a=Array.isArray(o)?o:[o];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,a);const c=a.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,s,c);n=this.saveTensorsForBackwardMode(e)}return c}}else{const{forwardFunc:t}=e,s=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};a=()=>{const e=this.backend.numDataIds();o=this.tidy((()=>t(this.backend,s)));const n=Array.isArray(o)?o:[o];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:c,attrs:u}=e,h=HE(e)?null:e.backwardsFunc;let d;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(d=this.profiler.profileKernel(l,c,(()=>a())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(d),t=d.outputs):t=a()})),r&&this.addTapeNode(l,c,t,h,n,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map((e=>null!=c[e]?c[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:d.timeMs,extraInfo:d.extraInfo}),Array.isArray(o)?t:t[0]}saveTensorsForBackwardMode(e){return e.map((e=>this.keep(this.clone(e))))}getTensorsForGradient(e,t,n){const r=Ux(e);if(null!=r){const e=r.inputsToSave||[],s=r.outputsToSave||[];let i;r.saveAllInputs?(Bg(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),i=Object.keys(t).map((e=>t[e]))):i=e.map((e=>t[e]));const a=n.filter(((e,t)=>s[t]));return i.concat(a)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let s=e;"string"===n&&tb(e[0])&&(s=e.map((e=>cE(e))));const i=r.write(s,t,n),a=new SE(t,n,i,this.nextTensorId());if(this.trackTensor(a,r),"string"===n){const e=this.state.tensorInfo.get(i),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(s);this.state.numBytes+=t-e.bytes,e.bytes=t}return a}makeTensorFromDataId(e,t,n,r){const s={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(s,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:s}=e,i=new SE(r,s,n,this.nextTensorId());return this.trackTensor(i,t),i}makeVariable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const s=new IE(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[s.name])throw new Error(`Variable with name ${s.name} was already registered`);return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*eb(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof IE||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*eb(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,s,i){const a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:s},o=Ux(e);null!=o&&(r=o.gradFunc),null!=r&&(a.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=ub(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],s,i))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=UE(e),n=new Set(t.map((e=>e.id)));for(let s=0;s<this.state.activeScope.track.length;s++){const e=this.state.activeScope.track[s];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Bg(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const s=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));Bg(s instanceof SE,(()=>"The result y returned by f() must be a tensor."));const i=function(e,t,n){const r={},s={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],i=n.inputs;for(const e in i){const a=i[e];let o=!1;for(let e=0;e<t.length;e++)if(r[a.id]){n.outputs.forEach((e=>r[e.id]=!0)),o=!0,s[n.id]=!0;break}if(o)break}}const i={};i[n.id]=!0;const a={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(i[t.outputs[e].id]){for(const e in n)i[n[e].id]=!0,a[t.id]=!0;break}}const o=[];for(let l=0;l<e.length;l++){const t=e[l];if(s[t.id]&&a[t.id]){const e={};for(const s in t.inputs){const n=t.inputs[s];r[n.id]&&(e[s]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,o.push(n)}}return o}(this.state.activeTape,t,s);if(!r&&0===i.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[s.id]=null==n?function(e){const t=cb(Hg(e),"float32");return qE.makeTensor(t,e,"float32")}(s.shape):n,function(e,t,n,r){for(let s=t.length-1;s>=0;s--){const i=t[s],a=[];if(i.outputs.forEach((t=>{const n=e[t.id];null!=n?a.push(n):a.push(null)})),null==i.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const o=i.gradient(a);for(const t in i.inputs){if(!(t in o))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(o)}.`);const s=n((()=>o[t]()));if("float32"!==s.dtype)throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${s.dtype}'`);const a=i.inputs[t];if(!Wg(s.shape,a.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${t}' has shape '${s.shape}', which does not match the shape of the input '${a.shape}'`);if(null==e[a.id])e[a.id]=s;else{const t=e[a.id];e[a.id]=r(t,s),t.dispose()}}}}(e,i,(e=>this.tidy(e)),jE);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:s,grads:r}}))}customGrad(e){var t=this;return Bg(sb(e),(()=>"The f passed in customGrad(f) must be a function.")),function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];let i;Bg(r.every((e=>e instanceof SE)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const a={};r.forEach(((e,t)=>{a[t]=e}));return t.runKernelFunc({forwardFunc:(t,n)=>(i=e(...r,n),Bg(i.value instanceof SE,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),Bg(sb(i.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),i.value),backwardsFunc:(e,t)=>{const n=i.gradFunc(e,t),s=Array.isArray(n)?n:[n];Bg(s.length===r.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),Bg(s.every((e=>e instanceof SE)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const a={};return s.forEach(((e,t)=>{a[t]=()=>e})),a},inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=lE(),n=await this.backend.time(e);return n.wallMs=lE()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new WE;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function VE(){const e=Tb();if(null==e._tfengine){const t=new bb(e);e._tfengine=new GE(t)}var t;return t=e._tfengine.ENV,Eb=t,TE=()=>e._tfengine,e._tfengine}GE.nextTensorId=0,GE.nextVariableId=0;const qE=VE();function jE(e,t){const n={a:e,b:t};return qE.runKernel(Ib,n)}let YE;function KE(e){if(void 0!==YE)return YE;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function XE(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}const QE=vb();function JE(e,t){let n=e;if(hE(e))return"string"===t?[]:[e.length];if(PE(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(FE(e))return[e.buffer.size/(null==t?4:eb(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||hE(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&vb().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&ZE(e,r,[]),r}function ZE(e,t,n){if(n=n||[],!Array.isArray(e)&&!hE(e))return void Bg(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));Bg(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),Bg(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const r=t.slice(1);for(let s=0;s<e.length;++s)ZE(e[s],r,n.concat(s))}function eT(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function tT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof _E())return eT(r,e.dtype,t,n),e;let s=rb(e);if("string"!==s&&["bool","int32","float32"].indexOf(r)>=0&&(s=r),eT(r,s,t,n),null==e||!hE(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const i=JE(e,s);hE(e)||Array.isArray(e)||(e=[e]);const a="string"!==s?oE(e,s):dE(e,[],!0);return qE.makeTensor(a,i,s)}function nT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,s)=>tT(e,`${t}[${s}]`,n,r)))}QE.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),QE.registerFlag("IS_BROWSER",(()=>XE())),QE.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),QE.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),QE.registerFlag("IS_SAFARI",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),QE.registerFlag("PROD",(()=>!1)),QE.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>QE.getBool("DEBUG"))),QE.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),QE.registerFlag("IS_TEST",(()=>!1)),QE.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>QE.getBool("DEBUG"))),QE.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),QE.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),QE.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));function rT(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+="__op";const s=function(){qE.startScope(n);try{const e=r(...arguments);return mb(e)&&console.error("Cannot return a Promise inside of tidy."),qE.endScope(e),e}catch(e){throw qE.endScope(null),e}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}const sT=rT({complex_:function(e,t){const n=tT(e,"real","complex"),r=tT(t,"imag","complex");Ug(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return qE.runKernel(Xb,s)}});function iT(e,t,n,r){if(null==r)r=rb(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(FE(e)||PE(e)){if("float32"!==r&&"int32"!==r)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return qE.backend.createTensorFromGPUData(e,t||n,r)}if(!hE(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){db(t);const e=Hg(t),r=Hg(n);Bg(e===r,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`));for(let s=0;s<n.length;++s){const e=n[s],r=s!==n.length-1||e!==Hg(t.slice(s));Bg(n[s]===t[s]||!r,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return hE(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?oE(e,r):dE(e,[],!0),qE.makeTensor(e,t,r)}function aT(e,t,n){return iT(e,t,JE(e,n),n)}class oT{static join(e){return new oT(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>hE(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const s=t+r.byteLength;this.shards.push({buffer:r,start:t,end:s}),t=s}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error(`Could not find start shard for byte ${e}`);const r=new ArrayBuffer(t-e),s=new Uint8Array(r);let i=0;for(let a=n;a<this.shards.length;a++){const n=this.shards[a],r=e+i-n.start,o=i,l=Math.min(t,n.end)-n.start,c=new Uint8Array(n.buffer,r,l-r);if(s.set(c,o),i+=c.length,t<n.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,r=e.length;for(;n<=r;){const s=Math.floor((r-n)/2)+n,i=t(e[s]);if(0===i)return s;i<0?r=s:n=s+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function lT(){return qE}function cT(){return qE.memory()}function uT(e,t){return qE.tidy(e,t)}function hT(e){UE(e).forEach((e=>e.dispose()))}function dT(e){return qE.keep(e)}function pT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return qE.registerBackend(e,t,n)}function fT(){return qE.backend}kE=function(e){vb().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")};async function mT(e,t){const n=[],r=[],s=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let i=0;i<s.length;++i){const a=s[i],o=Array.isArray(e)?e[i].tensor:e[a];if("float32"!==o.dtype&&"int32"!==o.dtype&&"bool"!==o.dtype&&"string"!==o.dtype&&"complex64"!==o.dtype)throw new Error(`Unsupported dtype in weight '${a}': ${o.dtype}`);const l={name:a,shape:o.shape,dtype:o.dtype};if("string"===o.dtype){const e=new Promise((async e=>{const t=await o.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+4*t.length,r=new Uint8Array(n);let s=0;for(let i=0;i<t.length;i++){const e=t[i],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,s),s+=4,r.set(e,s),s+=e.length}e(r)}));r.push(e)}else r.push(o.data());null!=t&&(l.group=t),n.push(l)}return{data:gT(await Promise.all(r)),specs:n}}function gT(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const r=new Uint8Array(t);let s=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),s),s+=e.byteLength})),r.buffer}const bT="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function yT(e){return bT?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function vT(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}async function xT(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),function(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}(e,n,r)}function ET(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:yT(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:yT(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new oT(e.weightData).byteLength}}function TT(e){const t=[];for(const n of e)t.push(...n.weights);return t}class wT{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==wT.instance&&(wT.instance=new wT),wT.instance}static registerSaveRouter(e){wT.getInstance().saveRouters.push(e)}static registerLoadRouter(e){wT.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return wT.getHandlers(e,"save")}static getLoadHandlers(e,t){return wT.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?wT.getInstance().loadRouters:wT.getInstance().saveRouters).forEach((t=>{const s=t(e,n);null!==s&&r.push(s)})),r}}const kT="tensorflowjs",ST="models_store",_T="model_info_store";function IT(){if(!vb().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function AT(e){const t=e.result;t.createObjectStore(ST,{keyPath:"modelPath"}),t.createObjectStore(_T,{keyPath:"modelPath"})}class CT{constructor(e){if(this.indexedDB=IT(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(kT,1);r.onupgradeneeded=()=>AT(r),r.onsuccess=()=>{const s=r.result;if(null==t){const t=s.transaction(ST,"readonly"),r=t.objectStore(ST).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return s.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(s.close(),n(r.error)),t.oncomplete=()=>s.close()}else{t.weightData=oT.join(t.weightData);const r=ET(t),a=s.transaction(_T,"readwrite");let o,l,c=a.objectStore(_T);try{o=c.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(i){return n(i)}o.onsuccess=()=>{l=s.transaction(ST,"readwrite");const o=l.objectStore(ST);let u;try{u=o.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r})}catch(i){return n(i)}u.onsuccess=()=>e({modelArtifactsInfo:r}),u.onerror=e=>{c=a.objectStore(_T);const t=c.delete(this.modelPath);t.onsuccess=()=>(s.close(),n(u.error)),t.onerror=e=>(s.close(),n(u.error))}},o.onerror=e=>(s.close(),n(o.error)),a.oncomplete=()=>{null==l?s.close():l.oncomplete=()=>s.close()}}},r.onerror=e=>n(r.error)}))}}CT.URL_SCHEME="indexeddb://";const NT=e=>{return vb().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(CT.URL_SCHEME)?(t=e.slice(CT.URL_SCHEME.length),new CT(t)):null;var t};wT.registerSaveRouter(NT),wT.registerLoadRouter(NT);class DT{constructor(){this.indexedDB=IT()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(kT,1);n.onupgradeneeded=()=>AT(n),n.onsuccess=()=>{const r=n.result,s=r.transaction(_T,"readonly"),i=s.objectStore(_T).getAll();i.onsuccess=()=>{const t={};for(const e of i.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},i.onerror=e=>(r.close(),t(i.error)),s.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(CT.URL_SCHEME)?t.slice(CT.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(kT,1);r.onupgradeneeded=()=>AT(r),r.onsuccess=()=>{const s=r.result,i=s.transaction(_T,"readwrite"),a=i.objectStore(_T),o=a.get(e);let l;o.onsuccess=()=>{if(null==o.result)return s.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=a.delete(e),i=()=>{l=s.transaction(ST,"readwrite");const r=l.objectStore(ST).delete(e);r.onsuccess=()=>t(o.result.modelArtifactsInfo),r.onerror=e=>n(o.error)};r.onsuccess=i,r.onerror=e=>(i(),s.close(),n(o.error))}},o.onerror=e=>(s.close(),n(o.error)),i.oncomplete=()=>{null==l?s.close():l.oncomplete=()=>s.close()}},r.onerror=e=>n(r.error)}))}}const RT="/",OT="tensorflowjs_models",MT="info",LT="model_topology",PT="weight_specs",FT="weight_data",$T="model_metadata";function BT(e){return{info:[OT,e,MT].join(RT),topology:[OT,e,LT].join(RT),weightSpecs:[OT,e,PT].join(RT),weightData:[OT,e,FT].join(RT),modelMetadata:[OT,e,$T].join(RT)}}function UT(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function zT(e){const t=e.split(RT);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(RT)}class HT{constructor(e){if(!vb().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=BT(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),s=ET(e),i=oT.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(e){if(bT)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,s=t.length;r<s;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(i));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:s}}catch(t){throw UT(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const s=this.LS.getItem(this.keys.modelMetadata);if(null!=s){const e=JSON.parse(s);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const i=this.LS.getItem(this.keys.weightData);if(null==i)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(bT){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(i),t}}HT.URL_SCHEME="localstorage://";const WT=e=>{return vb().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(HT.URL_SCHEME)?(t=e.slice(HT.URL_SCHEME.length),new HT(t)):null;var t};wT.registerSaveRouter(WT),wT.registerLoadRouter(WT);class GT{constructor(){Bg(vb().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),Bg("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=OT+RT,n=RT+MT;for(let r=0;r<this.LS.length;++r){const s=this.LS.key(r);if(s.startsWith(t)&&s.endsWith(n)){e[zT(s)]=JSON.parse(this.LS.getItem(s))}}return e}async removeModel(e){var t;const n=BT(e=(t=e).startsWith(HT.URL_SCHEME)?t.slice(HT.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return UT(n),r}}const VT="://";class qT{constructor(){this.managers={}}static getInstance(){return null==qT.instance&&(qT.instance=new qT),qT.instance}static registerManager(e,t){Bg(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(VT)&&(e=e.slice(0,e.indexOf(VT))),Bg(e.length>0,(()=>"scheme must not be an empty string."));const n=qT.getInstance();Bg(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=qT.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(qT.getInstance().managers)}}class jT{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!==typeof window&&vb().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}isTypedArray(e){return Vx(e)}}if(vb().get("IS_BROWSER")){vb().setPlatform("browser",new jT);try{qT.registerManager(HT.URL_SCHEME,new GT)}catch(gee){}try{qT.registerManager(CT.URL_SCHEME,new DT)}catch(gee){}}const YT=()=>n(817);let KT;class XT{constructor(){this.util=n(590),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=vb().global.fetch?vb().global.fetch(e,t):(null==KT&&(KT=YT()),KT(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function QT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",db(e),new EE(e,t,n)}vb().get("IS_NODE")&&!vb().get("IS_BROWSER")&&vb().setPlatform("node",new XT);const JT=rT({cast_:function(e,t){const n=tT(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},s={dtype:t};return qE.runKernel(jb,r,s)}});const ZT=rT({clone_:function(e){const t={x:tT(e,"x","clone","string_or_numeric")};return qE.runKernel(By,t)}});VE();const ew={buffer:QT,cast:JT,clone:ZT,print:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}};wE=ew;const tw=rT({add_:function(e,t){let n=tT(e,"a","add"),r=tT(t,"b","add");[n,r]=$E(n,r);const s={a:n,b:r};return qE.runKernel(Ib,s)}});const nw=rT({floorDiv_:function(e,t){let n=tT(e,"a","floorDiv"),r=tT(t,"b","floorDiv");[n,r]=$E(n,r);const s={a:n,b:r};return qE.runKernel(Oy,s)}});const rw=rT({div_:function(e,t){let n=tT(e,"a","div"),r=tT(t,"b","div");if([n,r]=$E(n,r),"int32"===n.dtype&&"int32"===r.dtype)return nw(n,r);const s={a:n,b:r};return qE.runKernel(xy,s,{})}});const sw=rT({mul_:function(e,t){let n=tT(e,"a","mul"),r=tT(t,"b","mul");[n,r]=$E(n,r);const s={a:n,b:r};return qE.runKernel(mv,s)}});const iw=rT({sqrt_:function(e){const t={x:tT(e,"x","sqrt","float32")};return qE.runKernel(tx,t)}});const aw=rT({square_:function(e){const t=tT(e,"x","square");return qE.runKernel("Square",{x:t},{})}});const ow=rT({zerosLike_:function(e){const t={x:tT(e,"x","zerosLike")};return qE.runKernel(Ax,t)}});function lw(e){return qE.customGrad(e)}function cw(e,t){if((hE(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&hE(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return iT(e,[],[],t)}const uw=new Map,hw=new Map;class dw{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class pw{constructor(){this.classNameMap={}}static getMap(){return null==pw.instance&&(pw.instance=new pw),pw.instance}static register(e){pw.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function fw(e,t,n){Bg(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),Bg("string"===typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),Bg(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),"undefined"===typeof t&&(t="Custom"),"undefined"===typeof n&&(n=e.className);const r=t+">"+n;return pw.register(e),uw.set(r,e),hw.set(e,r),e}class mw extends dw{minimize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{value:r,grads:s}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:s[e.name]})));this.applyGradients(e)}else this.applyGradients(s);return hT(s),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){Bg(sb(e),(()=>"The f passed in variableGrads(f) must be a function")),Bg(null==t||Array.isArray(t)&&t.every((e=>e instanceof IE)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in qE.registeredVariables)t.push(qE.registeredVariables[e])}const r=n?t.filter((e=>!e.trainable)):null,s=t.length;t=t.filter((e=>e.trainable)),Bg(t.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`));const{value:i,grads:a}=qE.gradients(e,t,null,!0);Bg(a.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),Bg(0===i.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`));const o={};return t.forEach(((e,t)=>{null!=a[t]&&(o[e.name]=a[t])})),null!=r&&r.forEach((e=>o[e.name]=null)),{value:i,grads:o}}(e,t)}dispose(){null!=this.iterations_&&hT(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:cw(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(mw,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class gw extends mw{static get className(){return"Adadelta"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=qE.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=qE.registeredVariables[t],s=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:uT((()=>ow(r).variable(s)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:uT((()=>ow(r).variable(s)))});const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const a=this.accumulatedGrads[n].variable,o=this.accumulatedUpdates[n].variable;uT((()=>{const e=tw(sw(a,this.rho),sw(aw(i),1-this.rho)),t=sw(rw(iw(tw(o,this.epsilon)),iw(tw(a,this.epsilon))),i),n=tw(sw(o,this.rho),sw(aw(t),1-this.rho));a.assign(e),o.assign(n);const s=tw(sw(t,-this.learningRate),r);r.assign(s)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(hT(this.accumulatedGrads.map((e=>e.variable))),hT(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}function bw(e,t,n){db(e);const r={shape:e,value:t,dtype:n=n||rb(t)};return qE.runKernel(Ny,{},r)}class yw extends mw{static get className(){return"Adagrad"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=qE.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:uT((()=>bw(r.shape,this.initialAccumulatorValue).variable(e)))}}const s=Array.isArray(e)?e[n].tensor:e[t];if(null==s)return;const i=this.accumulatedGrads[n].variable;uT((()=>{const e=tw(i,aw(s));i.assign(e);const t=tw(sw(rw(s,iw(tw(e,qE.backend.epsilon()))),-this.learningRate),r);r.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&hT(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}const vw=rT({pow_:function(e,t){let n=tT(e,"base","pow"),r=tT(t,"exp","pow");[n,r]=$E(n,r);const s={a:n,b:r};return qE.runKernel(Sv,s)}});const xw=rT({sub_:function(e,t){let n=tT(e,"a","sub"),r=tT(t,"b","sub");[n,r]=$E(n,r);const s={a:n,b:r};return qE.runKernel(yx,s)}});class Ew extends mw{static get className(){return"Adam"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],uT((()=>{this.accBeta1=cw(t).variable(),this.accBeta2=cw(n).variable()})),null==r&&(this.epsilon=qE.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);uT((()=>{const n=xw(1,this.accBeta1),r=xw(1,this.accBeta2);t.forEach(((t,s)=>{const i=qE.registeredVariables[t],a=!1;null==this.accumulatedFirstMoment[s]&&(this.accumulatedFirstMoment[s]={originalName:`${t}/m`,variable:uT((()=>ow(i).variable(a)))}),null==this.accumulatedSecondMoment[s]&&(this.accumulatedSecondMoment[s]={originalName:`${t}/v`,variable:uT((()=>ow(i).variable(a)))});const o=Array.isArray(e)?e[s].tensor:e[t];if(null==o)return;const l=this.accumulatedFirstMoment[s].variable,c=this.accumulatedSecondMoment[s].variable,u=tw(sw(l,this.beta1),sw(o,1-this.beta1)),h=tw(sw(c,this.beta2),sw(aw(o),1-this.beta2)),d=rw(u,n),p=rw(h,r);l.assign(u),c.assign(h);const f=tw(sw(rw(d,tw(iw(p),this.epsilon)),-this.learningRate),i);i.assign(f)})),this.accBeta1.assign(sw(this.accBeta1,this.beta1)),this.accBeta2.assign(sw(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&hT(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&hT(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),uT((()=>{this.accBeta1.assign(vw(this.beta1,this.iterations_+1)),this.accBeta2.assign(vw(this.beta2,this.iterations_+1))}));const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}const Tw=rT({abs_:function(e){const t=tT(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return qE.runKernel(Qb,e)}{const e={x:t};return qE.runKernel(kb,e)}}});function ww(e,t){const n=e.length,r=[];for(let s=0;s<n;s++){const i=n-1-s,a=e[i]||1;(t[t.length-1-s]||1)>1&&1===a&&r.unshift(i)}return r}function kw(e,t){const n=[];for(let r=0;r<t.length;r++){const s=e[e.length-r-1],i=t.length-r-1,a=t[i];(null==s||1===s&&a>1)&&n.unshift(i)}return n}function Sw(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let s=0;s<n;s++){let i=e[e.length-s-1];null==i&&(i=1);let a=t[t.length-s-1];if(null==a&&(a=1),1===i)r[n-s-1]=a;else if(1===a)r[n-s-1]=i;else{if(i!==a){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}r[n-s-1]=i}}return r}const _w=rT({maximum_:function(e,t){let n=tT(e,"a","maximum"),r=tT(t,"b","maximum");[n,r]=$E(n,r),"bool"===n.dtype&&(n=JT(n,"int32"),r=JT(r,"int32")),Sw(n.shape,r.shape);const s={a:n,b:r};return qE.runKernel(rv,s)}});class Iw extends mw{static get className(){return"Adamax"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=s,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],uT((()=>{this.iteration=cw(0).variable(),this.accBeta1=cw(t).variable()})),null==r&&(this.epsilon=qE.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);uT((()=>{const n=xw(1,this.accBeta1),r=rw(-this.learningRate,tw(sw(this.iteration,this.decay),1));t.forEach(((t,s)=>{const i=qE.registeredVariables[t],a=!1;null==this.accumulatedFirstMoment[s]&&(this.accumulatedFirstMoment[s]={originalName:`${t}/m`,variable:ow(i).variable(a)}),null==this.accumulatedWeightedInfNorm[s]&&(this.accumulatedWeightedInfNorm[s]={originalName:`${t}/v`,variable:ow(i).variable(a)});const o=Array.isArray(e)?e[s].tensor:e[t];if(null==o)return;const l=this.accumulatedFirstMoment[s].variable,c=this.accumulatedWeightedInfNorm[s].variable,u=tw(sw(l,this.beta1),sw(o,1-this.beta1)),h=sw(c,this.beta2),d=Tw(o),p=_w(h,d);l.assign(u),c.assign(p);const f=tw(sw(rw(r,n),rw(u,tw(p,this.epsilon))),i);i.assign(f)})),this.iteration.assign(tw(this.iteration,1)),this.accBeta1.assign(sw(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&hT(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&hT(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}class Aw extends mw{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const s=qE.registeredVariables[t];uT((()=>{const e=tw(sw(this.c,r),s);s.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=dT(cw(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}class Cw extends Aw{static get className(){return"Momentum"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=cw(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=qE.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:uT((()=>ow(r).variable(e)))}}const s=this.accumulations[n].variable,i=Array.isArray(e)?e[n].tensor:e[t];null!=i&&uT((()=>{let e;const t=tw(sw(this.m,s),i);e=this.useNesterov?tw(sw(this.c,tw(i,sw(t,this.m))),r):tw(sw(this.c,t),r),s.assign(t),r.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&hT(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}class Nw extends mw{static get className(){return"RMSProp"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=s,null==r&&(this.epsilon=qE.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=qE.registeredVariables[t],s=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:uT((()=>ow(r).variable(s)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:uT((()=>ow(r).variable(s)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:uT((()=>ow(r).variable(s)))});const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const a=this.accumulatedMeanSquares[n].variable,o=this.accumulatedMoments[n].variable;uT((()=>{const e=tw(sw(a,this.decay),sw(aw(i),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,s=tw(sw(t,this.decay),sw(i,1-this.decay)),l=rw(sw(i,this.learningRate),iw(xw(e,tw(aw(s),this.epsilon)))),c=tw(sw(o,this.momentum),l);a.assign(e),t.assign(s),o.assign(c);const u=xw(r,c);r.assign(u)}else{const e=tw(sw(a,this.decay),sw(aw(i),1-this.decay)),t=tw(sw(o,this.momentum),rw(sw(i,this.learningRate),iw(tw(e,this.epsilon))));a.assign(e),o.assign(t);const n=xw(r,t);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&hT(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&hT(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&hT(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}const Dw=[gw,yw,Ew,Iw,Cw,Nw,Aw];function Rw(e){return new Promise((e=>setTimeout(e))).then(e)}class Ow{constructor(e){if(!vb().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Ow.URL_SCHEME)&&(e=e.slice(Ow.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=oT.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=vT(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),s=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(s.download=this.modelJsonFileName,s.href=r,await Rw((()=>s.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await Rw((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:ET(e)}}}}Ow.URL_SCHEME="downloads://";function Mw(e,t,n,r){!function(e){Bg(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){Bg(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),Bg(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),Bg(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,r=null==r?1:r);let s=0;return Promise.all(e.map((i=>(i.then((i=>{const a=n+ ++s/e.length*(r-n);return t(a),i})),i))))}async function Lw(e,t){null==t&&(t={});const n=null==t.fetchFunc?vb().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),s=(null==t.onProgress?await Promise.all(r):await Mw(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(s):await Mw(s,t.onProgress,.5,1)}wT.registerSaveRouter((e=>vb().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Ow.URL_SCHEME)?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new Ow(e)}(e.slice(Ow.URL_SCHEME.length)):null));class Pw{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(Bg("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=vb().platform.fetch,Bg(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&Bg(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=vT(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=oT.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:ET(e),responses:[r]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${r.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(s){let e=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?e+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":e+=" Please make sure the server is serving valid JSON for this request.",new Error(e)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();return xT(await this.loadModelJSON(),(e=>this.loadWeights(e)))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=TT(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:()=>function(e,t){var n;const r=null==t.fetchFunc?vb().platform.fetch:t.fetchFunc;let s,i=0;return null===(n=t.onProgress)||void 0===n||n.call(t,0),new ReadableStream({pull:async n=>{for(var a;i<e.length;){if(!s){const n=(await r(e[i],t.requestInit,{isBinary:!0})).body;s=n.getReader()}const{done:o,value:l}=await s.read();if(!o)return void n.enqueue(l);i++,s=void 0,null===(a=t.onProgress)||void 0===a||a.call(t,i/e.length)}n.close()}})}(t,this.loadOptions)})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),s=n>t?e.substring(n):"";return[r+"/",s]}(t),s=this.weightPathPrefix||n,i=[],a=[];for(const o of e)for(const e of o.paths)null!=this.weightUrlConverter?a.push(this.weightUrlConverter(e)):i.push(s+e+r);return this.weightUrlConverter&&i.push(...await Promise.all(a)),i}async loadWeights(e){const t=await this.getWeightUrls(e);return[TT(e),await Lw(t,this.loadOptions)]}}function Fw(e){return null!=e.match(Pw.URL_SCHEME_REGEX)}Pw.URL_SCHEME_REGEX=/^https?:\/\//;const $w=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>Fw(e))):Fw(e),n)return Bw(e,t)}return null};function Bw(e,t){return new Pw(e,t)}wT.registerSaveRouter($w),wT.registerLoadRouter($w);const Uw=-2,zw=-1;function Hw(e,t,n){const r=e.shape.length;Bg(r===t.length,(()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`)),Bg(r===n.length,(()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`));for(let s=0;s<r;++s)Bg(t[s]+n[s]<=e.shape[s],(()=>`Error in slice${r}D: begin[${s}] + size[${s}] (${t[s]+n[s]}) would overflow input.shape[${s}] (${e.shape[s]})`))}function Ww(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Gw(e,t,n){const r=[];for(let s=0;s<e.length;s++)r[s]=Math.ceil((t[s]-e[s])/n[s]);return r}function Vw(e,t,n,r){const s=[...e];for(let i=s.length;i<r.length;i++)s.push(1);for(let i=0;i<n;i++)0===i?s[t]=1:(s.splice(t,0,1),s.pop());return s}function qw(e,t,n){return n<=e?n:n-(t-1)}function jw(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function Yw(e,t,n,r,s,i,a,o,l){const c=e.length;let u=new Array(c),h=new Array(c),d=new Array(c);if(t.length&&n>0){const l=t[0],c=n+1;u=Kw(a,l,c,r,e),h=Xw(o,l,c,s,e),d=Vw(i,l,c,e)}else for(let p=0;p<c;p++)u[p]=Jw(a,r,i,e,p,l),h[p]=Zw(o,s,i,e,p,l),d[p]=Qw(i,p,l);return{begin:u,end:h,strides:d}}function Kw(e,t,n,r,s){const i=[...s],a=jw(n,t);for(let o=0;o<i.length;o++)if(a.indexOf(o)>-1)i[o]=0;else{const s=qw(t,n,o);let a=r[s];e&1<<s&&(a=0),i[o]=a}return i}function Xw(e,t,n,r,s){const i=[...s],a=jw(n,t);for(let o=0;o<i.length;o++)if(a.indexOf(o)>-1)i[o]=Number.MAX_SAFE_INTEGER;else{const s=qw(t,n,o);let a=r[s];e&1<<s&&(a=Number.MAX_SAFE_INTEGER),i[o]=a}for(let o=0;o<i.length;o++){const e=s[o];i[o]<0&&(i[o]+=e),i[o]=Pg(0,i[o],s[o])}return i}function Qw(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function Jw(e,t,n,r,s,i){let a=t[s];const o=n[s]||1;(e&1<<s||i&1<<s||null==a)&&(a=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=r[s];return a<0&&(a+=l),a=Pg(0,a,l-1),a}function Zw(e,t,n,r,s,i){let a=t[s];const o=n[s]||1;(e&1<<s||i&1<<s||null==a)&&(a=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=r[s];return a<0&&(a+=l),a=o>0?Pg(0,a,l):Pg(-1,a,l-1),a}function ek(e,t,n){let r=n.length;for(let s=0;s<n.length;s++)if(n[s]>1){r=s;break}for(let s=r+1;s<n.length;s++)if(t[s]>0||n[s]!==e[s])return!1;return!0}function tk(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function nk(e,t,n){let r;const s=e.shape.length;let i;return r="number"===typeof t?[t,...new Array(s-1).fill(0)]:t.length<s?t.concat(new Array(s-t.length).fill(0)):t.slice(),r.forEach((e=>{Bg(-1!==e,(()=>"slice() does not support negative begin indexing."))})),i=null==n?new Array(s).fill(-1):"number"===typeof n?[n,...new Array(s-1).fill(-1)]:n.length<s?n.concat(new Array(s-n.length).fill(-1)):n,i=i.map(((t,n)=>t>=0?t:(Bg(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-r[n]))),[r,i]}function rk(e,t,n,r,s,i,a,o,l){let c;if(null==r?(c=new Array(t.length),c.fill(1)):c=r,null!=a&&0!==(a&a-1))throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const h={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:s,endMask:i,ellipsisMask:a,newAxisMask:o,shrinkAxisMask:l};for(let y=0;y<h.dims;y++)u&&0!==(1<<y&o)&&h.numAddAxisAfterEllipsis++,1<<y&a&&(u=!0);u||(h.ellipsisMask|=1<<h.dims,h.dims++);const d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const s=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<s;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(Uw),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(zw),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(h,d);let p=!0,f=!0,m=!0;const g=[],b=[];for(let y=0;y<e.length;++y){if(0===d.strides[y])throw Error(`strides[${y}] must be non-zero`);const t=!!(d.shrinkAxisMask&1<<y),n=e[y];if(-1===n){g.push(t?1:-1);continue}const r=[d.beginMask&1<<y,d.endMask&1<<y],s=[d.strides[y]>0?0:-1,d.strides[y]>0?n:n-1];if(t&&d.strides[y]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===d.strides[y];const i=!!(d.beginMask&1<<y&&d.endMask&1<<y);if(d.beginValid&&d.endValid){if(t){const e=d.begin[y]<0?n+d.begin[y]:d.begin[y];if(d.begin[y]=e,d.end[y]=d.begin[y]+1,e<0||e>=n)throw Error(`slice index ${d.begin[y]} of dimension ${y} out of bounds.`)}else d.begin[y]=sk(d.begin[y],0,d.strides[y],n,r,s),d.end[y]=sk(d.end[y],1,d.strides[y],n,r,s);const e=1===d.strides[y]&&0===d.begin[y]&&d.end[y]===n;p=p&&e,f=f&&(0===y&&1===d.strides[y]||e)}else p=p&&1===d.strides[y]&&i,f=f&&(0===y&&1===d.strides[y]||i);let a,o=!1;if(d.beginValid&&d.endValid?(a=d.end[y]-d.begin[y],o=!0):t?(a=1,o=!0):i&&n>=0&&(a=d.strides[y]<0?-n:n,o=!0),o){let e;e=0===a||a<0!==d.strides[y]<0?0:Math.trunc(a/d.strides[y])+(a%d.strides[y]!==0?1:0),g.push(e)}else g.push(-1)}for(let y=0;y<d.finalShapeGatherIndices.length;++y){const e=d.finalShapeGatherIndices[y];e>=0?b.push(g[e]):e===Uw&&b.push(1)}return{finalShapeSparse:b.filter(((e,t)=>d.finalShapeGatherIndices[t]!==Uw)),finalShape:b,isIdentity:p,sliceDim0:f,isSimpleSlice:m,begin:d.begin,end:d.end,strides:d.strides}}function sk(e,t,n,r,s,i){if(s[t])return n>0?i[t]:i[t+1&1];{const t=e<0?r+e:e;return t<i[0]?i[0]:t>i[1]?i[1]:t}}const ik=rT({all_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:tT(e,"x","all","bool")},s={axis:t,keepDims:n};return qE.runKernel(Cb,r,s)}});const ak=rT({any_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:tT(e,"x","any","bool")},s={axis:t,keepDims:n};return qE.runKernel(Nb,r,s)}});const ok=rT({argMax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:tT(e,"x","argMax")},r={axis:t};return qE.runKernel(Db,n,r)}});function lk(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5?arguments[5]:void 0;return hk(e,[...t,e[3]],n,i,r,null,null,Ek(s))}function ck(e,t,n,r,s,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";const[o,l]=fk(t);let c;if("channelsLast"===a)c=[o,l,e[3],e[3]];else{if("channelsFirst"!==a)throw new Error(`Unknown dataFormat ${a}`);c=[o,l,e[1],e[1]]}return hk(e,c,n,r,s,i,!1,a)}function uk(e,t,n,r,s,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC";const[o,l,c]=mk(t);let u,h;if("NDHWC"===a)h="channelsLast",u=[o,l,c,e[4],e[4]];else{if("NCDHW"!==a)throw new Error(`Unknown dataFormat ${a}`);h="channelsFirst",u=[o,l,c,e[1],e[1]]}return dk(e,u,n,r,s,!1,h,i)}function hk(e,t,n,r,s,i){let a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",[l,c,u,h]=[-1,-1,-1,-1];if("channelsLast"===o)[l,c,u,h]=e;else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);[l,h,c,u]=e}const[d,p,,f]=t,[m,g]=fk(n),[b,y]=fk(r),v=gk(d,b),x=gk(p,y),{padInfo:E,outHeight:T,outWidth:w}=function(e,t,n,r,s,i,a,o,l){let c,u,h;if("number"===typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const s=function(e,t,n,r,s){null==r&&(r=pk(e,t,n));const i=e[0],a=e[1],o=bk((i-t+2*r)/n+1,s),l=bk((a-t+2*r)/n+1,s);return[o,l]}([t,n],i,r,e,o);u=s[0],h=s[1]}else if("same"===e){u=Math.ceil(t/r),h=Math.ceil(n/s);const e=Math.max(0,(u-1)*r+i-t),o=Math.max(0,(h-1)*s+a-n),l=Math.floor(e/2),d=e-l,p=Math.floor(o/2);c={top:l,bottom:d,left:p,right:o-p,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-i+1)/r),h=Math.ceil((n-a+1)/s);else{if("object"!==typeof e)throw Error(`Unknown padding parameter: ${e}`);{const d="channelsLast"===l?e[1][0]:e[2][0],p="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];c={top:d,bottom:p,left:f,right:m,type:0===d&&0===p&&0===f&&0===m?"VALID":"EXPLICIT"},u=bk((t-i+d+p)/r+1,o),h=bk((n-a+f+m)/s+1,o)}}return{padInfo:c,outHeight:u,outWidth:h}}(s,c,u,m,g,v,x,i,o),k=a?f*h:f;let S;return"channelsFirst"===o?S=[l,k,T,w]:"channelsLast"===o&&(S=[l,T,w,k]),{batchSize:l,dataFormat:o,inHeight:c,inWidth:u,inChannels:h,outHeight:T,outWidth:w,outChannels:k,padInfo:E,strideHeight:m,strideWidth:g,filterHeight:d,filterWidth:p,effectiveFilterHeight:v,effectiveFilterWidth:x,dilationHeight:b,dilationWidth:y,inShape:e,outShape:S,filterShape:t}}function dk(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",o=arguments.length>7?arguments[7]:void 0,[l,c,u,h,d]=[-1,-1,-1,-1,-1];if("channelsLast"===a)[l,c,u,h,d]=e;else{if("channelsFirst"!==a)throw new Error(`Unknown dataFormat ${a}`);[l,d,c,u,h]=e}const[p,f,m,,g]=t,[b,y,v]=mk(n),[x,E,T]=mk(r),w=gk(p,x),k=gk(f,E),S=gk(m,T),{padInfo:_,outDepth:I,outHeight:A,outWidth:C}=function(e,t,n,r,s,i,a,o,l,c,u){let h,d,p,f;"valid"===e&&(e=0);if("number"===typeof e){h={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,r,s,i){null==s&&(s=pk(e,t[0],r[0]));const a=[0,0,0,n];for(let o=0;o<3;o++)e[o]+2*s>=t[o]&&(a[o]=bk((e[o]-t[o]+2*s)/r[o]+1,i));return a}([t,n,r,1],[o,l,c],1,[s,i,a],e,u);d=m[0],p=m[1],f=m[2]}else{if("same"!==e)throw Error(`Unknown padding parameter: ${e}`);{d=Math.ceil(t/s),p=Math.ceil(n/i),f=Math.ceil(r/a);const e=(d-1)*s+o-t,u=(p-1)*i+l-n,m=(f-1)*a+c-r,g=Math.floor(e/2),b=e-g,y=Math.floor(u/2),v=u-y,x=Math.floor(m/2);h={top:y,bottom:v,left:x,right:m-x,front:g,back:b,type:"SAME"}}}return{padInfo:h,outDepth:d,outHeight:p,outWidth:f}}(s,c,u,h,b,y,v,w,k,S,o),N=i?g*d:g;let D;return"channelsFirst"===a?D=[l,N,I,A,C]:"channelsLast"===a&&(D=[l,I,A,C,N]),{batchSize:l,dataFormat:a,inDepth:c,inHeight:u,inWidth:h,inChannels:d,outDepth:I,outHeight:A,outWidth:C,outChannels:N,padInfo:_,strideDepth:b,strideHeight:y,strideWidth:v,filterDepth:p,filterHeight:f,filterWidth:m,effectiveFilterDepth:w,effectiveFilterHeight:k,effectiveFilterWidth:S,dilationDepth:x,dilationHeight:E,dilationWidth:T,inShape:e,outShape:D,filterShape:t}}function pk(e,t,n){const r=gk(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function fk(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function mk(e){return"number"===typeof e?[e,e,e]:e}function gk(e,t){return t<=1?e:e+(e-1)*(t-1)}function bk(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function yk(e){const[t,n,r]=fk(e);return 1===t&&1===n&&1===r}function vk(e,t){return yk(e)||yk(t)}function xk(e){return fk(e).every((e=>e>0))}function Ek(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function Tk(e,t,n){if(null!=n){if("string"===typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"===typeof t)Bg(Gg(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!==typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{Bg(Gg(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}const wk=rT({reshape_:function(e,t){const n={x:tT(e,"x","reshape","string_or_numeric")},r={shape:t};return qE.runKernel(Lv,n,r)}});const kk=rT({avgPool_:function(e,t,n,r,s){const i=tT(e,"x","avgPool","float32");Bg(vk(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let a=i,o=!1;3===i.rank&&(o=!0,a=wk(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Bg(4===a.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`)),Tk("avgPool",r,s);const l={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s};let u=qE.runKernel($b,l,c);return u=JT(u,i.dtype),o?wk(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const Sk=rT({avgPool3d_:function(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const a=tT(e,"x","avgPool3d","float32");let o=a,l=!1;4===a.rank&&(l=!0,o=wk(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),Bg(5===o.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`)),Bg("NDHWC"===i,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`)),Bg("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`)),Tk("avgPool3d",r,s);const c={x:o},u={filterSize:t,strides:n,pad:r,dimRoundingMode:s,dataFormat:i};let h=qE.runKernel(Ub,c,u);return h=JT(h,o.dtype),l?wk(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const _k=rT({batchNorm_:function(e,t,n,r,s,i){null==i&&(i=.001);const a=tT(e,"x","batchNorm"),o=tT(t,"mean","batchNorm"),l=tT(n,"variance","batchNorm");let c,u;null!=s&&(c=tT(s,"scale","batchNorm")),null!=r&&(u=tT(r,"offset","batchNorm")),Bg(o.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),Bg(null==u||o.rank===u.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),Bg(null==c||o.rank===c.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const h=function(e){let t;return t=0===e.rank||1===e.rank?wk(e,[1,1,1,e.size]):2===e.rank?wk(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?wk(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(a),d={x:h,scale:c,offset:u,mean:o,variance:l},p={varianceEpsilon:i},f=qE.runKernel(My,d,p);return wk(f,a.shape)}});const Ik=rT({batchNorm2d_:function(e,t,n,r,s,i){const a=tT(e,"x","batchNorm"),o=tT(t,"mean","batchNorm"),l=tT(n,"variance","batchNorm");let c,u;return null!=s&&(c=tT(s,"scale","batchNorm")),null!=r&&(u=tT(r,"offset","batchNorm")),Bg(2===a.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${a.rank}.`)),Bg(2===o.rank||1===o.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`)),Bg(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=c&&Bg(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${c.rank}.`)),null!=u&&Bg(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${u.rank}.`)),_k(a,o,l,u,c,i)}});const Ak=rT({batchNorm3d_:function(e,t,n,r,s,i){const a=tT(e,"x","batchNorm"),o=tT(t,"mean","batchNorm"),l=tT(n,"variance","batchNorm");let c,u;return null!=s&&(c=tT(s,"scale","batchNorm")),null!=r&&(u=tT(r,"offset","batchNorm")),Bg(3===a.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${a.rank}.`)),Bg(3===o.rank||1===o.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`)),Bg(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=c&&Bg(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${c.rank}.`)),null!=u&&Bg(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${u.rank}.`)),_k(a,o,l,u,c,i)}});const Ck=rT({batchNorm4d_:function(e,t,n,r,s,i){const a=tT(e,"x","batchNorm"),o=tT(t,"mean","batchNorm"),l=tT(n,"variance","batchNorm");let c,u;return null!=s&&(c=tT(s,"scale","batchNorm")),null!=r&&(u=tT(r,"offset","batchNorm")),Bg(4===a.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${a.rank}.`)),Bg(4===o.rank||1===o.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`)),Bg(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=c&&Bg(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${c.rank}.`)),null!=u&&Bg(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${u.rank}.`)),_k(a,o,l,u,c,i)}});const Nk=rT({broadcastTo_:function(e,t){let n=tT(e,"broadcastTo","x");const r=n.shape;if(db(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=wk(n,e)}const s=n.shape,i=Array.from(t);for(let l=t.length-1;l>=0;l--)if(s[l]===t[l])i[l]=1;else if(1!==n.shape[l])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(0===i.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return ZT(n);const a={x:n},o={reps:i};return qE.runKernel(Ex,a,o)}});const Dk=rT({clipByValue_:function(e,t,n){const r=tT(e,"x","clipByValue");if(Bg(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`)),t===n)return bw(r.shape,t,r.dtype);const s={x:r},i={clipValueMin:t,clipValueMax:n};return qE.runKernel(Kb,s,i)}});const Rk=rT({concat_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Bg(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=nT(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return ZT(n[0]);const r=n,s={axis:t};return qE.runKernel(Jb,r,s)}});const Ok=rT({concat1d_:function(e){return Rk(e,0)}});const Mk=rT({concat2d_:function(e,t){return Rk(e,t)}});const Lk=rT({concat3d_:function(e,t){return Rk(e,t)}});const Pk=rT({concat4d_:function(e,t){return Rk(e,t)}});const Fk=rT({conv2d_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6?arguments[6]:void 0;const o=tT(e,"x","conv2d","float32"),l=tT(t,"filter","conv2d","float32");let c=o,u=!1;3===o.rank&&(u=!0,c=wk(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Bg(4===c.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${c.rank}.`)),Bg(4===l.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`)),Tk("conv2d",r,a);const h="NHWC"===s?c.shape[3]:c.shape[1];Bg(h===l.shape[2],(()=>`Error in conv2d: depth of input (${h}) must match input depth for filter ${l.shape[2]}.`)),Bg(vk(n,i),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`)),Bg(xk(i),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),Bg(xk(n),(()=>"Error in conv2D: Strides should be larger than 0."));const d={x:c,filter:l},p={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:a},f=qE.runKernel(Zb,d,p);return u?wk(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const $k=rT({conv1d_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6?arguments[6]:void 0;const o=tT(e,"x","conv1d"),l=tT(t,"filter","conv1d");let c=o,u=!1;2===o.rank&&(u=!0,c=wk(o,[1,o.shape[0],o.shape[1]])),Bg(3===c.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${c.rank}.`)),Bg(3===l.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`)),Tk("conv1d",r,a),Bg(c.shape[2]===l.shape[1],(()=>`Error in conv1d: depth of input (${c.shape[2]}) must match input depth for filter ${l.shape[1]}.`)),Bg(vk(n,i),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`)),Bg(xk(i),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),Bg(xk(n),(()=>"Error in conv1D: Stride should be larger than 0.")),Bg("NWC"===s,(()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`));const h=wk(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=wk(c,[c.shape[0],1,c.shape[1],c.shape[2]]),p=Fk(d,h,[1,n],r,"NHWC",[1,i],a);return wk(p,u?[p.shape[2],p.shape[3]]:[p.shape[0],p.shape[2],p.shape[3]])}});const Bk=rT({conv2DBackpropInput_:function(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",a=arguments.length>6?arguments[6]:void 0;Bg(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let o=e,l=t,c=!1;3===t.rank&&(c=!0,l=wk(t,[1,t.shape[0],t.shape[1],t.shape[2]]),o=[1,e[0],e[1],e[2]]),Bg(4===o.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`)),Bg(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),Bg(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const u="NHWC"===i?o[3]:o[1],h="NHWC"===i?l.shape[3]:l.shape[1];Bg(u===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[2]}.`)),Bg(h===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${h}) must match output depth for filter ${n.shape[3]}.`)),Tk("conv2dDerInput",s,a);const d={dy:l,filter:n},p={strides:r,pad:s,dataFormat:i,dimRoundingMode:a,inputShape:o},f=qE.runKernel(ty,d,p);return c?wk(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Uk=rT({conv2dTranspose_:function(e,t,n,r,s,i){const a=tT(e,"x","conv2dTranspose"),o=tT(t,"filter","conv2dTranspose");return Bk(n,a,o,r,s,"NHWC",i)}});const zk=rT({conv3d_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1];const a=tT(e,"x","conv3d"),o=tT(t,"filter","conv3d");let l=a,c=!1;4===a.rank&&(c=!0,l=wk(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),Bg(5===l.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`)),Bg(5===o.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`)),Bg(l.shape[4]===o.shape[3],(()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${o.shape[3]}.`)),Bg(vk(n,i),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`)),Bg("NDHWC"===s,(()=>`Error in conv3d: got dataFormat of ${s} but only NDHWC is currently supported.`)),Bg(xk(i),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),Bg(xk(n),(()=>"Error in conv3D: Strides should be larger than 0."));const u={x:l,filter:o},h={strides:n,pad:r,dataFormat:s,dilations:i},d=qE.runKernel(ny,u,h);return c?wk(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const Hk=rT({conv3DBackpropInput_:function(e,t,n,r,s){Bg(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let i=e,a=t,o=!1;4===t.rank&&(o=!0,a=wk(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),i=[1,e[0],e[1],e[2],e[3]]);const l=i[4],c=a.shape[4];Bg(5===i.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`)),Bg(5===a.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${a.rank}`)),Bg(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),Bg(l===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`)),Bg(c===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${c}) must match output depth for filter ${n.shape[4]}.`));const u={dy:a,filter:n},h={pad:s,strides:r,inputShape:i},d=qE.runKernel(sy,u,h);return o?wk(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const Wk=rT({conv3dTranspose_:function(e,t,n,r,s){const i=tT(e,"x","conv3dTranspose"),a=tT(t,"filter","conv3dTranspose");return Hk(n,i,a,r,s)}});const Gk=rT({denseBincount_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=tT(e,"x","denseBincount"),i=tT(t,"weights","denseBincount");Bg("int32"===s.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${s.dtype}`)),Bg(s.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${s.rank}.`)),Bg(n>=0,(()=>`size must be non-negative, but got ${n}.`)),Bg(i.size===s.size||0===i.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${s.shape}, weights shape: ${i.shape}.`));const a={x:s,weights:i},o={size:n,binaryOutput:r};return qE.runKernel(uy,a,o)}});const Vk=rT({depthwiseConv2d_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6?arguments[6]:void 0;const o=tT(e,"x","depthwiseConv2d","float32"),l=tT(t,"filter","depthwiseConv2d","float32");let c=o,u=!1;3===o.rank&&(u=!0,c=wk(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Bg(4===c.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${c.rank}.`)),Bg(4===l.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`));const h="NHWC"===s?c.shape[3]:c.shape[1];Bg(h===l.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${h}) must match the inChannels dimension in filter ${l.shape[2]}.`)),Tk("depthwiseConv2d",r,a);const d={x:c,filter:l},p={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:a},f=qE.runKernel(dy,d,p);return u?wk(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const qk=rT({elu_:function(e){const t={x:tT(e,"x","elu","float32")};return qE.runKernel(Ty,t)}});const jk=rT({equal_:function(e,t){let n=tT(e,"a","equal","string_or_numeric"),r=tT(t,"b","equal","string_or_numeric");[n,r]=$E(n,r),Sw(n.shape,r.shape);const s={a:n,b:r};return qE.runKernel(Sy,s)}});const Yk=rT({erf_:function(e){let t=tT(e,"x","erf");Bg("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=JT(t,"float32"));const n={x:t};return qE.runKernel(ky,n)}});const Kk=rT({exp_:function(e){const t={x:tT(e,"x","exp")};return qE.runKernel(_y,t)}});const Xk=rT({expandDims_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=tT(e,"x","expandDims","string_or_numeric");Bg(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},s={dim:t};return qE.runKernel(Iy,r,s)}});const Qk=rT({tile_:function(e,t){const n=tT(e,"x","tile","string_or_numeric");Bg(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const r={x:n},s={reps:t};return qE.runKernel(Ex,r,s)}});const Jk=rT({eye_:function(e,t,n){null==t&&(t=e);const r=QT([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),s=e<=t?e:t;for(let a=0;a<s;++a)r.set(1,a,a);const i=wk(r.toTensor(),[e,t]);if(null==n)return i;if(1===n.length)return Qk(Xk(i,0),[n[0],1,1]);if(2===n.length)return Qk(Xk(Xk(i,0),0),[n[0],n[1],1,1]);if(3===n.length)return Qk(Xk(Xk(Xk(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});const Zk=rT({floor_:function(e){const t={x:tT(e,"x","floor","float32")};return qE.runKernel(Ry,t)}});const eS=rT({gather_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const s={x:tT(e,"x","gather"),indices:tT(t,"indices","gather","int32")},i={axis:n,batchDims:r};return qE.runKernel(Ly,s,i)}});const tS=rT({greater_:function(e,t){let n=tT(e,"a","greater","string_or_numeric"),r=tT(t,"b","greater","string_or_numeric");[n,r]=$E(n,r),Sw(n.shape,r.shape);const s={a:n,b:r};return qE.runKernel(Fy,s)}});const nS=rT({greaterEqual_:function(e,t){let n=tT(e,"a","greaterEqual","string_or_numeric"),r=tT(t,"b","greaterEqual","string_or_numeric");[n,r]=$E(n,r),Sw(n.shape,r.shape);const s={a:n,b:r};return qE.runKernel($y,s)}});const rS=rT({leakyRelu_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;const n={x:tT(e,"x","leakyRelu")},r={alpha:t};return qE.runKernel(Vy,n,r)}});const sS=rT({log_:function(e){const t={x:tT(e,"x","log","float32")};return qE.runKernel(Ky,t)}});const iS=rT({log1p_:function(e){const t={x:tT(e,"x","log1p")};return qE.runKernel(Xy,t)}});const aS=rT({max_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:tT(e,"x","max")},s={reductionIndices:t,keepDims:n};return qE.runKernel(nv,r,s)}});const oS=rT({sum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=tT(e,"x","sum");"bool"===r.dtype&&(r=JT(r,"int32"));const s={x:r},i={axis:t,keepDims:n};return qE.runKernel(nx,s,i)}});const lS=rT({logSoftmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=tT(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const r=lw(((e,n)=>{const r=aS(e,t,!0),s=xw(e,r),i=xw(JT(s,"float32"),sS(oS(Kk(s),t,!0)));n([i]);return{value:i,gradFunc:(e,n)=>{const[r]=n,s=Kk(r);return xw(e,sw(oS(e,t,!0),s))}}}));return r(n)}});function cS(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function uS(e,t,n){const r=e.length+t.length,s=[];let i=0,a=0;for(let o=0;o<r;o++)-1===n.indexOf(o)?s.push(e[i++]):s.push(t[a++]);return s}function hS(e,t){const n=[],r=e.length;for(let s=0;s<r;s++)-1===t.indexOf(s)&&n.push(e[s]);return[n,t.map((t=>e[t]))]}function dS(e,t){return uS(e,t.map((e=>1)),t)}function pS(e,t,n){Bg(cS(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function fS(e,t){if(cS(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function mS(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function gS(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}const bS=rT({logSumExp_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=tT(e,"x","logSumExp"),s=Kg(t,r.shape),i=aS(r,s,!0),a=xw(r,i),o=Kk(a),l=oS(o,s),c=sS(l),u=tw(wk(i,c.shape),c);if(n){const e=dS(u.shape,s);return wk(u,e)}return u}});const yS=rT({logicalAnd_:function(e,t){const n=tT(e,"a","logicalAnd","bool"),r=tT(t,"b","logicalAnd","bool");Sw(n.shape,r.shape);const s={a:n,b:r};return qE.runKernel(Qy,s)}});const vS=rT({matMul_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=tT(e,"a","matMul"),i=tT(t,"b","matMul");[s,i]=$E(s,i);const a={a:s,b:i},o={transposeA:n,transposeB:r};return qE.runKernel(Hb,a,o)}});const xS=rT({maxPool_:function(e,t,n,r,s){const i=tT(e,"x","maxPool");let a=i,o=!1;3===i.rank&&(o=!0,a=wk(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Bg(4===a.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`)),Bg(vk(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),Tk("maxPool",r,s);const l={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s},u=qE.runKernel(sv,l,c);return o?wk(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const ES=rT({maxPool3d_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const a=tT(e,"x","maxPool3d");let o=a,l=!1;4===a.rank&&(l=!0,o=wk(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),Bg(5===o.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`)),Bg("NDHWC"===i,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`)),Tk("maxPool3d",r,s);const c={x:o},u={filterSize:t,strides:n,pad:r,dimRoundingMode:s,dataFormat:i},h=qE.runKernel(av,c,u);return l?wk(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const TS=rT({mean_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:tT(e,"x","mean")},s={axis:t,keepDims:n};return qE.runKernel(cv,r,s)}});const wS=rT({min_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:tT(e,"x","min")},s={axis:t,keepDims:n};return qE.runKernel(uv,r,s)}});const kS=rT({minimum_:function(e,t){let n=tT(e,"a","minimum"),r=tT(t,"b","minimum");[n,r]=$E(n,r),"bool"===n.dtype&&(n=JT(n,"int32"),r=JT(r,"int32")),Sw(n.shape,r.shape);const s={a:n,b:r};return qE.runKernel(hv,s)}});const SS=rT({moments_:function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=Kg(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=tT(e,"x","moments")).shape),r=TS(e,n,t);let s=r.shape;t||(s=dS(r.shape,n));const i=aw(xw(JT(e,"float32"),wk(r,s)));return{mean:r,variance:TS(i,n,t)}}});const _S=rT({neg_:function(e){const t={x:tT(e,"x","neg")};return qE.runKernel(gv,t)}});const IS=rT({notEqual_:function(e,t){let n=tT(e,"a","notEqual","string_or_numeric"),r=tT(t,"b","notEqual","string_or_numeric");[n,r]=$E(n,r),Sw(n.shape,r.shape);const s={a:n,b:r};return qE.runKernel(bv,s)}});const AS=rT({oneHot_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const i={indices:tT(e,"indices","oneHot","int32")},a={dtype:s,depth:t,onValue:n,offValue:r};return qE.runKernel(Tv,i,a)}});function CS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(db(e),"complex64"===t){const t=CS(e,"float32"),n=CS(e,"float32");return sT(t,n)}const n=ub(Hg(e),t);return qE.makeTensor(n,e,t)}function NS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(db(e),"complex64"===t){const t=NS(e,"float32"),n=CS(e,"float32");return sT(t,n)}const n=cb(Hg(e),t);return qE.makeTensor(n,e,t)}const DS=rT({onesLike_:function(e){const t={x:tT(e,"x","onesLike")};return qE.runKernel(Ev,t)}});const RS=rT({pad_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=tT(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:t,constantValue:n},i={x:r};return qE.runKernel(kv,i,s)}});const OS=rT({prelu_:function(e,t){const n={x:tT(e,"x","prelu"),alpha:tT(t,"alpha","prelu")};return qE.runKernel(_v,n)}});var MS=n(53);class LS{constructor(e,t,n,r,s){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const i=s||Math.random();this.random=MS.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,s,i;do{r=2*this.random()-1,s=2*this.random()-1,i=r*r+s*s}while(i>=1||0===i);const a=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*r*a,t=this.mean+this.stdDev*s*a,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class PS{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"===typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=MS.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const FS=rT({randomNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;if(db(e),null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const i=new LS(t,n,r,!1,s),a=QT(e,r);for(let o=0;o<a.values.length;o++)a.values[o]=i.nextValue();return a.toTensor()}});const $S=rT({randomUniform_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",s=arguments.length>4?arguments[4]:void 0;db(e);const i=QT(e,r),a=new PS(t,n,null,s);for(let o=0;o<i.values.length;o++)i.values[o]=a.nextValue();return i.toTensor()}});function BS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");const s={start:e,stop:t,step:n,dtype:r};return qE.runKernel(Dv,{},s)}const US=rT({relu_:function(e){const t={x:tT(e,"x","relu")};return qE.runKernel(Mv,t)}});const zS=rT({reverse_:function(e,t){const n={x:tT(e,"x","reverse")},r={dims:t};return qE.runKernel(zv,n,r)}});const HS=rT({selu_:function(e){const t={x:tT(e,"x","selu")};return qE.runKernel(Yv,t)}});const WS=rT({separableConv2d_:function(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC";const o=tT(e,"x","separableConv2d"),l=tT(t,"depthwiseFilter","separableConv2d"),c=tT(n,"pointwiseFilter","separableConv2d");let u=o,h=!1;if(3===o.rank&&(h=!0,u=wk(o,[1,o.shape[0],o.shape[1],o.shape[2]])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Bg(4===u.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${u.rank}.`)),Bg(4===l.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`)),Bg(4===c.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`)),Bg(1===c.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${c.shape[0]}.`)),Bg(1===c.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${c.shape[1]}.`));const d=l.shape[2],p=l.shape[3];Bg(c.shape[2]===d*p,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*p}, but got ${c.shape[2]}.`));const f=Vk(u,l,r,s,a,i),m=Fk(f,c,1,"valid",a);return h?wk(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const GS=rT({sigmoid_:function(e){const t={x:tT(e,"x","sigmoid","float32")};return qE.runKernel(Zv,t)}});const VS=rT({slice_:function(e,t,n){const r=tT(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const s={x:r},i={begin:t,size:n};return qE.runKernel(Kv,s,i)}});const qS=rT({slice1d_:function(e,t,n){const r=tT(e,"x","slice1d");return Bg(1===r.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`)),VS(r,[t],[n])}});const jS=rT({slice2d_:function(e,t,n){const r=tT(e,"x","slice2d");return Bg(2===r.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`)),VS(r,t,n)}});const YS=rT({slice3d_:function(e,t,n){const r=tT(e,"x","slice3d");return Bg(3===r.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`)),VS(r,t,n)}});const KS=rT({slice4d_:function(e,t,n){const r=tT(e,"x","slice4d");return Bg(4===r.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`)),VS(r,t,n)}});const XS=rT({softmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=tT(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},s={dim:t};return qE.runKernel(ix,r,s)}});const QS=rT({softplus_:function(e){const t={x:tT(e,"x","softplus")};return qE.runKernel(ex,t)}});const JS=rT({split_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={x:tT(e,"x","split")},s={numOrSizeSplits:t,axis:n};return qE.runKernel(sx,r,s)}});const ZS=rT({squeeze_:function(e,t){const n=tT(e,"x","squeeze","string_or_numeric");return wk(n,Xg(n.shape,t).newShape)}});const e_=rT({stack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=nT(e,"tensors","stack","string_or_numeric");Bg(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&Bg(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,s={axis:t};return qE.runKernel(wv,r,s)}});const t_=rT({tanh_:function(e){const t={x:tT(e,"x","tanh","float32")};return qE.runKernel(xx,t)}});function n_(e,t){zg(e);const n=JE(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return iT(e,null,n,t)}function r_(e,t,n){if(zg(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=JE(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return iT(e,t,r,n)}const s_=rT({truncatedNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;if(db(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const i=new LS(t,n,r,!0,s),a=QT(e,r);for(let o=0;o<a.values.length;o++)a.values[o]=i.nextValue();return a.toTensor()}});const i_=rT({unstack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=tT(e,"x","unstack","string_or_numeric");Bg(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const r={value:n},s={axis:t};return qE.runKernel(_x,r,s)}});const a_=rT({where_:function(e,t,n){const r=tT(t,"a","where"),s=tT(n,"b","where"),i=tT(e,"condition","where","bool"),a=Sw(Sw(i.shape,r.shape),s.shape),o={condition:Nk(i,a),t:Nk(r,a),e:Nk(s,a)};return qE.runKernel(jv,o)}});const o_=rT({imag_:function(e){const t={input:tT(e,"input","imag")};return qE.runKernel(zy,t)}});const l_=rT({real_:function(e){const t={input:tT(e,"input","real")};return qE.runKernel(Rv,t)}});const c_=rT({transpose_:function(e,t,n){const r=tT(e,"x","transpose");if(null==t&&(t=r.shape.map(((e,t)=>t)).reverse()),Bg(r.rank===t.length,(()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`)),t.forEach((e=>{Bg(e>=0&&e<r.rank,(()=>"All entries in 'perm' must be between 0 and "+(r.rank-1)+` but got ${t}`))})),r.rank<=1)return r.clone();const s={x:r},i={perm:t};return"complex64"===r.dtype?uT((()=>{let e=l_(r),t=o_(r);return e=qE.runKernel(kx,{x:e},i),t=qE.runKernel(kx,{x:t},i),n&&(t=_S(t)),sT(e,t)})):qE.runKernel(kx,s,i)}});const u_=rT({dropout_:function(e,t,n,r){const s=tT(e,"x","dropout");if(Bg("float32"===s.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${s.dtype} tensor instead.`)),Bg(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof SE?s.clone():s;const i=function(e,t){if(null==t)return e.shape.slice();if(Wg(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(s,n),a=1-t,o=rw(Zk(tw($S(i,0,1,"float32",r),a)),a);return sw(s,o)}});const h_=rT({fft_:function(e){Bg("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return qE.runKernel(Cy,t)}});const d_=rT({rfft_:function(e,t){Bg("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const r=e.size/n;let s;if(null!=t&&t<n){const r=e.shape.map((e=>0)),i=e.shape.map((e=>e));i[e.shape.length-1]=t,s=VS(e,r,i),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,s=Rk([e,CS(r)],e.shape.length-1),n=t}else s=e;const i=ow(s),a=wk(sT(s,i),[r,n]),o=h_(a),l=Math.floor(n/2)+1,c=l_(o),u=o_(o),h=JS(c,[l,n-l],c.shape.length-1),d=JS(u,[l,n-l],u.shape.length-1),p=s.shape.slice();return p[s.shape.length-1]=l,wk(sT(h[0],d[0]),p)}});const p_=rT({ifft_:function(e){Bg("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return qE.runKernel(Uy,t)}});const f_=rT({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const s=wk(e,[n,t]);r=p_(s)}else{const s=[n,2*(t-1)],i=wk(l_(e),[n,t]),a=wk(o_(e),[n,t]),o=zS(VS(i,[0,1],[n,t-2]),1),l=sw(zS(VS(a,[0,1],[n,t-2]),1),cw(-1)),c=Rk([i,o],1),u=Rk([a,l],1),h=wk(sT(c,u),[s[0],s[1]]);r=p_(h)}if(r=l_(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=wk(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});const m_=rT({conv2DBackpropFilter_:function(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",a=arguments.length>6?arguments[6]:void 0,o=e;3===e.rank&&(o=wk(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=wk(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Bg(4===o.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`)),Bg(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),Bg(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const c="NHWC"===i?o.shape[3]:o.shape[1],u="NHWC"===i?l.shape[3]:l.shape[1];Bg(c===n[2],(()=>`Error in conv2dDerFilter: depth of input ${c}) must match input depth in filter (${n[2]}.`)),Bg(u===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${u}) must match output depth for filter (${n[3]}).`)),Tk("conv2dDerFilter",s,a);const h={x:o,dy:l},d={strides:r,pad:s,dataFormat:i,dimRoundingMode:a,filterShape:n};return qE.runKernel(ey,h,d)}});const g_=rT({relu6_:function(e){const t={x:tT(e,"x","relu6")};return qE.runKernel(Uv,t)}});const b_=rT({step_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:tT(e,"x","step")},r={alpha:t};return qE.runKernel(Cx,n,r)}});function y_(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return sw(e,b_(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function v_(e,t){let n=t;const r=kw(e.shape,t.shape);return r.length>0&&(n=oS(n,r)),wk(n,e.shape)}function x_(e,t,n,r){if("linear"===t)return e;if("relu"===t)return US(e);if("elu"===t)return qk(e);if("relu6"===t)return g_(e);if("prelu"===t)return OS(e,n);if("leakyrelu"===t)return rS(e,r);if("sigmoid"===t)return GS(e);throw new Error(`Unknown fused activation ${t}.`)}const E_=(e,t)=>!(e>0)||"linear"===t;const T_=rT({fusedConv2d_:function(e){let{x:t,filter:n,strides:r,pad:s,dataFormat:i="NHWC",dilations:a=[1,1],dimRoundingMode:o,bias:l,activation:c="linear",preluActivationWeights:u,leakyreluAlpha:h}=e;if(c=c||"linear",!1===E_(qE.state.gradientDepth,c)){Bg("NHWC"===i,(()=>`Error in fused conv2d: got dataFormat of ${i} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`));let e=Fk(t,n,r,s,i,a,o);return null!=l&&(e=tw(e,l)),x_(e,c,u,h)}const d=tT(t,"x","conv2d","float32"),p=tT(n,"filter","conv2d","float32");let f=d,m=!1;3===d.rank&&(m=!0,f=wk(d,[1,d.shape[0],d.shape[1],d.shape[2]])),Bg(4===f.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${f.rank}.`)),Bg(4===p.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${p.rank}.`)),Tk("fused conv2d",s,o);const g="NHWC"===i?f.shape[3]:f.shape[1];Bg(p.shape[2]===g,(()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${p.shape[2]}.`)),Bg(vk(r,a),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${r} and dilations '${a}'`));const b=hk(f.shape,p.shape,r,a,s,o);let y,v;if(null!=l&&(y=tT(l,"bias","fused conv2d"),[y]=$E(y,d),"NHWC"===i?Sw(b.outShape,y.shape):(Bg(y.shape.length<=1,(()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${y.shape.length}.`)),Bg(0===y.shape.length||y.shape[0]===b.outChannels||1===y.shape[0],(()=>`Error in fused conv2d: bias shape (${y.shape}) is not compatible with the number of output channels (${b.outChannels})`)))),null!=u){const e=u.shape;if(Bg(e.length<=1||3===e.length,(()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`)),1===e.length)Bg(1===e[0]||e[0]===b.outChannels,(()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${b.outChannels}).`));else if(3===e.length)try{Sw(e,b.outShape)}catch(w){const t=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${b.outShape}).`;throw Error(t)}v=tT(u,"prelu weights","fused conv2d")}const x=(e,t)=>{Bg("NHWC"===i,(()=>`Error in gradient of fused conv2D: got dataFormat of ${i} but only NHWC is currently supported.`));const[n,o,l,u]=t,h=y_(e,l,c);Bg(yk(a),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`));const d=[Bk(o.shape,h,n,r,s),m_(o,h,n.shape,r,s)];if(null!=u){const e=v_(u,h);d.push(e)}return d},E={x:f,filter:p,bias:y,preluActivationWeights:v},T={strides:r,pad:s,dataFormat:i,dilations:a,dimRoundingMode:o,activation:c,leakyreluAlpha:h};if(null==l){const e=lw(((e,t,n)=>{let r=qE.runKernel(Ox,E,T);return n([t,e,r]),m&&(r=wk(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:x}}));return e(f,p)}{const e=lw(((e,t,n,r)=>{let s=qE.runKernel(Ox,E,T);return r([t,e,s,n]),m&&(s=wk(s,[s.shape[1],s.shape[2],s.shape[3]])),{value:s,gradFunc:x}}));return e(f,p,y)}}});const w_=rT({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6?arguments[6]:void 0,o=e;3===e.rank&&(o=wk(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=wk(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={x:o,dy:l},u={strides:r,pad:s,dimRoundingMode:a,dilations:i,filterShape:n};return qE.runKernel(py,c,u)}});const k_=rT({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6?arguments[6]:void 0,o=t,l=!1;3===t.rank&&(l=!0,o=wk(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={dy:o,filter:n},u={strides:r,pad:s,dimRoundingMode:a,dilations:i,inputShape:e},h=qE.runKernel(fy,c,u);return l?wk(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});const S_=rT({fusedMatMul_:function(e){let{a:t,b:n,transposeA:r=!1,transposeB:s=!1,bias:i,activation:a="linear",preluActivationWeights:o,leakyreluAlpha:l=.2}=e;if(!1===E_(qE.state.gradientDepth,a)){let e=vS(t,n,r,s);return null!=i&&(e=tw(e,i)),x_(e,a,o,l)}let c=tT(t,"a","fused matMul"),u=tT(n,"b","fused matMul");[c,u]=$E(c,u);const h=r?c.shape[c.rank-2]:c.shape[c.rank-1],d=s?u.shape[u.rank-1]:u.shape[u.rank-2],p=r?c.shape[c.rank-1]:c.shape[c.rank-2],f=s?u.shape[u.rank-2]:u.shape[u.rank-1],m=c.shape.slice(0,-2),g=u.shape.slice(0,-2),b=Hg(m),y=Hg(g);Bg(h===d,(()=>`Error in fused matMul: inner shapes (${h}) and (${d}) of Tensors with shapes ${c.shape} and ${u.shape} and transposeA=${r} and transposeB=${s} must match.`));const v=Sw(c.shape.slice(0,-2),u.shape.slice(0,-2)).concat([p,f]),x=wk(c,r?[b,h,p]:[b,p,h]),E=wk(u,s?[y,f,d]:[y,d,f]);let T,w;null!=i&&(T=tT(i,"bias","fused matMul"),[T]=$E(T,c),Sw(v,T.shape)),null!=o&&(w=tT(o,"prelu weights","fused matMul"));const k=(e,t)=>{const[n,o,l,c]=t,u=y_(wk(e,l.shape),l,a);let h,d;if(r||s?!r&&s?(h=vS(u,o,!1,!1),d=vS(u,n,!0,!1)):r&&!s?(h=vS(o,u,!1,!0),d=vS(n,u,!1,!1)):(h=vS(o,u,!0,!0),d=vS(u,n,!0,!0)):(h=vS(u,o,!1,!0),d=vS(n,u,!0,!1)),null!=i){return[h,d,v_(c,u)]}return[h,d]},S={a:x,b:E,bias:T,preluActivationWeights:w},_={transposeA:r,transposeB:s,activation:a,leakyreluAlpha:l};if(null==i){const e=lw(((e,t,n)=>{const r=qE.runKernel(Rx,S,_);return n([e,t,r]),{value:wk(r,v),gradFunc:k}}));return e(x,E)}{const e=lw(((e,t,n,r)=>{const s=qE.runKernel(Rx,S,_);return r([e,t,s,n]),{value:wk(s,v),gradFunc:k}}));return e(x,E,T)}}});const __=rT({cropAndResize_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const a=tT(e,"image","cropAndResize"),o=tT(t,"boxes","cropAndResize","float32"),l=tT(n,"boxInd","cropAndResize","int32"),c=o.shape[0];Bg(4===a.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${a.rank}.`)),Bg(2===o.rank&&4===o.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${o.shape}.`)),Bg(1===l.rank&&l.shape[0]===c,(()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${o.shape}.`)),Bg(2===r.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`)),Bg(r[0]>=1&&r[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${r}`)),Bg("bilinear"===s||"nearest"===s,(()=>`method must be bilinear or nearest, but was ${s}`));const u={image:a,boxes:o,boxInd:l},h={method:s,extrapolationValue:i,cropSize:r};return qE.runKernel(cy,u,h)}});const I_=rT({flipLeftRight_:function(e){const t=tT(e,"image","flipLeftRight","float32");Bg(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return qE.runKernel(Dy,n,{})}});const A_=rT({grayscaleToRGB_:function(e){const t=tT(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];Bg(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),Bg(1===r,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`));const s=new Array(t.rank);return s.fill(1,0,n),s[n]=3,Qk(t,s)}});const C_=rT({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(((e,t)=>tT(e,`tensors${t}`,"einsum"))),i={equation:e};return qE.runKernel(Ey,s,i)}});const N_=rT({rgbToGrayscale_:function(e){const t=tT(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];Bg(t.rank>=2,(()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`)),Bg(3===r,(()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`));const s=t.dtype,i=JT(t,"float32"),a=n_([.2989,.587,.114]);let o;switch(t.rank){case 2:o=C_("ij,j->i",i,a);break;case 3:o=C_("ijk,k->ij",i,a);break;case 4:o=C_("ijkl,l->ijk",i,a);break;case 5:o=C_("ijklm,m->ijkl",i,a);break;case 6:o=C_("ijklmn,n->ijklm",i,a);break;default:throw new Error("Not a valid tensor rank.")}return o=Xk(o,-1),JT(o,s)}});const D_=rT({rotateWithOffset_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const s=tT(e,"image","rotateWithOffset","float32");Bg(4===s.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${s.rank}.`));const i={image:s},a={radians:t,fillValue:n,center:r};return qE.runKernel(Dx,i,a)}});function R_(e,t,n,r,s,i){null==r&&(r=.5),null==s&&(s=Number.NEGATIVE_INFINITY),null==i&&(i=0);const a=e.shape[0];return n=Math.min(n,a),Bg(0<=r&&r<=1,(()=>`iouThreshold must be in [0, 1], but was '${r}'`)),Bg(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),Bg(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),Bg(1===t.rank,(()=>"scores must be a 1D tensor")),Bg(t.shape[0]===a,(()=>`scores has incompatible shape with boxes. Expected ${a}, but was ${t.shape[0]}`)),Bg(0<=i&&i<=1,(()=>`softNmsSigma must be in [0, 1], but was '${i}'`)),{maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i}}const O_=rT({nonMaxSuppression_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const i=tT(e,"boxes","nonMaxSuppression","float32"),a=tT(t,"scores","nonMaxSuppression","float32"),o=R_(i,a,n,r,s);n=o.maxOutputSize,r=o.iouThreshold,s=o.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:s};return qE.runKernel(yv,{boxes:i,scores:a},l)}});function M_(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,s=e.length,i=0,a=!1;for(;r<s;){i=r+(s-r>>>1);const o=n(t,e[i]);o>0?r=i+1:(s=i,a=!o)}return a?r:-r-1}(e,t,n||L_)}(e,t,n),s=r<0?-(r+1):r;e.splice(s,0,t)}function L_(e,t){return e>t?1:e<t?-1:0}function P_(e,t,n,r,s){return B_(e,t,n,r,s,0)}function F_(e,t,n,r,s,i){return B_(e,t,n,r,s,0,!1,i,!0)}function $_(e,t,n,r,s,i){return B_(e,t,n,r,s,i,!0)}function B_(e,t,n,r,s,i){let a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const c=[];for(let g=0;g<t.length;g++)t[g]>s&&c.push({score:t[g],boxIndex:g,suppressBeginIndex:0});c.sort(H_);const u=i>0?-.5/i:0,h=[],d=[];for(;h.length<n&&c.length>0;){const t=c.pop(),{score:n,boxIndex:i,suppressBeginIndex:a}=t;if(n<s)break;let o=!1;for(let l=h.length-1;l>=a;--l){const n=U_(e,i,h[l]);if(n>=r){o=!0;break}if(t.score=t.score*z_(r,u,n),t.score<=s)break}t.suppressBeginIndex=h.length,o||(t.score===n?(h.push(i),d.push(t.score)):t.score>s&&M_(c,t,H_))}const p=h.length,f=n-p;o&&f>0&&(h.push(...new Array(f).fill(0)),d.push(...new Array(f).fill(0)));const m={selectedIndices:h};return a&&(m.selectedScores=d),l&&(m.validOutputs=p),m}function U_(e,t,n){const r=e.subarray(4*t,4*t+4),s=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),o=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),c=Math.min(s[0],s[2]),u=Math.min(s[1],s[3]),h=Math.max(s[0],s[2]),d=Math.max(s[1],s[3]),p=(o-i)*(l-a),f=(h-c)*(d-u);if(p<=0||f<=0)return 0;const m=Math.max(i,c),g=Math.max(a,u),b=Math.min(o,h),y=Math.min(l,d),v=Math.max(b-m,0)*Math.max(y-g,0);return v/(p+f-v)}function z_(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function H_(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const W_=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const i=tT(e,"boxes","nonMaxSuppressionAsync"),a=tT(t,"scores","nonMaxSuppressionAsync"),o=R_(i,a,n,r,s);n=o.maxOutputSize,r=o.iouThreshold,s=o.scoreThreshold;const l=await Promise.all([i.data(),a.data()]),c=l[0],u=l[1],{selectedIndices:h}=P_(c,u,n,r,s);return i!==e&&i.dispose(),a!==t&&a.dispose(),n_(h,"int32")};const G_=rT({nonMaxSuppressionWithScore_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const a=tT(e,"boxes","nonMaxSuppression"),o=tT(t,"scores","nonMaxSuppression"),l=R_(a,o,n,r,s,i);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,i=l.softNmsSigma;const c={boxes:a,scores:o},u={maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i},h=qE.runKernel(xv,c,u);return{selectedIndices:h[0],selectedScores:h[1]}}});const V_=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const a=tT(e,"boxes","nonMaxSuppressionAsync"),o=tT(t,"scores","nonMaxSuppressionAsync"),l=R_(a,o,n,r,s,i);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,i=l.softNmsSigma;const c=await Promise.all([a.data(),o.data()]),u=c[0],h=c[1],{selectedIndices:d,selectedScores:p}=$_(u,h,n,r,s,i);return a!==e&&a.dispose(),o!==t&&o.dispose(),{selectedIndices:n_(d,"int32"),selectedScores:n_(p)}};const q_=rT({nonMaxSuppressionPadded_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=tT(e,"boxes","nonMaxSuppression"),o=tT(t,"scores","nonMaxSuppression"),l=R_(a,o,n,r,s,null),c={boxes:a,scores:o},u={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:i},h=qE.runKernel(vv,c,u);return{selectedIndices:h[0],validOutputs:h[1]}}});const j_=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=tT(e,"boxes","nonMaxSuppressionAsync"),o=tT(t,"scores","nonMaxSuppressionAsync"),l=R_(a,o,n,r,s,null),c=l.maxOutputSize,u=l.iouThreshold,h=l.scoreThreshold,[d,p]=await Promise.all([a.data(),o.data()]),{selectedIndices:f,validOutputs:m}=F_(d,p,c,u,h,i);return a!==e&&a.dispose(),o!==t&&o.dispose(),{selectedIndices:n_(f,"int32"),validOutputs:cw(m,"int32")}};const Y_=rT({resizeBilinear_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=tT(e,"images","resizeBilinear");Bg(3===s.rank||4===s.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${s.rank}.`)),Bg(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),Bg(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let i=s,a=!1;3===s.rank&&(a=!0,i=wk(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const[]=t,o={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},c=qE.runKernel($v,o,l);return a?wk(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const K_=rT({resizeNearestNeighbor_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=tT(e,"images","resizeNearestNeighbor");Bg(3===s.rank||4===s.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${s.rank}.`)),Bg(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),Bg("float32"===s.dtype||"int32"===s.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),Bg(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let i=s,a=!1;3===s.rank&&(a=!0,i=wk(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const[]=t,o={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},c=qE.runKernel(Pv,o,l);return a?wk(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const X_=rT({bincount_:function(e,t,n){const r=tT(e,"x","bincount"),s=tT(t,"weights","bincount");Bg("int32"===r.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`)),Bg(n>=0,(()=>`size must be non-negative, but got ${n}.`)),Bg(s.size===r.size||0===s.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${s.shape}.`));const i={x:r,weights:s},a={size:n};return qE.runKernel(Gb,i,a)}});const Q_=rT({lessEqual_:function(e,t){let n=tT(e,"a","lessEqual","string_or_numeric"),r=tT(t,"b","lessEqual","string_or_numeric");[n,r]=$E(n,r),Sw(n.shape,r.shape);const s={a:n,b:r};return qE.runKernel(jy,s)}});const J_=rT({round_:function(e){const t={x:tT(e,"x","round")};return qE.runKernel(Hv,t)}});const Z_=rT({threshold_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const s=tT(e,"image","threshold"),i=s.shape[0]*s.shape[1];let a,o,l,c,u=sw(n_([r]),255);if(Bg(3===s.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${s.rank}.`)),Bg(3===s.shape[2]||1===s.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${s.shape[2]}.`)),Bg("int32"===s.dtype||"float32"===s.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${s.dtype}.`)),Bg("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===s.shape[2]){[a,o,l]=JS(s,[1,1,1],-1);const e=sw(a,.2989),t=sw(o,.587),n=sw(l,.114);c=tw(tw(e,t),n)}else c=e;if("otsu"===t){u=function(e,t){let n,r,s,i,a,o,l=n_([-1]),c=n_([0]),u=n_([0]);for(let h=0;h<e.size-1;h++){n=VS(e,0,h+1),r=VS(e,h+1),a=rw(oS(n),t),o=rw(oS(r),t);const d=oS(sw(n,BS(0,n.size)));s=rw(d,oS(n));const p=bw(r.shape,n.size),f=tw(BS(0,r.size),p),m=sw(r,f);i=rw(oS(m),oS(r));const g=xw(s,i),b=xw(s,i),y=sw(a,o);u=sw(sw(y,g),b);const v=tS(u,c);c=a_(v,u,c),l=a_(v,n_([h]),l)}return l}(X_(JT(J_(c),"int32"),aT([]),256),i)}const h=n?Q_(c,u):tS(c,u);return JT(sw(h,255),"int32")}});const eI=rT({transform_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0;const a=tT(e,"image","transform","float32"),o=tT(t,"transforms","transform","float32");Bg(4===a.rank,(()=>`Error in transform: image must be rank 4,but got rank ${a.rank}.`)),Bg(2===o.rank&&(o.shape[0]===a.shape[0]||1===o.shape[0])&&8===o.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),Bg(null==i||2===i.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`));const l={image:a,transforms:o},c={interpolation:n,fillMode:r,fillValue:s,outputShape:i};return qE.runKernel(wx,l,c)}});const tI=rT({less_:function(e,t){let n=tT(e,"a","less","string_or_numeric"),r=tT(t,"b","less","string_or_numeric");[n,r]=$E(n,r),Sw(n.shape,r.shape);const s={a:n,b:r};return qE.runKernel(qy,s)}});const nI=rT({bandPart_:function(e,t,n){const r=tT(e,"a","bandPart");Bg(r.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`));const s=r.shape,[i,a]=r.shape.slice(-2);let o,l;"number"===typeof t?(Bg(t%1===0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),Bg(t<=i,(()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${i}).`)),o=tT(t<0?i:t,"numLower","bandPart")):(Bg("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),o=a_(tI(t,0),i,kS(t,i))),"number"===typeof n?(Bg(n%1===0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`)),Bg(n<=a,(()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${a}).`)),l=tT(n<0?a:n,"numUpper","bandPart")):(Bg("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),l=a_(tI(n,0),a,kS(n,a)));const c=wk(BS(0,i,1,"int32"),[-1,1]),u=BS(0,a,1,"int32"),h=xw(c,u),d=yS(Q_(h,o),nS(h,_S(l))),p=CS([i,a],r.dtype);return wk(e_(i_(wk(r,[-1,i,a])).map((e=>a_(d,e,p)))),s)}});function rI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return Tw(e);if(1!==e.rank&&null===n)return rI(wk(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return oS(Tw(e),n);if(t===1/0)return aS(Tw(e),n);if(t===-1/0)return wS(Tw(e),n);if("euclidean"===t||2===t)return iw(oS(vw(Tw(e),cw(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return aS(oS(Tw(e),n[0]),n[1]-1);if(t===1/0)return aS(oS(Tw(e),n[1]),n[0]);if(t===-1/0)return wS(oS(Tw(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return iw(oS(aw(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const sI=rT({norm_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=rI(e=tT(e,"x","norm"),t,n);let i=s.shape;if(r){const t=Kg(n,e.shape);i=dS(s.shape,t)}return wk(s,i)}});const iI=rT({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,Bg(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)Bg(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=JS(e,e.shape[0],0).map((e=>ZS(e,[0])));Bg(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],r=e;for(let s=0;s<e.length;++s)n.push(qE.tidy((()=>{let e=r[s];if(s>0)for(let t=0;t<s;++t){const r=sw(oS(sw(n[t],e)),n[t]);e=xw(e,r)}return rw(e,sI(e,"euclidean"))})));return t?e_(n,0):n}});function aI(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return qE.tidy((()=>{Bg(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],r=e.shape[1];let s=Jk(n),i=ZT(e);const a=r_([[1]],[1,1]);let o=ZT(a);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=i,l=o,c=s;[o,i,s]=qE.tidy((()=>{const t=VS(i,[e,e],[n-e,1]),l=sI(t),c=VS(i,[e,e],[1,1]),u=a_(tS(c,0),r_([[-1]]),r_([[1]])),h=xw(c,sw(u,l)),d=rw(t,h);o=1===d.shape[0]?ZT(a):Rk([a,VS(d,[1,0],[d.shape[0]-1,d.shape[1]])],0);const p=_S(rw(vS(u,h),l)),f=VS(i,[e,0],[n-e,r]),m=sw(p,o),g=c_(o);if(0===e)i=xw(f,vS(m,vS(g,f)));else{const t=xw(f,vS(m,vS(g,f)));i=Rk([VS(i,[0,0],[e,r]),t],0)}const b=c_(m),y=VS(s,[0,e],[n,s.shape[1]-e]);if(0===e)s=xw(y,vS(vS(y,o),b));else{const t=xw(y,vS(vS(y,o),b));s=Rk([VS(s,[0,0],[n,e]),t],1)}return[o,i,s]})),hT([t,l,c])}return!t&&n>r&&(s=VS(s,[0,0],[n,r]),i=VS(i,[0,0],[r,r])),[s,i]}))}const oI=rT({qr_:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Bg(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return aI(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=i_(wk(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),s=[],i=[];r.forEach((e=>{const[n,r]=aI(e,t);s.push(n),i.push(r)}));return[wk(e_(s,0),e.shape),wk(e_(i,0),e.shape)]}}});var lI;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(lI||(lI={}));const cI=rT({squaredDifference_:function(e,t){let n=tT(e,"a","squaredDifference"),r=tT(t,"b","squaredDifference");[n,r]=$E(n,r),Sw(n.shape,r.shape);const s={a:n,b:r};return qE.runKernel(hx,s,{})}});const uI={flipLeftRight:I_,grayscaleToRGB:A_,resizeNearestNeighbor:K_,resizeBilinear:Y_,rgbToGrayscale:N_,rotateWithOffset:D_,cropAndResize:__,nonMaxSuppression:O_,nonMaxSuppressionAsync:W_,nonMaxSuppressionWithScore:G_,nonMaxSuppressionWithScoreAsync:V_,nonMaxSuppressionPadded:q_,nonMaxSuppressionPaddedAsync:j_,threshold:Z_,transform:eI},hI={bandPart:nI,gramSchmidt:iI,qr:oI};const dI=class{static sgd(e){return new Aw(e)}static momentum(e,t){return new Cw(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}static rmsprop(e){return new Nw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]&&arguments[4])}static adam(){return new Ew(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}static adadelta(){return new gw(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}static adamax(){return new Iw(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)}static adagrad(e){return new yw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)}},pI="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:e=>e();function fI(){return new Promise((e=>pI((()=>e()))))}function mI(e,t){const n=e[0].length;e.forEach(((e,t)=>{Bg(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),Bg(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const r=e[0];e.forEach(((e,s)=>{for(let i=0;i<n;i++)Bg(i===t||e[i]===r[i],(()=>`Error in concat${n}D: Shape of tensors[${s}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${s}.`))}))}function gI(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var bI;function yI(e,t,n){let r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${r.length}`);for(let s=1;s<n.length;++s){const i=n[s],a=r[r.length-n.length+s],o=r[a];if(i>=0)if(o>=0){if(o!==i)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${s+e}] = ${i} but shape[${s+e}] = ${o}`)}else r[a]=i}return r}function vI(e){const t={FIRST_DIM_SIZE:bI.FIRST_DIM_SIZE,VALUE_ROWIDS:bI.VALUE_ROWIDS,ROW_LENGTHS:bI.ROW_LENGTHS,ROW_SPLITS:bI.ROW_SPLITS,ROW_LIMITS:bI.ROW_LIMITS,ROW_STARTS:bI.ROW_STARTS},n=[];for(const r of e){if(!(r in t))break;n.push(t[r])}return n}function xI(e){return 0===e.length?0:e[0]===bI.FIRST_DIM_SIZE?e.length-1:e.length}function EI(e,t){if(null==e||null==t)return;const n=e.length,r=t.length;if(n>=r)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let s=0;s<Math.min(n,r-1);++s){const n=e[s],r=t[s+1];if(n>=0&&r>=0&&1!==n&&n!==r)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${s-e.length}] = ${n} but ragged tensor input.flatValues.shape[${s-e.length}] = ${r}`)}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(bI||(bI={}));const TI=30;function wI(e){return e<=TI?e:ib(e,Math.floor(Math.sqrt(e)))}function kI(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function SI(e,t,n){let r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])r=r.concat(t.slice(0)),r.push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const n=t.length;for(let s=0;s<n;++s)r=r.concat([e[s+1]/t[s],t[s]]);r=r.concat(e.slice(n+1))}return r}function _I(e,t){const n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(let r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{const r=[],s=[];for(let n=1;n<e;++n)n>=2*t+1||n%2===1?s.push(n):r.push(n);n.push(...r),n.push(0),n.push(...s)}return n}function II(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const s=[];r?s.push(e[0]/n):s.push(e[0]*n);for(let i=1;i<e.length;++i)i<=t.length?r?s.push(t[i-1]*e[i]):s.push(e[i]/t[i-1]):s.push(e[i]);return s}function AI(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function CI(e,t,n){const r=e.slice(0,1);for(let s=0;s<n;++s)r.push(e[s+1]-t[s][0]-t[s][1]);return r}function NI(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(0===Hg(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const s=t.shape,i=s[s.length-1];let a=1;for(let h=0;h<s.length-1;++h)a*=s[h];const o=e.shape,l=s.slice();l.pop();let c=1;for(let h=i;h<n;++h)c*=o[h],l.push(o[h]);const u=[...ab(e.shape).map((e=>e/c)),1].slice(0,i);return[l,a,c,u]}function DI(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,s=t.rank>1?t.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${s}.`;if(n.rank<s)throw new Error(i+` update.rank < ${s}. `);if(e.length<r+(n.rank-s))throw new Error(i+` Output shape length < ${r+(n.rank-s)}`);if(n.rank!==s+e.length-r)throw new Error(i+" update.rank != "+(s+e.length-r));for(let a=0;a<s;++a)if(n.shape[a]!==t.shape[a])throw new Error(i+` updates.shape[${a}] (${n.shape[a]}) != indices.shape[${a}] (${t.shape[a]}).`);for(let a=0;a<n.rank-s;++a)if(n.shape[a+s]!==e[a+r])throw new Error(i+` updates.shape[${a+s}] (${n.shape[a+s]}) != shape[${a+s}] (${e[a+s]})`)}function RI(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}DI(n,t,e)}function OI(e,t,n){const r=t.shape.length,s=r>1?t.shape[r-1]:1,i=n.length;let a=1;for(let l=s;l<i;++l)a*=n[l];const o=s<1?1:s;return{sliceRank:s,numUpdates:Hg(t.shape)/o,sliceSize:a,strides:[...ab(n.slice(0,s)),1],outputSize:Hg(n)}}const MI=1.7580993408473768,LI=1.0507009873554805,PI=.3275911,FI=.254829592,$I=-.284496736,BI=1.421413741,UI=-1.453152027,zI=1.061405429;function HI(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function WI(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function GI(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let s=0;s<e.length;s+=4)n[Math.floor(s/4)]=e[s],r[Math.floor(s/4)]=e[s+1];return{real:n,imag:r}}function VI(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let s=2;s<e.length;s+=4)n[Math.floor(s/4)]=e[s],r[Math.floor(s/4)]=e[s+1];return{real:n,imag:r}}function qI(e,t){return{real:e[2*t],imag:e[2*t+1]}}function jI(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function YI(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let s=0;s<Math.ceil(e/2);s++){const i=(t?2:-2)*Math.PI*(s/e);n[s]=Math.cos(i),r[s]=Math.sin(i)}return{real:n,imag:r}}function KI(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const XI="->",QI=/->/g,JI=",",ZI="...";function eA(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(QI,"").length)/XI.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${XI}").`);const[r,s]=e.split(XI);Bg(-1===r.indexOf(ZI),(()=>`The ellipsis notation ("${ZI}") is not supported yet.`));const i=r.split(JI),a=i.length;if(t!==a)throw new Error(`Expected ${a} input tensors, received ${t}`);if(a>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const o=[];for(let h=0;h<s.length;++h){const e=s[h];if(!i.some((t=>-1!==t.indexOf(e))))throw new Error(`Output subscripts contain the label ${e} not present in the input subscripts.`);-1===o.indexOf(e)&&o.push(e)}for(let h=0;h<r.length;++h){const e=r[h];-1===o.indexOf(e)&&e!==JI&&o.push(e)}const l=new Array(i.length);for(let h=0;h<a;++h){if(new Set(i[h].split("")).size!==i[h].length)throw new Error(`Found duplicate axes in input component ${i[h]}. Support for duplicate axes in input is not implemented yet.`);l[h]=[];for(let e=0;e<i[h].length;++e)l[h].push(o.indexOf(i[h][e]))}const c=o.length,u=[];for(let h=s.length;h<c;++h)u.push(h);return{allDims:o,summedDims:u,idDims:l}}function tA(e,t){let n=new Array(e);n.fill(-1);for(let s=0;s<t.length;++s)n[t[s]]=s;const r=[];for(let s=0;s<e;++s)-1===n[s]&&r.push(s);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function nA(e,t,n){const r=new Array(e);for(let s=0;s<n.length;++s){const e=n[s].shape;for(let n=0;n<t[s].length;++n)void 0===r[t[s][n]]?r[t[s][n]]=e[n]:Bg(r[t[s][n]]===e[n],(()=>`Expected dimension ${r[t[s][n]]} at axis ${n} of input shaped ${JSON.stringify(e)}, but got dimension ${e[n]}`))}}function rA(e,t){const n=e,r=[];let s=0;0===e.length&&n.push(-1),s=e.length+1;for(let a=0;a<s;++a)r.push([]);const i=[];for(let a=0;a<n.length;++a){const e=iA(t,n[a]);for(const t of e)-1===i.indexOf(t)&&(r[a].push(t),i.push(t))}return{path:n,steps:r}}function sA(e){return e.every(((e,t)=>e===t))}function iA(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function aA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)Bg(e.shape[n]%t===0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{const s=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);Bg(s<=1,(()=>"There should be only one negative value in split array."));const i=t.indexOf(-1);if(-1!==i){const r=t.reduce(((e,t)=>t>0?e+t:e));t[i]=e.shape[n]-r}Bg(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}function oA(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function lA(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function cA(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function uA(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function hA(e,t){return`size ${e} must be non-negative, not ${t}`}function dA(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function pA(e,t){return`Input to reshape is a SparseTensor with ${Hg(e)}\n  dense values, but the requested shape requires a multiple of ${Hg(t)}. inputShape=${e} outputShape= ${t}`}function fA(e,t){return`Input to reshape is a tensor with ${Hg(e)} dense values, but the requested shape has ${Hg(t)}. inputShape=${e} outputShape=${t}`}function mA(){return"segment ids must be >= 0"}function gA(){return"segment ids are not increasing"}function bA(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function yA(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function vA(e,t){let n,r=!1;for(e<=TI?(n=e,r=!0):n=ib(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=ib(e,n+1);return n}function xA(e,t,n){const r=[],s=e.length;for(let i=0;i<s;i++)i!==t?r.push(e[i]):r.push(n);return r}function EA(e,t,n,r){const s=t.shape.length,i=e.shape.length;if(0!==r&&(r<-s||r>s))throw new Error(`Expect batchDims in the range of [-${s}, ${s}], but got ${r}`);if(r<0&&(r+=s),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let h=0;h<r;++h)if(e.shape[h]!==t.shape[h])throw new Error(`x.shape[${h}]: ${e.shape[h]} should be equal to indices.shape[${h}]: ${t.shape[h]}.`);const a=e.shape[n],o=[];let l=1,c=1,u=1;for(let h=0;h<r;++h)o.push(e.shape[h]),l*=e.shape[h];for(let h=r;h<n;h++)o.push(e.shape[h]),c*=e.shape[h];for(let h=r;h<s;h++)o.push(t.shape[h]);for(let h=n+1;h<i;h++)o.push(e.shape[h]),u*=e.shape[h];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:a,outputShape:o}}function TA(e){try{return e.map((e=>uE(e)))}catch(gee){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${gee}`)}}function wA(e){return e.map((e=>cE(e)))}function kA(e,t){const n=[];for(let i=0;i<t.length;i++)t[i]&&n.push(i);const r=QT(e,"int32"),s=QT([n.length,e.length],"int32");for(let i=0;i<n.length;i++){const t=r.indexToLoc(n[i]),a=i*e.length;s.values.set(t,a)}return s.toTensor()}!function(){for(const e of Dw)fw(e)}();const SA={kernelName:kb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>sw(e,b_(JT(n,"float32"),-1))}}},_A={kernelName:Sb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=aw(JT(n,"float32")),r=iw(xw(cw(1),t));return _S(rw(e,r))}}}},IA={kernelName:_b,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=iw(xw(aw(JT(n,"float32")),1));return rw(e,t)}}}},AA={kernelName:Ib,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Sw(n.shape,r.shape);return{a:()=>{let t=e;const r=kw(n.shape,s);return r.length>0&&(t=oS(t,r)),wk(t,n.shape)},b:()=>{let t=e;const n=kw(r.shape,s);return n.length>0&&(t=oS(t,n)),wk(t,r.shape)}}}},CA={kernelName:Ab,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,r)=>{n[r]=()=>e.clone()})),n}},NA={kernelName:Db,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ow(n)}}},DA={kernelName:Rb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ow(n)}}},RA={kernelName:Ob,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>rw(e,iw(xw(cw(1),aw(JT(n,"float32")))))}}},OA={kernelName:Mb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=iw(tw(cw(1),aw(JT(n,"float32"))));return rw(e,t)}}}},MA={kernelName:Fb,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Sw(n.shape,r.shape);return{a:()=>{const t=tw(aw(n),aw(r));let i=sw(e,rw(r,t));const a=kw(n.shape,s);return a.length>0&&(i=oS(i,a)),wk(i,n.shape)},b:()=>{const t=tw(aw(n),aw(r));let i=_S(sw(e,rw(n,t)));const a=kw(r.shape,s);return a.length>0&&(i=oS(i,a)),wk(i,r.shape)}}}},LA={kernelName:Lb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>rw(e,tw(aw(JT(n,"float32")),1))}}},PA={kernelName:Pb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>rw(e,xw(cw(1),aw(JT(n,"float32"))))}}};const FA=rT({avgPool3dGrad_:function(e,t,n,r,s,i){const a=tT(e,"dy","avgPool3dGrad"),o=tT(t,"input","avgPool3dGrad");let l=a,c=o,u=!1;4===o.rank&&(u=!0,l=wk(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),c=wk(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),Bg(5===l.rank,(()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`)),Bg(5===c.rank,(()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${c.rank}.`)),Tk("avgPool3dGrad",s,i);const h={dy:l,input:c},d={filterSize:n,strides:r,pad:s,dimRoundingMode:i},p=qE.runKernel(zb,h,d);return u?wk(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),$A={kernelName:Ub,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:s,strides:i,pad:a,dimRoundingMode:o}=n;return{x:()=>FA(e,r,s,i,a,o)}}};const BA=rT({avgPoolGrad_:function(e,t,n,r,s){const i=tT(e,"dy","avgPoolGrad"),a=tT(t,"input","avgPoolGrad");Bg(a.rank===i.rank,(()=>`Rank of input (${a.rank}) does not match rank of dy (${i.rank})`));let o=a,l=i,c=!1;3===a.rank&&(c=!0,o=wk(a,[1,a.shape[0],a.shape[1],a.shape[2]]),l=wk(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Bg(4===l.rank,(()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`)),Bg(4===o.rank,(()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`));const u={dy:l,input:o},h={filterSize:n,strides:r,pad:s},d=qE.runKernel(Bb,u,h);return c?wk(d,[d.shape[1],d.shape[2],d.shape[3]]):d}}),UA={kernelName:$b,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:s,strides:i,pad:a}=n;return{x:()=>BA(e,r,s,i,a)}}},zA={kernelName:Hb,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,s]=t,{transposeA:i,transposeB:a}=n;return i||a?!i&&a?{a:()=>vS(e,s,!1,!1),b:()=>vS(e,r,!0,!1)}:i&&!a?{a:()=>vS(s,e,!1,!0),b:()=>vS(r,e,!1,!1)}:{a:()=>vS(s,e,!0,!0),b:()=>vS(e,r,!0,!0)}:{a:()=>vS(e,s,!1,!0),b:()=>vS(r,e,!0,!1)}}};const HA=rT({spaceToBatchND_:function(e,t,n){const r=tT(e,"x","spaceToBatchND");Bg(r.rank>=1+t.length,(()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`)),Bg(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),Bg(r.shape.reduce(((e,r,s)=>s>0&&s<=t.length?e&&(r+n[s-1][0]+n[s-1][1])%t[s-1]===0:e),!0),(()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const s={x:r},i={blockShape:t,paddings:n};return qE.runKernel(rx,s,i)}}),WA={kernelName:Wb,gradFunc:(e,t,n)=>{const{blockShape:r,crops:s}=n;return{x:()=>HA(e,r,s)}}},GA={kernelName:"BroadcastTo",gradFunc:(e,t,n)=>{const r=n,s=r.inputShape,i=r.shape,a=Array.from(i);for(let l=s.length-1;l>=0;l--)if(s[l]===i[l])a[l]=1;else if(1!==s[l])throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${i}].`);const o=[];for(let l=0;l<a.length;l++)a[l]>1&&o.push(l);return{x:()=>oS(e,o,!0)}}},VA={kernelName:jb,gradFunc:e=>({x:()=>e.clone()})},qA={kernelName:Yb,gradFunc:e=>({x:()=>ow(e)})},jA={kernelName:Kb,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:s,clipValueMax:i}=n;return{x:()=>a_(yS(nS(r,s),Q_(r,i)),e,ow(e))}}},YA={kernelName:Qb,inputsToSave:["x"],gradFunc:SA.gradFunc},KA={kernelName:Jb,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map((e=>e.shape)),{axis:s}=n,i=Kg(s,t[0].shape)[0],a=r.map((e=>e[i]));return JS(e,a,i).map((e=>()=>e))}},XA={kernelName:Zb,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,s]=t,{dilations:i,strides:a,pad:o,dataFormat:l}=n;return Bg(yk(i),(()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`)),{x:()=>Bk(r.shape,e,s,a,o,l),filter:()=>m_(r,e,s.shape,a,o,l)}}},QA={kernelName:ty,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,s]=t,{strides:i,pad:a,dataFormat:o,dimRoundingMode:l}=n;return{dy:()=>Fk(e,s,i,a,o,1,l),filter:()=>m_(e,r,s.shape,i,a,o,l)}}};const JA=rT({conv3DBackpropFilter_:function(e,t,n,r,s){let i=e;4===e.rank&&(i=wk(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let a=t;4===a.rank&&(a=wk(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),Bg(5===i.rank,(()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`)),Bg(5===a.rank,(()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${a.shape}.`)),Bg(5===n.length,(()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`)),Bg(i.shape[4]===n[3],(()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`)),Bg(a.shape[4]===n[4],(()=>`Error in conv3dDerFilter: depth of dy (${a.shape[4]}) must match output depth for filter (${n[4]}).`));const o={x:i,dy:a},l={strides:r,pad:s,filterShape:n};return qE.runKernel(ry,o,l)}}),ZA={kernelName:ny,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:s,pad:i}=n;Bg(yk(r),(()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`));const[a,o]=t;return{x:()=>Hk(a.shape,e,o,s,i),filter:()=>JA(a,e,o.shape,s,i)}}};const eC=rT({sin_:function(e){const t={x:tT(e,"x","sin","float32")};return qE.runKernel(Xv,t)}}),tC={kernelName:iy,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>sw(_S(eC(JT(n,"float32"))),e)}}};const nC=rT({sinh_:function(e){const t={x:tT(e,"x","sinh")};return qE.runKernel(Qv,t)}}),rC={kernelName:ay,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>sw(nC(JT(n,"float32")),e)}}};const sC=rT({cumsum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s={x:tT(e,"x","cumsum")},i={axis:t,exclusive:n,reverse:r};return qE.runKernel(ly,s,i)}}),iC={kernelName:ly,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:s,exclusive:i,reverse:a}=n;return{x:()=>{const t=fS([s],r.rank);let n=sC(e,s,i,!a);return null!=t&&(n=c_(n,t)),n}}}},aC={kernelName:dy,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:s,pad:i,dimRoundingMode:a}=n,o=null==r?[1,1]:r;Bg(yk(o),(()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`));const[l,c]=t;return Bg(4===l.rank,(()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`)),Bg(4===c.rank,(()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${c.rank}.`)),Bg(l.shape[3]===c.shape[2],(()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${c.shape[2]}.`)),Bg(vk(s,o),(()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${s} and dilations '${o}'.`)),Tk("depthwiseConv2d",i,a),{x:()=>k_(l.shape,e,c,s,i,o,a),filter:()=>w_(l,e,c.shape,s,i,o,a)}}},oC={kernelName:gy,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,s]=t,i={x:r,filter:s,dy:e},a={x:r,filter:s,dy:e};return{x:()=>qE.runKernel(by,i,n),filter:()=>qE.runKernel(yy,a,n)}}},lC={kernelName:Ty,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r={dy:e,y:n};return{x:()=>qE.runKernel(wy,r)}}},cC={kernelName:ky,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=sw(Kk(_S(aw(n))),2/Math.sqrt(Math.PI));return{x:()=>sw(e,r)}}},uC={kernelName:_y,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>sw(e,n)}}},hC={kernelName:Iy,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>wk(e,n.shape)}}},dC={kernelName:Ay,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>sw(e,Kk(n))}}},pC={kernelName:Ry,gradFunc:e=>({x:()=>ow(e)})},fC={kernelName:Oy,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Sw(n.shape,r.shape);return{a:()=>{const t=rw(e,JT(r,"float32")),i=kw(n.shape,s);return i.length>0?wk(oS(t,i),n.shape):t},b:()=>{let t=sw(e,JT(n,"float32"));const i=kw(r.shape,s);i.length>0&&(t=wk(oS(t,i),r.shape));const a=aw(r);return _S(rw(t,JT(a,"float32")))}}}};const mC=rT({rsqrt_:function(e){const t={x:tT(e,"x","rsqrt","float32")};return qE.runKernel(Wv,t)}}),gC={kernelName:My,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[s,i,a,o]=t,l=null==o?cw(1):o,c=kw(i.shape,s.shape),u=[];if(1===i.rank){for(let e=0;e<s.shape.length-1;++e)u.push(s.shape[e]);u.push(1)}const h=xw(s,i),d=sw(e,l),p=mC(tw(a,cw(r))),f=sw(sw(sw(p,p),p),cw(-.5));return{x:()=>1===i.rank?wk(sw(sw(e,Qk(wk(p,[1,1,1,i.shape[0]]),u)),l),s.shape):wk(sw(sw(e,p),l),s.shape),mean:()=>{let e=sw(sw(p,cw(-1)),d);return 1===i.rank&&(e=oS(e,c)),wk(e,i.shape)},variance:()=>{let e=sw(sw(f,h),d);return 1===i.rank&&(e=oS(e,c)),wk(e,i.shape)},scale:()=>{const t=sw(h,p);let n=sw(e,t);return 1===i.rank&&(n=oS(n,c)),wk(n,i.shape)},offset:()=>{let t=e;return 1===i.rank&&(t=oS(t,c)),wk(t,i.shape)}}}};const bC=rT({unsortedSegmentSum_:function(e,t,n){const r=tT(e,"x","unsortedSegmentSum"),s=tT(t,"segmentIds","unsortedSegmentSum","int32");Bg(Gg(n),(()=>"numSegments must be of dtype int"));const i={x:r,segmentIds:s},a={numSegments:n};return qE.runKernel(Ix,i,a)}}),yC={kernelName:Ly,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,s]=t,{axis:i,batchDims:a}=n,o=Kg(i,r.shape)[0],l=(e,t,n)=>()=>{const r=e.shape,s=t.size,a=r.slice(0,o),l=a.length,c=r.slice(i,r.length).slice(1),u=c.length,h=vC(0,l),d=vC(l+1,l+1+u),p=xC([a,[s],c]),f=wk(n,p),m=wk(t,[s]),g=xC([[l],h,d]),b=c_(f,g);let y=bC(b,m,e.shape[o]);const v=mS(g);return y=c_(y,v),y};if(1===a){const t=r.shape[0],n=r.split(t,0);return{x:()=>{const t=e_(n.map(((t,n)=>l(t,s.slice(n,1),e.slice(n,1))())));return t.reshape(r.shape)},indices:()=>s}}return{x:l(r,s,e),indices:()=>s}}};function vC(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function xC(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}const EC={kernelName:$y,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>ow(n),b:()=>ow(r)}}},TC={kernelName:By,gradFunc:e=>({x:()=>JT(e,"float32")})},wC={kernelName:Hy,gradFunc:e=>({x:()=>ow(e)})},kC={kernelName:Wy,gradFunc:e=>({x:()=>ow(e)})},SC={kernelName:Gy,gradFunc:e=>({x:()=>ow(e)})},_C={kernelName:Vy,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:s}=n,i=tS(r,0);return{x:()=>a_(i,e,sw(e,s))}}},IC={kernelName:Xy,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>rw(e,tw(n,1))}}},AC={kernelName:Ky,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>rw(e,JT(n,"float32"))}}},CC={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:s}=n;return{logits:()=>{const t=Kk(r);return xw(e,sw(oS(e,s,!0),t))}}}};const NC=rT({localResponseNormalizationBackprop_:function(e,t,n){const r={x:e,y:t,dy:n},s={depthRadius:arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,bias:arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,alpha:arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,beta:arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5};return qE.runKernel(tv,r,s)}}),DC={kernelName:ev,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,s]=t,{depthRadius:i,bias:a,alpha:o,beta:l}=n;return{x:()=>NC(r,s,e,i,a,o,l)}}};function RC(e,t,n,r){return t.rank<n.rank&&(t=wk(t,dS(t.shape,r))),e.rank<n.rank&&(e=wk(e,dS(e.shape,r))),{x:()=>sw(e,JT(jk(n,t),e.dtype))}}const OC={kernelName:nv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:s}=r,i=t[0],a=RC(e,t[1],i,Kg(s,i.shape));return{x:()=>a.x()}}},MC={kernelName:rv,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>sw(e,JT(nS(n,r),"float32")),b:()=>sw(e,JT(tI(n,r),"float32"))}}};const LC=rT({maxPool3dGrad_:function(e,t,n,r,s,i,a){const o=tT(e,"dy","maxPool3dGrad"),l=tT(t,"input","maxPool3dGrad"),c=tT(n,"output","maxPool3dGrad");let u=o,h=l,d=c,p=!1;4===l.rank&&(p=!0,u=wk(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),h=wk(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=wk(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),Bg(5===u.rank,(()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${u.rank}.`)),Bg(5===h.rank,(()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${h.rank}.`)),Bg(5===d.rank,(()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${d.rank}.`)),Tk("maxPool3dGrad",i,a);const f={dy:u,input:h,output:d},m={filterSize:r,strides:s,pad:i,dimRoundingMode:a},g=qE.runKernel(ov,f,m);return p?wk(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),PC={kernelName:av,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,s]=t,{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=n;return{x:()=>LC(e,r,s,i,a,o,l)}}};const FC=rT({maxPoolGrad_:function(e,t,n,r,s,i,a){const o=tT(e,"dy","maxPoolGrad"),l=tT(t,"input","maxPoolGrad"),c=tT(n,"output","maxPoolGrad");Bg(l.rank===o.rank,(()=>`Rank of input (${l.rank}) does not match rank of dy (${o.rank})`)),Bg(4===o.rank,(()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`)),Bg(4===l.rank,(()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`)),Tk("maxPoolGrad",i,a);const u={dy:o,input:l,output:c},h={filterSize:r,strides:s,pad:i,dimRoundingMode:a};return qE.runKernel(iv,u,h)}}),$C={kernelName:sv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,s]=t,{filterSize:i,strides:a,pad:o}=n;return{x:()=>FC(e,r,s,i,a,o)}}},BC={kernelName:cv,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:s}=n,i=Kg(s,r.shape),a=Hg(hS(r.shape,i)[1]);return{x:()=>{const t=r.shape.slice();i.forEach((e=>{t[e]=1}));const n=wk(e,t);return rw(sw(n,NS(r.shape,"float32")),a)}}}},UC={kernelName:uv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:s}=r,[i,a]=t,o=RC(e,a,i,Kg(s,i.shape));return{x:()=>o.x()}}},zC={kernelName:hv,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>sw(e,JT(Q_(n,r),"float32")),b:()=>sw(e,JT(tS(n,r),"float32"))}}},HC={kernelName:dv,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:s}=n,i=s.map((e=>e[0]));return{x:()=>VS(e,i,r.shape)}}},WC={kernelName:pv,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Sw(n.shape,r.shape);return{a:()=>{const t=kw(n.shape,s);return t.length>0?wk(oS(e,t),n.shape):e},b:()=>{const t=sw(e,_S(Zk(rw(n,r)))),i=kw(r.shape,s);return i.length>0?wk(oS(t,i),r.shape):t}}}},GC={kernelName:mv,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Sw(n.shape,r.shape);return{a:()=>{const t=sw(e,JT(r,"float32")),i=kw(n.shape,s);return i.length>0?wk(oS(t,i),n.shape):t},b:()=>{const t=sw(e,JT(n,"float32")),i=kw(r.shape,s);return i.length>0?wk(oS(t,i),r.shape):t}}}},VC={kernelName:gv,gradFunc:e=>({x:()=>_S(e)})},qC={kernelName:Tv,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>CS(n.shape,"float32")}}},jC={kernelName:Ev,gradFunc:e=>({x:()=>ow(e)})},YC={kernelName:wv,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return i_(e,r).map((e=>()=>e))}},KC={kernelName:kv,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:s}=n,i=s.map((e=>e[0]));return{x:()=>VS(e,i,r.shape)}}},XC={kernelName:Sv,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,s]=t,i=n,a=r,o=Sw(i.shape,a.shape);return{a:()=>{const t=JT(a,"float32");let n=sw(e,sw(t,vw(i,xw(t,cw(1)))));const r=kw(i.shape,o);return r.length>0&&(n=oS(n,r)),wk(n,i.shape)},b:()=>{const t=tS(i,0),n=a_(t,sS(i),ow(i));let r=sw(e,sw(s,n));const l=kw(a.shape,o);return l.length>0&&(r=oS(r,l)),wk(r,a.shape)}}}},QC={kernelName:_v,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,s=tS(n,0);return{x:()=>a_(s,e,sw(e,r)),alpha:()=>{let t=a_(s,ow(e),sw(e,n));const i=kw(r.shape,e.shape);return i.length>0&&(t=oS(t,i)),wk(t,r.shape)}}}};const JC=rT({cumprod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s={x:tT(e,"x","cumprod")},i={axis:t,exclusive:n,reverse:r};return qE.runKernel(oy,s,i)}});function ZC(e,t,n){const r=e.shape.length,s=r-n.length,i=fS(n,r);let a=e;null!=i&&(a=c_(e,i));const o=a.shape.slice(),l=o.splice(r-n.length,n.length).reduce(((e,t)=>e*t),1);o.push(l);let c=function(e,t,n){const r=e.shape.slice();r[n]=1;const s=wk(t,r),i=JC(e,n,!0,!1),a=JC(e,n,!0,!0),o=sw(i,a);return sw(s,o)}(a.reshape(o),t,s);if(c=c.reshape(a.shape),null!=i){const e=mS(i);c=c_(c,e)}return c}const eN={kernelName:Iv,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:s}=n;let i=[];return i=void 0===s||null===s?r.shape.map(((e,t)=>t)):"number"===typeof s?[s]:s,{x:()=>ZC(r,e,i)}}},tN={kernelName:xy,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Sw(n.shape,r.shape);return{a:()=>{const t=rw(e,JT(r,"float32")),i=kw(n.shape,s);return i.length>0?wk(oS(t,i),n.shape):t},b:()=>{let t=sw(e,JT(n,"float32"));const i=kw(r.shape,s);i.length>0&&(t=wk(oS(t,i),r.shape));const a=aw(r);return _S(rw(t,JT(a,"float32")))}}}},nN={kernelName:Ov,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>rw(e,_S(aw(n)))}}},rN={kernelName:Uv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=sw(Q_(n,6),b_(n));return{x:()=>sw(e,JT(r,"float32"))}}},sN={kernelName:Mv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>sw(e,JT(b_(n),"float32"))}}},iN={kernelName:Lv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>wk(e,n.shape)}}},aN={kernelName:$v,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,s={dy:e,images:r};return{images:()=>qE.runKernel(Bv,s,n)}}},oN={kernelName:Pv,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,s={dy:e,images:r};return{images:()=>qE.runKernel(Fv,s,n)}}},lN={kernelName:zv,gradFunc:(e,t,n)=>{const{dims:r}=n,s=Kg(r,e.shape);return{x:()=>zS(e,s)}}},cN={kernelName:Hv,gradFunc:e=>({x:()=>ow(e)})},uN={kernelName:Wv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>_S(rw(e,sw(vw(n,1.5),2)))}}};const hN=rT({logicalNot_:function(e){const t={x:tT(e,"x","logicalNot","bool")};return qE.runKernel(Jy,t)}}),dN={kernelName:jv,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>JT(ow(n),"float32"),t:()=>sw(e,JT(n,e.dtype)),e:()=>sw(e,JT(hN(n),e.dtype))}}},pN={kernelName:Yv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=tS(n,cw(0)),r=cw(MI),s=cw(LI),i=sw(e,s),a=sw(sw(e,r),Kk(JT(n,"float32")));return a_(t,i,a)}}}},fN={kernelName:Zv,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>sw(e,sw(n,xw(cw(1),n)))}}},mN={kernelName:Jv,gradFunc:e=>({x:()=>ow(e)})};const gN=rT({cos_:function(e){const t={x:tT(e,"x","cos","float32")};return qE.runKernel(iy,t)}}),bN={kernelName:Xv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>sw(gN(JT(n,"float32")),e)}}};const yN=rT({cosh_:function(e){const t={x:tT(e,"x","cosh","float32")};return qE.runKernel(ay,t)}}),vN={kernelName:Qv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>sw(yN(JT(n,"float32")),e)}}},xN={kernelName:Kv,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:s,size:i}=n,a=r.shape,[o,l]=nk(r,s,i),c=[];for(let u=0;u<e.rank;u++)c.push([o[u],a[u]-o[u]-l[u]]);return{x:()=>RS(e,c)}}},EN={kernelName:ix,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:s}=n,i=sw(e,r);return{logits:()=>xw(i,sw(oS(i,[s],true),r))}}},TN={kernelName:ex,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>sw(e,GS(n))}}};const wN=rT({batchToSpaceND_:function(e,t,n){const r=tT(e,"x","batchToSpaceND"),s=t.reduce(((e,t)=>e*t));Bg(r.rank>=1+t.length,(()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`)),Bg(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),Bg(r.shape[0]%s===0,(()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${s}`));const i={x:r},a={blockShape:t,crops:n};return qE.runKernel(Wb,i,a)}}),kN={kernelName:rx,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:s}=n;return{x:()=>wN(e,r,s)}}},SN={kernelName:sx,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>Rk(e,r)}}},_N={kernelName:tx,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>rw(e,sw(iw(JT(n,"float32")),2))}}},IN={kernelName:dx,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>sw(e,sw(JT(n,"float32"),2))}}},AN={kernelName:hx,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=cw(2);return{a:()=>sw(e,sw(s,xw(n,r))),b:()=>sw(e,sw(s,xw(r,n)))}}},CN={kernelName:yx,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Sw(n.shape,r.shape);return{a:()=>{let t=e;const r=kw(n.shape,s);return r.length>0&&(t=oS(t,r)),wk(t,n.shape)},b:()=>{let t=e;const n=kw(r.shape,s);return n.length>0&&(t=oS(t,n)),wk(_S(t),r.shape)}}}},NN={kernelName:nx,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,s=r.shape.slice(),{axis:i}=n;Kg(i,r.shape).forEach((e=>{s[e]=1}));const a=wk(e,s),o=sw(a,NS(r.shape,"float32"));return{x:()=>o}}},DN={kernelName:vx,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>rw(e,aw(gN(n)))}}},RN={kernelName:Ex,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:s}=n;return{x:()=>{let t=ow(r);if(1===r.rank)for(let n=0;n<s[0];++n)t=tw(t,VS(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let n=0;n<s[0];++n)for(let i=0;i<s[1];++i)t=tw(t,VS(e,[n*r.shape[0],i*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let n=0;n<s[0];++n)for(let i=0;i<s[1];++i)for(let a=0;a<s[2];++a)t=tw(t,VS(e,[n*r.shape[0],i*r.shape[1],a*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);for(let n=0;n<s[0];++n)for(let i=0;i<s[1];++i)for(let a=0;a<s[2];++a)for(let o=0;o<s[3];++o)t=tw(t,VS(e,[n*r.shape[0],i*r.shape[1],a*r.shape[2],o*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},ON={kernelName:Ix,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=_w(t,ow(t)),r=eS(e,n);let s=nS(t,cw(0,"int32"));const i=r.rank-s.rank;for(let o=0;o<i;++o)s=Xk(s,o+1);s=yS(s,NS(r.shape,"bool"));const a=ow(r);return a_(s,r,a)}(e,n)}}};const MN=[SA,_A,IA,AA,CA,NA,DA,RA,OA,MA,LA,PA,$A,UA,zA,WA,GA,VA,qA,jA,YA,KA,QA,XA,ZA,tC,rC,iC,aC,oC,tN,lC,cC,uC,hC,dC,fC,pC,gC,yC,EC,TC,wC,kC,SC,_C,IC,AC,CC,DC,OC,OC,MC,PC,$C,BC,UC,zC,HC,WC,GC,VC,qC,jC,YC,KC,KC,XC,QC,eN,nN,rN,sN,iN,aN,oN,lN,cN,uN,dN,pN,fN,mN,bN,vN,xN,EN,TN,kN,kN,SN,SN,_N,AN,IN,{kernelName:Cx,gradFunc:e=>({x:()=>ow(e)})},CN,NN,DN,{kernelName:xx,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>sw(xw(cw(1),aw(n)),e)}}},RN,{kernelName:kx,gradFunc:(e,t,n)=>{const r=n,{perm:s}=r,i=mS(s);return{x:()=>c_(e,i)}}},{kernelName:_x,gradFunc:(e,t,n)=>{const r=n,{axis:s}=r;return{value:()=>e_(e,s)}}},ON,{kernelName:Ax,gradFunc:e=>({x:()=>ow(e)})}];for(const n of MN)Wx(n);_E().prototype.abs=function(){return this.throwIfDisposed(),Tw(this)};const LN=rT({acos_:function(e){const t={x:tT(e,"x","acos")};return qE.runKernel(Sb,t)}});_E().prototype.acos=function(){return this.throwIfDisposed(),LN(this)};const PN=rT({acosh_:function(e){const t={x:tT(e,"x","acosh")};return qE.runKernel(_b,t)}});_E().prototype.acosh=function(){return this.throwIfDisposed(),PN(this)},_E().prototype.add=function(e){return this.throwIfDisposed(),tw(this,e)},_E().prototype.all=function(e,t){return this.throwIfDisposed(),ik(this,e,t)},_E().prototype.any=function(e,t){return this.throwIfDisposed(),ak(this,e,t)},_E().prototype.argMax=function(e){return this.throwIfDisposed(),ok(this,e)};const FN=rT({argMin_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:tT(e,"x","argMin")},r={axis:t};return qE.runKernel(Rb,n,r)}});_E().prototype.argMin=function(e){return this.throwIfDisposed(),FN(this,e)},_E().prototype.asScalar=function(){return this.throwIfDisposed(),Bg(1===this.size,(()=>"The array must have only 1 element.")),wk(this,[])},_E().prototype.asType=function(e){return this.throwIfDisposed(),JT(this,e)},_E().prototype.as1D=function(){return this.throwIfDisposed(),wk(this,[this.size])},_E().prototype.as2D=function(e,t){return this.throwIfDisposed(),wk(this,[e,t])},_E().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),wk(this,[e,t,n])},_E().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),wk(this,[e,t,n,r])},_E().prototype.as5D=function(e,t,n,r,s){return this.throwIfDisposed(),wk(this,[e,t,n,r,s])};const $N=rT({asin_:function(e){const t={x:tT(e,"x","asin")};return qE.runKernel(Ob,t)}});_E().prototype.asin=function(){return this.throwIfDisposed(),$N(this)};const BN=rT({asinh_:function(e){const t={x:tT(e,"x","asinh")};return qE.runKernel(Mb,t)}});_E().prototype.asinh=function(){return this.throwIfDisposed(),BN(this)};const UN=rT({atan_:function(e){const t={x:tT(e,"x","atan")};return qE.runKernel(Lb,t)}});_E().prototype.atan=function(){return this.throwIfDisposed(),UN(this)};const zN=rT({atan2_:function(e,t){let n=tT(e,"a","atan2"),r=tT(t,"b","atan2");[n,r]=$E(n,r);const s={a:n,b:r};return qE.runKernel(Fb,s)}});_E().prototype.atan2=function(e){return this.throwIfDisposed(),zN(this,e)};const HN=rT({atanh_:function(e){const t={x:tT(e,"x","atanh")};return qE.runKernel(Pb,t)}});_E().prototype.atanh=function(){return this.throwIfDisposed(),HN(this)},_E().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),kk(this,e,t,n,r)},_E().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),wN(this,e,t)},_E().prototype.batchNorm=function(e,t,n,r,s){return this.throwIfDisposed(),_k(this,e,t,n,r,s)},_E().prototype.broadcastTo=function(e){return this.throwIfDisposed(),Nk(this,e)},_E().prototype.cast=function(e){return this.throwIfDisposed(),JT(this,e)};const WN=rT({ceil_:function(e){const t={x:tT(e,"x","ceil","float32")};return qE.runKernel(Yb,t)}});_E().prototype.ceil=function(){return this.throwIfDisposed(),WN(this)},_E().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Dk(this,e,t)},_E().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof SE&&(e=[e]),Rk([this,...e],t)},_E().prototype.conv1d=function(e,t,n,r,s,i){return this.throwIfDisposed(),$k(this,e,t,n,r,s,i)},_E().prototype.conv2dTranspose=function(e,t,n,r,s){return this.throwIfDisposed(),Uk(this,e,t,n,r,s)},_E().prototype.conv2d=function(e,t,n,r,s,i){return this.throwIfDisposed(),Fk(this,e,t,n,r,s,i)},_E().prototype.cos=function(){return this.throwIfDisposed(),gN(this)},_E().prototype.cosh=function(){return this.throwIfDisposed(),yN(this)},_E().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),JC(this,e,t,n)},_E().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),sC(this,e,t,n)};const GN=rT({depthToSpace_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC";const r=tT(e,"x","depthToSpace","float32"),s="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],a="NHWC"===n?r.shape[3]:r.shape[1];Bg(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),Bg(s*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${s} and ${t}  for depthToSpace with input shape\n    ${r.shape}`)),Bg(i*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${i} and ${t} for depthToSpace with input shape\n        ${r.shape}`)),Bg(a%(t*t)===0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${a} for depthToSpace with input shape ${r.shape}`));const o={x:r},l={blockSize:t,dataFormat:n};return qE.runKernel(hy,o,l)}});_E().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),GN(this,e,t)},_E().prototype.depthwiseConv2d=function(e,t,n,r,s,i){return this.throwIfDisposed(),Vk(this,e,t,n,r,s,i)};const VN=rT({dilation2d_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC";const a=tT(e,"x","dilation2d"),o=tT(t,"filter","dilation2d");Bg(3===a.rank||4===a.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${a.rank}.`)),Bg(3===o.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`)),Bg("NHWC"===i,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`));let l=a,c=!1;3===a.rank&&(l=wk(a,[1,a.shape[0],a.shape[1],a.shape[2]]),c=!0),Bg(l.shape[3]===o.shape[2],(()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${o.shape[2]}`));const u={x:l,filter:o},h={strides:n,pad:r,dilations:s},d=qE.runKernel(gy,u,h);return c?wk(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});_E().prototype.dilation2d=function(e,t,n,r,s){return this.throwIfDisposed(),VN(this,e,t,n,r,s)};const qN=rT({divNoNan_:function(e,t){let n=tT(e,"a","div"),r=tT(t,"b","div");[n,r]=$E(n,r);const s=rw(n,r),i=ow(s),a=jk(r,i);return a_(a,i,s)}});_E().prototype.divNoNan=function(e){return this.throwIfDisposed(),qN(this,e)},_E().prototype.div=function(e){return this.throwIfDisposed(),rw(this,e)};const jN=rT({dot_:function(e,t){const n=tT(e,"t1","dot"),r=tT(t,"t2","dot");Bg((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`));const s=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];if(Bg(s===i,(()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${i}.`)),1===n.rank&&1===r.rank){const e=wk(n,[1,-1]),t=wk(r,[-1,1]),s=vS(e,t);return wk(s,[])}if(1===n.rank&&2===r.rank){const e=wk(n,[1,-1]),t=wk(r,[r.shape[0],r.shape[1]]),s=vS(e,t);return wk(s,[s.size])}if(2===n.rank&&1===r.rank){const e=wk(r,[-1,1]),t=vS(n,e);return wk(t,[t.size])}{const e=wk(r,[r.shape[0],r.shape[1]]);return vS(n,e)}}});_E().prototype.dot=function(e){return this.throwIfDisposed(),jN(this,e)},_E().prototype.elu=function(){return this.throwIfDisposed(),qk(this)},_E().prototype.equal=function(e){return this.throwIfDisposed(),jk(this,e)},_E().prototype.erf=function(){return this.throwIfDisposed(),Yk(this)};const YN=rT({euclideanNorm_:function(e){return sI(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});_E().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),YN(this,e,t)},_E().prototype.exp=function(){return this.throwIfDisposed(),Kk(this)},_E().prototype.expandDims=function(e){return this.throwIfDisposed(),Xk(this,e)};const KN=rT({expm1_:function(e){const t={x:tT(e,"x","expm1")};return qE.runKernel(Ay,t)}});_E().prototype.expm1=function(){return this.throwIfDisposed(),KN(this)},_E().prototype.fft=function(){return this.throwIfDisposed(),h_(this)},_E().prototype.flatten=function(){return this.throwIfDisposed(),wk(this,[this.size])},_E().prototype.floor=function(){return this.throwIfDisposed(),Zk(this)},_E().prototype.floorDiv=function(e){return this.throwIfDisposed(),nw(this,e)},_E().prototype.gather=function(e,t,n){return this.throwIfDisposed(),eS(this,e,t,n)},_E().prototype.greaterEqual=function(e){return this.throwIfDisposed(),nS(this,e)},_E().prototype.greater=function(e){return this.throwIfDisposed(),tS(this,e)},_E().prototype.ifft=function(){return this.throwIfDisposed(),p_(this)},_E().prototype.irfft=function(){return this.throwIfDisposed(),f_(this)};const XN=rT({isFinite_:function(e){const t={x:tT(e,"x","isFinite")};return qE.runKernel(Hy,t)}});_E().prototype.isFinite=function(){return this.throwIfDisposed(),XN(this)};const QN=rT({isInf_:function(e){const t={x:tT(e,"x","isInf")};return qE.runKernel(Wy,t)}});_E().prototype.isInf=function(){return this.throwIfDisposed(),QN(this)};const JN=rT({isNaN_:function(e){const t={x:tT(e,"x","isNaN")};return qE.runKernel(Gy,t)}});_E().prototype.isNaN=function(){return this.throwIfDisposed(),JN(this)},_E().prototype.leakyRelu=function(e){return this.throwIfDisposed(),rS(this,e)},_E().prototype.lessEqual=function(e){return this.throwIfDisposed(),Q_(this,e)},_E().prototype.less=function(e){return this.throwIfDisposed(),tI(this,e)};const ZN=rT({localResponseNormalization_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const i=tT(e,"x","localResponseNormalization");Bg(4===i.rank||3===i.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${i.rank}.`)),Bg(Gg(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let a=i,o=!1;3===i.rank&&(o=!0,a=wk(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={x:a},c={depthRadius:t,bias:n,alpha:r,beta:s},u=qE.runKernel(ev,l,c);return o?wk(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});_E().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),ZN(this,e,t,n,r)};const eD=rT({logSigmoid_:function(e){const t=tT(e,"x","logSigmoid"),n=lw((e=>({value:_S(QS(_S(e))),gradFunc:t=>sw(t,GS(_S(e)))})));return n(t)}});_E().prototype.logSigmoid=function(){return this.throwIfDisposed(),eD(this)},_E().prototype.logSoftmax=function(e){return this.throwIfDisposed(),lS(this,e)},_E().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),bS(this,e,t)},_E().prototype.log=function(){return this.throwIfDisposed(),sS(this)},_E().prototype.log1p=function(){return this.throwIfDisposed(),iS(this)},_E().prototype.logicalAnd=function(e){return this.throwIfDisposed(),yS(this,e)},_E().prototype.logicalNot=function(){return this.throwIfDisposed(),hN(this)};const tD=rT({logicalOr_:function(e,t){const n=tT(e,"a","logicalOr","bool"),r=tT(t,"b","logicalOr","bool");Sw(n.shape,r.shape);const s={a:n,b:r};return qE.runKernel(Zy,s)}});_E().prototype.logicalOr=function(e){return this.throwIfDisposed(),tD(this,e)};const nD=rT({logicalXor_:function(e,t){const n=tT(e,"a","logicalXor","bool"),r=tT(t,"b","logicalXor","bool");return Sw(n.shape,r.shape),yS(tD(e,t),hN(yS(e,t)))}});_E().prototype.logicalXor=function(e){return this.throwIfDisposed(),nD(this,e)},_E().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),vS(this,e,t,n)},_E().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),xS(this,e,t,n,r)},_E().prototype.max=function(e,t){return this.throwIfDisposed(),aS(this,e,t)},_E().prototype.maximum=function(e){return this.throwIfDisposed(),_w(this,e)},_E().prototype.mean=function(e,t){return this.throwIfDisposed(),TS(this,e,t)},_E().prototype.min=function(e,t){return this.throwIfDisposed(),wS(this,e,t)},_E().prototype.minimum=function(e){return this.throwIfDisposed(),kS(this,e)};const rD=rT({mirrorPad_:function(e,t,n){Bg("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const r=tT(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Bg(t.length===r.rank,(()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`));const s="reflect"===n?1:0;for(let o=0;o<r.rank;o++)Bg(2===t[o].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Bg(t[o][0]>=0&&t[o][0]<=r.shape[o]-s&&t[o][1]>=0&&t[o][1]<=r.shape[o]-s,(()=>`Padding in dimension ${o} cannot be greater than or equal to ${r.shape[o]-s} or less than 0 for input of shape ${r.shape}`));const i={paddings:t,mode:n},a={x:r};return qE.runKernel(dv,a,i)}});_E().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),rD(this,e,t)};const sD=rT({mod_:function(e,t){let n=tT(e,"a","mod"),r=tT(t,"b","mod");[n,r]=$E(n,r);const s={a:n,b:r};return qE.runKernel(pv,s)}});_E().prototype.mod=function(e){return this.throwIfDisposed(),sD(this,e)},_E().prototype.mul=function(e){return this.throwIfDisposed(),sw(this,e)},_E().prototype.neg=function(){return this.throwIfDisposed(),_S(this)},_E().prototype.norm=function(e,t,n){return this.throwIfDisposed(),sI(this,e,t,n)},_E().prototype.notEqual=function(e){return this.throwIfDisposed(),IS(this,e)},_E().prototype.oneHot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),AS(this,e,t,n)},_E().prototype.onesLike=function(){return this.throwIfDisposed(),DS(this)},_E().prototype.pad=function(e,t){return this.throwIfDisposed(),RS(this,e,t)};const iD=rT({pool_:function(e,t,n,r,s,i,a){null==s&&(s=[1,1]),null==i&&(i=1),0===r&&(r="valid");const o=tT(e,"x","maxPool");let l=o,c=!1;3===o.rank&&(c=!0,l=wk(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Bg(vk(i,s),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${s}'`));const u=ck(l.shape,t,i,s,r),h=[u.dilationHeight,u.dilationWidth];let d;d="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),r=n.map((e=>e-1)),s=r.map((e=>Math.floor(e/2))),i=r.map(((e,t)=>e-s[t]));return r.map(((e,t)=>[s[t],i[t]]))}([u.filterHeight,u.filterWidth],h):[[0,0],[0,0]];const p=1===h[0]&&1===h[1],[f,m]=function(e,t,n){const r=n.map((e=>e[0])),s=n.map((e=>e[1])),i=e.concat(r,s),a=t.map(((e,t)=>(e-i[t]%e)%e)),o=s.map(((e,t)=>e+a[t])),l=t.map(((e,t)=>[r[t],o[t]])),c=t.map(((e,t)=>[0,a[t]]));return[l,c]}([u.inHeight,u.inWidth],h,d),g=p?r:"valid",b=p?l:HA(l,h,f),y=("avg"===n?()=>kk(b,t,i,g,a):()=>xS(b,t,i,g,a))(),v=p?y:wN(y,h,m);return c?wk(v,[v.shape[1],v.shape[2],v.shape[3]]):v}});_E().prototype.pool=function(e,t,n,r,s,i){return this.throwIfDisposed(),iD(this,e,t,n,r,s,i)},_E().prototype.pow=function(e){return this.throwIfDisposed(),vw(this,e)},_E().prototype.prelu=function(e){return this.throwIfDisposed(),OS(this,e)};const aD=rT({prod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=tT(e,"x","prod");"bool"===r.dtype&&(r=JT(r,"int32"));const s={x:r},i={axis:t,keepDims:n};return qE.runKernel(Iv,s,i)}});_E().prototype.prod=function(e,t){return this.throwIfDisposed(),aD(this,e,t)};const oD=rT({reciprocal_:function(e){const t={x:tT(e,"x","reciprocal")};return qE.runKernel(Ov,t)}});_E().prototype.reciprocal=function(){return this.throwIfDisposed(),oD(this)},_E().prototype.relu=function(){return this.throwIfDisposed(),US(this)},_E().prototype.relu6=function(){return this.throwIfDisposed(),g_(this)},_E().prototype.reshapeAs=function(e){return this.throwIfDisposed(),wk(this,e.shape)},_E().prototype.reshape=function(e){return this.throwIfDisposed(),wk(this,e)},_E().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),Y_(this,e,t,n)},_E().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),K_(this,e,t,n)},_E().prototype.reverse=function(e){return this.throwIfDisposed(),zS(this,e)},_E().prototype.rfft=function(){return this.throwIfDisposed(),d_(this)},_E().prototype.round=function(){return this.throwIfDisposed(),J_(this)},_E().prototype.rsqrt=function(){return this.throwIfDisposed(),mC(this)},_E().prototype.selu=function(){return this.throwIfDisposed(),HS(this)},_E().prototype.separableConv2d=function(e,t,n,r,s,i){return this.throwIfDisposed(),WS(this,e,t,n,r,s,i)},_E().prototype.sigmoid=function(){return this.throwIfDisposed(),GS(this)};const lD=rT({sign_:function(e){const t={x:tT(e,"x","sign")};return qE.runKernel(Jv,t)}});_E().prototype.sign=function(){return this.throwIfDisposed(),lD(this)},_E().prototype.sin=function(){return this.throwIfDisposed(),eC(this)},_E().prototype.sinh=function(){return this.throwIfDisposed(),nC(this)},_E().prototype.slice=function(e,t){return this.throwIfDisposed(),VS(this,e,t)},_E().prototype.softmax=function(e){return this.throwIfDisposed(),XS(this,e)},_E().prototype.softplus=function(){return this.throwIfDisposed(),QS(this)},_E().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),HA(this,e,t)},_E().prototype.split=function(e,t){return this.throwIfDisposed(),JS(this,e,t)},_E().prototype.sqrt=function(){return this.throwIfDisposed(),iw(this)},_E().prototype.square=function(){return this.throwIfDisposed(),aw(this)},_E().prototype.squaredDifference=function(e){return this.throwIfDisposed(),cI(this,e)},_E().prototype.squeeze=function(e){return this.throwIfDisposed(),ZS(this,e)},_E().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof SE?[this,e]:[this,...e];return e_(n,t)},_E().prototype.step=function(e){return this.throwIfDisposed(),b_(this,e)};const cD=rT({stridedSlice_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;const c={x:tT(e,"x","stridedSlice","string_or_numeric")},u={begin:t,end:n,strides:r,beginMask:s,endMask:i,ellipsisMask:a,newAxisMask:o,shrinkAxisMask:l};return qE.runKernel(fx,c,u)}});_E().prototype.stridedSlice=function(e,t,n,r,s,i,a,o){return this.throwIfDisposed(),cD(this,e,t,n,r,s,i,a,o)},_E().prototype.sub=function(e){return this.throwIfDisposed(),xw(this,e)},_E().prototype.sum=function(e,t){return this.throwIfDisposed(),oS(this,e,t)};const uD=rT({tan_:function(e){const t={x:tT(e,"x","tan","float32")};return qE.runKernel(vx,t)}});_E().prototype.tan=function(){return this.throwIfDisposed(),uD(this)},_E().prototype.tanh=function(){return this.throwIfDisposed(),t_(this)},_E().prototype.tile=function(e){return this.throwIfDisposed(),Qk(this,e)},_E().prototype.toBool=function(){return this.throwIfDisposed(),JT(this,"bool")},_E().prototype.toFloat=function(){return this.throwIfDisposed(),JT(this,"float32")},_E().prototype.toInt=function(){return this.throwIfDisposed(),JT(this,"int32")};const hD=rT({topk_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=tT(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const s=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${t}`);const i={x:r},a={k:t,sorted:n},[o,l]=qE.runKernel(Tx,i,a);return{values:o,indices:l}}});_E().prototype.topk=function(e,t){return this.throwIfDisposed(),hD(this,e,t)},_E().prototype.transpose=function(e){return this.throwIfDisposed(),c_(this,e)};const dD=rT({unique_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=tT(e,"x","unique","string_or_numeric");Bg(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},s={axis:t},[i,a]=qE.runKernel(Sx,r,s);return{values:i,indices:a}}});_E().prototype.unique=function(e){return this.throwIfDisposed(),dD(this,e)},_E().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),bC(this,e,t)},_E().prototype.unstack=function(e){return this.throwIfDisposed(),i_(this,e)},_E().prototype.where=function(e,t){return this.throwIfDisposed(),a_(e,this,t)},_E().prototype.zerosLike=function(){return this.throwIfDisposed(),ow(this)};class pD extends Error{constructor(e){super(e),Object.setPrototypeOf(this,pD.prototype)}}class fD extends Error{constructor(e){super(e),Object.setPrototypeOf(this,fD.prototype)}}class mD extends Error{constructor(e){super(e),Object.setPrototypeOf(this,mD.prototype)}}class gD extends Error{constructor(e){super(e),Object.setPrototypeOf(this,gD.prototype)}}class bD extends Error{constructor(e){super(e),Object.setPrototypeOf(this,bD.prototype)}}Error;class yD{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){const e=this.cache.keys().next().value;this.cache.delete(e)}this.maxEntries=e}}function vD(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}{const n=new Array(t);return n.fill(e),n}}function xD(e,t){if(!e)throw new bD(t)}function ED(e,t){let n=0;for(const r of e)r===t&&n++;return n}function TD(e){return 1===e.length?e[0]:e}function wD(e){return Array.isArray(e)?e:[e]}function kD(e){const t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function SD(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,((e,t)=>t.toUpperCase()))}let _D={};function ID(e){if(null===e||void 0===e)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function AD(e){if(null!=e&&"object"===typeof e)if(Array.isArray(e))e.forEach((e=>AD(e)));else{const t=Object.keys(e);for(const n of t){const t=e[n];null!=t&&"object"===typeof t&&(Array.isArray(t)||"ndarray"!==t.type||"number"!==typeof t.value?AD(t):e[n]=t.value)}}}function CD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){const s=e;let i;if(s in n)i=n[s];else if(s in _D)i=_D[s];else if(i=t[s],null==i)throw new mD(`Unknown ${r}: ${e}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return i}{const i=e;if(null==i.className||null==i.config)throw new mD(`${r}: Improper config format: ${JSON.stringify(i)}.\n'className' and 'config' must set.`);const a=i.className;let o,l;if(a in n?[o,l]=n[a]:a in _D?[o,l]=_D.className:a in t&&([o,l]=t[a]),null==o)throw new mD(`Unknown ${r}: ${a}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=l){const e={};for(const n of Object.keys(_D))e[n]=_D[n];for(const s of Object.keys(n))e[s]=n[s];i.config.customObjects=e;const t=Object.assign({},_D);for(const s of Object.keys(n))_D[s]=n[s];AD(i.config);const r=l(o,i.config,n,s);return _D=Object.assign({},t),r}{const e=Object.assign({},_D);for(const r of Object.keys(n))_D[r]=n[r];const t=new o(i.config);return _D=Object.assign({},e),t}}}function ND(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function DD(e){if(null==e)return e;const t=[];for(const n of e)-1===t.indexOf(n)&&t.push(n);return t}function RD(e){if(null==e)throw new mD(`Invalid value in obj: ${JSON.stringify(e)}`);for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function OD(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new mD(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function MD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return xD(n>=0),xD(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((e=>typeof e===t))}function LD(e,t){Array.isArray(e)?(Bg(e.length>0,(()=>`${t} is unexpectedly an empty array.`)),e.forEach(((e,n)=>LD(e,`element ${n+1} of ${t}`)))):Bg(Number.isInteger(e)&&e>0,(()=>`Expected ${t} to be a positive integer, but got ${PD(e)}.`))}function PD(e){return null===e?"null":Array.isArray(e)?"["+e.map((e=>PD(e))).join(",")+"]":"string"===typeof e?`"${e}"`:`${e}`}function FD(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}let $D=0;function BD(){return $D++}const UD={};function zD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in UD||(UD[e]=0),UD[e]+=1,e+UD[e].toString()}const HD=["channelsFirst","channelsLast"],WD=["nearest","bilinear"],GD=["valid","same","causal"],VD=["max","avg"],qD=["sum","mul","concat","ave"],jD=new Map;function YD(e){OD(HD,"DataFormat",e)}function KD(e){OD(GD,"PaddingMode",e)}function XD(e){OD(VD,"PoolMode",e)}const QD=[];function JD(e,t){QD.push(e);try{const e=t();return QD.pop(),e}catch(n){throw QD.pop(),n}}function ZD(e){if(!nR(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===QD.length?"":QD.join("/")+"/")+e}function eR(e){if(!nR(e))throw new Error("Not a valid tensor name: '"+e+"'");jD.has(e)||jD.set(e,0);const t=jD.get(e);if(jD.set(e,jD.get(e)+1),t>0){const n=`${e}_${t}`;return jD.set(n,1),n}return e}const tR=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function nR(e){return!!e.match(tR)}function rR(e){return e===parseInt(e.toString(),10)}function sR(e,t,n){null==t&&(t=0),null==n&&(n=e.length);let r=1;for(let s=t;s<n;++s)r*=e[s];return r}function iR(e){if(0===e.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r<t&&(t=r)}return t}function aR(e){if(0===e.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r>t&&(t=r)}return t}function oR(e,t){if(t<e)throw new mD(`end (${t}) < begin (${e}) is forbidden.`);const n=[];for(let r=e;r<t;++r)n.push(r);return n}let lR;function cR(){return null==lR&&(lR=fT().epsilon()),lR}function uR(e,t){return JT(e,t)}function hR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),wk(e,n)}function dR(e,t,n){return uT((()=>{switch(e.rank){case 1:return qS(e,t,n);case 2:return jS(e,[t,0],[n,e.shape[1]]);case 3:return YS(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return KS(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return VS(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return VS(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new mD(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function pR(e,t,n){return uT((()=>{switch(e.rank){case 1:return qS(e,t,n);case 2:return jS(e,[0,t],[e.shape[0],n]);case 3:return YS(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return KS(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new mD(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function fR(e,t,n,r){return uT((()=>{switch(e.rank){case 1:return qS(e,t,n);case 2:switch(r){case 1:return dR(e,t,n);case 2:return pR(e,t,n);default:throw new mD(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return dR(e,t,n);case 2:return YS(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return pR(e,t,n);default:throw new mD(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return dR(e,t,n);case 2:return KS(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return KS(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return pR(e,t,n);default:throw new mD(`The axis is not within the rank of the tensor ${r}`)}default:throw new mD(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function mR(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(t=e[0].rank,n=0!==t?t:0),n===e[0].rank&&(n=-1),Rk(e,n)}function gR(e,t){switch(e.rank){case 1:return Ok([e,t]);case 2:return Mk([e,t],0);case 3:return Lk([e,t],0);case 4:return Pk([e,t],0);default:throw new mD(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function bR(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new mD(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return Qk(e,t)}function yR(e){return FS(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0)}function vR(e,t,n,r){if(e.rank<2||t.rank<2)throw new gD(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3){if(e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new gD(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`)}if(2===e.rank&&2===t.rank){return S_({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?TR(e.rank,r,"channelsLast"):null,activation:n})}{const s=e.shape.slice(),i=s.pop();e=wk(e,[-1,i]);const a=t.shape.slice(),o=a.pop(),l=a.pop(),c=[...a,o],u=Array.from({length:t.rank},((e,n)=>0===n?t.rank-2:n<=t.rank-2?n-1:n));t=wk(c_(t,u),[l,-1]);const h=[...s,...c];return wk(S_({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?TR(e.rank,r,"channelsLast"):null,activation:n}),h)}}function xR(e,t,n){return uT((()=>(t=Array.isArray(t)?n_(t,"int32"):JT(t,"int32"),eS(e,t,n))))}function ER(e){return sw(e,e)}function TR(e,t,n){const r=t.shape;if(1!==t.rank&&t.rank!==e)throw new mD(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(5===e){if("channelsFirst"===n)return 1===r.length?wk(t,[1,r[0],1,1,1]):wk(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?wk(t,[1,1,1,1,r[0]]):wk(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?wk(t,[1,r[0],1,1]):wk(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?wk(t,[1,1,1,r[0]]):wk(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?wk(t,[1,r[0],1]):wk(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?wk(t,[1,1,r[0]]):wk(t,[1].concat(r))}else if(e<3)return t;throw new mD(`Unsupported input rank by biasAdd: ${t.rank}`)}function wR(e,t,n){return uT((()=>(null==n&&(n="channelsLast"),YD(n),tw(e,TR(e.rank,t,n)))))}function kR(e,t,n,r){return uT((()=>u_(e,t,n,r)))}function SR(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e():t()}const _R=["fanIn","fanOut","fanAvg"],IR=["normal","uniform","truncatedNormal"];class AR extends dw{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class CR extends AR{apply(e,t){return CS(e,t)}}CR.className="Zeros",fw(CR);class NR extends AR{apply(e,t){return NS(e,t)}}NR.className="Ones",fw(NR);class DR extends AR{constructor(e){if(super(),"object"!==typeof e)throw new mD(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new mD(`config must have value set but got ${e}`);this.value=e.value}apply(e,t){return uT((()=>sw(cw(this.value),NS(e,t))))}getConfig(){return{value:this.value}}}DR.className="Constant",fw(DR);class RR extends AR{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return $S(e,this.minval,this.maxval,t,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}RR.className="RandomUniform",fw(RR);class OR extends AR{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new gD(`randomNormal does not support dType ${t}.`);return yR(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}OR.className="RandomNormal",fw(OR);class MR extends AR{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new gD(`truncatedNormal does not support dType ${t}.`);return s_(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}MR.className="TruncatedNormal",fw(MR);class LR extends AR{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return uT((()=>{if(2!==e.length||e[0]!==e[1])throw new mD("Identity matrix initializer can only be used for 2D square matrices.");return sw(this.gain,Jk(e[0]))}))}getConfig(){return{gain:this.gain}}}LR.className="Identity",fw(LR);class PR extends AR{constructor(e){if(super(),e.scale<0)throw new mD(`scale must be a positive float. Got: ${e.scale}`);var t;this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,t=this.mode,OD(_R,"FanMode",t),this.distribution=null==e.distribution?"normal":e.distribution,function(e){OD(IR,"Distribution",e)}(this.distribution),this.seed=e.seed}apply(e,t){const n=function(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(YD(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){const r=sR(e,2);t=e[1]*r,n=e[0]*r}else if("channelsLast"===r){const r=sR(e,0,e.length-2);t=e[e.length-2]*r,n=e[e.length-1]*r}}else{const r=sR(e);t=Math.sqrt(r),n=Math.sqrt(r)}return[t,n]}(e),r=n[0],s=n[1];let i=this.scale;if("fanIn"===this.mode?i/=Math.max(1,r):"fanOut"===this.mode?i/=Math.max(1,s):i/=Math.max(1,(r+s)/2),"normal"===this.distribution){const n=Math.sqrt(i);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new gD(`${this.getClassName()} does not support dType ${t}.`);return s_(e,0,n,t,this.seed)}{const n=Math.sqrt(3*i);return $S(e,-n,n,t,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}PR.className="VarianceScaling",fw(PR);class FR extends PR{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return PR.className}}FR.className="GlorotUniform",fw(FR);class $R extends PR{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return PR.className}}$R.className="GlorotNormal",fw($R);class BR extends PR{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return PR.className}}BR.className="HeNormal",fw(BR);class UR extends PR{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return PR.className}}UR.className="HeUniform",fw(UR);class zR extends PR{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return PR.className}}zR.className="LeCunNormal",fw(zR);class HR extends PR{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return PR.className}}HR.className="LeCunUniform",fw(HR);class WR extends AR{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,t){return uT((()=>{if(e.length<2)throw new gD("Shape must be at least 2D.");if("int32"!==t&&"float32"!==t&&void 0!==t)throw new TypeError(`Unsupported data type ${t}.`);const n=Hg(e.slice(0,-1)),r=e[e.length-1],s=n*r;s>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${s}) elements: Slowness may result.`);const i=yR([Math.max(r,n),Math.min(r,n)],0,1,t,this.seed),a=hI.qr(i,!1);let o=a[0];const l=a[1].flatten().stridedSlice([0],[Math.min(r,n)*Math.min(r,n)],[Math.min(r,n)+1]);return o=sw(o,l.sign()),n<r&&(o=o.transpose()),sw(cw(this.gain),o.reshape(e))}))}getConfig(){return{gain:this.gain,seed:this.seed}}}WR.className="Orthogonal",fw(WR);const GR={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function VR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return CD(e,pw.getMap().classNameMap,t,"initializer")}function qR(e){return ID(e)}function jR(e){if("string"===typeof e){const t=e in GR?GR[e]:e;if("GlorotNormal"===t)return new $R;if("GlorotUniform"===t)return new FR;if("HeNormal"===t)return new BR;if("HeUniform"===t)return new UR;if("LeCunNormal"===t)return new zR;if("LeCunUniform"===t)return new HR;{const e={};return e.className=t,e.config={},VR(e)}}return e instanceof AR?e:VR(e)}function YR(e){return Array.isArray(e)&&Array.isArray(e[0])}function KR(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function XR(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new mD(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function QR(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new mD(`Expected exactly 1 Shape; got ${e.length}`)}return e}function JR(e){let t=0;for(const n of e)0===n.shape.length?t+=1:t+=n.shape.reduce(((e,t)=>e*t));return t}const ZR="Variable";class eO{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ZR,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=BD(),n=null==n?ZR:n,this.originalName=ZD(n),this.name=eR(this.originalName),this.trainable_=r,this.constraint=s,this.val=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return qE.makeVariable(e,t,n,r)}(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function tO(e){return e.map((e=>e.read()))}function nO(e){e.forEach((e=>{e[0].write(e[1])}))}class rO{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class sO{constructor(e,t,n,r,s,i,a){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=s,this.outputTensorIndex=a,this.id=BD(),null!=i&&(this.originalName=ZD(i),this.name=eR(this.originalName)),this.rank=t.length}}let iO=0;class aO{constructor(e,t){this.callArgs=t,this.id=iO++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const n of e.inboundLayers)null!=n&&n.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let oO=0;class lO extends dw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=oO++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const e=this.getClassName();t=kD(e)+"_"+zD(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),t=[n].concat(e.inputShape)}this.batchInputShape=t;let n=e.dtype;null==n&&(n=e.inputDType),null==n&&(n="float32"),this.dtype=n}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new fD(`The layer has never been called and thus has no defined ${t}.`);if(this.inboundNodes.length<=e)throw new mD(`Asked to get ${t} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return TD(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return TD(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new pD(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new pD(`Layer ${this.name} is not connected, no input to return.`);return TD(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new pD(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new pD(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return TD(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map((e=>e()))}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach((t=>t.trainable=e)),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter((e=>e.trainable)):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter((e=>!e.trainable)).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const t=wD(e);if(null==this.inputSpec||0===this.inputSpec.length)return;const n=wD(this.inputSpec);if(t.length!==n.length)throw new mD(`Layer ${this.name} expects ${n.length} inputs, but it received ${t.length} input tensors. Input received: ${e}`);for(let r=0;r<t.length;r++){const e=t[r],s=n[r];if(null==s)continue;const i=e.rank;if(null!=s.ndim&&i!==s.ndim)throw new mD(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${s.ndim}, found ndim=${i}`);if(null!=s.maxNDim&&i>s.maxNDim)throw new mD(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${s.maxNDim}, found ndim=${i}`);if(null!=s.minNDim&&i<s.minNDim)throw new mD(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${s.minNDim}, found ndim=${i}.`);if(null!=s.dtype&&e.dtype!==s.dtype)throw new mD(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${s.dtype}, found dtype=${e.dtype}.`);if(s.axes){const t=e.shape;for(const e in s.axes){const n=Number(e),i=s.axes[e],a=n>=0?t[n]:t[t.length+n];if(null!=i&&-1===[i,null].indexOf(a))throw new mD(`Input ${r} is incompatible with layer ${this.name}: expected axis ${n} of input shape to have value ${i} but got shape ${t}.`)}}if(null!=s.shape)for(let t=0;t<s.shape.length;++t){const n=s.shape[t],i=e.shape[t];if(null!=n&&null!=i&&n!==i)throw new mD(`Input ${r} is incompatible with layer ${this.name}: expected shape=${s.shape}, found shape=${e.shape}.`)}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const n=wD(e),r=function(e){let t=!0;for(const n of wD(e))if(!(n instanceof sO)){t=!1;break}return t}(e),s=function(e){let t=!0;for(const n of wD(e))if(n instanceof sO){t=!1;break}return t}(e);if(r===s)throw new mD("Arguments to apply() must be all SymbolicTensors or all Tensors");return JD(this.name,(()=>{if(!this.built){this.assertInputCompatibility(e);const t=[];for(const n of wD(e))t.push(n.shape);this.build(TD(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&s&&(this._refCount=1)}if(this.assertInputCompatibility(e),s){let r=this.call(e,t);this.supportsMasking&&this.setMaskMetadata(e,r);const s=wD(r),i=[];for(let e of s)-1!==n.indexOf(e)&&(e=e.clone()),i.push(e);if(r=TD(i),null!=this.activityRegularizer)throw new gD("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}{const n=function(e){e=wD(e);const t=[];for(const n of e)t.push(n.shape);return TD(t)}(e),r=this.computeOutputShape(n);let s;const i="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?n[0]:n),s=null!=r&&r.length>0&&Array.isArray(r[0])?r.map(((n,r)=>new sO(i,n,this,wD(e),t,this.name,r))):new sO(i,r,this,wD(e),t,this.name),this.addInboundNode(e,s,null,null,n,r,t),this._refCount++,null!=this.activityRegularizer)throw new gD("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return s}}))}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let t=!1;this.batchInputShape.forEach(((n,r)=>{null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new pD(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const t of this.inboundNodes){const n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new pD(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new fD(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return JR(this.weights)}build(e){this.built=!0}getWeights(){return tO(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.trainableWeights:this.weights)}setWeights(e){uT((()=>{const t=this.weights;if(t.length!==e.length)throw new mD(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${t.length} weights. Provided weights: ${e}...`);if(0===t.length)return;const n=[],r=tO(t);for(let s=0;s<r.length;++s){const i=r[s],a=t[s],o=e[s];if(!Wg(i.shape,o.shape))throw new mD(`Layer weight shape ${i.shape} not compatible with provided weight shape ${o.shape}`);n.push([a,o])}nO(n)}))}addWeight(e,t,n,r,s,i,a,o){if(-1!==this._addedWeightNames.indexOf(e))throw new mD(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=o?o():jR("zeros"));const l=r.apply(t,n),c=new eO(l,n,e,i,a);return l.dispose(),null!=s&&this.addLoss((()=>s.apply(c.read()))),null==i&&(i=!0),i?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=wD(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);t.forEach((e=>{if(null!=e)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)}))}return null}return t}setMaskMetadata(e,t,n){if(!this.supportsMasking)return;const r=this.computeMask(e,n),s=wD(t),i=wD(r);if(s.length!==i.length)throw new Error(`${this.name} outputs ${s.length} tensors but ${s.length} masks for those tensors`);for(let a=0;a<s.length;a++)s[a].kerasMask=i[a]}addInboundNode(e,t,n,r,s,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;const o=wD(e);t=wD(t),n=wD(n),r=wD(r),s=KR(s),i=KR(i);const l=[],c=[],u=[];for(const h of o)l.push(h.sourceLayer),c.push(h.nodeIndex),u.push(h.tensorIndex);new aO({outboundLayer:this,inboundLayers:l,nodeIndices:c,tensorIndices:u,inputTensors:o,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:s,outputShapes:i},a);for(let h=0;h<t.length;h++)t[h].sourceLayer=this,t[h].nodeIndex=this.inboundNodes.length-1,t[h].tensorIndex=h}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach((e=>e.dispose())),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function cO(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];{const e=t.inboundNodes[n];if(0===e.inboundLayers.length)return e.inputTensors;{const t=[];for(let n=0;n<e.inboundLayers.length;n++){const r=cO(e.inputTensors[n],e.inboundLayers[n],e.nodeIndices[n]);for(const e of r)-1===t.indexOf(e)&&t.push(e)}return t}}}class uO extends lO{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:zD("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new mD("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new mD("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new mD("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];const r=new sO(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new aO({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new mD(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}uO.className="InputLayer",fw(uO);class hO{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof hO)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,n){if(null!=this.id2Value[e.id])throw new mD(`Duplicate key: name=${e.name}, id=${e.id}`);return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return JT(t,e.dtype)}catch(gee){throw new mD(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof sO){if(null==this.id2Value[e.id])throw new mD(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}{const t=this.name2Id[e];if(null==t)throw new mD(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[t]}}getMask(e){if(e instanceof sO){if(null==this.id2Value[e.id])throw new mD(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}{const t=this.name2Id[e];if(null==t)throw new mD(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&hT(this.id2Mask)}}const dO=new yD,pO=new yD;function fO(e,t,n,r){const s=null!=n&&n.training,i=Array.isArray(e),a=i?e:[e],o=a.map((e=>e.name)),l=[],c=t.names();for(const f of o)-1!==c.indexOf(f)?l.push(t.getValue(f)):l.push(null);null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);const u=o.join(",")+"|"+t.names().sort().join(",");let h,d=dO.get(u);if(null==d){const e=function(e,t){Bg(null!=e&&e.length>0,(()=>"Expected at least one fetch, got none"));let n=[],r={};if(1===e.length){const s=gO(e[0],t);n=s.sorted,r=s.recipientMap}else{const s=new Set;for(const i of e){const{sorted:e,recipientMap:a}=gO(i,t);for(const t of e)s.has(t.name)||(n.push(t),s.add(t.name));for(const t in a)null==r[t]&&(r[t]=new Set),a[t].forEach((e=>r[t].add(e)))}}return{sorted:n,recipientCounts:mO(r)}}(a,t);d=e.sorted,h=e.recipientCounts,dO.put(u,d),pO.put(u,h)}h={},s||Object.assign(h,pO.get(u));const p=new hO(t);for(let f=0;f<d.length;++f){if(null!=r){const e=cT().numTensors;e>r.maxNumTensors&&(r.maxNumTensors=e),e<r.minNumTensors&&(r.minNumTensors=e)}const e=d[f],i=e.sourceLayer;if(i instanceof uO)continue;const a=[],c=[],u=[];let m=!1;for(const n of e.inputs){const e=p.getValue(n),r=p.getMask(n);a.push(e),c.push(r),null!=r&&(m=!0),s||(h[n.name]--,0!==h[n.name]||t.hasKey(n)||-1!==o.indexOf(n.name)||e.isDisposed||!0===n.sourceLayer.stateful||u.push(e))}m&&((n=n||{}).mask=c[0]);const g=wD(i.apply(a,n));let b=null;i.supportsMasking&&(b=i.computeMask(a,c));const y=bO(e),v=Array.isArray(y)?y:[y];for(let t=0;t<v.length;++t){p.hasKey(v[t])||p.add(v[t],g[t],Array.isArray(b)?b[0]:b);const e=o.indexOf(v[t].name);-1!==e&&(l[e]=g[t])}s||hT(u)}return p.disposeMasks(),i?l:l[0]}function mO(e){const t={};for(const n in e)t[n]=e[n].size;return t}function gO(e,t){const n=new Set,r=[],s={};for(const o of t.names())n.add(o);const i=[],a=[];for(i.push(e);i.length>0;){const e=i[i.length-1];if(n.has(e.name)){i.pop();continue}const t=a[a.length-1]===i.length-1;if(0===e.inputs.length||t)i.pop(),r.push(e),n.add(e.name),t&&a.pop();else{a.push(i.length-1);for(const t of e.inputs)null==s[t.name]&&(s[t.name]=new Set),s[t.name].add(e.name),n.has(t.name)||i.push(t)}}return{sorted:r,recipientMap:s}}function bO(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let n=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(const r of e.sourceLayer.inboundNodes[t].outputTensors)if(r.id===e.id){n=t;break}t=e.sourceLayer.getOutputAt(n)}return t}function yO(e,t){return uT((()=>iw(oS(sw(e,e),t,!0))))}vb().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(()=>100),(function(e){null!=dO&&dO.setMaxEntries(e),null!=pO&&pO.setMaxEntries(e)}));class vO extends dw{getConfig(){return{}}}class xO extends vO{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return uT((()=>{const t=yO(e,this.axis),n=Dk(t,0,this.maxValue);return sw(e,rw(n,tw(cR(),t)))}))}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}xO.className="MaxNorm",fw(xO);class EO extends vO{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return uT((()=>rw(e,tw(cR(),yO(e,this.axis)))))}getConfig(){return{axis:this.axis}}}EO.className="UnitNorm",fw(EO);class TO extends vO{apply(e){return US(e)}}TO.className="NonNeg",fw(TO);class wO extends vO{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return uT((()=>{const t=yO(e,this.axis),n=tw(sw(this.rate,Dk(t,this.minValue,this.maxValue)),sw(1-this.rate,t));return sw(e,rw(n,tw(cR(),t)))}))}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}wO.className="MinMaxNorm",fw(wO);const kO={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function SO(e){return ID(e)}function _O(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return CD(e,pw.getMap().classNameMap,t,"constraint")}function IO(e){if(null==e)return null;if("string"===typeof e){return _O({className:e in kO?kO[e]:e,config:{}})}return e instanceof vO?e:_O(e)}async function AO(e){if(null==e)return;const t=[],n=[],r=[];for(const s in e){const i=e[s];if("number"!==typeof i){const e=i;t.push(e.data()),n.push(s),r.push(e)}}if(t.length>0){const s=await Promise.all(t);for(let t=0;t<s.length;++t)e[n[t]]=s[t][0];hT(r)}}function CO(e){if(null!=e)for(const t in e){const n=e[t];"number"!==typeof n&&n.dispose()}}var NO;!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(NO||(NO={}));class DO{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class RO{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class OO extends DO{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});const n=null==t.size?0:t.size;this.seen+=n;for(const r in t){const e=t[r];if("number"===typeof e)this.totals.hasOwnProperty(r)||(this.totals[r]=0),this.totals[r]=this.totals[r]+e*n;else{let t;r in this.totals?t=this.totals[r]:this.totals[r]=0;const s=uT((()=>tw(this.totals[r],sw(e,n))));this.totals[r]=s,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(const n of this.params.metrics)null!=this.totals[n]&&("number"===typeof this.totals[n]?t[n]=this.totals[n]/this.seen:uT((()=>{const e=sw(rw(1,this.seen),this.totals[n]);t[n]=e,this.totals[n].dispose(),dT(t[n])})))}}class MO extends DO{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){null==t&&(t={}),this.epoch.push(e);for(const n in t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n])}async syncData(){const e=[],t=[],n=[];for(const s in this.history){const r=this.history[s];for(let i=0;i<r.length;++i)if("number"!==typeof r[i]){const a=r[i];e.push(a.data()),t.push(s),n.push(i)}}const r=await Promise.all(e);for(let s=0;s<r.length;++s){this.history[t[s]][n[s]].dispose(),this.history[t[s]][n[s]]=r[s][0]}}}class LO extends DO{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||fI,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");nb(this.yieldEvery)&&(this.maybeWait=function(e,t,n){let r,s=null!=n?n():lE();return function(){const i=null!=n?n():lE();return i-s<t||(s=i,r=e(...arguments)),r}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){const r=[];null!=this.yield&&(await AO(n),r.push(this.yield(e,t,n))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await AO(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const n=[];null!=this.epochEnd&&(await AO(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,t){null!=this.batchBegin&&(await AO(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const n=[];null!=this.batchEnd&&(await AO(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(this.nextFrameFunc()):nb(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){null!=this.trainBegin&&(await AO(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await AO(e),await this.trainEnd(e))}}function PO(e,t){if(null==e&&(e={}),e instanceof DO)return[e];if(Array.isArray(e)&&e[0]instanceof DO)return e;return wD(e).map((e=>new LO(e,t)))}class FO{constructor(){}static registerCallbackConstructor(e,t){Bg(e>=0&&Number.isInteger(e),(()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`)),FO.checkForDuplicate(t),null==FO.constructors[e]&&(FO.constructors[e]=[]),FO.constructors[e].push(t)}static checkForDuplicate(e){for(const t in FO.constructors){FO.constructors[+t].forEach((t=>{if(t===e)throw new mD("Duplicate callback constructor.")}))}}static clear(){FO.constructors={}}static createCallbacks(e){const t=[];for(const n in FO.constructors){const r=+n;e>=r&&t.push(...FO.constructors[r])}return t.map((e=>new e))}}function $O(e,t,n,r,s,i,a,o,l){const c=new MO,u=[new OO,...FO.createCallbacks(t)];null!=e&&u.push(...e),u.push(c);const h=new RO(u);return h.setParams({epochs:n,initialEpoch:r,samples:s,steps:i,batchSize:a,verbose:t,doValidation:o,metrics:l}),{callbackList:h,history:c}}function BO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return CD(e,pw.getMap().classNameMap,t,"layer",n)}function UO(e,t){return uT((()=>{"float32"!==e.dtype&&(e=JT(e,"float32"));const n=oS(ER(e),t,!0),r=bw(n.shape,cR()),s=iw(_w(n,r));return rw(e,s)}))}function zO(e,t){return uT((()=>TS(ER(xw(t,e)),-1)))}function HO(e,t){return uT((()=>TS(Tw(xw(t,e)),-1)))}function WO(e,t){return uT((()=>{const n=xw(e,t),r=Dk(Tw(e),cR(),Number.MAX_VALUE),s=Tw(rw(n,r));return sw(100,TS(s,-1))}))}function GO(e,t){return uT((()=>{const n=Dk(t,cR(),Number.MAX_VALUE),r=sS(tw(1,n)),s=Dk(e,cR(),Number.MAX_VALUE),i=sS(tw(1,s));return TS(ER(xw(r,i)),-1)}))}function VO(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return uT((()=>{if(n)t=XS(t);else{const e=oS(t,t.shape.length-1,!0);t=rw(t,e)}return t=Dk(t,cR(),1-cR()),_S(oS(sw(JT(e,"float32"),sS(t)),t.shape.length-1))}))}function qO(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return uT((()=>{const r=JT(Zk(function(e){const t=[sR(e.shape)];return wk(e,t)}(e)),"int32"),s=(t=Dk(t,cR(),1-cR())).shape;return VO(wk(AS(r,s[s.length-1]),s),t,n)}))}function jO(e,t){return uT((()=>{let n;return n=Dk(t,cR(),1-cR()),n=sS(rw(n,xw(1,n))),TS(function(e,t){if(!Wg(e.shape,t.shape))throw new mD(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return uT((()=>{const n=US(t),r=_S(Tw(t));return tw(xw(n,sw(t,e)),iS(Kk(r)))}))}(e,n),-1)}))}function YO(e,t){return uT((()=>{const n=Dk(e,cR(),1),r=Dk(t,cR(),1);return oS(sw(e,sS(rw(n,r))),-1)}))}function KO(e,t){return uT((()=>{const n=UO(e,-1),r=UO(t,-1),s=sw(n,r);return _S(oS(s,-1))}))}FO.constructors={};const XO={meanSquaredError:zO,meanAbsoluteError:HO,meanAbsolutePercentageError:WO,meanSquaredLogarithmicError:GO,squaredHinge:function(e,t){return uT((()=>{const n=_w(0,xw(1,sw(e,t)));return TS(ER(n),-1)}))},hinge:function(e,t){return uT((()=>{const n=_w(0,xw(1,sw(e,t)));return TS(n,-1)}))},categoricalHinge:function(e,t){return uT((()=>{const n=oS(sw(e,t),-1),r=aS(sw(xw(1,e),t),-1);return _w(0,tw(1,xw(r,n)))}))},logcosh:function(e,t){return uT((()=>{const n=Math.log(2),r=xw(t,e),s=xw(tw(r,QS(sw(-2,r))),n);return TS(s,-1)}))},categoricalCrossentropy:VO,sparseCategoricalCrossentropy:qO,binaryCrossentropy:jO,kullbackLeiblerDivergence:YO,poisson:function(e,t){return uT((()=>{const n=sS(tw(cR(),t));return TS(xw(t,sw(e,n)),-1)}))},cosineProximity:KO};function QO(e){if("string"===typeof e){if(e in XO)return XO[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new mD(t)}return e}function JO(e,t){return uT((()=>{const n=sw(.5,DS(t)),r=uR(tS(t,n),e.dtype);return TS(jk(e,r),-1)}))}function ZO(e,t){return uT((()=>uR(jk(ok(e,-1),ok(t,-1)),"float32")))}function eM(e,t){return uT((()=>JT(oS(yS(jk(e,1),jk(t,1))),"float32")))}function tM(e,t){return jO(e,t)}function nM(e,t){return e.rank===t.rank&&(e=ZS(e,[e.rank-1])),(t=ok(t,-1)).dtype!==e.dtype&&(t=JT(t,e.dtype)),JT(jk(e,t),"float32")}const rM=VO,sM=qO,iM={binaryAccuracy:JO,categoricalAccuracy:ZO,precision:function(e,t){return uT((()=>{const n=eM(e,t),r=function(e,t){return uT((()=>JT(oS(yS(jk(e,0),jk(t,1))),"float32")))}(e,t),s=tw(n,r);return JT(a_(tS(s,0),rw(n,s),0),"float32")}))},categoricalCrossentropy:rM,sparseCategoricalCrossentropy:sM,mse:zO,MSE:zO,mae:HO,MAE:HO,mape:WO,MAPE:WO,cosine:KO};function aM(e){if("string"===typeof e&&e in iM)return iM[e];if("string"!==typeof e&&null!=e)return e;throw new mD(`Unknown metric ${e}`)}function oM(e){if(xD(null!==e,`Unknown LossOrMetricFn ${e}`),"string"===typeof e)return e;{let t;for(const n of Object.keys(XO))if(XO[n]===e){t=n;break}if(void 0!==t)return t;for(const n of Object.keys(iM))if(iM[n]===e){t=n;break}return void 0!==t?t:e.name}}const lM=1048576;function cM(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!uM(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const n=JSON.stringify(e);n.length>lM&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${n.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function uM(e){if(null===e)return!0;if("object"===typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t){if("string"!==typeof n)return!1;if(!uM(e[n]))return!1}return!0}if(Array.isArray(e)){for(const t of e)if(!uM(t))return!1;return!0}return!1}{const t=typeof e;return"string"===t||"number"===t||"boolean"===t}}function hM(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log;const s=function(e){let t=!0;const n=[],r=[];for(const s in e.nodesByDepth)n.push(e.nodesByDepth[s]);for(const s of n){if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){t=!1;break}r.push(...s)}if(t)for(const s of e.layers){let e=!1;for(const n of s.inboundNodes)if(-1!==r.indexOf(n)){if(e){t=!1;break}e=!0}if(!t)break}return t}(e),i=["Layer (type)","Input Shape","Output shape","Param #"];let a;if(s?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((e=>Math.floor(t*e)))),!s){i.push("Receives inputs"),a=[];for(const t in e.nodesByDepth)a.push(...e.nodesByDepth[t])}r("_".repeat(t)),dM(i,n,r),r("=".repeat(t));const o=e.layers;for(let u=0;u<o.length;++u)s?pM(o[u],n,r):fM(o[u],n,a,r),r((u===o.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=function(e){let t;t=null!=e.collectedTrainableWeights?JR(e.collectedTrainableWeights):JR(e.trainableWeights);return t}(e),c=JR(e.nonTrainableWeights);r(`Total params: ${l+c}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${c}`),r("_".repeat(t))}function dM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="";for(let s=0;s<e.length;++s)s>0&&(r=r.slice(0,r.length-1)+" "),r+=e[s],r=r.slice(0,t[s]),r+=" ".repeat(t[s]-r.length);n(r)}function pM(e,t,n){let r,s;try{s=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(gee){s="multiple"}try{r=JSON.stringify(e.outputShape)}catch(gee){r="multiple"}dM([`${e.name} (${e.getClassName()})`,s,r,e.countParams().toString()],t,n)}function fM(e,t,n,r){let s,i;try{i=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(gee){i="multiple"}try{s=JSON.stringify(e.outputShape)}catch(gee){s="multiple"}const a=[];for(const u of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(u)))for(let e=0;e<u.inboundLayers.length;++e){const t=u.inboundLayers[e].name,n=u.nodeIndices[e],r=u.tensorIndices[e];a.push(`${t}[${n}][${r}]`)}const o=e.name,l=e.getClassName(),c=0===a.length?"":a[0];dM([`${o} (${l})`,i,s,e.countParams().toString(),c],t,r);for(let u=1;u<a.length;++u)dM(["","","","",a[u]],t,r)}function mM(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function gM(e,t){if(null===e)return null;if("string"===typeof e)return SD(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let s=0;s<r;++s){const r=e[s];mM(t,s,r)?n.push(r):n.push(gM(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n];if("name"===n&&"string"===typeof r)t[n]=r;else{const e=SD(n);t[e]=gM(r,e)}}return t}}function bM(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return kD(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let s=0;s<r;++s){const r=e[s];mM(t,s,r)?n.push(r):n.push(bM(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n],s=kD(n);t[s]="name"!==n&&"className"!==n||"string"!==typeof r?bM(r,n):r}return t}}const yM="4.22.0";class vM extends lO{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=zD(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],DD(this.inputs).length!==this.inputs.length)throw new mD(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map((e=>e.name))}`);DD(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map((e=>e.name))}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const b of this.outputs){const e=b.sourceLayer,t=b.nodeIndex,n=b.tensorIndex;this.outputLayers.push(e),this.outputLayersNodeIndices.push(t),this.outputLayersTensorIndices.push(n)}for(const b of this.inputs){const e=b.sourceLayer,t=b.nodeIndex,n=b.tensorIndex;xD(0===t,"input layer has >1 nodes"),xD(0===n,"input layer has >1 tensors"),this.inputLayers.push(e),this.inputLayersNodeIndices.push(t),this.inputLayersTensorIndices.push(n)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let b=0;b<this.inputLayers.length;b++){const t=this.inputLayers[b];if(!(t instanceof uO))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${b} (0-based) originates from layer type ${t.getClassName()}.`);this.inputNames.push(t.name),this.feedInputShapes.push(t.batchInputShape),this.feedInputNames.push(t.name)}for(const b of this.outputLayers)this.outputNames.push(b.name);this.internalInputShapes=this.inputs.map((e=>e.shape)),this.internalOutputShapes=this.outputs.map((e=>e.shape));const t={},n={},r={},s={},i={},a=[],o=(e,t,n,r,s,l)=>{null!=r&&null!=s&&null!=l||(r=e.sourceLayer,s=e.nodeIndex,l=e.tensorIndex);const c=r.inboundNodes[s];if(-1!==n.indexOf(c))throw new fD(`The tensor ${e.name} at layer "${r.name}" is part of a cycle.`);if(-1!==t.indexOf(c))return;this.containerNodes.add(vM.nodeKey(r,s)),r.id in i||(i[r.id]=Object.keys(i).length),-1===n.indexOf(c)&&n.push(c);const u=c.inboundLayers.length;for(let i=0;i<u;i++){const e=c.inputTensors[i],r=c.inboundLayers[i],s=c.nodeIndices[i],a=c.tensorIndices[i];o(e,t,n,r,s,a)}for(t.push(c);n.indexOf(c)>=0;)n.splice(n.indexOf(c),1);a.push(c)},l=[],c=[];for(const b of this.outputs)o(b,l,c);const u=a.slice().reverse();for(const b of u){n[b.id]=b,b.id in t||(t[b.id]=0);let e=t[b.id];const i=null==r[b.outboundLayer.id]?0:r[b.outboundLayer.id];e=Math.max(e,i),r[b.outboundLayer.id]=e,s[b.outboundLayer.id]=b.outboundLayer,t[b.id]=e;for(let r=0;r<b.inboundLayers.length;r++){const s=b.inboundLayers[r],i=b.nodeIndices[r],a=s.inboundNodes[i],o=null==t[a.id]?0:t[a.id];t[a.id]=Math.max(e+1,o),n[a.id]=a}}const h={};for(const b in t){const e=t[b];e in h||(h[e]=[]),h[e].push(n[b])}const d={};for(const b in r){const e=r[b];e in d||(d[e]=[]),d[e].push(s[b])}let p=Object.keys(d).map((e=>parseInt(e,10))).sort(ND);this.layers=[];for(const b of p){const e=d[b];e.sort(((e,t)=>{const n=i[e.id],r=i[t.id];return n<r?-1:n>r?1:0}));for(const t of e)t instanceof vM&&this.internalContainerRefs.push(t),this.layers.push(t)}this.layersByDepth=d,p=Object.keys(h).map((e=>parseInt(e,10))).sort(ND);const f=this.inputs.slice(),m=[];for(const b of p)for(const e of h[b]){const t=e.outboundLayer;if(null!=t){for(const n of e.inputTensors)if(-1===f.indexOf(n))throw new fD(`Graph disconnected: cannot obtain value for tensor ${n} at layer "${t.name}". The following previous layers were accessed without issue: ${m}`);for(const t of e.outputTensors)f.push(t);m.push(t.name)}}this.nodesByDepth=h;const g=this.layers.map((e=>e.name));for(const b of g){const e=g.filter((e=>e===b)).length;if(1!==e)throw new fD(`The name "${b}" is used ${e} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new aO({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map((e=>null)),outputMasks:this.outputs.map((e=>null)),inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs.map((e=>e.shape))}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach((t=>{t._trainableWeights.forEach((t=>t.trainable=e))})),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new mD("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n={};let r=0;const s=(e=>{const t=Object.keys(e);if(0===t.length)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))})(e);s&&this.parseWeights(e);for(const a of this.layers)for(const[e,t]of a.weights.entries()){const i=s?`${t.name.split("/").slice(0,-1).join("/")+"/"}${e}`:t.originalName;if(null!=n[i])throw new mD(`Duplicate weight name: ${i}`);n[i]=t,r++}const i=[];for(const a in e){let r=a;if(null==n[a]){const e=a.split("/");r=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=n[r])i.push([n[r],e[a]]);else if(t)throw new mD(`Provided weight data has no target variable: ${a}`);delete n[r]}if(t){const e=[];for(const t in n)e.push(t);if(e.length>0)throw new mD(`${e.length} of ${r} weights are not set: ${e}`)}nO(i)}parseWeights(e){for(const t in Object.keys(e)){const n=t.split("/"),r=["vars","layer_checkpoint_dependencies"],s=n.map((e=>e.startsWith("_")?e.slice(1):e)).filter((e=>!r.includes(e))).join("/");s!==t&&(e[s]=e[t],delete e[t])}}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion=`tfjs-layers ${yM}`,t.backend="TensorFlow.js",t}toJSON(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=bM(this.updatedConfig());return t?JSON.stringify(n):n}call(e,t){return uT((()=>{e=wD(e);const n=new hO;for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t]);return fO(this.outputs,n,t)}))}computeMask(e,t){return uT((()=>{let n;return e=wD(e),n=null==t?vD(null,e.length):wD(t),this.runInternalGraph(e,n)[1]}))}computeOutputShape(e){const t=KR(e);if(t.length!==this.inputLayers.length)throw new mD(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const n={};for(let a=0;a<t.length;a++){const e=this.inputLayers[a],r=t[a];n[e.name+"_0_0"]=r}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(ND);if(r.length>1)for(const a of r){const e=this.nodesByDepth[a];for(const t of e){const e=t.outboundLayer;if(-1!==this.inputLayers.map((e=>e.id)).indexOf(e.id))continue;const r=[];for(let a=0;a<t.inboundLayers.length;a++){const e=t.inboundLayers[a],s=t.nodeIndices[a],i=t.tensorIndices[a],o=n[`${e.name}_${s}_${i}`];r.push(o)}const s=KR(e.computeOutputShape(TD(r))),i=e.inboundNodes.indexOf(t);for(let t=0;t<s.length;t++){n[`${e.name}_${i}_${t}`]=s[t]}}}const s=[],i=[];for(let a=0;a<this.outputLayers.length;a++){const e=this.outputLayers[a],t=this.outputLayersNodeIndices[a],n=this.outputLayersTensorIndices[a],r=`${e.name}_${t}_${n}`;i.push(r)}for(let a=0;a<i.length;a++){const e=i[a];xD(e in n),s.push(n[e])}return TD(s)}runInternalGraph(e,t){null==t&&(t=vD(null,e.length));const n={};for(let o=0;o<this.inputs.length;++o){const r=this.inputs[o],s=e[o],i=t[o];n[r.id]=[s,i]}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(ND);for(const o of r){const e=this.nodesByDepth[o];for(const t of e){const e=t.outboundLayer,r=t.inputTensors,s=t.outputTensors,i=new Array;for(const t of r)t.id in n&&i.push(n[t.id]);if(i.length===r.length){let r,a,o,l,c={};if(null!=t.callArgs&&(c=t.callArgs),1===i.length){const[t,n]=i[0];null==c.mask&&(c.mask=n),o=wD(e.call(t,c)),l=wD(e.computeMask(t,n)),r=[t],a=[n]}else r=i.map((e=>e[0])),a=i.map((e=>e[1])),null==c.mask&&(c.mask=a),o=wD(e.call(r,c)),l=wD(e.computeMask(r,a));if(e.activityRegularizer)throw new gD("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<s.length;++e){const t=s[e],r=o[e],i=l[e];n[t.id]=[r,i]}}}}const s=[],i=[],a=[];for(const o of this.outputs){xD(o.id in n,`Could not compute output ${o.name} : ${o.id}`);const[e,t]=n[o.id];a.push(e.shape),s.push(e),i.push(t)}return[s,i,a]}buildNodeConversionMap(e){const t={};let n;for(const r of this.layers){n=r instanceof vM?1:0;for(let e=0;e<r.inboundNodes.length;e++){const s=vM.nodeKey(r,e);this.containerNodes.has(s)&&(t[s]=n,n+=1)}}return t}getLayer(e,t){if(null!=t)return this.findLayer(t);if(null==e)throw new mD("Provide either a layer name or layer index");if("number"===typeof e)return this.findLayer(e);for(const n of this.layers)if(n.name===e)return n;throw new mD(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new mD(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return uT((()=>{const e=[];for(const t of this.layers)for(let n=0;n<t.inboundNodes.length;++n){const r=vM.nodeKey(t,n);this.containerNodes.has(r)&&e.push(...t.calculateLosses())}return e}))}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),n=[];for(const i of this.layers){const e=i.getClassName(),r=i.getConfig(),s=[];for(let n=0;n<i.inboundNodes.length;n++){const e=i.inboundNodes[n],r=vM.nodeKey(i,n);let a={};if(this.containerNodes.has(r)){if(e.callArgs)try{JSON.stringify(e.callArgs),a=e.callArgs}catch(gee){console.warn(`Layer ${i.name} was passed non-serializable keyword arguments: ${e.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),a={}}if(e.inboundLayers.length>0){const n=[];for(let r=0;r<e.inboundLayers.length;r++){const s=e.inboundLayers[r],i=e.nodeIndices[r],o=e.tensorIndices[r];let l=t[vM.nodeKey(s,i)];null==l&&(l=0),n.push([s.name,l,o,a])}s.push(n)}}}const a={};a.name=i.name,a.className=e,a.config=r,a.inboundNodes=s,n.push(a)}e.layers=n;const r=[];for(let i=0;i<this.inputLayers.length;i++){const e=this.inputLayers[i],n=this.inputLayersNodeIndices[i],s=vM.nodeKey(e,n);if(!this.containerNodes.has(s))continue;let a=t[s];null!==a&&void 0!==a||(a=0);const o=this.inputLayersTensorIndices[i];r.push([e.name,a,o])}e.inputLayers=r;const s=[];for(let i=0;i<this.outputLayers.length;i++){const e=this.outputLayers[i],n=this.outputLayersNodeIndices[i],r=vM.nodeKey(e,n);if(!this.containerNodes.has(r))continue;let a=t[r];null!==a&&void 0!==a||(a=0);const o=this.outputLayersTensorIndices[i];s.push([e.name,a,o])}return e.outputLayers=s,e}static fromConfig(e,t){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r={},s={};function i(e,t){e.name in s?s[e.name].push(t):s[e.name]=[t]}function a(e,t){const n=[];let s;for(const a of t){const o=a[0],l=a[1],c=a[2];if(s=null==a[3]?{}:a[3],!(o in r))return void i(e,t);const u=r[o];if(u.inboundNodes.length<=l)return void i(e,t);const h=u.inboundNodes[l];n.push(h.outputTensors[c])}n.length>0&&e.apply(TD(n),s)}function o(e){const s=e.name,a=BO(e,null!=t.customObjects?t.customObjects:{});a.setFastWeightInitDuringBuild(n),r[s]=a;e.inboundNodes.forEach((e=>{if(!(e instanceof Array))throw new mD(`Corrupted configuration, expected array for nodeData: ${e}`);i(a,e)}))}const l=t.name,c=t.layers;for(const f of c)o(f);for(;!RD(s);)for(const e of c){const t=r[e.name];if(t.name in s){const e=s[t.name];delete s[t.name];for(const n of e)a(t,n)}}const u=[],h=[],d=t.inputLayers;for(const f of d){const e=f[0],t=f[1],n=f[2];xD(e in r);const s=r[e].inboundNodes[t].outputTensors;u.push(s[n])}const p=t.outputLayers;for(const f of p){const e=f[0],t=f[1],n=f[2];xD(e in r);const s=r[e].inboundNodes[t].outputTensors;h.push(s[n])}return new e({inputs:u,outputs:h,name:l})}get stateful(){if(this._stateful)throw new mD("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){uT((()=>{this.layers.forEach((e=>{e.stateful&&e.resetStates()}))}))}}function xM(e,t,n){const r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>null));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){const n=[];return t.forEach((t=>{t in e?n.push(e[t]):n.push(null)})),n}throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}function EM(e,t){return xM(e,t,"classWeight")}async function TM(e,t,n,r){if(null!=t||null!=r)throw new Error("Support sampleWeight is not implemented yet");if(null!=n){const t=uT((()=>{if(1===e.shape.length)return ZT(e);if(2===e.shape.length){if(e.shape[1]>1){return ok(e,1)}if(1===e.shape[1])return wk(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)})),r=Array.from(await t.data());hT(t);const s=[];return r.forEach((e=>{if(null==n[e])throw new Error(`classWeight must contain all classes in the training data. The class ${e} exists in the data but not in classWeight`);s.push(n[e])})),n_(s,"float32")}return null}function wM(e,t){return sw(e,t)}function kM(e,t){let n,r;const s=t;n=s.xs,r=s.ys,Bg(null!=n&&null!=r,(()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`));const i=SM("input",e.inputNames,n),a=SM("output",e.outputNames,r),o=i[0].shape[0];Bg(i.length===e.inputs.length,(()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`)),Bg(a.length===e.outputs.length,(()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${a.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`));for(let l=0;l<i.length;l++)Bg(i[l].shape[0]===o,(()=>`Batch size mismatch: input ${e.inputNames[l]} has ${i[l].shape[0]}; expected  ${o} based on input ${e.inputNames[0]}.`));for(let l=0;l<a.length;l++)Bg(a[l].shape[0]===o,(()=>`Batch size mismatch: output ${e.outputNames[l]} has ${a[l].shape[0]}; expected  ${o} based on input ${e.inputNames[0]}.`));return{xs:i,ys:a}}function SM(e,t,n){if(n instanceof SE)return[n];if(Array.isArray(n))return Bg(n.length===t.length,(()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`)),n;{const r=[];for(const s of t){if(null==n[s])throw new mD(`The feature data generated by the dataset lacks the required ${e} key '${s}'.`);r.push(n[s])}return r}}async function _M(e,t,n){const r=null!=n.batchesPerEpoch;if(Bg(null!=e.optimizer,(()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).")),Bg(null!=n,(()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.")),Bg(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`)),Bg(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`)),Bg(null==n.validationSplit,(()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.")),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const s=null!=n.validationData;let i,a;if(s)if(IM(n.validationData))Bg(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`));else{const e=function(e){if(3===e.length)throw new gD("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData);i=e.xs,a=e.ys}const o=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let c;c=s?l.slice().concat(l.map((e=>"val_"+e))):l.slice();const u=PO(n.callbacks,n.yieldEvery),h=null==n.verbose?1:n.verbose,{callbackList:d,history:p}=$O(u,h,n.epochs,null,null,function(e,t){let n=null;null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size);return n}(t,n),null,s,c);d.setModel(e),e.history=p,await d.onTrainBegin(),e.stopTraining_=!1;let f=null==n.initialEpoch?0:n.initialEpoch,m=await t.iterator();for(;f<n.epochs;){const c={};await d.onEpochBegin(f);let u=0,h=0;for(r||(m=await t.iterator());!r||u<n.batchesPerEpoch;){const t=await m.next();if(r&&t.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${u} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, `+n.batchesPerEpoch*n.epochs+" batches). You may need to use the repeat() function when building your dataset.");break}if(null!=t.value){const{xs:r,ys:s}=kM(e,t.value),i={};i.batch=h,i.size=r[0].shape[0],await d.onBatchBegin(h,i);const a=[];if(null!=n.classWeight){const t=EM(n.classWeight,e.outputNames);for(let e=0;e<t.length;++e)a.push(await TM(s[e],null,t[e]))}const c=r.concat(s).concat(a),p=o(c);hT(c);for(let e=0;e<l.length;++e){const t=l[e],n=p[e];i[t]=n,dT(n)}await d.onBatchEnd(h,i),CO(i),h++,u++}if(r?u>=n.batchesPerEpoch:t.done){if(s){let t;t=IM(n.validationData)?wD(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):wD(e.evaluate(i,a,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0}));for(let n=0;n<e.metricsNames.length;++n)c[`val_${e.metricsNames[n]}`]=t[n]}break}if(e.stopTraining_)break}if(await d.onEpochEnd(f,c),f++,e.stopTraining_)break}return await d.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function IM(e){return"function"===typeof e.iterator}function AM(e){Bg(e>0&&Number.isInteger(e),(()=>`batchSize is required to be a positive integer, but got ${e}`))}function CM(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((e=>dR(e,t,n-t))):dR(e,t,n-t)}function NM(e,t){return uT((()=>null==e?null:Array.isArray(e)?e.map((e=>NM(e,t))):xR(e,"int32"===t.dtype?t:JT(t,"int32"))))}function DM(e,t){const n=[];let r=0,s=null;for(;r<e;)s=r+t,s>=e&&(s=e),n.push([r,s]),r=s;return n}function RM(e){const t=[];e instanceof SE&&(e=[e]);for(let n=0;n<e.length;++n){const r=e[n];if(1===r.rank)t.push(hR(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function OM(e,t){if(null==e)return;const n=[];if(t instanceof SE)n.push(t.id);else if(Array.isArray(t))t.forEach((e=>n.push(e.id)));else if(null!=t)for(const s in t){const e=t[s];n.push(e.id)}const r=[];if(e instanceof SE)-1===n.indexOf(e.id)&&r.push(e);else if(Array.isArray(e))e.forEach((e=>{-1===n.indexOf(e.id)&&r.push(e)}));else if(null!=e)for(const s in e){const t=e[s];-1===n.indexOf(t.id)&&r.push(t)}r.forEach((e=>{e.isDisposed||e.dispose()}))}function MM(e){return Array.isArray(e)}function LM(e){return!function(e){return e instanceof SE}(e)&&!MM(e)}function PM(e,t,n){let r,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){let t=!1;if(MM(e)&&e.length>0)t=!0;else if(LM(e)){for(const n in e)if(e.hasOwnProperty(n)){t=!0;break}}else t=!0;if(t)throw new mD(`Error when checking model ${i} expected no data, but got ${e}`)}return[]}if(null==e)return t.map((e=>null));if(LM(e)){r=[];for(const n of t){if(null==e[n])throw new mD(`No data provided for "${n}". Need data for each key in: ${t}`);r.push(e[n])}}else if(MM(e)){if(e.length!==t.length)throw new mD(`Error when checking model ${i}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);r=e}else{if(t.length>1)throw new mD(`The model ${i} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);r=[e]}if(r=RM(r),null!=n)for(let a=0;a<t.length;++a){if(null==n[a])continue;const e=r[a];if(e.shape.length!==n[a].length)throw new mD(`Error when checking ${i}: expected ${t[a]} to have ${n[a].length} dimension(s). but got array with shape ${e.shape}`);for(let t=0;t<n[a].length;++t){if(0===t&&!s)continue;const r=e.shape[t],o=n[a][t];if(null!=o&&o>=0&&r!==o)throw new mD(`${i} expected a batch of elements where each example has shape [${n[a].slice(1,n[a].length)}] (i.e.,tensor shape [*,${n[a].slice(1,n[a].length)}]) but the ${i} received an input with ${e.shape[0]} examples, each with shape [${e.shape.slice(1,e.shape.length)}] (tensor shape [${e.shape}])`)}}return r}function FM(e,t,n){let r,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new mD(`Error when checking model ${i}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);r=e}else{if(t.length>1)throw new mD(`The model expects ${t.length} ${i} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);r=[e]}if(null!=n)for(let a=0;a<t.length;++a){if(null==n[a])continue;const e=r[a];if(e.shape.length!==n[a].length)throw new mD(`Error when checking ${i}: expected ${t[a]} to have ${n[a].length} dimension(s), but got array with shape ${JSON.stringify(e.shape)}`);for(let r=0;r<n[a].length;++r){if(0===r&&!s)continue;const o=e.shape[r],l=n[a][r];if(null!=l&&l!==o)throw new mD(`Error when checking ${i}: expected ${t[a]} to have shape ${JSON.stringify(n[a])} but got array with shape ${JSON.stringify(e.shape)}.`)}}}class $M extends vM{constructor(e){super(e),this.isTraining=!1}summary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new mD("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");hM(this,e,t,n)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){const t={Adagrad:()=>dI.adagrad(.01),Adadelta:()=>dI.adadelta(1,.95,cR()),Adam:()=>dI.adam(.001,.9,.999,cR()),Adamax:()=>dI.adamax(.002,.9,.999,cR(),0),RMSProp:()=>dI.rmsprop(.001,.9,0,cR()),SGD:()=>dI.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new mD(`Unknown Optimizer ${e}`)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof mw))throw new mD("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new mD(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);const n=e.loss;t=n.map((e=>QO(e)))}else{const n=QO(e.loss);this.outputs.forEach((e=>{t.push(n)}))}else{e.loss=e.loss;for(const t in e.loss)if(-1===this.outputNames.indexOf(t))throw new mD(`Unknown entry in loss dictionary: "${t}". Only expected the following keys: ${this.outputNames}`);for(const n of this.outputNames)null==e.loss[n]&&console.warn(`Output "${n}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${n} during training`),t.push(QO(e.loss[n]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let i=0;i<this.outputs.length;++i){const e=this.internalOutputShapes[i],t=this.outputNames[i];this.feedOutputNames.push(t),this.feedOutputShapes.push(e),this.feedLossFns.push(this.lossFunctions[i])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],JD("loss",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}}));const r=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>[]));let n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);n=e}if(Array.isArray(n))return t.map((e=>n));{const e=[];for(const r of t){let t=n.hasOwnProperty(r)?n[r]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}(e.metrics,this.outputNames),s=(e,t,n)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([n,e])};JD("metric",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;(t=>{let n,r,i;for(const a of t){if("string"===typeof a&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(a)){const t=this.internalOutputShapes[e];let s;1===t[t.length-1]||this.lossFunctions[e]===jO?-1!==["accuracy","acc"].indexOf(a)?r=JO:-1!==["crossentropy","ce"].indexOf(a)&&(r=tM):this.lossFunctions[e]===qO?-1!==["accuracy","acc"].indexOf(a)?r=nM:-1!==["crossentropy","ce"].indexOf(a)&&(r=sM):-1!==["accuracy","acc"].indexOf(a)?r=ZO:-1!==["crossentropy","ce"].indexOf(a)&&(r=rM),-1!==["accuracy","acc"].indexOf(a)?s="acc":-1!==["crossentropy","ce"].indexOf(a)&&(s="ce"),i=r,n=""+s}else{const e=aM(a);i=e,n=""+oM(a)}let t;JD(n,(()=>{t=i})),s(e,n,t)}})(r[e])}})),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=null==n.batchSize?32:n.batchSize;AM(r);const s=this.standardizeUserDataXY(e,t,!0,r);try{const e=s[0].concat(s[1]);this.makeTestFunction();const t=this.testFunction;return TD(this.testLoop(t,e,r,n.verbose,n.steps))}finally{OM(s[0],e),OM(s[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),async function(e,t,n){const r=null!=(n=n||{}).batches,s=e.testFunction;let i=[];if(n.verbose>0)throw new gD("Verbose mode is not implemented yet.");Bg(!r||n.batches>0&&Number.isInteger(n.batches),(()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`));const a="function"===typeof t.next?t:await t.iterator();let o=0,l=0;for(;!r||l<n.batches;){const t=await a.next();if(i=uT((()=>{if(t.value){const{xs:n,ys:r}=kM(e,t.value),a=n.concat(r),c=uT((()=>s(a)));if(hT(a),0===l)for(let e=0;e<c.length;++e)i.push(cw(0));const u=a[0].shape[0];for(let e=0;e<c.length;++e){const t=c[e],n=i[e];i[e]=uT((()=>tw(i[e],sw(u,t)))),l>0&&hT(n)}hT(c),o+=u,++l}return i})),t.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let c=0;c<i.length;++c){const e=i[c];i[c]=rw(i[c],o),hT(e)}return TD(i)}(this,e,t)}checkNumSamples(e,t,n){let r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new mD(`If ${s} is set, batchSize must be null or undefined.Got batchSize = ${t}`)}else{if(null==e)throw new mD(`Either the input data should have a defined shape, or ${s} shoud be specified.`);r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new mD("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(t),r=n?t:[t],s=this.retrieveSymbolicTensors(r),i=new hO;if(e instanceof SE&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new mD(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let t=0;t<this.inputs.length;++t)i.add(this.inputs[t],e[t])}else for(const o of this.inputs){const t=e[o.name];if(null==t)throw new mD(`No value is provided for the model's input ${o.name}`);i.add(o,t)}const a=fO(s,i);return n?a:a[0]}retrieveSymbolicTensors(e){const t=vD(null,e.length);let n=e.length;for(const r of this.layers){const s=Array.isArray(r.output)?r.output:[r.output],i=s.map((e=>e.name));for(let r=0;r<e.length;++r){const a=i.indexOf(e[r]);if(-1!==a&&(t[r]=s[a],n--),0===n)break}if(0===n)break}if(n>0){const n=[];throw t.forEach(((t,r)=>{null==t&&n.push(e[r])})),new mD(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(n)}`)}return t}predictLoop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return uT((()=>{const r=this.checkNumSamples(e);if(n)throw new gD("Verbose predictLoop() is not implemented yet.");const s=DM(r,t),i=this.outputs.map((e=>[]));for(let t=0;t<s.length;++t){uT((()=>{const n=s[t][0],r=s[t][1],i=CM(e,n,r),a=[];if(Array.isArray(i))for(let e=0;e<i.length;++e)a.push({key:this.inputs[e],value:i[e]});else a.push({key:this.inputs[0],value:i});const o=new hO(a);return fO(this.outputs,o)})).forEach(((e,t)=>i[t].push(e)))}return TD(i.map((e=>Rk(e,0))))}))}predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=RM(e);FM(n,this.inputNames,this.feedInputShapes,!1);try{const e=null==t.batchSize?32:t.batchSize;return AM(e),this.predictLoop(n,e)}finally{OM(n,e)}}predictOnBatch(e){FM(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t){let n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new fD("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const r=[];for(let s=0;s<this.feedOutputShapes.length;++s){const e=this.feedOutputShapes[s];this.feedLossFns[s]===qO?r.push(e.slice(0,e.length-1).concat([1])):r.push(e)}if(function(e,t){const n=DD(e.map((e=>e.shape[0])));n.sort();const r=DD(t.map((e=>e.shape[0])));if(r.sort(),n.length>1)throw new mD(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map((e=>e.shape)))}`);if(r.length>1)throw new mD(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map((e=>e.shape)))}`);if(n.length>0&&r.length>0&&!Wg(n,r))throw new mD(`Input Tensors should have the same number of samples as target Tensors. Found ${n[0]} input sample(s) and ${r[0]} target sample(s).`)}(e=PM(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=PM(t,this.feedOutputNames,r,!1,"target")),function(e,t,n){const r=[zO,jO,VO];for(let s=0;s<e.length;++s){const i=e[s],a=t[s],o=n[s];if(null!=a){if(a===VO&&1===i.shape[i.shape.length-1])throw new mD(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==r.indexOf(a)){const e=i.shape.slice(1),t=o.slice(1);for(let n=0;n<e.length;++n){const r=e[n],s=t[n];if(null!=s&&r!==s)throw new mD(`A target Tensor with shape ${i.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new mD(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${n}. Found: ${e[0].shape[0]} sample(s).`);return[e,t]}async standardizeUserData(e,t,n,r){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5?arguments[5]:void 0;const[a,o]=this.standardizeUserDataXY(e,t,s,i);if(null!=n)throw new Error("sample weight is not supported yet.");let l=null;if(null!=r){const e=EM(r,this.outputNames);l=[];for(let t=0;t<e.length;++t)l.push(await TM(o[t],null,e[t]))}return[a,o,l]}testLoop(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0;return uT((()=>{const i=this.checkNumSamples(t,n,s,"steps"),a=[];if(r>0)throw new gD("Verbose mode is not implemented yet.");if(null!=s)throw new gD("steps mode in testLoop() is not implemented yet");{const r=DM(i,n),s=n_(oR(0,i));for(let n=0;n<r.length;++n){const i=r[n][0],o=r[n][1],l=dR(s,i,o-i),c=NM(t,l),u=e(c);if(0===n)for(let e=0;e<u.length;++e)a.push(cw(0));for(let e=0;e<u.length;++e){const t=u[e];a[e]=tw(a[e],sw(o-i,t))}}for(let e=0;e<a.length;++e)a[e]=rw(a[e],i)}return a}))}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){const r=e[n];let s=r;if(ED(e,r)>1){s+=`_${ED(e.slice(0,n),r)}`}t.push(s)}return t}makeTrainFunction(){return e=>{const t=[],n=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),s=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),i=[],a=this.collectedTrainableWeights.map((e=>e.read()));return[this.optimizer_.minimize((()=>{const e=[];for(let t=0;t<this.inputs.length;++t)e.push({key:this.inputs[t],value:n[t]});const a=new hO(e),o=fO(this.outputs,a,{training:!0});let l;for(let n=0;n<this.lossFunctions.length;++n){let e=(0,this.lossFunctions[n])(r[n],o[n]);null!=s[n]&&(e=wM(e,s[n]));const i=TS(e);t.push(i),l=0===n?e:tw(l,e)}for(let n=0;n<this.metricsTensors.length;++n){let e;if(this.outputs.length>1&&n<this.outputs.length)e=t[n];else{const t=this.metricsTensors[n][0],s=this.metricsTensors[n][1];e=TS(t(r[s],o[s]))}dT(e),i.push(e)}return l=TS(l),this.calculateLosses().forEach((e=>{l=tw(l,e)})),l}),!0,a)].concat(i)}}makeTestFunction(){this.testFunction=e=>uT((()=>{const t=[];let n;const r=e.slice(0,this.inputs.length),s=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=[];for(let e=0;e<this.inputs.length;++e)i.push({key:this.inputs[e],value:r[e]});const a=new hO(i),o=fO(this.outputs,a);for(let e=0;e<this.lossFunctions.length;++e){const r=this.lossFunctions[e],i=TS(r(s[e],o[e]));n=0===e?i:tw(n,i),t.push(n)}for(let e=0;e<this.metricsTensors.length;++e){const n=this.metricsTensors[e][0],r=this.metricsTensors[e][1],i=TS(n(s[r],o[r]));t.push(i)}return t}))}async fit(e,t){let n,r,s,i,a,o,l,c,u,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;try{const d=null==h.batchSize?32:h.batchSize;AM(d);const p=!1,f=await this.standardizeUserData(e,t,h.sampleWeight,h.classWeight,p,d);n=f[0],r=f[1],u=f[2];let m,g=!1;if(null!=h.validationData&&h.validationData.length>0){if(g=!0,2!==h.validationData.length)throw 3===h.validationData.length?new gD("validationData including sample weights is not supported yet."):new mD(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${h.validationData} is invalid.`);a=h.validationData[0],o=h.validationData[1];const e=!0,t=await this.standardizeUserData(a,o,null,null,e,d);l=t[0],c=t[1],m=l.concat(c)}else if(null!=h.validationSplit&&h.validationSplit>0&&h.validationSplit<1){g=!0;const e=Math.floor(n[0].shape[0]*(1-h.validationSplit)),t=n[0].shape[0];l=CM(n,e,t),s=n,n=CM(n,0,e),c=CM(r,e,t),i=r,r=CM(r,0,e),m=l.concat(c)}else null!=h.validationSteps&&(g=!0);const b=n.concat(r).concat(u);this.checkTrainableWeightsConsistency();const y=this.makeTrainFunction(),v=this.getDedupedMetricsNames();let x,E;g?(this.makeTestFunction(),x=this.testFunction,E=v.slice().concat(v.map((e=>"val_"+e)))):(x=null,m=[],E=v.slice());const T=PO(h.callbacks,h.yieldEvery);return await this.fitLoop(y,b,v,d,h.epochs,h.verbose,T,x,m,h.shuffle,E,h.initialEpoch,null,null)}finally{this.isTraining=!1,OM(n,e),OM(r,t),OM(s,e),OM(i,t),OM(l,a),OM(c,o),null!=u&&hT(u)}}async fitLoop(e,t,n,r,s,i,a,o,l,c,u,h,d,p){null==r&&(r=32),null==s&&(s=1),null==c&&(c=!0),null==h&&(h=0);let f=!1;if(null!=o&&null!=l&&(f=!0),null!=p&&(f=!0,null==d))throw new mD("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const m=this.checkNumSamples(t,r,d,"steps_per_epoch");let g;null!=m&&(g=oR(0,m)),null==i&&(i=1);const{callbackList:b,history:y}=$O(a,i,s,h,m,d,r,f,u);b.setModel(this),this.history=y,await b.onTrainBegin(),this.stopTraining_=!1;for(let v=h;v<s;++v){await b.onEpochBegin(v);const s={};if(null!=d)throw new gD("stepsPerEpoch mode is not implemented yet.");{if("batch"===c)throw new gD("batch shuffling is not implemneted yet");c&&Lg(g);const i=n_(g),a=DM(m,r);for(let c=0;c<a.length;++c){const u={};if(await b.onBatchBegin(c,u),uT((()=>{const h=a[c][0],d=a[c][1],p=dR(i,h,d-h);u.batch=c,u.size=d-h;const m=NM(t,p),g=e(m);for(let e=0;e<n.length;++e){const t=n[e],r=g[e];u[t]=r,dT(r)}if(c===a.length-1&&f){const e=this.testLoop(o,l,r);for(let t=0;t<n.length;++t){const r=n[t],i=e[t];dT(i),s["val_"+r]=i}}})),await b.onBatchEnd(c,u),CO(u),this.stopTraining_)break}i.dispose()}if(await b.onEpochEnd(v,s),this.stopTraining_)break}return await b.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,t){return _M(this,e,t)}async trainOnBatch(e,t){const n=await this.standardizeUserData(e,t),r=n[0],s=n[1],i=this.makeTrainFunction()(r.concat(s)),a=[];for(const o of i){const e=await o.data();a.push(e[0])}return hT(i),OM(n[0],e),OM(n[1],t),TD(a)}getNamedWeights(e){const t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,s=this.getWeights(n);for(let i=0;i<r.length;++i)n&&!r[i].trainable||t.push({name:r[i].originalName,tensor:s[i]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const t=cT().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-cT().numTensors}return e}getLossIdentifiers(){let e;if("string"===typeof this.loss)e=kD(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!==typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((e=>kD(e)))}else{const t=Object.keys(this.loss);e={};const n=this.loss;for(const r of t){if("string"!==typeof n[r])throw new Error("Serialization of non-string loss is not supported.");e[r]=kD(n[r])}}return e}getMetricIdentifiers(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[kD(oM(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((e=>kD(oM(e))));{const e={};for(const t in this.metrics)e[t]=kD(oM(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const t=BO(gM(e.optimizer_config));let n,r;if("string"===typeof e.loss)n=SD(e.loss);else if(Array.isArray(e.loss))n=e.loss.map((e=>SD(e)));else if(null!=e.loss){n={};for(const t in e.loss)n[t]=SD(e.loss[t])}if(Array.isArray(e.metrics))r=e.metrics.map((e=>SD(e)));else if(null!=e.metrics){r={};for(const t in e.metrics)r[t]=SD(e.metrics[t])}this.compile({loss:n,metrics:r,optimizer:t})}async save(e,t){if("string"===typeof e){const t=(n=e,wT.getSaveHandlers(n));if(0===t.length)throw new mD(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new mD(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}var n;if(null==e.save)throw new mD("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await mT(this.getNamedWeights(t)),s={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:`TensorFlow.js tfjs-layers v${yM}`,convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){s.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:t,specs:n}=await mT(await this.optimizer.getWeights(),e);r.specs.push(...n),r.data=(i=[r.data,t],oT.join(i))}var i;if(null!=this.userDefinedMetadata){const e=!0;cM(this.userDefinedMetadata,this.name,e),s.userDefinedMetadata=this.userDefinedMetadata}return s.weightData=r.data,s.weightSpecs=r.specs,e.save(s)}setUserDefinedMetadata(e){cM(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}$M.className="Model",fw($M);class BM extends $M{}BM.className="Functional",fw(BM);class UM extends $M{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:zD("sequential_"),null!=e.layers)for(const t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some((e=>e<0)))throw new mD(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const t=e instanceof UM||e instanceof $M;let n;if(t){if(n=e,1!==n.outputs.length)throw new mD("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new mD("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new mD("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const t=function(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new mD("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let n=e.dtype;return null==n&&(n="float32"),new uO({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(t)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new mD(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new mD("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=cO(this.outputs[0])}this.inboundNodes=[],new aO({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:vD(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs[0].shape})}else{const t=e.apply(this.outputs[0]);if(Array.isArray(t))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(QR(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new $M({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),super.summary(e,t,n)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new fD("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}async evaluateDataset(e,t){if(!this.built)throw new fD("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new fD("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}async fitDataset(e,t){if(!this.built)throw new fD("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t){let n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new mD("Legacy serialization format not supported yet.");n=t}else Bg(null!=t.layers,(()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.")),n=t.layers,delete t.layers,s=t;const i=new e(s);if(!(i instanceof UM))throw new gD(`Sequential.fromConfig called on non-Sequential input: ${i}`);for(const a of n){const e=BO(a,void 0,r);r&&e.setFastWeightInitDuringBuild(!0),i.add(e)}return i}set stopTraining(e){if(null==this.model)throw new mD("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new mD("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}UM.className="Sequential",fw(UM);class zM extends dw{getConfig(){return{}}}class HM extends zM{apply(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new gD(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return qk(e)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}}HM.className="elu",fw(HM);class WM extends zM{apply(e){return HS(e)}}WM.className="selu",fw(WM);class GM extends zM{apply(e){return US(e)}}GM.className="relu",fw(GM);class VM extends zM{apply(e){return uT((()=>kS(6,US(e))))}}VM.className="relu6",fw(VM);class qM extends zM{apply(e){return e}}qM.className="linear",fw(qM);class jM extends zM{apply(e){return GS(e)}}jM.className="sigmoid",fw(jM);class YM extends zM{apply(e){return function(e){return uT((()=>{const t=tw(.5,sw(.2,e));return Dk(t,0,1)}))}(e)}}YM.className="hardSigmoid",fw(YM);class KM extends zM{apply(e){return QS(e)}}KM.className="softplus",fw(KM);class XM extends zM{apply(e){return function(e){return uT((()=>rw(e,tw(Tw(e),1))))}(e)}}XM.className="softsign",fw(XM);class QM extends zM{apply(e){return t_(e)}}QM.className="tanh",fw(QM);class JM extends zM{apply(e){return XS(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}JM.className="softmax",fw(JM);class ZM extends zM{apply(e){return lS(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}ZM.className="logSoftmax",fw(ZM);class eL extends zM{apply(e){return uT((()=>uT((()=>{const t=Math.sqrt(2),n=sw(.5,tw(1,Yk(rw(e,t))));return sw(e,n)}))))}}eL.className="gelu",fw(eL);class tL extends zM{apply(e){return uT((()=>sw(.5,sw(e,tw(1,t_(sw(iw(rw(2,Math.PI)),tw(e,sw(.044715,vw(e,3))))))))))}}tL.className="gelu_new",fw(tL);class nL extends zM{apply(e){return uT((()=>sw(e,t_(QS(e)))))}}nL.className="mish",fw(nL);class rL extends zM{apply(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return uT((()=>sw(GS(sw(e,t)),e)))}}function sL(e){return e.getClassName()}function iL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return CD(e,pw.getMap().classNameMap,t,"activation")}function aL(e){if(null==e){const e={className:"linear",config:{}};return iL(e)}if("string"===typeof e){const t={};return t.className=e,t.config={},iL(t)}return e instanceof zM?e:iL(e)}function oL(e){if(null!=e&&"object"!==typeof e)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}rL.className="swish",fw(rL);class lL extends dw{}class cL extends lL{constructor(e){super(),oL(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return uT((()=>{let t=CS([1]);return this.hasL1&&(t=tw(t,oS(sw(this.l1,Tw(e))))),this.hasL2&&(t=tw(t,oS(sw(this.l2,ER(e))))),wk(t,[])}))}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}cL.className="L1L2",fw(cL);const uL={l1l2:"L1L2"};function hL(e){return ID(e)}function dL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return CD(e,pw.getMap().classNameMap,t,"regularizer")}function pL(e){if(null==e)return null;if("string"===typeof e){return dL({className:e in uL?uL[e]:e,config:{}})}return e instanceof lL?e:dL(e)}class fL extends lO{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){e=XR(e);let n=US(e);return null!=this.maxValue&&(n=Dk(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}fL.className="ReLU",fw(fL);class mL extends lO{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=XR(e);return rS(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}mL.className="LeakyReLU",fw(mL);class gL extends lO{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=jR(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=pL(e.alphaRegularizer),this.alphaConstraint=IO(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new mD(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`);this.sharedAxes=[e.sharedAxes]}}build(e){const t=(e=QR(e)).slice(1);if(null!=this.sharedAxes)for(const r of this.sharedAxes)t[r-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(null!=this.sharedAxes)for(let r=1;r<e.length;++r)n[r]=e[r];this.inputSpec=[new rO({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=XR(e),OS(e,this.alpha.read())}getConfig(){const e={alphaInitializer:qR(this.alphaInitializer),alphaRegularizer:hL(this.alphaRegularizer),alphaConstraint:SO(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}gL.className="PReLU",fw(gL);class bL extends lO{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new gD(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=XR(e);return qk(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}bL.className="ELU",fw(bL);class yL extends lO{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){const n=XR(e);return sw(n,JT(tS(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}yL.className="ThresholdedReLU",fw(yL);class vL extends lO{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new JM).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){return uT((()=>{let n=XR(e);const r=t.mask;if(null!=r){const e=sw(xw(NS(n.shape),JT(r,n.dtype)),cw(-1e9));n=tw(n,e)}return this.axis instanceof Array?this.axis.length>1?Kk(xw(n,bS(n,this.axis,!0))):this.softmax(n,this.axis[0]):this.softmax(n,this.axis)}))}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function xL(e,t,n){if("number"===typeof e)return vD(e,t);if(e.length!==t)throw new mD(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let r=0;r<t;++r){const s=e[r];if(!rR(s))throw new mD(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${s}`)}return e}function EL(e,t,n,r){if(null==e)return e;let s;return s="same"===n?e:e-(t+(t-1)*((arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)-1))+1,Math.floor((s+r-1)/r)}function TL(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+aR([n-t,0]);else{if("same"!==r)throw new mD(`Unsupport padding mode: ${r}.`);e*=t}return e}function wL(e,t){return uT((()=>(YD(t),"channelsFirst"===t?c_(e,[0,2,3,1]):e)))}function kL(e,t){return uT((()=>(YD(t),"channelsFirst"===t?c_(e,[0,2,3,4,1]):e)))}function SL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return uT((()=>{if(null==i&&(i="channelsLast"),YD(i),3!==e.shape.length)throw new mD(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(3!==t.shape.length)throw new mD(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(null!=n&&1!==n.shape.length)throw new mD(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if("channelsFirst"===i&&(e=c_(e,[0,2,1])),"causal"===s)throw new gD("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=$k(e,t,r,"same"===s?"same":"valid","NWC",a);return null!=n&&(o=wR(o,n)),o}))}function _L(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return uT((()=>{if(null==i&&(i="channelsLast"),YD(i),3!==e.rank&&4!==e.rank)throw new mD(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(3!==t.rank&&4!==t.rank)throw new mD(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let l=wL(e,i);if("causal"===s)throw new gD("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=T_({x:l,filter:t,strides:r,pad:"same"===s?"same":"valid",dilations:a,dataFormat:"NHWC",bias:n,activation:o}),"channelsFirst"===i&&(l=c_(l,[0,3,1,2])),l}))}function IL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;return uT((()=>{if(null==i&&(i="channelsLast"),YD(i),4!==e.rank&&5!==e.rank)throw new mD(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(4!==t.rank&&5!==t.rank)throw new mD(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let o=kL(e,i);if("causal"===s)throw new gD("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=zk(o,t,r,"same"===s?"same":"valid","NDHWC",a),null!=n&&(o=wR(o,n)),"channelsFirst"===i&&(o=c_(o,[0,4,1,2,3])),o}))}vL.className="Softmax",fw(vL);class AL extends lO{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",AL.verifyArgs(t),this.rank=e,LD(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new gD(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=xL(t.kernelSize,e,"kernelSize"),this.strides=xL(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,KD(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,YD(this.dataFormat),this.activation=aL(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=jR(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=IO(t.biasConstraint),this.biasRegularizer=pL(t.biasRegularizer),this.activityRegularizer=pL(t.activityRegularizer),this.dilationRate=xL(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new mD(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"===typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new mD(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"===typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new mD(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(e){if(xD("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!MD(e.kernelSize,"number",1,3))throw new mD(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:sL(this.activation),useBias:this.useBias,biasInitializer:qR(this.biasInitializer),biasRegularizer:hL(this.biasRegularizer),activityRegularizer:hL(this.activityRegularizer),biasConstraint:SO(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class CL extends AL{constructor(e,t){super(e,t),this.kernel=null,CL.verifyArgs(t),this.filters=t.filters,LD(this.filters,"filters"),this.kernelInitializer=jR(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=IO(t.kernelConstraint),this.kernelRegularizer=pL(t.kernelRegularizer)}build(e){e=QR(e);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new mD(`The channel dimension of the input should be defined. Found ${e[t]}`);const n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:n}}],this.built=!0}call(e,t){return uT((()=>{let t;e=XR(e);const n=null==this.bias?null:this.bias.read(),r=FD(this.activation.getClassName());if(null!=r&&2===this.rank)t=_L(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate,r);else{if(1===this.rank)t=SL(e,this.kernel.read(),n,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=_L(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new gD("convolutions greater than 3D are not implemented yet.");t=IL(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(t=this.activation.apply(t))}return t}))}computeOutputShape(e){e=QR(e);const t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let s=0;s<n.length;++s){const e=EL(n[s],this.kernelSize[s],this.padding,this.strides[s],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[s]);t.push(e)}let r=[e[0]];return"channelsLast"===this.dataFormat?(r=r.concat(t),r.push(this.filters)):(r.push(this.filters),r=r.concat(t)),r}getConfig(){const e={filters:this.filters,kernelInitializer:qR(this.kernelInitializer),kernelRegularizer:hL(this.kernelRegularizer),kernelConstraint:SO(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new mD(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class NL extends CL{constructor(e){super(2,e),NL.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&!MD(e.kernelSize,"number",1,2))throw new mD(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}NL.className="Conv2D",fw(NL);class DL extends CL{constructor(e){super(3,e),DL.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new mD(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}DL.className="Conv3D",fw(DL);class RL extends NL{constructor(e){if(super(e),this.inputSpec=[new rO({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new mD(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=QR(e)).length)throw new mD("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new mD("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new rO({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return uT((()=>{let t=XR(e);if(4!==t.shape.length)throw new mD(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,r=n[0];let s,i;"channelsFirst"===this.dataFormat?(s=2,i=3):(s=1,i=2);const a=n[s],o=n[i],l=this.kernelSize[0],c=this.kernelSize[1],u=this.strides[0],h=this.strides[1],d=[r,TL(a,u,l,this.padding),TL(o,h,c,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=c_(t,[0,2,3,1]));let p=Uk(t,this.kernel.read(),d,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(p=c_(p,[0,3,1,2])),null!=this.bias&&(p=wR(p,this.bias.read(),this.dataFormat)),null!=this.activation&&(p=this.activation.apply(p)),p}))}computeOutputShape(e){const t=(e=QR(e)).slice();let n,r,s;"channelsFirst"===this.dataFormat?(n=1,r=2,s=3):(n=3,r=1,s=2);const i=this.kernelSize[0],a=this.kernelSize[1],o=this.strides[0],l=this.strides[1];return t[n]=this.filters,t[r]=TL(t[r],o,i,this.padding),t[s]=TL(t[s],l,a,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}RL.className="Conv2DTranspose",fw(RL);class OL extends DL{constructor(e){if(super(e),this.inputSpec=[new rO({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new mD(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(5!==(e=QR(e)).length)throw new mD("Input should have rank 5; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new mD("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new rO({ndim:5,axes:{[t]:n}})],this.built=!0}call(e,t){return uT((()=>{let t=XR(e);if(5!==t.shape.length)throw new mD(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,r=n[0];let s,i,a;"channelsFirst"===this.dataFormat?(a=2,s=3,i=4):(a=1,s=2,i=3);const o=n[a],l=n[s],c=n[i],u=this.kernelSize[0],h=this.kernelSize[1],d=this.kernelSize[2],p=this.strides[0],f=this.strides[1],m=this.strides[2],g=[r,TL(o,p,u,this.padding),TL(l,f,h,this.padding),TL(c,m,d,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=c_(t,[0,2,3,4,1]));let b=Wk(t,this.kernel.read(),g,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(b=c_(b,[0,4,1,2,3])),null!==this.bias&&(b=wR(b,this.bias.read(),this.dataFormat)),null!==this.activation&&(b=this.activation.apply(b)),b}))}computeOutputShape(e){const t=(e=QR(e)).slice();let n,r,s,i;"channelsFirst"===this.dataFormat?(n=1,r=2,s=3,i=4):(n=4,r=1,s=2,i=3);const a=this.kernelSize[0],o=this.kernelSize[1],l=this.kernelSize[2],c=this.strides[0],u=this.strides[1],h=this.strides[2];return t[n]=this.filters,t[r]=TL(t[r],c,a,this.padding),t[s]=TL(t[s],u,o,this.padding),t[i]=TL(t[i],h,l,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}OL.className="Conv3DTranspose",fw(OL);class ML extends CL{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new mD("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new mD("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new mD(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(t.padding)}`);this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=jR(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=pL(t.depthwiseRegularizer),this.depthwiseConstraint=IO(t.depthwiseConstraint),this.pointwiseInitializer=jR(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=pL(t.pointwiseRegularizer),this.pointwiseConstraint=IO(t.pointwiseConstraint)}build(e){if((e=QR(e)).length<this.rank+2)throw new mD(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new mD(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[t])}`);const n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),s=[];for(let a=0;a<this.rank;++a)s.push(1);s.push(n*this.depthMultiplier,this.filters);const i=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,i,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",s,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,i,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,i,this.biasConstraint):this.bias=null,this.inputSpec=[new rO({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return uT((()=>{let t;if(e=XR(e),1===this.rank)throw new gD("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=c_(e,[0,2,3,1])),t=WS(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=wR(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=c_(t,[0,3,1,2])),t}))}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=qR(this.depthwiseInitializer),e.pointwiseInitializer=qR(this.pointwiseInitializer),e.depthwiseRegularizer=hL(this.depthwiseRegularizer),e.pointwiseRegularizer=hL(this.pointwiseRegularizer),e.depthwiseConstraint=SO(this.depthwiseConstraint),e.pointwiseConstraint=SO(this.pointwiseConstraint),e}}ML.className="SeparableConv";class LL extends ML{constructor(e){super(2,e)}}LL.className="SeparableConv2D",fw(LL);class PL extends CL{constructor(e){super(1,e),PL.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&!MD(e.kernelSize,"number",1,1))throw new mD(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}PL.className="Conv1D",fw(PL);class FL extends lO{constructor(e){super(e),"number"===typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return uT((()=>{if(e=XR(e),"channelsLast"===this.dataFormat){const t=fR(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return fR(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const t=fR(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return fR(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}}))}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}FL.className="Cropping2D",fw(FL);class $L extends lO{constructor(e){var t;super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,YD(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,t=this.interpolation,OD(WD,"InterpolationFormat",t)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}{const t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return uT((()=>{let t=XR(e);const n=t.shape;if("channelsFirst"===this.dataFormat){t=c_(t,[0,2,3,1]);const e=this.size[0]*n[2],r=this.size[1]*n[3],s="nearest"===this.interpolation?uI.resizeNearestNeighbor(t,[e,r]):uI.resizeBilinear(t,[e,r]);return c_(s,[0,3,1,2])}{const e=this.size[0]*n[1],r=this.size[1]*n[2];return"nearest"===this.interpolation?uI.resizeNearestNeighbor(t,[e,r]):uI.resizeBilinear(t,[e,r])}}))}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}}$L.className="UpSampling2D",fw($L);class BL extends AL{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=jR(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=IO(e.depthwiseConstraint),this.depthwiseRegularizer=pL(e.depthwiseRegularizer)}build(e){if((e=QR(e)).length<4)throw new mD(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new mD(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[t]}).`);const n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return uT((()=>{let t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return uT((()=>{null==s&&(s="channelsLast"),YD(s);let a=wL(e,s);if(4!==e.rank)throw new mD(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(4!==t.rank)throw new mD(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return a=Vk(a,t,n,"same"===r?"same":"valid","NHWC",i),"channelsFirst"===s&&(a=c_(a,[0,3,1,2])),a}))}(e=XR(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=wR(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t}))}computeOutputShape(e){e=QR(e);const t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,s=EL(t,this.kernelSize[0],this.padding,this.strides[0]),i=EL(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,s,i]:[e[0],s,i,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=qR(this.depthwiseInitializer),e.depthwiseRegularizer=hL(this.depthwiseRegularizer),e.depthwiseConstraint=SO(this.depthwiseRegularizer),e}}function UL(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new mD("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function s(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=s(t),constants:n=s(n)}}function zL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return uT((()=>{const l=t.shape.length;if(l<3)throw new mD(`Input should be at least 3D, but is ${l}D.`);const c=[1,0].concat(oR(2,l));if(t=c_(t,c),null!=i)throw new gD("The rnn() functoin of the deeplearn.js backend does not support constants yet.");a&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=s&&(s=JT(JT(s,"bool"),"float32"),s.rank===l-1&&(s=Xk(s,-1)),s=c_(s,c)),r&&(t=zS(t,0),null!=s&&(s=zS(s,0)));const u=[];let h,d=n;const p=t.shape[0],f=i_(t);let m,g;null!=s&&(m=i_(s));for(let t=0;t<p;++t){const n=f[t],r=uT((()=>e(n,d)));if(null==s)h=r[0],d=r[1];else{const e=uT((()=>{const e=m[t],n=xw(DS(e),e);return{output:tw(sw(r[0],e),sw(d[0],n)),newStates:d.map(((t,s)=>tw(sw(r[1][s],e),sw(t,n))))}}));h=e.output,d=e.newStates}o&&u.push(h)}if(o){g=e_(u,1)}return[h,g,d]}))}BL.className="DepthwiseConv2D",fw(BL);class HL extends lO{constructor(e){let t;if(super(e),null==e.cell)throw new mD("cell property is missing for the constructor of RNN.");if(t=Array.isArray(e.cell)?new XL({cells:e.cell}):e.cell,null==t.stateSize)throw new mD("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new rO({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(null==this.states_){return oR(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((e=>null))}return this.states_}setStates(e){this.states_=e}computeOutputShape(e){YR(e)&&(e=e[0]);let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const n=t[0];let r;if(r=this.returnSequences?[e[0],e[1],n]:[e[0],n],this.returnState){const n=[];for(const r of t)n.push([e[0],r]);return[r].concat(n)}return r}computeMask(e,t){return uT((()=>{Array.isArray(t)&&(t=t[0]);const e=this.returnSequences?t:null;if(this.returnState){const t=this.states.map((e=>null));return[e].concat(t)}return e}))}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let n=0;n<e;++n)t.push(null);return t}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new gD("Constants support is not implemented in RNN yet.");YR(e)&&(e=e[0]);const t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new rO({shape:[t,null,...n]});const r=[e[0]].concat(e.slice(2));let s;if(this.cell.build(r),s=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!Wg(this.stateSpec.map((e=>e.shape[e.shape.length-1])),s))throw new mD(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=s.map((e=>new rO({shape:[null,e]})));this.stateful&&this.resetStates()}resetStates(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];uT((()=>{if(!this.stateful)throw new pD("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(null==n)throw new mD("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>CS([n,e]))):this.states_=[CS([n,this.cell.stateSize])];else if(null==e)hT(this.states_),null!=this.keptStates&&(hT(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>CS([n,e]))):this.states_[0]=CS([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new mD(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===t?this.keptStates.push(this.states_.slice()):hT(this.states_);for(let t=0;t<this.states_.length;++t){const r=e[t],s=Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize,i=[n,s];if(!Wg(r.shape,i))throw new mD(`State ${t} is incompatible with layer ${this.name}: expected shape=${i}, received shape=${r.shape}`);this.states_[t]=r}}this.states_=this.states_.map((e=>dT(e.clone())))}))}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const s=UL(e,n,r,this.numConstants);e=s.inputs,n=s.initialState,r=s.constants;let i=[],a=[];if(null!=n){t.initialState=n,i=i.concat(n),this.stateSpec=[];for(const e of n)this.stateSpec.push(new rO({shape:e.shape}));a=a.concat(this.stateSpec)}null!=r&&(t.constants=r,i=i.concat(r),this.numConstants=r.length);if(i[0]instanceof sO){const n=[e].concat(i),r=this.inputSpec.concat(a),s=this.inputSpec;this.inputSpec=r;const o=super.apply(n,t);return this.inputSpec=s,o}return super.apply(e,t)}call(e,t){return uT((()=>{const n=null==t?null:t.mask,r=null==t?null:t.training;let s=null==t?null:t.initialState;e=XR(e),null==s&&(s=this.stateful?this.states_:this.getInitialState(e));const i=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(s.length!==i)throw new mD(`RNN Layer has ${i} state(s) but was passed ${s.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const a={training:r},o=zL(((e,t)=>{const n=this.cell.call([e].concat(t),a);return[n[0],n.slice(1)]}),e,s,this.goBackwards,n,null,this.unroll,this.returnSequences),l=o[0],c=o[1],u=o[2];this.stateful&&this.resetStates(u,r);const h=this.returnSequences?c:l;return this.returnState?[h].concat(u):h}))}getInitialState(e){return uT((()=>{let t=CS(e.shape);return t=oS(t,[1,2]),t=hR(t),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map((e=>e>1?bR(t,[1,e]):t)):this.cell.stateSize>1?[bR(t,[1,this.cell.stateSize])]:[t]}))}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);const n=this.cell.getConfig();return this.getClassName()===HL.className&&(t.cell={className:this.cell.getClassName(),config:n}),Object.assign(Object.assign(Object.assign({},n),e),t)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=BO(t.cell,n);return new e(Object.assign(t,{cell:r}))}}HL.className="RNN",fw(HL);class WL extends lO{}class GL extends WL{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,LD(this.units,"units"),this.activation=aL(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=jR(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jR(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jR(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=pL(e.kernelRegularizer),this.recurrentRegularizer=pL(e.recurrentRegularizer),this.biasRegularizer=pL(e.biasRegularizer),this.kernelConstraint=IO(e.kernelConstraint),this.recurrentConstraint=IO(e.recurrentConstraint),this.biasConstraint=IO(e.biasConstraint),this.dropout=iR([1,aR([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=iR([1,aR([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=QR(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return uT((()=>{if(2!==e.length)throw new mD(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let n=e[1];e=e[0];const r=null!=t.training&&t.training;let s;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=QL({ones:()=>DS(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=QL({ones:()=>DS(n),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,a=this.recurrentDropoutMask;s=vR(null!=i?sw(e,i):e,this.kernel.read()),null!=this.bias&&(s=wR(s,this.bias.read())),null!=a&&(n=sw(n,a));let o=tw(s,vR(n,this.recurrentKernel.read()));return null!=this.activation&&(o=this.activation.apply(o)),[o,o]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:sL(this.activation),useBias:this.useBias,kernelInitializer:qR(this.kernelInitializer),recurrentInitializer:qR(this.recurrentInitializer),biasInitializer:qR(this.biasInitializer),kernelRegularizer:hL(this.kernelRegularizer),recurrentRegularizer:hL(this.recurrentRegularizer),biasRegularizer:hL(this.biasRegularizer),activityRegularizer:hL(this.activityRegularizer),kernelConstraint:SO(this.kernelConstraint),recurrentConstraint:SO(this.recurrentConstraint),biasConstraint:SO(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),t)}}GL.className="SimpleRNNCell",fw(GL);class VL extends HL{constructor(e){e.cell=new GL(e),super(e)}call(e,t){return uT((()=>{null!=this.cell.dropoutMask&&(hT(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(hT(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,s=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:s})}))}static fromConfig(e,t){return new e(t)}}VL.className="SimpleRNN",fw(VL);class qL extends WL{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new mD("GRUCell does not support reset_after parameter set to true.");this.units=e.units,LD(this.units,"units"),this.activation=aL(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=aL(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=jR(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jR(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jR(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=pL(e.kernelRegularizer),this.recurrentRegularizer=pL(e.recurrentRegularizer),this.biasRegularizer=pL(e.biasRegularizer),this.kernelConstraint=IO(e.kernelConstraint),this.recurrentConstraint=IO(e.recurrentConstraint),this.biasConstraint=IO(e.biasConstraint),this.dropout=iR([1,aR([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=iR([1,aR([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const t=(e=QR(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return uT((()=>{if(2!==e.length)throw new mD(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const n=null!=t.training&&t.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=QL({ones:()=>DS(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=QL({ones:()=>DS(r),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,i=this.recurrentDropoutMask;let a,o,l;0<this.dropout&&this.dropout<1&&(e=sw(e,s[0]));let c=vR(e,this.kernel.read());this.useBias&&(c=wR(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=sw(r,i[0]));const u=this.recurrentKernel.read(),[h,d]=JS(u,[2*this.units,this.units],u.rank-1),p=vR(r,h),[f,m,g]=JS(c,3,c.rank-1),[b,y]=JS(p,2,p.rank-1);a=this.recurrentActivation.apply(tw(f,b)),o=this.recurrentActivation.apply(tw(m,y));const v=vR(sw(o,r),d);l=this.activation.apply(tw(g,v));const x=tw(sw(a,r),sw(tw(1,_S(a)),l));return[x,x]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:sL(this.activation),recurrentActivation:sL(this.recurrentActivation),useBias:this.useBias,kernelInitializer:qR(this.kernelInitializer),recurrentInitializer:qR(this.recurrentInitializer),biasInitializer:qR(this.biasInitializer),kernelRegularizer:hL(this.kernelRegularizer),recurrentRegularizer:hL(this.recurrentRegularizer),biasRegularizer:hL(this.biasRegularizer),activityRegularizer:hL(this.activityRegularizer),kernelConstraint:SO(this.kernelConstraint),recurrentConstraint:SO(this.recurrentConstraint),biasConstraint:SO(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),t)}}qL.className="GRUCell",fw(qL);class jL extends HL{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new qL(e),super(e)}call(e,t){return uT((()=>{null!=this.cell.dropoutMask&&(hT(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(hT(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,s=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:s})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}jL.className="GRU",fw(jL);class YL extends WL{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,LD(this.units,"units"),this.activation=aL(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=aL(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=jR(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jR(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jR(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=pL(e.kernelRegularizer),this.recurrentRegularizer=pL(e.recurrentRegularizer),this.biasRegularizer=pL(e.biasRegularizer),this.kernelConstraint=IO(e.kernelConstraint),this.recurrentConstraint=IO(e.recurrentConstraint),this.biasConstraint=IO(e.biasConstraint),this.dropout=iR([1,aR([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=iR([1,aR([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;const n=(e=QR(e))[e.length-1];let r;if(this.kernel=this.addWeight("kernel",[n,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,n=this.units;r=new((t=class extends AR{apply(t,r){const s=e.apply([n]),i=(new NR).apply([n]),a=e.apply([2*n]);return gR(gR(s,i),a)}}).className="CustomInit",t)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return uT((()=>{const n=null!=t.training&&t.training;if(3!==e.length)throw new mD(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let r=e[1];const s=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=QL({ones:()=>DS(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=QL({ones:()=>DS(r),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,a=this.recurrentDropoutMask;let o,l,c,u;0<this.dropout&&this.dropout<1&&(e=sw(e,i[0]));let h=vR(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=sw(r,a[0])),h=tw(h,vR(r,this.recurrentKernel.read())),this.useBias&&(h=wR(h,this.bias.read()));const[d,p,f,m]=JS(h,4,h.rank-1);o=this.recurrentActivation.apply(d),l=this.recurrentActivation.apply(p),c=tw(sw(l,s),sw(o,this.activation.apply(f))),u=this.recurrentActivation.apply(m);const g=sw(u,this.activation.apply(c));return[g,g,c]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:sL(this.activation),recurrentActivation:sL(this.recurrentActivation),useBias:this.useBias,kernelInitializer:qR(this.kernelInitializer),recurrentInitializer:qR(this.recurrentInitializer),biasInitializer:qR(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:hL(this.kernelRegularizer),recurrentRegularizer:hL(this.recurrentRegularizer),biasRegularizer:hL(this.biasRegularizer),activityRegularizer:hL(this.activityRegularizer),kernelConstraint:SO(this.kernelConstraint),recurrentConstraint:SO(this.recurrentConstraint),biasConstraint:SO(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),t)}}YL.className="LSTMCell",fw(YL);class KL extends HL{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new YL(e),super(e)}call(e,t){return uT((()=>{null!=this.cell.dropoutMask&&(hT(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(hT(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,s=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:s})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}KL.className="LSTM",fw(KL);class XL extends WL{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return uT((()=>{let n=e.slice(1);const r=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?r.push(n.splice(0,e.stateSize.length)):r.push(n.splice(0,1));r.reverse();const s=[];let i;for(let a=0;a<this.cells.length;++a){const o=this.cells[a];n=r[a],i=0===a?[e[0]].concat(n):[i[0]].concat(n),i=o.call(i,t),s.push(i.slice(1))}n=[];for(const e of s.slice().reverse())n.push(...e);return[i[0]].concat(n)}))}build(e){let t;YR(e)&&(e=e[0]),this.cells.forEach(((n,r)=>{JD(`RNNCell_${r}`,(()=>{n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}getConfig(){const e=super.getConfig(),t={cells:this.cells.map((e=>({className:e.getClassName(),config:e.getConfig()})))};return Object.assign(Object.assign({},e),t)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=[];for(const s of t.cells)r.push(BO(s,n));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return tO(e)}setWeights(e){const t=[];for(const n of this.cells){const r=n.weights.length,s=e.splice(r);for(let e=0;e<n.weights.length;++e)t.push([n.weights[e],s[e]])}nO(t)}}function QL(e){const{ones:t,rate:n,training:r=!1,count:s=1,dropoutFunc:i}=e,a=()=>null!=i?i(t(),n):kR(t(),n),o=()=>SR(a,t,r);if(!s||s<=1)return dT(o().clone());return Array(s).fill(void 0).map(o).map((e=>dT(e.clone())))}XL.className="StackedRNNCells",fw(XL);var JL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};class ZL extends HL{constructor(e){if(e.unroll)throw new gD("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new gD("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new rO({ndim:5})]}call(e,t){return uT((()=>{if(null!=this.cell.dropoutMask&&(hT(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(hT(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new mD("ConvRNN2D cell does not support constants");const n=null==t?null:t.mask,r=null==t?null:t.training,s=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:s})}))}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return uT((()=>{const{stateSize:t}=this.cell,n=e.shape,r=this.computeSingleOutputShape(n),s=CS([r[0],...r.slice(2)]);return Array.isArray(t)?Array(t.length).fill(s):[s]}))}resetStates(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];uT((()=>{if(!this.stateful)throw new pD("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape,r=this.computeSingleOutputShape(n),s=[r[0],...r.slice(2)];if(null==n[0])throw new mD("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>CS(s))):this.states_=[CS(s)];else if(null==e)hT(this.states_),null!=this.keptStates&&(hT(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>CS(s))):this.states_[0]=CS(s);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new mD(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);t?this.keptStates.push(this.states_.slice()):hT(this.states_);for(let t=0;t<this.states_.length;++t){const n=e[t],r=s;if(!Wg(n.shape,r))throw new mD(`State ${t} is incompatible with layer ${this.name}: expected shape=${r}, received shape=${n.shape}`);this.states_[t]=n}}this.states_=this.states_.map((e=>dT(e.clone())))}))}computeSingleOutputShape(e){const{dataFormat:t,filters:n,kernelSize:r,padding:s,strides:i,dilationRate:a}=this.cell,o="channelsFirst"===t,l=e[o?3:2],c=e[o?4:3],u=EL(l,r[0],s,i[0],a[0]),h=EL(c,r[1],s,i[1],a[1]);return[...e.slice(0,2),...o?[n,u,h]:[u,h,n]]}}ZL.className="ConvRNN2D";class eP extends YL{constructor(e){const{filters:t,kernelSize:n,strides:r,padding:s,dataFormat:i,dilationRate:a}=e;super(Object.assign(Object.assign({},e),{units:t})),this.filters=t,LD(this.filters,"filters"),this.kernelSize=xL(n,2,"kernelSize"),this.kernelSize.forEach((e=>LD(e,"kernelSize"))),this.strides=xL(r||1,2,"strides"),this.strides.forEach((e=>LD(e,"strides"))),this.padding=s||"valid",KD(this.padding),this.dataFormat=i||"channelsLast",YD(this.dataFormat),this.dilationRate=xL(a||1,2,"dilationRate"),this.dilationRate.forEach((e=>LD(e,"dilationRate")))}build(e){var t;e=QR(e);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new mD(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],s=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const i=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",i,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){const n=this.biasInitializer,r=this.filters;e=new((t=class extends AR{apply(e,t){return mR([n.apply([r]),NS([r]),n.apply([2*r])])}}).className="CustomInit",t)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return uT((()=>{if(3!==e.length)throw new mD(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const n=t.training||!1,r=e[0],s=e[1],i=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=QL({ones:()=>DS(r),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,o=(e,t,n)=>t&&t[n]?sw(t[n],e):e;let l=o(r,a,0),c=o(r,a,1),u=o(r,a,2),h=o(r,a,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=QL({ones:()=>DS(s),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const d=this.recurrentDropoutMask;let p=o(s,d,0),f=o(s,d,1),m=o(s,d,2),g=o(s,d,3);const[b,y,v,x]=JS(this.kernel.read(),4,3),[E,T,w,k]=this.useBias?JS(this.bias.read(),4):[null,null,null,null];l=this.inputConv(l,b,E,this.padding),c=this.inputConv(c,y,T,this.padding),u=this.inputConv(u,v,w,this.padding),h=this.inputConv(h,x,k,this.padding);const[S,_,I,A]=JS(this.recurrentKernel.read(),4,3);p=this.recurrentConv(p,S),f=this.recurrentConv(f,_),m=this.recurrentConv(m,I),g=this.recurrentConv(g,A);const C=this.recurrentActivation.apply(tw(l,p)),N=this.recurrentActivation.apply(tw(c,f)),D=tw(sw(N,i),sw(C,this.activation.apply(tw(u,m)))),R=sw(this.recurrentActivation.apply(tw(h,g)),this.activation.apply(D));return[R,R,D]}))}getConfig(){const e=super.getConfig(),{units:t}=e,n=JL(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}inputConv(e,t,n,r){const s=Fk(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?wR(s,n,this.dataFormat):s}recurrentConv(e,t){return Fk(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}eP.className="ConvLSTM2DCell",fw(eP);class tP extends ZL{constructor(e){const t=new eP(e);super(Object.assign(Object.assign({},e),{cell:t}))}static fromConfig(e,t){return new e(t)}}tP.className="ConvLSTM2D",fw(tP);class nP extends lO{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const t=e.shape,n=[];for(let r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}call(e,t){return uT((()=>{this.invokeCallHook(e,t);const n=XR(e);if(0<this.rate&&this.rate<1){const e=null!=t.training&&t.training,r=this.getNoiseShape(n);return SR((()=>kR(n,this.rate,r,this.seed)),(()=>n),e)}return e}))}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}nP.className="Dropout",fw(nP);class rP extends nP{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}rP.className="SpatialDropout1D",fw(rP);class sP extends lO{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,LD(this.units,"units"),this.activation=aL(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=jR(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=jR(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=IO(e.kernelConstraint),this.biasConstraint=IO(e.biasConstraint),this.kernelRegularizer=pL(e.kernelRegularizer),this.biasRegularizer=pL(e.biasRegularizer),this.activityRegularizer=pL(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const t=(e=QR(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){const t=(e=QR(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return uT((()=>{this.invokeCallHook(e,t);const n=XR(e),r=FD(this.activation.getClassName());let s;return null!=r?s=vR(n,this.kernel.read(),r,this.bias?this.bias.read():null):(s=vR(n,this.kernel.read()),null!=this.bias&&(s=wR(s,this.bias.read())),null!=this.activation&&(s=this.activation.apply(s))),s}))}getConfig(){const e={units:this.units,activation:sL(this.activation),useBias:this.useBias,kernelInitializer:qR(this.kernelInitializer),biasInitializer:qR(this.biasInitializer),kernelRegularizer:hL(this.kernelRegularizer),biasRegularizer:hL(this.biasRegularizer),activityRegularizer:hL(this.activityRegularizer),kernelConstraint:SO(this.kernelConstraint),biasConstraint:SO(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}sP.className="Dense",fw(sP);class iP extends lO{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=QR(e);for(const t of e.slice(1))if(null==t)throw new mD(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],sR(e,1)]}call(e,t){return uT((()=>{this.invokeCallHook(e,t);let n=XR(e);if("channelsFirst"===this.dataFormat&&n.rank>1){const e=[0];for(let t=2;t<n.rank;++t)e.push(t);e.push(1),n=c_(n,e)}return function(e){if(e.rank<=1)throw new mD(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const t=[e.shape[0],sR(e.shape,1)];return wk(e,t)}(n)}))}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}iP.className="Flatten",fw(iP);class aP extends lO{constructor(e){super(e),this.supportsMasking=!0,this.activation=aL(e.activation)}call(e,t){return uT((()=>{this.invokeCallHook(e,t);const n=XR(e);return this.activation.apply(n)}))}getConfig(){const e={activation:sL(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}aP.className="Activation",fw(aP);class oP extends lO{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return uT((()=>function(e,t){return uT((()=>{if(2!==e.shape.length)throw new mD(`repeat() expects a rank-2 tensor, but received a rank-${e.shape.length} tensor.`);return bR(hR(e,1),[1,t,1])}))}(e=XR(e),this.n)))}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}oP.className="RepeatVector",fw(oP);class lP extends lO{constructor(e){super(e),this.targetShape=e.targetShape;for(let t=0;t<this.targetShape.length;++t)this.isUnknown(this.targetShape[t])&&(this.targetShape[t]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){const n="Total size of new array must be unchanged.",r=t.slice();let s=1,i=null;for(let o=0;o<r.length;++o){const e=r[o];if(this.isUnknown(e)){if(null!==i)throw new mD("Can only specifiy one unknown dimension.");i=o}else s*=e}const a=sR(e);if(null!==i){if(0===s||a%s!==0)throw new mD(n);r[i]=a/s}else if(a!==s)throw new mD(n);return r}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return uT((()=>{this.invokeCallHook(e,t);const n=XR(e),r=n.shape,s=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return wk(n,s)}))}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}lP.className="Reshape",fw(lP);class cP extends lO{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const t=oR(1,e.dims.length+1);if(!Wg(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new rO({ndim:this.dims.length+1})]}computeOutputShape(e){const t=(e=QR(e)).slice();return this.dims.forEach(((n,r)=>{t[r+1]=e[n]})),t}call(e,t){return c_(XR(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}cP.className="Permute",fw(cP);class uP extends lO{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const n=XR(e);return ak(IS(n,this.maskValue),-1)}call(e,t){return uT((()=>{this.invokeCallHook(e,t);const n=XR(e),r=ak(IS(n,this.maskValue),-1,!0);return sw(n,JT(r,n.dtype))}))}}uP.className="Masking",fw(uP);class hP extends lO{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(wD(e.inputLength))}this.inputDim=e.inputDim,LD(this.inputDim,"inputDim"),this.outputDim=e.outputDim,LD(this.outputDim,"outputDim"),this.embeddingsInitializer=jR(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=pL(e.embeddingsRegularizer),this.activityRegularizer=pL(e.activityRegularizer),this.embeddingsConstraint=IO(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return uT((()=>this.maskZero?(e=XR(e),IS(e,ow(e))):null))}computeOutputShape(e){if(e=QR(e),null==this.inputLength)return[...e,this.outputDim];const t=wD(this.inputLength);if(t.length!==e.length-1)throw new mD(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let n=0;for(let r=0;r<t.length;++r){const s=t[r],i=e[r+1];if(null!=s&&null!=i&&s!==i)throw new mD(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==s&&(t[n]=i),n++}}return[e[0],...t,this.outputDim]}call(e,t){return uT((()=>{this.invokeCallHook(e,t);let n=XR(e);"int32"!==n.dtype&&(n=uR(n,"int32"));const r=xR(this.embeddings.read(),wk(n,[n.size]));return wk(r,QR(this.computeOutputShape(n.shape)))}))}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:qR(this.embeddingsInitializer),embeddingsRegularizer:hL(this.embeddingsRegularizer),activityRegularizer:hL(this.activityRegularizer),embeddingsConstraint:SO(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}hP.className="Embedding",fw(hP);class dP extends lO{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new gD}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;const n=e.slice(0,e.length-t.length);for(let r=0;r<t.length;++r){const s=e[e.length-t.length+r],i=t[r];if(null==s||null==i||s<0||i<0)n.push(null);else if(1===s)n.push(i);else if(1===i)n.push(s);else{if(s!==i)throw new mD("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(s)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[QR(e)]),e.length<2)throw new mD(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let t=[];for(const s of e)null!=s&&null!==s[0]&&t.push(s[0]);if(t=DD(t),t.length>1)throw new mD(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let n=null==e[0]?null:e[0].slice(1);for(let s=1;s<e.length;++s){const t=null==e[s]?null:e[s].slice(1);n=this.computeElementwiseOpOutputShape(n,t)}const r=e.map((e=>e.length));-1===e.indexOf(null)&&1===DD(r).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return uT((()=>{if(this.reshapeRequired){const t=[],n=e.map((e=>e.rank));if(-1===n.indexOf(null)){const r=aR(n);for(let n of e){const e=n.rank;for(let t=0;t<r-e;++t)n=hR(n,1);t.push(n)}return this.mergeFunction(t)}{let n=!1;for(const i of e){const e=i.rank;if(null==e){const e=i.shape,r=e[0],s=e.slice(1).concat([r]);let a=wk(i,[r].concat(sR(e.slice(1))));a=c_(a,[1,0]),a=wk(a,s),t.push(a),n=!0}else if(e>1){const r=oR(1,e).concat([0]);t.push(c_(i,r)),n=!0}else t.push(i)}let r=this.mergeFunction(t);const s=r.rank;if(n)if(null==s){const e=r.shape,t=e[e.length-1],n=[t].concat(e.slice(0,e.length-1));r=wk(c_(wk(r,[-1,t]),[1,0]),n)}else if(s>1){const e=[s-1].concat(oR(0,s-1));r=c_(r,e)}return r}}return this.mergeFunction(e)}))}computeOutputShape(e){let t;t=null==e[0]?null:e[0].slice(1);for(let r=1;r<e.length;++r){const n=null==e[r]?null:e[r].slice(1);t=this.computeElementwiseOpOutputShape(t,n)}let n=[];for(const r of e)null!=r&&null!==r[0]&&n.push(r[0]);return n=DD(n),t=1===n.length?n.concat(t):[null].concat(t),t}computeMask(e,t){return uT((()=>{if(null==t)return null;if(!Array.isArray(t))throw new mD("`mask` should be an Array");if(!Array.isArray(e))throw new mD("`inputs` should be an Array");if(t.length!==e.length)throw new mD(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${t.length})`);if(t.every((e=>null==e)))return null;let n=(t=t.map((e=>null==e?e:Xk(e,0))))[0];for(let e=1;e<t.length-1;++e)n=yS(n,t[e]);return n}))}}class pP extends dP{constructor(e){super(e)}mergeFunction(e){return uT((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=tw(t,e[n]);return t}))}}pP.className="Add",fw(pP);class fP extends dP{constructor(e){super(e)}mergeFunction(e){return uT((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=sw(t,e[n]);return t}))}}fP.className="Multiply",fw(fP);class mP extends dP{constructor(e){super(e)}mergeFunction(e){return uT((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=tw(t,e[n]);return sw(1/e.length,t)}))}}mP.className="Average",fw(mP);class gP extends dP{constructor(e){super(e)}mergeFunction(e){return uT((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=_w(t,e[n]);return t}))}}gP.className="Maximum",fw(gP);class bP extends dP{constructor(e){super(e)}mergeFunction(e){return uT((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=kS(t,e[n]);return t}))}}bP.className="Minimum",fw(bP);class yP extends dP{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new mD("A `Concatenate` layer should be called on a list of at least 2 inputs");let t=!0;for(const r of e)if(null!=r){t=!1;break}if(t)return;const n=[];for(let r=0;r<e.length;++r){const t=e[r].slice();t.splice(this.axis,1);let s=!1;for(const e of n)if(Wg(e,t)){s=!0;break}s||n.push(t)}if(n.length>1)throw new mD("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return uT((()=>mR(e,this.axis)))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new mD("A `Concatenate` layer should be called on a list of inputs.");const t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis;for(const s of t.slice(1)){if(null==n[r]||null==s[r]){n[r]=null;break}n[r]+=s[r]}return n}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new mD("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new mD("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new mD(`Mismatch in the length of mask (${t.length}) and the legnth of inputs (${e.length})`);return uT((()=>{let n=!0;if(t.forEach((e=>{null==e||(n=!1)})),n)return null;const r=[];for(let i=0;i<e.length;++i)null==t[i]?r.push(JT(DS(e[i]),"bool")):t[i].rank<e[i].rank?r.push(Xk(t[i],-1)):r.push(t[i]);const s=Rk(r,this.axis);return ik(s,-1,!1)}))}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function vP(e,t){for(;e<0;)e+=t;return e}yP.className="Concatenate",fw(yP);class xP extends dP{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){Bg(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0],n=e[1];if(t.length>3||n.length>3)throw new gD("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new mD(`Dimension incompatibility: ${t[r[0]]} !== ${n[r[1]]}`)}mergeFunction(e){if(2!==e.length)throw new mD(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map(((t,n)=>vP(t,e[n].shape.length))):[vP(this.axes,n.shape.length),vP(this.axes,r.shape.length)],this.normalize&&(n=UO(n,t[0]),r=UO(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new gD("batchDot is not implemented for tensors of 4D or higher rank yet");if(Bg(e.shape.length>=2,(()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`)),Bg(e.shape.length>=2,(()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`)),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new gD("batchDot is not implemented for complex64-type Tensors yet.");const r=e.shape.length,s=t.shape.length;null==n&&(n=[r-1,s-2]);const i=n;return uT((()=>{let n,a;if(r>s){n=r-s;const e=[];for(let t=0;t<n;++t)e.push(1);t=wk(t,t.shape.concat(e))}else if(s>r){n=s-r;const t=[];for(let e=0;e<n;++e)t.push(1);e=wk(e,e.shape.concat(t))}else n=0;if(2===e.shape.length&&2===t.shape.length)a=i[0]===i[1]?oS(sw(e,t),i[0]):oS(sw(c_(e,[1,0]),t),i[1]);else{const n=i[0]!==e.shape.length-1,r=i[1]===t.shape.length-1;a=vS(e,t,n,r)}if(n>0){let e;e=r>s?r+s-3:r-1;const t=[];for(let r=e;r<e+n;++r)t.push(r);a=ZS(a,t)}return 1===a.shape.length&&(a=Xk(a,1)),a}))}(n,r,t)}interpretAxes(e,t){let n;return n=Array.isArray(this.axes)?this.axes:[vP(this.axes,e.length),vP(this.axes,t.length)],n}computeOutputShape(e){Bg(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new gD("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);const s=t.concat(n);return 1===s.length&&s.push(1),s}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}xP.className="Dot",fw(xP);class EP extends lO{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return uT((()=>{this.invokeCallHook(e,t);const n=XR(e);return SR((()=>tw(yR(n.shape,0,this.stddev),n)),(()=>n),t.training||!1)}))}}EP.className="GaussianNoise",fw(EP);class TP extends lO{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return uT((()=>{this.invokeCallHook(e,t);const n=XR(e);if(this.rate>0&&this.rate<1){return SR((()=>{const e=Math.sqrt(this.rate/(1-this.rate));return sw(n,yR(n.shape,1,e))}),(()=>n),t.training||!1)}return n}))}}TP.className="GaussianDropout",fw(TP);class wP extends lO{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||XR(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return uT((()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e),r=()=>{const t=XR(e),r=-1.7580993408473766;let s=nS($S(n),this.rate);s=uR(s,"float32");const i=((1-this.rate)*(1+this.rate*r**2))**-.5,a=-i*r*this.rate,o=tw(sw(t,s),sw(tw(s,-1),r));return tw(sw(o,i),a)};return SR(r,(()=>XR(e)),t.training||!1)}return e}))}}function kP(e,t,n,r,s){let i,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)i=Ik(e,t,n,r,s,a);else if(3===e.rank)i=Ak(e,t,n,r,s,a);else{if(4!==e.rank)throw new gD(`batchNormalization is not implemented for array of rank ${e.rank} yet`);i=Ck(e,t,n,r,s,a)}return i}function SP(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Wg(r.slice().sort(),oR(0,e.rank-1))?function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return uT((()=>{const i=SS(e,r),a=i.mean,o=i.variance;return[kP(e,a,o,n,t,s),a,o]}))}(e,t,n,r,s):function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return uT((()=>{const i=SS(e,r),a=i.mean,o=i.variance,l=[];for(const t of oR(0,e.rank))-1!==r.indexOf(t)?l.push(1):l.push(e.shape[t]);const c=wk(a,l),u=wk(o,l),h=null==t?null:wk(t,l),d=null==n?null:wk(n,l);return[kP(e,c,u,d,h,s),a,o]}))}(e,t,n,r,s)}wP.className="AlphaDropout",fw(wP);class _P extends lO{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=jR(e.betaInitializer||"zeros"),this.gammaInitializer=jR(e.gammaInitializer||"ones"),this.movingMeanInitializer=jR(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=jR(e.movingVarianceInitializer||"ones"),this.betaConstraint=IO(e.betaConstraint),this.gammaConstraint=IO(e.gammaConstraint),this.betaRegularizer=pL(e.betaRegularizer),this.gammaRegularizer=pL(e.gammaRegularizer)}build(e){e=QR(e);const t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new mD(`Axis ${t} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new rO({ndim:e.length,axes:{[t]:n}})];const r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return uT((()=>{const n=null!=t.training&&t.training,r=XR(e),s=r.shape,i=s.length,a=oR(0,i),o=this.axis>=0?this.axis:this.axis+i;a.splice(o,1);const l=vD(1,i);l[o]=s[o];const c=a.slice();c.sort();const u=!Wg(c,oR(0,i).slice(0,i-1));if(!n)return(()=>{if(u){const e=wk(this.movingMean.read(),l),t=wk(this.movingVariance.read(),l),n=this.center?wk(this.beta.read(),l):null,s=this.scale?wk(this.gamma.read(),l):null;return kP(r,e,t,n,s,this.epsilon)}return kP(r,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[h,d,p]=SP(r,this.gamma.read(),this.beta.read(),a,this.epsilon),f=(e,t,n)=>{uT((()=>{const r=1-n,s=e.read(),i=sw(xw(s,t),r);e.write(xw(s,i))}))};return(()=>{f(this.movingMean,d,this.momentum),f(this.movingVariance,p,this.momentum)})(),h}))}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:qR(this.betaInitializer),gammaInitializer:qR(this.gammaInitializer),movingMeanInitializer:qR(this.movingMeanInitializer),movingVarianceInitializer:qR(this.movingVarianceInitializer),betaRegularizer:hL(this.betaRegularizer),gammaRegularizer:hL(this.gammaRegularizer),betaConstraint:SO(this.betaConstraint),gammaConstraint:SO(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}_P.className="BatchNormalization",fw(_P);class IP extends lO{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"===typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);for(const e of this.axis)if(!Number.isInteger(e))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=jR(e.betaInitializer||"zeros"),this.gammaInitializer=jR(e.gammaInitializer||"ones"),this.betaRegularizer=pL(e.betaRegularizer),this.gammaRegularizer=pL(e.gammaRegularizer),this.supportsMasking=!0}build(e){const t=(e=QR(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(let s=0;s<this.axis.length;++s)this.axis[s]<0&&(this.axis[s]+=t);for(const s of this.axis)if(s<0||s>=t)throw new Error(`Invalid axis: ${s}`);if(this.axis.length!==DD(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const n=this.axis.map((t=>e[t])),r=!0;this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,r):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,r):this.beta=null,this.built=!0}call(e,t){const n=XR(e),r=n.shape,s=r.length;return uT((()=>{let{mean:e,variance:t}=SS(n,this.axis,!0);const i=vD(1,s);for(const n of this.axis)i[n]=r[n];const a=e=>null!=e&&e.shape.length!==s?wk(e,i):e;let o=this.scale?a(this.gamma.read()):null,l=this.center?a(this.beta.read()):null;const c=[],u=[];for(let n=0;n<s;++n)-1!==this.axis.indexOf(n)?(c.push(r[n]),u.push(1)):(c.push(1),u.push(r[n]));return e=Qk(e,c),t=Qk(t,c),null!=o&&(o=Qk(o,u)),null!=l&&(l=Qk(l,u)),kP(n,e,t,l,o,this.epsilon)}))}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:qR(this.betaInitializer),gammaInitializer:qR(this.gammaInitializer),betaRegularizer:hL(this.betaRegularizer),gammaRegularizer:hL(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}IP.className="LayerNormalization",fw(IP);class AP extends lO{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new mD(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let t,n;if("number"===typeof e.padding[0])t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new mD(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(t=e.padding[0],2!==e.padding[1].length)throw new mD(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new rO({ndim:4})]}computeOutputShape(e){let t,n;return e=QR(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}call(e,t){return uT((()=>function(e,t,n){return uT((()=>{if(4!==e.rank)throw new mD(`temporalPadding expects input tensor to be 4-D, but received a ${e.rank}-D tensor.`);if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new mD("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new mD(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return r="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],RS(e,r)}))}(XR(e),this.padding,this.dataFormat)))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}function CP(e,t,n,r,s,i){return uT((()=>{let a;YD(s),XD(i),KD(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==s&&(s="channelsLast"),null==i&&(i="max"),e=wL(e,s);const o="same"===r?"same":"valid";return a="max"===i?xS(e,t,n,o):kk(e,t,n,o),"channelsFirst"===s&&(a=c_(a,[0,3,1,2])),a}))}function NP(e,t,n,r,s,i){return uT((()=>{let a;YD(s),XD(i),KD(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==s&&(s="channelsLast"),null==i&&(i="max"),e=kL(e,s);const o="same"===r?"same":"valid";return a="max"===i?ES(e,t,n,o):Sk(e,t,n,o),"channelsFirst"===s&&(a=c_(a,[0,4,1,2,3])),a}))}AP.className="ZeroPadding2D",fw(AP);class DP extends lO{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"===typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new mD(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);this.poolSize=e.poolSize}if(LD(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"===typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new mD(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);this.strides=e.strides}LD(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,KD(this.padding),this.inputSpec=[new rO({ndim:3})]}computeOutputShape(e){const t=EL((e=QR(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return uT((()=>{this.invokeCallHook(e,t),e=hR(XR(e),2);const n=this.poolingFunction(XR(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return ZS(n,[2])}))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class RP extends DP{constructor(e){super(e)}poolingFunction(e,t,n,r,s){return YD(s),KD(r),CP(e,t,n,r,s,"max")}}RP.className="MaxPooling1D",fw(RP);class OP extends DP{constructor(e){super(e)}poolingFunction(e,t,n,r,s){return YD(s),KD(r),CP(e,t,n,r,s,"avg")}}OP.className="AveragePooling1D",fw(OP);class MP extends lO{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new mD(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];LD(this.poolSize,"poolSize"),LD(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,YD(this.dataFormat),KD(this.padding),this.inputSpec=[new rO({ndim:4})]}computeOutputShape(e){e=QR(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=EL(t,this.poolSize[0],this.padding,this.strides[0]),n=EL(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return uT((()=>(this.invokeCallHook(e,t),this.poolingFunction(XR(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class LP extends MP{constructor(e){super(e)}poolingFunction(e,t,n,r,s){return YD(s),KD(r),CP(e,t,n,r,s,"max")}}LP.className="MaxPooling2D",fw(LP);class PP extends MP{constructor(e){super(e)}poolingFunction(e,t,n,r,s){return YD(s),KD(r),CP(e,t,n,r,s,"avg")}}PP.className="AveragePooling2D",fw(PP);class FP extends lO{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new mD(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];LD(this.poolSize,"poolSize"),LD(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,YD(this.dataFormat),KD(this.padding),this.inputSpec=[new rO({ndim:5})]}computeOutputShape(e){e=QR(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=EL(t,this.poolSize[0],this.padding,this.strides[0]),n=EL(n,this.poolSize[1],this.padding,this.strides[1]),r=EL(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}call(e,t){return uT((()=>(this.invokeCallHook(e,t),this.poolingFunction(XR(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class $P extends FP{constructor(e){super(e)}poolingFunction(e,t,n,r,s){return YD(s),KD(r),NP(e,t,n,r,s,"max")}}$P.className="MaxPooling3D",fw($P);class BP extends FP{constructor(e){super(e)}poolingFunction(e,t,n,r,s){return YD(s),KD(r),NP(e,t,n,r,s,"avg")}}BP.className="AveragePooling3D",fw(BP);class UP extends lO{constructor(e){super(e),this.inputSpec=[new rO({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new gD}}class zP extends UP{constructor(e){super(e||{})}call(e,t){return uT((()=>{const t=XR(e);return TS(t,1)}))}}zP.className="GlobalAveragePooling1D",fw(zP);class HP extends UP{constructor(e){super(e||{})}call(e,t){return uT((()=>{const t=XR(e);return aS(t,1)}))}}HP.className="GlobalMaxPooling1D",fw(HP);class WP extends lO{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,YD(this.dataFormat),this.inputSpec=[new rO({ndim:4})]}computeOutputShape(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new gD}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class GP extends WP{call(e,t){return uT((()=>{const t=XR(e);return"channelsLast"===this.dataFormat?TS(t,[1,2]):TS(t,[2,3])}))}}GP.className="GlobalAveragePooling2D",fw(GP);class VP extends WP{call(e,t){return uT((()=>{const t=XR(e);return"channelsLast"===this.dataFormat?aS(t,[1,2]):aS(t,[2,3])}))}}VP.className="GlobalMaxPooling2D",fw(VP);class qP extends lO{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=BO(t.layer,n);delete t.layer;const s={layer:r};return Object.assign(s,t),new e(s)}}class jP extends qP{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=QR(e)).length<3)throw new mD(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){const t=[(e=QR(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}call(e,t){return uT((()=>zL(((e,n)=>[XR(this.layer.call(e,t)),[]]),e=XR(e),[],!1,null,null,!1,!0)[1]))}}jP.className="TimeDistributed",fw(jP);class YP extends qP{constructor(e){super(e);const t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=BO(n),t.goBackwards=!0!==t.goBackwards;const r={};var s;if(r.className=e.layer.getClassName(),r.config=t,this.backwardLayer=BO(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,s=this.mergeMode,OD(qD,"BidirectionalMergeMode",s),e.weights)throw new gD("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t,n,r,s=this.forwardLayer.computeOutputShape(e);return Array.isArray(s)&&Array.isArray(s[0])||(s=[s]),this.returnState?(r=s.slice(1),t=s[0]):t=s[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):TD(n)}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const s=UL(e,n,r,this.numConstants);if(e=s.inputs,n=s.initialState,r=s.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==r)return super.apply(e,t);const i=[],a=[];if(null!=n){const e=n.length;if(e%2>0)throw new mD("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,i.push(...n);const r=n.map((e=>new rO({shape:e.shape})));this.forwardLayer.stateSpec=r.slice(0,e/2),this.backwardLayer.stateSpec=r.slice(e/2),a.push(...r)}if(null!=r)throw new gD("Support for constants in Bidirectional layers is not implemented yet.");const o=i[0]instanceof sO;for(const l of i)if(l instanceof sO!==o)throw new mD("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(o){const n=[e].concat(i),r=this.inputSpec.concat(a),s=this.inputSpec;this.inputSpec=r;const o=super.apply(n,t);return this.inputSpec=s,o}return super.apply(e,t)}call(e,t){return uT((()=>{const n=t.initialState;let r,s,i,a;if(null==n)r=this.forwardLayer.call(e,t),s=this.backwardLayer.call(e,t);else{const i=n.slice(0,n.length/2),a=n.slice(n.length/2);r=this.forwardLayer.call(e,Object.assign(t,{initialState:i})),s=this.backwardLayer.call(e,Object.assign(t,{initialState:a}))}return this.returnState&&(Array.isArray(r)&&(i=r.slice(1).concat(s.slice(1))),r=r[0],s=s[0]),this.returnSequences&&(s=zS(s,1)),"concat"===this.mergeMode?a=mR([r,s]):"sum"===this.mergeMode?a=tw(r,s):"ave"===this.mergeMode?a=sw(.5,tw(r,s)):"mul"===this.mergeMode?a=sw(r,s):null==this.mergeMode&&(a=[r,s]),this.returnState?null==this.mergeMode?a.concat(i):[a].concat(i):a}))}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){JD(this.forwardLayer.name,(()=>{this.forwardLayer.build(e)})),JD(this.backwardLayer.name,(()=>{this.backwardLayer.build(e)})),this.built=!0}computeMask(e,t){let n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states.map((e=>null));return Array.isArray(n)?n.concat(e).concat(e):[n].concat(e).concat(e)}return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const n=BO(t.layer);if(delete t.layer,null!=t.numConstants)throw new gD("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=t;return r.layer=n,new e(r)}}YP.className="Bidirectional",fw(YP);class KP extends lO{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return uT((()=>("float32"!==(e=XR(e)).dtype&&(e=uR(e,"float32")),tw(sw(e,this.scale),this.offset))))}}KP.className="Rescaling",fw(KP);const{resizeBilinear:XP,cropAndResize:QP}=uI;class JP extends lO{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,t,n,r,s,i,a,o){return uT((()=>{let l,c=!1;const u=[t/i,n/a,(r+t)/i,(s+n)/a],h=[];3===e.rank?(c=!0,l=e_([e])):l=e;for(let e=0;e<l.shape[0];e++)h.push(u);const d=aT(h,[h.length,4]),p=BS(0,h.length,1,"int32"),f=QP(l,d,p,[r,s],"nearest");return uR(c?XR(i_(f)):f,o)}))}upsize(e,t,n,r){return uT((()=>uR(XP(e,[t,n]),r)))}call(e,t){return uT((()=>{const t=XR(e),n=t.dtype,r=t.shape,s=r[r.length-3],i=r[r.length-2];let a=0;s!==this.height&&(a=Math.floor((s-this.height)/2));let o=0;return i!==this.width&&(o=Math.floor((i-this.width)/2),0===o&&(o=1)),a>=0&&o>=0?this.centerCrop(t,a,o,this.height,this.width,s,i,n):this.upsize(e,this.height,this.width,n)}))}getConfig(){const e={height:this.height,width:this.width},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=QR(e)).length-3,n=e.length-2;return e[t]=this.height,e[n]=this.width,e}}JP.className="CenterCrop",fw(JP);class ZP extends lO{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){return null==(e=QR(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,t){return uT((()=>{let n;if("int32"!==(e=XR(e)).dtype&&(e=uR(e,"int32")),"undefined"!==typeof t.countWeights){if("count"!==this.outputMode)throw new mD(`countWeights is not used when outputMode !== count.\n              Received countWeights=${t.countWeights}`);n=XR(t.countWeights)}const r=aS(e),s=wS(e),i=tS(this.numTokens,r).bufferSync().get(0),a=nS(s,0).bufferSync().get(0);if(!i||!a)throw new mD(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return function(e,t,n,r){let s=XR(e);if("int32"!==s.dtype&&(s=uR(s,"int32")),"int"===t)return s;const i=s.shape;if(0===s.rank&&(s=Xk(s,-1)),"oneHot"===t&&1!==s.shape[s.shape.length-1]&&(s=Xk(s,-1)),s.rank>2)throw new mD(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${i} which would result in output rank ${s.rank}.`);const a=["multiHot","oneHot"].includes(t),o=s;let l;if(l=Gk(o,"undefined"!==typeof r&&"count"===t?r:[],n,a),"tfIdf"!==t)return l;if(r)return sw(l,r);throw new mD("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,n)}))}}ZP.className="CategoryEncoding",fw(ZP);const eF=new Set(["bilinear","nearest"]);class tF extends lO{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(!eF.has(e.interpolation))throw new mD(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);this.interpolation=e.interpolation}else this.interpolation="bilinear";this.cropToAspectRatio=Boolean(e.cropToAspectRatio)}computeOutputShape(e){const t=(e=QR(e))[2];return[this.height,this.width,t]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return uT((()=>{const t=[this.height,this.width];if("bilinear"===this.interpolation)return uI.resizeBilinear(e,t,!this.cropToAspectRatio);if("nearest"===this.interpolation)return uI.resizeNearestNeighbor(e,t,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...eF]} are supported`)}))}}tF.className="Resizing",fw(tF);class nF{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}nF.className="RandomSeed";class rF extends lO{constructor(e){super(e),this.randomGenerator=new nF(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},t=super.getConfig();return Object.assign(e,t),e}}rF.className="BaseRandomLayer";const sF=new Set(["bilinear","nearest"]);class iF extends rF{constructor(e){super(e);const{factor:t,interpolation:n="bilinear"}=e;if(this.factor=t,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else{if(Array.isArray(this.factor)||!(this.factor>0))throw new mD(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);this.widthLower=-this.factor,this.widthUpper=this.factor}if(this.widthLower<-1||this.widthUpper<-1)throw new mD(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new mD(`factor cannot have upper bound less than lower bound.\n        Got upper bound: ${this.widthUpper}.\n        Got lower bound: ${this.widthLower}\n      `);if(n){if(!sF.has(n))throw new mD(`Invalid interpolation parameter: ${n} is not implemented`);this.interpolation=n}}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=QR(e))[2];return[this.imgHeight,-1,t]}call(e,t){return uT((()=>{const t=XR(e);this.imgHeight=t.shape[t.shape.length-3];const n=t.shape[t.shape.length-2];this.widthFactor=$S([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let r=this.widthFactor.dataSync()[0]*n;r=Math.round(r);const s=[this.imgHeight,r];switch(this.interpolation){case"bilinear":return uI.resizeBilinear(e,s);case"nearest":return uI.resizeNearestNeighbor(e,s);default:throw new Error(`Interpolation is ${this.interpolation}\n          but only ${[...sF]} are supported`)}}))}}iF.className="RandomWidth",fw(iF);var aF,oF;vb().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(aF||(aF={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(oF||(oF={}));Error;new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function lF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);const s=t(e);if(s.recurse&&null!==s.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(s.recurse){if(dF(e)){const s=Array.isArray(e)?[]:{};r.add(e);for(const i in e){const a=lF(e[i],t,n,r);s[i]=a}return r.delete(e),e.__proto__&&(s.__proto__=e.__proto__),s}throw new Error(`Can't recurse into non-iterable type: ${e}`)}return n.set(e,s.value),s.value}function cF(e){return uF(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:hF)}function uF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;const r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");const s=t(e);if(s.recurse&&null!==s.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(s.recurse){if(dF(r)){const s=Array.isArray(r)?[]:{};n.add(r);for(const i in r){const r=e.map((e=>e[i])),a=uF(r,t,n);s[i]=a}return n.delete(r),s}throw new Error(`Can't recurse into non-iterable type: ${r}`)}return s.value}function hF(e){return null===e?null:dF(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function dF(e){let t=!1;if(vb().get("IS_BROWSER"))t=e instanceof TextDecoder;else{const{StringDecoder:r}=n(551);t=e instanceof r}return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof SE)&&!(e instanceof Promise)&&!t)}function pF(e){return function(e,t){return lF(e,t)}(e,fF)}function fF(e){return e instanceof SE?{value:e.clone(),recurse:!1}:dF(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}class mF{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const t of e)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}class gF extends mF{constructor(){super(gF.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=2*this.capacity,t=new Array(e),n=this.length();for(let r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}function bF(e){return new EF(e)}function yF(e,t){return new RF(e,t)}gF.INITIAL_CAPACITY=32;class vF{async toArray(){const e=[];let t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),n=e(t.value);for(;!t.done&&n;)t=await this.next(),n=e(t.value)}handleErrors(e){return new AF(this,e)}filter(e){return new _F(this,e)}map(e){return new IF(this,e)}mapAsync(e){return new CF(this,e)}serialMapAsync(e){return new CF(this,e).serial()}flatmap(e){return new DF(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile((e=>!0===e))}rowMajorBatch(e){return new SF(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}columnMajorBatch(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hF;return this.rowMajorBatch(e,t).map((e=>cF(e,n)))}concatenate(e,t){return new RF(new xF([this,e]),t)}take(e){return e<0||null==e?this:new kF(this,e)}skip(e){return e<0||null==e?this:new wF(this,e)}prefetch(e){return new MF(this,e)}shuffle(e,t){return new LF(this,e,t)}serial(){return new TF(this)}}class xF extends vF{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:pF(e),done:!1}}}class EF extends vF{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(e){throw e.message=`Error thrown while iterating through a dataset: ${e.message}`,e}}}class TF extends vF{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){return this.upstream.next()}}class wF extends vF{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;hT(e.value)}return this.upstream.next()}}class kF extends vF{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class SF extends vF{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const t=await this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}}class _F extends vF{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;hT(e.value)}}}class IF extends vF{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Map`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=UE(e.value),n=this.transform(e.value),r=UE(n);for(const s of t)BE(s,r)||s.dispose();return{value:n,done:!1}}}class AF extends vF{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}}class CF extends vF{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=UE(e.value),n=await this.transform(e.value),r=UE(n);for(const s of t)BE(s,r)||s.dispose();return{value:n,done:!1}}}class NF extends vF{constructor(){super(),this.outputQueue=new gF,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class DF extends NF{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){const e=await this.upstream.next();if(e.done)return!1;const t=UE(e.value),n=this.transform(e.value),r=UE(n);this.outputQueue.pushAll(n);for(const s of t)BE(s,r)||s.dispose();return!0}}class RF extends vF{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){const e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}}var OF;!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(OF||(OF={}));class MF extends vF{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new mF(t)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class LF extends MF{constructor(e,t,n){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=MS.alea(n||lE().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}}class PF{constructor(){this.size=null}batch(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this;let r;return Bg(e>0,(()=>`batchSize needs to be positive, but it is\n      ${e}`)),r=this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e),FF((async()=>(await n.iterator()).columnMajorBatch(e,t,$F)),r)}concatenate(e){const t=this;let n;return n=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,FF((async()=>(await t.iterator()).concatenate(await e.iterator())),n)}filter(e){const t=this;let n;return n=this.size===1/0?1/0:null,FF((async()=>(await t.iterator()).filter((t=>uT((()=>e(t)))))),n)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const t=this;return FF((async()=>(await t.iterator()).map((t=>uT((()=>e(t)))))),this.size)}mapAsync(e){const t=this;return FF((async()=>(await t.iterator()).mapAsync(e)),this.size)}prefetch(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const t=this;return FF((async()=>(await t.iterator()).prefetch(e)),this.size)}repeat(e){const t=this;let n;return n=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,FF((async()=>yF(bF((async()=>({value:await t.iterator(),done:!1}))).take(e))),n)}skip(e){const t=this;let n;return n=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,FF((async()=>(await t.iterator()).skip(e)),n)}shuffle(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);const r=this,s=MS.alea(t||lE().toString());return FF((async()=>{let t=s.int32();return n&&(t+=s.int32()),(await r.iterator()).shuffle(e,t.toString())}),this.size)}take(e){const t=this;let n;return n=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,FF((async()=>(await t.iterator()).take(e)),n)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function FF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new class extends PF{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function $F(e){if(null===e)return null;if(function(e){return null==e||null===(t=e)||"object"!==typeof t&&"function"!==typeof t||Array.isArray(e)||"object"===typeof e&&e instanceof SE||hE(e);var t}(e[0])){return{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof SE?e_(e):aT(e)}(e),recurse:!1}}return{value:null,recurse:!0}}PF.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");function BF(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&Bg("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}const UF=kA;class zF extends Og{nextDataId(){return zF.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Rg(this,lT())}write(e,t,n){this.firstUse&&(this.firstUse=!1,vb().get("IS_NODE")&&Lx("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&tb(n[0])){const s=n.map((e=>cE(e)));r=this.write(s,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,r,s){this.data.set(e,{values:t,dtype:r,refCount:s})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return HI(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return function(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>uE(e)));return QT(e.shape,e.dtype,n)}catch(Cm){throw new Error("Failed to decode encoded string bytes into utf-8")}return QT(e.shape,e.dtype,t)}makeOutput(e,t,n){return lT().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=lE();e();return{kernelMs:lE()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){BF([e],"where");const t=this.readSync(e.dataId);return UF(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}zF.nextDataId=0;function HF(e){return(t,n,r)=>{const s=Jg(n,t.length);for(let i=0;i<t.length;++i)s[i]=e(t[i],r);return s}}function WF(e,t,n){return GF(e,HF(t),n)}function GF(e,t,n){return r=>{let{inputs:s,attrs:i,backend:a}=r;const{x:o}=s;BF(o,e);const l=a,c=l.data.get(o.dataId).values;let u;if("string"===o.dtype){if(!Array.isArray(c))throw new Error("String tensor's value was not an instance of Array");u=TA(c)}else u=c;const h=n||o.dtype,d=t(u,h,i);return l.makeTensorInfo(o.shape,h,d)}}pT("cpu",(()=>new zF),1);const VF=WF(Ty,(e=>e>=0?e:Math.exp(e)-1)),qF={kernelName:Ty,backendName:"cpu",kernelFunc:VF};function jF(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const YF={kernelName:By,backendName:"cpu",kernelFunc:jF};function KF(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{alpha:i}=r;BF([s],"leakyRelu");const a=Hg(s.shape),o=n.data.get(s.dataId).values,l=Qg("float32",a);for(let c=0;c<o.length;c++)l[c]=o[c]<0?i*o[c]:o[c];return n.makeTensorInfo(s.shape,"float32",l)}const XF={kernelName:Vy,backendName:"cpu",kernelFunc:KF};function QF(e){return(t,n,r,s,i)=>{const a=Sw(t,n),o=a.length,l=ab(a),c=Qg(i,Hg(a)),u=t.length,h=n.length,d=ab(t),p=ab(n),f=ww(t,a),m=ww(n,a);if(f.length+m.length===0)for(let g=0;g<c.length;++g)c[g]=e(r[g%r.length],s[g%s.length]);else for(let g=0;g<c.length;++g){const t=fb(g,o,l),n=t.slice(-u);f.forEach((e=>n[e]=0));const i=pb(n,u,d),a=t.slice(-h);m.forEach((e=>a[e]=0));const b=pb(a,h,p);c[g]=e(r[i],s[b])}return[c,a]}}const JF=QF(((e,t)=>e<0?t*e:e));function ZF(e){const{inputs:t,backend:n}=e,{x:r,alpha:s}=t;BF([r,s],"prelu");const i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,[o,l]=JF(r.shape,s.shape,i,a,"float32");return n.makeTensorInfo(l,"float32",o)}const e$={kernelName:_v,backendName:"cpu",kernelFunc:ZF},t$=WF(Mv,(e=>Math.max(0,e))),n$={kernelName:Mv,backendName:"cpu",kernelFunc:t$},r$=WF(Uv,(e=>Math.min(Math.max(0,e),6))),s$={kernelName:Uv,backendName:"cpu",kernelFunc:r$},i$=HF((e=>1/(1+Math.exp(-e)))),a$=WF(Zv,(e=>1/(1+Math.exp(-e)))),o$={kernelName:Zv,backendName:"cpu",kernelFunc:a$};function l$(e,t,n,r,s){if("linear"===n)return jF({inputs:{x:t},backend:e});if("relu"===n)return t$({inputs:{x:t},backend:e});if("elu"===n)return VF({inputs:{x:t},backend:e});if("relu6"===n)return r$({inputs:{x:t},backend:e});if("prelu"===n)return ZF({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return KF({inputs:{x:t},backend:e,attrs:{alpha:s}});if("sigmoid"===n)return a$({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function c$(e){const{inputs:t,backend:n}=e,{real:r,imag:s}=t,i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,o=n.makeTensorInfo(r.shape,"complex64");return n.data.get(o.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(s.shape,"float32",a)},o}const u$={kernelName:Xb,backendName:"cpu",kernelFunc:c$};function h$(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){return c$({inputs:{real:h$(e,t,"float32"),imag:h$(e,t,"float32")},backend:e})}const r=ub(Hg(t),n);return e.makeTensorInfo(t,n,r)}function d$(e){const{inputs:t,backend:n}=e,{input:r}=t,s=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,i)}const p$={kernelName:Rv,backendName:"cpu",kernelFunc:d$};function f$(e,t,n,r){if("int32"===r){return[t,"int32",Int32Array.from(e)]}if("bool"===r){const r=oE([0],n),[s,i]=QF(((e,t)=>e!==t?1:0))(t,[],e,r,"bool");return[i,"bool",s]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function m$(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{dtype:i}=r;if("complex64"===i){if("complex64"===s.dtype)return jF({inputs:{x:s},backend:n});const e=h$(n,s.shape,s.dtype),t=m$({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),r=c$({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===s.dtype){const e=d$({inputs:{input:s},backend:n}),t=m$({inputs:{x:e},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(e),t}if(!Zg(s.dtype,i)){const e=jF({inputs:{x:s},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:i}}const a=n.data.get(s.dataId).values,[o,l,c]=f$(a,s.shape,s.dtype,i);return n.makeTensorInfo(o,l,c)}const g$={kernelName:jb,backendName:"cpu",kernelFunc:m$};function b$(e,t,n,r){return null==n?n=>{let{inputs:s,backend:i}=n;const{a:a,b:o}=s,l=i;BF([a,o],e);const c=l.data.get(a.dataId).values,u=l.data.get(o.dataId).values,h="string"===a.dtype?TA(c):c,d="string"===a.dtype?TA(u):u,p=r||a.dtype,[f,m]=t(a.shape,o.shape,h,d,p);return l.makeTensorInfo(m,p,f)}:e=>{let{inputs:s,backend:i}=e;const{a:a,b:o}=s,l=i;if("complex64"===a.dtype||"complex64"===o.dtype){const e=m$({inputs:{x:a},backend:l,attrs:{dtype:"complex64"}}),t=l.data.get(e.dataId),r=t.complexTensorInfos.real,s=t.complexTensorInfos.imag,i=l.data.get(r.dataId).values,c=l.data.get(s.dataId).values,u=m$({inputs:{x:o},backend:l,attrs:{dtype:"complex64"}}),h=l.data.get(u.dataId),d=h.complexTensorInfos.real,p=h.complexTensorInfos.imag,f=l.data.get(d.dataId).values,m=l.data.get(p.dataId).values,[g,b,y]=n(a.shape,o.shape,i,c,f,m),v=l.makeTensorInfo(y,"float32",g),x=l.makeTensorInfo(y,"float32",b),E=c$({inputs:{real:v,imag:x},backend:l});return l.disposeIntermediateTensorInfo(e),l.disposeIntermediateTensorInfo(u),l.disposeIntermediateTensorInfo(v),l.disposeIntermediateTensorInfo(x),E}{const e=l.data.get(a.dataId).values,n=l.data.get(o.dataId).values,s=r||a.dtype,[i,c]=t(a.shape,o.shape,e,n,s);return l.makeTensorInfo(c,s,i)}}}function y$(e){return(t,n,r,s,i,a)=>{const o=Sw(t,n),l=Hg(o),c=o.length,u=ab(o),h=Qg("float32",l),d=Qg("float32",l),p=ww(t,o),f=ww(n,o),m=HI(r,s),g=HI(i,a),b=t.length,y=ab(t),v=n.length,x=ab(n);if(p.length+f.length===0)for(let E=0;E<h.length;E++){const t=E%m.length,n=E%g.length,r=e(m[2*t],m[2*t+1],g[2*n],g[2*n+1]);h[E]=r.real,d[E]=r.imag}else for(let E=0;E<h.length;E++){const t=fb(E,c,u),n=t.slice(-b);p.forEach((e=>n[e]=0));const r=pb(n,b,y),s=t.slice(-v);f.forEach((e=>s[e]=0));const i=pb(s,v,x),a=e(m[2*r],m[2*r+1],g[2*i],g[2*i+1]);h[E]=a.real,d[E]=a.imag}return[h,d,o]}}const v$=QF(((e,t)=>e+t)),x$=y$(((e,t,n,r)=>({real:e+n,imag:t+r}))),E$=b$(Ib,v$,x$),T$={kernelName:Ib,backendName:"cpu",kernelFunc:E$};function w$(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{shape:i}=r,a=Hg(s.shape),o=Yg(i,a),l=Hg(o);Bg(a===l,(()=>`The new shape (${o}) has ${l} elements and the old shape (${s.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`)),n.incRef(s.dataId);const c=n.data.get(s.dataId);if(null!=c.complexTensorInfos){const e=c.complexTensorInfos.real,t=c.complexTensorInfos.imag;e.shape=o,t.shape=o}return{dataId:s.dataId,shape:o,dtype:s.dtype}}const k$={kernelName:Lv,backendName:"cpu",kernelFunc:w$};function S$(e){const{inputs:t,backend:n,attrs:r}=e,{a:s,b:i}=t,{transposeA:a,transposeB:o}=r;BF([s,i],"matMul");const l=s.shape.length,c=i.shape.length,u=a?s.shape[l-2]:s.shape[l-1],h=o?i.shape[c-1]:i.shape[c-2],d=a?s.shape[l-1]:s.shape[l-2],p=o?i.shape[c-2]:i.shape[c-1],f=s.shape.slice(0,-2),m=i.shape.slice(0,-2),g=Hg(f),b=Hg(m),y=Sw(s.shape.slice(0,-2),i.shape.slice(0,-2)).concat([d,p]);Bg(u===h,(()=>`Error in matMul: inner shapes (${u}) and (${h}) of Tensors with shapes ${s.shape} and ${i.shape} and transposeA=${a} and transposeB=${o} must match.`));const v=o?[b,p,h]:[b,h,p],x=w$({inputs:{x:s},backend:n,attrs:{shape:a?[g,u,d]:[g,d,u]}}),E=w$({inputs:{x:i},backend:n,attrs:{shape:v}}),T=a?x.shape[1]:x.shape[2],w=a?x.shape[2]:x.shape[1],k=o?E.shape[1]:E.shape[2],S=Math.max(g,b),_=n.data.get(x.dataId).values,I=n.data.get(E.dataId).values,A=ab(x.shape),C=ab(E.shape),[N,D,R]=a?[A[0],1,A[1]]:[A[0],A[1],1],[O,M,L]=o?[1,C[1],C[0]]:[C[1],1,C[0]],P=w*k,F=QT([S,w,k],x.dtype),$=F.values,B=n.blockSize;for(let U=0;U<S;U++){const e=U%g,t=U%b;for(let n=0;n<w;n+=B){const r=Math.min(n+B,w);for(let s=0;s<k;s+=B){const i=Math.min(s+B,k);for(let a=0;a<T;a+=B){const o=Math.min(a+B,T);for(let l=n;l<r;l++)for(let n=s;n<i;n++){let r=0;for(let s=a;s<o;s++){r+=_[e*N+l*D+s*R]*I[s*O+n*M+t*L]}$[U*P+(l*k+n)]+=r}}}}}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(E),n.makeTensorInfo(y,F.dtype,F.values)}const _$={kernelName:Hb,backendName:"cpu",kernelFunc:S$};const I$={kernelName:Rx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:s,b:i,bias:a,preluActivationWeights:o}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:h}=r;let d,p,f;const m=[];d=S$({inputs:{a:s,b:i},attrs:{transposeA:l,transposeB:c},backend:n}),a&&(p=E$({inputs:{a:d,b:a},backend:n}),m.push(d),d=p),u&&(f=l$(n,d,u,o,h),m.push(d),d=f);for(const g of m)n.disposeIntermediateTensorInfo(g);return d}};function A$(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const C$={kernelName:kb,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;BF(t,"abs");let r=new Float32Array(Hg(t.shape));return r=A$(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},N$=WF(Sb,(e=>Math.acos(e))),D$={kernelName:Sb,backendName:"cpu",kernelFunc:N$},R$=WF(_b,(e=>Math.acosh(e))),O$={kernelName:_b,backendName:"cpu",kernelFunc:R$};const M$={kernelName:Ab,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,r=t;BF(t,"addN");const s=r.map((e=>n.data.get(e.dataId).values)),i=QT(r[0].shape,r[0].dtype),a=i.values;for(let o=0;o<r.length;o++){const e=s[o];for(let t=0;t<a.length;t++)a[t]+=e[t]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}};function L$(e,t,n,r,s){const i=t.length,a=Hg(t),o=ab(t),l=ab(s),c=Qg(n,Hg(s));for(let u=0;u<a;++u){const t=fb(u,i,o),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[r[e]];c[pb(n,i,l)]=e[u]}return c}function P$(e){const{inputs:t,attrs:n,backend:r}=e,{x:s}=t,{perm:i}=n;BF(s,"transpose");const a=s.shape.length,o=new Array(a);for(let c=0;c<o.length;c++)o[c]=s.shape[i[c]];const l=L$(r.data.get(s.dataId).values,s.shape,s.dtype,i,o);return{dataId:r.write(l,o,s.dtype),shape:o,dtype:s.dtype}}const F$={kernelName:kx,backendName:"cpu",kernelFunc:P$};const $$={kernelName:Cb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,keepDims:a}=r;BF(s,"all");const o=Kg(i,s.shape);let l=o;const c=fS(l,s.shape.length);let u=s;null!=c&&(u=P$({inputs:{x:s},backend:n,attrs:{perm:c}}),l=gS(l.length,s.shape.length)),pS("all",l,u.shape.length);const[h,d]=hS(u.shape,l),p=Hg(d),f=ub(Hg(h),u.dtype),m=n.data.get(u.dataId).values;for(let b=0;b<f.length;++b){const e=b*p;let t=m[e];for(let n=0;n<p;++n){const r=m[e+n];t=t&&r}f[b]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(h,u.dtype,f);if(a){const e=w$({inputs:{x:g},backend:n,attrs:{shape:dS(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const B$={kernelName:Nb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,keepDims:a}=r;BF(s,"any");const o=Kg(i,s.shape);let l=o;const c=fS(l,s.shape.length);let u=s;null!=c&&(u=P$({inputs:{x:s},backend:n,attrs:{perm:c}}),l=gS(l.length,s.shape.length)),pS("any",l,u.shape.length);const[h,d]=hS(u.shape,l),p=Hg(d),f=ub(Hg(h),u.dtype),m=n.data.get(u.dataId).values;for(let b=0;b<f.length;++b){const e=b*p;let t=m[e];for(let n=0;n<p;++n){const r=m[e+n];t=t||r}f[b]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(h,u.dtype,f);if(a){const e=w$({inputs:{x:g},backend:n,attrs:{shape:dS(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const U$={kernelName:Db,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i}=r;BF(s,"argMax");let a=Kg(i,s.shape);const o=fS(a,s.shape.length);let l=s;const c=[];null!=o&&(l=P$({inputs:{x:s},backend:n,attrs:{perm:o}}),c.push(l),a=gS(a.length,l.shape.length)),a=[a[0]],pS("argMax",a,l.shape.length);const[u,h]=hS(l.shape,a),d=ub(Hg(u),"int32"),p=Hg(h),f=n.data.get(l.dataId).values;for(let m=0;m<d.length;++m){const e=m*p;let t=f[e],n=0;for(let r=0;r<p;++r){const s=f[e+r];s>t&&(t=s,n=r)}d[m]=n}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",d)}};const z$={kernelName:Rb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i}=r;BF(s,"argMin");let a=Kg(i,s.shape);const o=fS(a,s.shape.length);let l=s;const c=[];null!=o&&(l=P$({inputs:{x:s},backend:n,attrs:{perm:o}}),c.push(l),a=gS(a.length,l.shape.length)),a=[a[0]],pS("argMin",a,l.shape.length);const[u,h]=hS(l.shape,a),d=ub(Hg(u),"int32"),p=Hg(h),f=n.data.get(l.dataId).values;for(let m=0;m<d.length;++m){const e=m*p;let t=f[e],n=0;for(let r=0;r<p;++r){const s=f[e+r];s<t&&(t=s,n=r)}d[m]=n}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",d)}},H$=WF(Ob,(e=>Math.asin(e))),W$={kernelName:Ob,backendName:"cpu",kernelFunc:H$},G$=WF(Mb,(e=>Math.asinh(e))),V$={kernelName:Mb,backendName:"cpu",kernelFunc:G$},q$=WF(Lb,(e=>Math.atan(e))),j$={kernelName:Lb,backendName:"cpu",kernelFunc:q$},Y$=QF(((e,t)=>Math.atan2(e,t))),K$=b$(Fb,Y$),X$={kernelName:Fb,backendName:"cpu",kernelFunc:K$},Q$=WF(Pb,(e=>Math.atanh(e))),J$={kernelName:Pb,backendName:"cpu",kernelFunc:Q$};function Z$(e,t,n,r,s,i){const a=s.strideHeight,o=s.strideWidth,l=s.dilationHeight,c=s.dilationWidth,u=s.effectiveFilterHeight,h=s.effectiveFilterWidth,d=s.padInfo.top,p=s.padInfo.left,f="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=QT(s.outShape,n),g=m.values,b=s.outShape[1]*s.outShape[2]*s.outShape[3],y=s.outShape[2]*s.outShape[3],v=s.outShape[3];for(let x=0;x<s.batchSize;++x){const t=x*b,n=x*r[0];for(let m=0;m<s.inChannels;++m)for(let b=0;b<s.outHeight;++b){const x=b*a-d,E=Math.max(0,x),T=Math.min(s.inHeight,u+x),w=t+b*y;for(let t=0;t<s.outWidth;++t){const a=t*o-p,u=Math.max(0,a),d=Math.min(s.inWidth,h+a);let b=f,y=0,x=0;for(let t=E;t<T;t+=l){const s=n+t*r[1];for(let t=u;t<d;t+=c){const n=e[s+t*r[2]+m];"max"===i&&n>b?b=n:"avg"===i&&(y+=n,x++)}if(isNaN(b))break}g[w+t*v+m]="avg"===i?y/x:b}}}return m}function eB(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=QT(r.outShape,"int32"),o=r.strideHeight,l=r.strideWidth,c=r.dilationHeight,u=r.dilationWidth,h=r.effectiveFilterHeight,d=r.effectiveFilterWidth,p=r.padInfo.top,f=r.padInfo.left,m=QT(t,n,e);for(let g=0;g<r.batchSize;++g)for(let e=0;e<r.inChannels;++e)for(let t=0;t<r.outHeight;++t){const n=t*o-p;let b=n;for(;b<0;)b+=c;const y=Math.min(r.inHeight,h+n);for(let o=0;o<r.outWidth;++o){const h=o*l-f;let p=h;for(;p<0;)p+=u;const v=Math.min(r.inWidth,d+h);let x=Number.NEGATIVE_INFINITY,E=-1;for(let t=b;t<y;t+=c){const a=t-n;for(let n=p;n<v;n+=u){const o=n-h,l=m.get(g,t,n,e);l>x&&(x=l,E=s?i?((g*r.inHeight+t)*r.inWidth+n)*r.inChannels+e:(t*r.inWidth+n)*r.inChannels+e:a*d+o)}}a.set(E,g,t,o,e)}}return a}function tB(e,t,n,r,s,i){const a=s.strideDepth,o=s.strideHeight,l=s.strideWidth,c=s.dilationDepth,u=s.dilationHeight,h=s.dilationWidth,d=s.effectiveFilterDepth,p=s.effectiveFilterHeight,f=s.effectiveFilterWidth,m=s.padInfo.front,g=s.padInfo.top,b=s.padInfo.left,y="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=QT(s.outShape,n),x=v.values,E=s.outShape[1]*s.outShape[2]*s.outShape[3]*s.outShape[4],T=s.outShape[2]*s.outShape[3]*s.outShape[4],w=s.outShape[3]*s.outShape[4],k=s.outShape[4];for(let S=0;S<s.batchSize;++S){const t=S*E,n=S*r[0];for(let v=0;v<s.inChannels;++v)for(let E=0;E<s.outDepth;++E){const S=E*a-m;let _=S;for(;_<0;)_+=c;const I=Math.min(s.inDepth,d+S),A=t+E*T;for(let t=0;t<s.outHeight;++t){const a=t*o-g;let d=a;for(;d<0;)d+=u;const m=Math.min(s.inHeight,p+a),E=A+t*w;for(let t=0;t<s.outWidth;++t){const a=t*l-b;let o=a;for(;o<0;)o+=h;const p=Math.min(s.inWidth,f+a),g=E+t*k;let T=y,w=0,S=0;for(let t=_;t<I;t+=c){const s=n+t*r[1];for(let t=d;t<m;t+=u){const n=s+t*r[2];for(let t=o;t<p;t+=h){const s=e[n+t*r[3]+v];if("max"===i&&s>T?T=s:"avg"===i&&(w+=s,S++),isNaN(T))break}if(isNaN(T))break}if(isNaN(T))break}x[g+v]="avg"===i?w/Math.max(S,1):T}}}}return v}const nB={kernelName:$b,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;BF(s,"avgPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=r;Bg(vk(a,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`));const c=ck(s.shape,i,a,1,o,l);let u;if(1===c.filterWidth&&1===c.filterHeight&&Wg(c.inShape,c.outShape))u=jF({inputs:{x:s},backend:n});else{const e=n.data.get(s.dataId).values,t=ab(s.shape),r=Z$(e,s.shape,s.dtype,t,c,"avg");u=n.makeTensorInfo(c.outShape,s.dtype,r.values)}return u}};const rB={kernelName:Ub,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{filterSize:i,strides:a,pad:o,dimRoundingMode:l,dataFormat:c}=r;BF(s,"avgPool3d");const u=uk(s.shape,i,a,1,o,l,c),h=tB(n.data.get(s.dataId).values,s.shape,s.dtype,ab(s.shape),u,"avg");return n.makeTensorInfo(h.shape,"float32",h.values)}};const sB={kernelName:zb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:i}=t,{filterSize:a,strides:o,pad:l,dimRoundingMode:c}=r;BF([s,i],"avgPool3DGrad");const u=uk(i.shape,a,o,1,l,c),h=u.strideDepth,d=u.strideHeight,p=u.strideWidth,f=u.filterDepth,m=u.filterHeight,g=u.filterWidth,b=u.dilationDepth,y=u.dilationHeight,v=u.dilationWidth,x=u.effectiveFilterDepth,E=u.effectiveFilterHeight,T=u.effectiveFilterWidth,w=x-1-u.padInfo.front,k=T-1-u.padInfo.left,S=E-1-u.padInfo.top,_=QT(i.shape,"float32"),I=1/(f*m*g),A=n.bufferSync(s);for(let C=0;C<u.batchSize;++C)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inDepth;++t)for(let n=0;n<u.inHeight;++n)for(let r=0;r<u.inWidth;++r){const s=t-w,i=n-S,a=r-k;let o=0;for(let t=0;t<x;t+=b){const n=(s+t)/h;if(!(n<0||n>=u.outDepth||Math.floor(n)!==n))for(let t=0;t<E;t+=y){const r=(i+t)/d;if(!(r<0||r>=u.outHeight||Math.floor(r)!==r))for(let t=0;t<T;t+=v){const s=(a+t)/p;if(s<0||s>=u.outWidth||Math.floor(s)!==s)continue;o+=A.get(C,n,r,s,e)}}}_.set(o*I,C,t,n,r,e)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}};const iB={kernelName:Bb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:i}=t,a=i;BF([s,i],"avgPoolGrad");const{filterSize:o,strides:l,pad:c}=r,u=ck(a.shape,o,l,1,c),h=u.strideHeight,d=u.strideWidth,p=u.filterHeight,f=u.filterWidth,m=u.dilationHeight,g=u.dilationWidth,b=u.effectiveFilterHeight,y=u.effectiveFilterWidth,v=y-1-u.padInfo.left,x=b-1-u.padInfo.top,E=QT(a.shape,"float32"),T=1/(p*f),w=n.data.get(s.dataId).values,k=QT(s.shape,"float32",w);for(let S=0;S<u.batchSize;++S)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inHeight;++t)for(let n=0;n<u.inWidth;++n){const r=t-x,s=n-v;let i=0;for(let t=0;t<b;t+=m){const n=(r+t)/h;if(!(n<0||n>=u.outHeight||Math.floor(n)!==n))for(let t=0;t<y;t+=g){const r=(s+t)/d;if(r<0||r>=u.outWidth||Math.floor(r)!==r)continue;i+=k.get(S,n,r,e)}}E.set(i*T,S,t,n,e)}return n.makeTensorInfo(E.shape,E.dtype,E.values)}};const aB={kernelName:My,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,scale:i,offset:a,mean:o,variance:l}=t;Bg(o.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),Bg(null==a||o.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),Bg(null==i||o.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),BF([s,o,l,i,a],"batchNorm");let{varianceEpsilon:c}=r;null==c&&(c=.001);const u=n.data.get(s.dataId).values,h=n.data.get(o.dataId).values,d=n.data.get(l.dataId).values,p=i?n.data.get(i.dataId).values:new Float32Array([1]),f=a?n.data.get(a.dataId).values:new Float32Array([0]),m=new Float32Array(u.length),g=f.length,b=p.length,y=d.length,v=h.length;let x=0,E=0,T=0,w=0;for(let k=0;k<u.length;++k)m[k]=f[x++]+(u[k]-h[E++])*p[T++]/Math.sqrt(d[w++]+c),x>=g&&(x=0),E>=v&&(E=0),T>=b&&(T=0),w>=y&&(w=0);return n.makeTensorInfo(s.shape,s.dtype,m)}};function oB(e,t,n,r,s){const i=ek(r,t,n),a=Hg(n),o=ab(r);if(i){const n=tk(t,o);return"string"===s?e.slice(n,n+a):e.subarray(n,n+a)}const l=QT(r,s,"string"===s?TA(e):e),c=QT(n,s);for(let u=0;u<c.size;++u){const e=c.indexToLoc(u),n=e.map(((e,n)=>e+t[n]));c.set(l.get(...n),...e)}return"string"===s?wA(c.values):c.values}function lB(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{begin:i,size:a}=r;BF(s,"slice");const[o,l]=nk(s,i,a);Hw(s,o,l);const c=oB(n.data.get(s.dataId).values,o,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,c)}const cB={kernelName:Kv,backendName:"cpu",kernelFunc:lB};const uB={kernelName:Wb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockShape:i,crops:a}=r;BF([s],"batchToSpaceND");const o=i.reduce(((e,t)=>e*t)),l=SI(s.shape,i,o),c=_I(l.length,i.length),u=II(s.shape,i,o),h=AI(a,i.length),d=CI(u,a,i.length),p=w$({inputs:{x:s},backend:n,attrs:{shape:l}}),f=P$({inputs:{x:p},backend:n,attrs:{perm:c}}),m=w$({inputs:{x:f},backend:n,attrs:{shape:u}}),g=lB({inputs:{x:m},backend:n,attrs:{begin:h,size:d}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};function hB(e,t,n,r,s){const i=Hg(r),a=ub(s,n);for(let o=0;o<e.length;o++){const n=e[o];if(n<0)throw new Error("Input x must be non-negative!");n>=s||(a[n]+=i>0?t[o]:1)}return a}function dB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=e.shape[0],i=e.shape[1],a=QT([s,n],t.dtype);for(let o=0;o<s;o++)for(let s=0;s<i;s++){const i=e.get(o,s);if(i<0)throw new Error("Input x must be non-negative!");i>=n||(r?a.set(1,o,i):t.size>0?a.set(a.get(o,i)+t.get(o,s),o,i):a.set(a.get(o,i)+1,o,i))}return a}const pB={kernelName:Gb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,weights:i}=t,{size:a}=r,o=hB(n.data.get(s.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,o)}},fB=QF(((e,t)=>e&t)),mB={kernelName:Vb,backendName:"cpu",kernelFunc:b$(Vb,fB)};const gB={kernelName:qb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:s}=t,i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,o=Sw(Array.from(i),Array.from(a));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}},bB=HF((e=>Math.ceil(e))),yB=GF(Yb,bB),vB={kernelName:Yb,backendName:"cpu",kernelFunc:yB},xB=WF(Kb,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),EB={kernelName:Kb,backendName:"cpu",kernelFunc:xB},TB={kernelName:Qb,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(Hg(t.shape)),s=n.data.get(t.dataId),i=s.complexTensorInfos.real,a=s.complexTensorInfos.imag,o=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values;for(let c=0;c<o.length;c++){const e=o[c],t=l[c];r[c]=Math.hypot(e,t)}return n.makeOutput(r,t.shape,"float32")}};function wB(e,t,n,r){const s=Jg(n,Hg(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=Hg(e.shape);s.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const i="string"===n?TA(e.vals):e.vals;let a=0;for(let n=0;n<e.shape[0];++n){const o=n*t[1]+r;for(let t=0;t<e.shape[1];++t)s[o+t]=i[a++]}r+=e.shape[1]}))}return s}function kB(e){const{inputs:t,backend:n}=e,{input:r}=t,s=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,i)}const SB={kernelName:zy,backendName:"cpu",kernelFunc:kB};function _B(e){const{inputs:t,backend:n,attrs:r}=e,{axis:s}=r,i=Kg(s,t[0].shape)[0];mI(t.map((e=>e.shape)),i);let a=gI(t.map((e=>e.shape)),i);if(0===Hg(a))return n.makeTensorInfo(a,t[0].dtype,[]);const o=t.filter((e=>Hg(e.shape)>0));if(1===o.length)return jF({inputs:{x:o[0]},backend:n});if("complex64"===o[0].dtype){const e=o.map((e=>d$({inputs:{input:e},backend:n}))),t=o.map((e=>kB({inputs:{input:e},backend:n}))),r=_B({inputs:e,backend:n,attrs:{axis:i}}),s=_B({inputs:t,backend:n,attrs:{axis:i}}),a=c$({inputs:{real:r,imag:s},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(s),a}const l=o.map((e=>{const t=Hg(e.shape.slice(i));return w$({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),c=l.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));a=gI(l.map((e=>e.shape)),1);const u=1===l[0].shape[0],h=wB(c,a,t[0].dtype,u),d=gI(o.map((e=>e.shape)),i),p=n.makeTensorInfo(d,t[0].dtype,h);return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}const IB={kernelName:Jb,backendName:"cpu",kernelFunc:_B};function AB(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:i}=t,{strides:a,pad:o,dataFormat:l,dilations:c,dimRoundingMode:u}=r;BF([s,i],"conv2d");const h=Ek(l),d=hk(s.shape,i.shape,a,c,o,u,!1,h),p=d.filterHeight,f=d.filterWidth,m=d.dilationHeight,g=d.dilationWidth,b=d.padInfo.left,y=d.padInfo.top,v="channelsLast"===d.dataFormat,x=new EE(d.outShape,s.dtype),E=ab(s.shape),T=ab(i.shape),w=E[0],k=v?E[1]:E[2],S=v?E[2]:1,_=v?1:E[1],I=x.strides[0],A=v?x.strides[1]:x.strides[2],C=v?x.strides[2]:1,N=v?1:x.strides[1],D=n.data.get(s.dataId).values,R=n.data.get(i.dataId).values,O=x.values;for(let M=0;M<d.batchSize;++M){const e=M*w,t=M*I;for(let n=0;n<d.outHeight;++n){const r=t+n*A,s=n*d.strideHeight-y;for(let t=0;t<p;++t){const n=s+t*m;if(n<0||n>=d.inHeight)continue;const i=t*T[0],a=e+n*k;for(let e=0;e<d.outWidth;++e){const t=r+e*C,n=e*d.strideWidth-b;for(let e=0;e<f;++e){const r=n+e*g;if(r<0||r>=d.inWidth)continue;const s=a+r*S;let o=i+e*T[1];for(let e=0;e<d.inChannels;++e){const n=D[s+e*_];for(let e=0;e<d.outChannels;++e)O[t+e*N]+=n*R[o+e];o+=d.outChannels}}}}}}return n.makeTensorInfo(x.shape,x.dtype,O)}const CB={kernelName:Zb,backendName:"cpu",kernelFunc:AB};const NB={kernelName:ey,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:i}=t,{strides:a,pad:o,dataFormat:l,dimRoundingMode:c,filterShape:u}=r;BF([s,i],"conv2dBackpropFilter");const h=Ek(l),d=hk(s.shape,u,a,1,o,c,!1,h),{strideHeight:p,strideWidth:f,filterHeight:m,filterWidth:g}=d,b="channelsLast"===d.dataFormat,y=new EE(d.filterShape,"float32"),v=d.padInfo.left,x=d.padInfo.top,E=n.data.get(s.dataId).values,T=n.data.get(i.dataId).values,w=new EE(s.shape,s.dtype,E),k=new EE(i.shape,i.dtype,T);for(let S=0;S<m;++S){const e=Math.max(0,Math.ceil((x-S)/p)),t=Math.min(d.outHeight,(d.inHeight+x-S)/p);for(let n=0;n<g;++n){const r=Math.max(0,Math.ceil((v-n)/f)),s=Math.min(d.outWidth,(d.inWidth+v-n)/f);for(let i=0;i<d.inChannels;++i)for(let a=0;a<d.outChannels;++a){let o=0;for(let l=0;l<d.batchSize;++l)for(let c=e;c<t;++c){const e=S+c*p-x;for(let t=r;t<s;++t){const r=n+t*f-v;o+=b?w.get(l,e,r,i)*k.get(l,c,t,a):w.get(l,i,e,r)*k.get(l,a,c,t)}}y.set(o,S,n,i,a)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const DB={kernelName:ty,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:i}=t,{inputShape:a,strides:o,pad:l,dataFormat:c,dimRoundingMode:u}=r;BF([s,i],"conv2dBackpropInput");const h=ab(i.shape),d=ab(s.shape);let p=Ek(c);const f=hk(a,i.shape,o,1,l,u,!1,p),m=new EE(f.inShape,"float32"),g=m.values,b=n.data.get(s.dataId).values,y=n.data.get(i.dataId).values,[v,x,E]=h,{batchSize:T,filterHeight:w,filterWidth:k,inChannels:S,inHeight:_,inWidth:I,outChannels:A,outHeight:C,outWidth:N,strideHeight:D,strideWidth:R}=f;p=f.dataFormat;const O=w-1-f.padInfo.top,M=k-1-f.padInfo.left,L="channelsLast"===p,P=m.strides[0],F=L?m.strides[1]:m.strides[2],$=L?m.strides[2]:1,B=L?1:m.strides[1],U=d[0],z=L?d[1]:d[2],H=L?d[2]:1,W=L?1:d[1];for(let G=0;G<T;++G)for(let e=0;e<S;++e)for(let t=0;t<_;++t){const n=t-O,r=Math.max(0,Math.ceil(n/D)),s=Math.min(C,(w+n)/D);for(let i=0;i<I;++i){const a=i-M,o=Math.max(0,Math.ceil(a/R)),l=Math.min(N,(k+a)/R);let c=0;for(let t=r;t<s;++t){const r=t*D-n;for(let n=o;n<l;++n){const s=U*G+z*t+H*n,i=v*(w-1-r)+x*(k-1-(n*R-a))+E*e;for(let e=0;e<A;++e){c+=b[s+W*e]*y[i+e]}}}g[P*G+F*t+$*i+B*e]=c}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const RB={kernelName:ny,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:i}=t,{strides:a,pad:o,dilations:l}=r;BF([s,i],"conv3d");const c=dk(s.shape,i.shape,a,l,o),{filterDepth:u,filterHeight:h,filterWidth:d,dilationDepth:p,dilationHeight:f,dilationWidth:m,padInfo:g}=c,b=g.front,y=g.left,v=g.top,x=new EE(c.outShape,s.dtype),E=n.data.get(s.dataId).values,T=n.data.get(i.dataId).values,w=x.values,k=ab(s.shape),S=ab(i.shape);for(let _=0;_<c.batchSize;++_){const e=_*k[0],t=_*x.strides[0];for(let n=0;n<c.outDepth;++n){const r=t+n*x.strides[1],s=n*c.strideDepth-b;for(let t=0;t<u;++t){const n=s+t*p;if(n<0||n>=c.inDepth)continue;const i=t*S[0],a=e+n*k[1];for(let e=0;e<c.outHeight;++e){const t=r+e*x.strides[2],n=e*c.strideHeight-v;for(let e=0;e<h;++e){const r=n+e*f;if(r<0||r>=c.inHeight)continue;const s=i+e*S[1],o=a+r*k[2];for(let e=0;e<c.outWidth;++e){const n=t+e*c.outChannels,r=e*c.strideWidth-y;for(let e=0;e<d;++e){const t=r+e*m;if(t<0||t>=c.inWidth)continue;const i=s+e*S[2],a=o+t*c.inChannels;let l=i;for(let e=0;e<c.inChannels;++e){const t=E[a+e];for(let e=0;e<c.outChannels;++e)w[n+e]+=t*T[l+e];l+=c.outChannels}}}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const OB={kernelName:ry,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:i}=t,{strides:a,pad:o,filterShape:l}=r;BF([s,i],"conv3dBackpropFilterV2");const c=ab(s.shape),u=ab(i.shape),h=dk(s.shape,l,a,1,o),d=h.strideDepth,p=h.strideHeight,f=h.strideWidth,m=h.filterDepth,g=h.filterHeight,b=h.filterWidth,y=new EE(h.filterShape,"float32"),v=y.values,[x,E,T,w]=y.strides,k=n.data.get(i.dataId).values,[S,_,I,A]=u,C=n.data.get(s.dataId).values,[N,D,R,O]=c,M=h.padInfo.front,L=h.padInfo.left,P=h.padInfo.top;for(let F=0;F<m;++F){const e=Math.max(0,Math.ceil((M-F)/d)),t=Math.min(h.outDepth,(h.inDepth+M-F)/d),n=F*x;for(let r=0;r<g;++r){const s=Math.max(0,Math.ceil((P-r)/p)),i=Math.min(h.outHeight,(h.inHeight+P-r)/p),a=r*E+n;for(let n=0;n<b;++n){const o=Math.max(0,Math.ceil((L-n)/f)),l=Math.min(h.outWidth,(h.inWidth+L-n)/f),c=n*T+a;for(let a=0;a<h.inChannels;++a){const u=a*w+c;for(let c=0;c<h.outChannels;++c){let m=0;for(let u=0;u<h.batchSize;++u){const h=u*N,g=u*S;for(let u=e;u<t;++u){const e=(F+u*d-M)*D+h,t=u*_+g;for(let u=s;u<i;++u){const s=(r+u*p-P)*R+e,i=u*I+t;for(let e=o;e<l;++e){const t=e*A+i;m+=C[(n+e*f-L)*O+s+a]*k[t+c]}}}}v[u+c]=m}}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const MB={kernelName:sy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:i}=t,{pad:a,strides:o,inputShape:l}=r;BF([s],"conv3dBackpropInputV2");const c=ab(s.shape),u=ab(i.shape),h=dk(l,i.shape,o,1,a),d=new EE(h.inShape,"float32"),p=d.values,[f,m,g,b]=d.strides,y=n.data.get(s.dataId).values,[v,x,E,T]=c,w=n.data.get(i.dataId).values,[k,S,_,I]=u,{batchSize:A,filterDepth:C,filterHeight:N,filterWidth:D,inChannels:R,inDepth:O,inHeight:M,inWidth:L,outChannels:P,outDepth:F,outHeight:$,outWidth:B,strideDepth:U,strideHeight:z,strideWidth:H}=h,W=C-1-h.padInfo.front,G=N-1-h.padInfo.top,V=D-1-h.padInfo.left;for(let q=0;q<A;++q)for(let e=0;e<R;++e)for(let t=0;t<O;++t){const n=t-W,r=Math.max(0,Math.ceil(n/U)),s=Math.min(F,(C+n)/U);for(let i=0;i<M;++i){const a=i-G,o=Math.max(0,Math.ceil(a/z)),l=Math.min($,(N+a)/z);for(let c=0;c<L;++c){const u=c-V,h=Math.max(0,Math.ceil(u/H)),d=Math.min(B,(D+u)/H);let A=0;for(let t=r;t<s;++t){const r=t*U-n;for(let n=o;n<l;++n){const s=n*z-a;for(let i=h;i<d;++i){const a=v*q+x*t+E*n+T*i,o=k*(C-1-r)+S*(N-1-s)+_*(D-1-(i*H-u))+I*e;for(let e=0;e<P;++e){A+=y[a+e]*w[o+e]}}}}p[f*q+m*t+g*i+b*c+e]=A}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}},LB=WF(iy,(e=>Math.cos(e))),PB={kernelName:iy,backendName:"cpu",kernelFunc:LB},FB=WF(ay,(e=>Math.cosh(e))),$B={kernelName:ay,backendName:"cpu",kernelFunc:FB};const BB={kernelName:cy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:s,boxes:i,boxInd:a}=t,{cropSize:o,method:l,extrapolationValue:c}=r,[u,h,d,p]=s.shape,f=i.shape[0],[m,g]=o,b=QT([f,m,g,p],"float32"),y=n.data.get(i.dataId).values,v=n.data.get(a.dataId).values,x=n.data.get(s.dataId).values,E=ab(s.shape),T=ab(b.shape);for(let w=0;w<f;w++){const e=4*w,t=y[e],n=y[e+1],r=y[e+2],s=y[e+3],i=v[w];if(i>=u)continue;const a=m>1?(r-t)*(h-1)/(m-1):0,o=g>1?(s-n)*(d-1)/(g-1):0;for(let u=0;u<m;u++){const e=m>1?t*(h-1)+u*a:.5*(t+r)*(h-1);if(e<0||e>h-1)for(let t=0;t<g;t++)for(let e=0;e<p;e++){const n=e+t*T[2]+u*T[1]+w*T[0];b.values[n]=c}else if("bilinear"===l){const t=Math.floor(e),r=Math.ceil(e),a=e-t;for(let e=0;e<g;e++){const l=g>1?n*(d-1)+e*o:.5*(n+s)*(d-1);if(l<0||l>d-1){for(let t=0;t<p;t++){const n=t+e*T[2]+u*T[1]+w*T[0];b.values[n]=c}continue}const h=Math.floor(l),f=Math.ceil(l),m=l-h;for(let n=0;n<p;n++){let s=n+h*E[2]+t*E[1]+i*E[0];const o=x[s];s=n+f*E[2]+t*E[1]+i*E[0];const l=x[s];s=n+h*E[2]+r*E[1]+i*E[0];const c=x[s];s=n+f*E[2]+r*E[1]+i*E[0];const d=o+(l-o)*m,p=c+(x[s]-c)*m;s=n+e*T[2]+u*T[1]+w*T[0],b.values[s]=d+(p-d)*a}}}else for(let t=0;t<g;++t){const r=g>1?n*(d-1)+t*o:.5*(n+s)*(d-1);if(r<0||r>d-1){for(let e=0;e<p;e++){const n=e+t*T[2]+u*T[1]+w*T[0];b.values[n]=c}continue}const a=Math.round(r),l=Math.round(e);for(let e=0;e<p;e++){const n=e+a*E[2]+l*E[1]+i*E[0],r=e+t*T[2]+u*T[1]+w*T[0];b.values[r]=x[n]}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const UB={kernelName:oy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,exclusive:a,reverse:o}=r;BF(s,"cumprod");const l=fS([i],s.shape.length);let c=s;null!=l&&(c=P$({inputs:{x:s},backend:n,attrs:{perm:l}}));const u=gS(1,s.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const h=ME(c.dtype,"int32"),d=cb(Hg(c.shape),h),p=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=o?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let b=0;b<p.length;b+=f)for(let e=0;e<f;e++){const t=m(b,e);if(0===e)d[t]=a?1:p[t];else{const n=m(b,e-1);d[t]=a?p[n]*d[n]:p[t]*d[n]}}const g=n.makeTensorInfo(c.shape,h,d);if(null!=l){const e=P$({inputs:{x:g},backend:n,attrs:{perm:mS(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(c),e}return g}};const zB={kernelName:ly,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,exclusive:a,reverse:o}=r;BF(s,"cumsum");const l=fS([i],s.shape.length);let c=s;null!=l&&(c=P$({inputs:{x:s},backend:n,attrs:{perm:l}}));const u=gS(1,s.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const h=ME(c.dtype,"int32"),d=ub(Hg(c.shape),h),p=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=o?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let b=0;b<p.length;b+=f)for(let e=0;e<f;e++){const t=m(b,e);if(0===e)d[t]=a?0:p[t];else{const n=m(b,e-1);d[t]=a?p[n]+d[n]:p[t]+d[n]}}const g=n.makeTensorInfo(c.shape,h,d);if(null!=l){const e=P$({inputs:{x:g},backend:n,attrs:{perm:mS(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(c),e}return g}};const HB={kernelName:uy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,weights:i}=t,{size:a,binaryOutput:o}=r;if(1===s.shape.length){const e=hB(n.data.get(s.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,e)}if(2===s.shape.length){const e=dB(n.bufferSync(s),n.bufferSync(i),a,o);return n.makeTensorInfo(e.shape,i.dtype,e.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}};const WB={kernelName:hy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockSize:i,dataFormat:a}=r;Bg("NHWC"===a,(()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${a}`));const o=s.shape[0],l=s.shape[1],c=s.shape[2],u=s.shape[3],h=l*i,d=c*i,p=u/(i*i),f=n.data.get(s.dataId).values,m=new Float32Array(o*h*d*p);let g=0;for(let b=0;b<o;++b)for(let e=0;e<h;++e){const t=Math.floor(e/i),n=e%i;for(let e=0;e<d;++e){const r=Math.floor(e/i),s=(n*i+e%i)*p;for(let e=0;e<p;++e){const n=e+s+u*(r+c*(t+l*b));m[g++]=f[n]}}}return n.makeTensorInfo([o,h,d,p],s.dtype,m)}};function GB(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:i}=t,{strides:a,pad:o,dilations:l,dimRoundingMode:c}=r;BF([s,i],"depthwiseConv2DNative");const u=ab(s.shape),h=ab(i.shape);let d=l;null==d&&(d=[1,1]),Bg(vk(a,d),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${d}'`));const p=hk(s.shape,i.shape,a,d,o,c,!0),{filterHeight:f,filterWidth:m,dilationHeight:g,dilationWidth:b,padInfo:y}=p,v=y.left,x=y.top,E=p.outChannels/p.inChannels,T=new EE(p.outShape,s.dtype),w=n.data.get(s.dataId).values,k=n.data.get(i.dataId).values,S=T.values;for(let _=0;_<p.batchSize;++_){const e=_*u[0],t=_*T.strides[0];for(let n=0;n<p.outHeight;++n){const r=t+n*T.strides[1],s=n*p.strideHeight-x;for(let t=0;t<f;++t){const n=s+t*g;if(n<0||n>=p.inHeight)continue;const i=t*h[0],a=e+n*u[1];for(let e=0;e<p.outWidth;++e){const t=r+e*T.strides[2],n=e*p.strideWidth-v;for(let e=0;e<m;++e){const r=n+e*b;if(r<0||r>=p.inWidth)continue;const s=i+e*h[1],o=a+r*p.inChannels;let l=t,c=s;for(let e=0;e<p.inChannels;++e){const t=w[o+e];for(let e=0;e<E;++e)S[l+e]+=t*k[c+e];l+=E,c+=E}}}}}}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const VB={kernelName:dy,backendName:"cpu",kernelFunc:GB};const qB={kernelName:py,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:i}=t,{strides:a,dilations:o,pad:l,dimRoundingMode:c,filterShape:u}=r;BF([s,i],"depthwiseConv2dNativeBackpropFilter");const h=hk(s.shape,u,a,o,l,c,!0),{strideHeight:d,strideWidth:p,filterHeight:f,filterWidth:m}=h,g=new EE(h.filterShape,"float32"),b=h.padInfo.left,y=h.padInfo.top,v=h.outChannels/h.inChannels,x=n.data.get(s.dataId).values,E=new EE(s.shape,s.dtype,x),T=n.data.get(i.dataId).values,w=new EE(i.shape,i.dtype,T);for(let k=0;k<f;++k){const e=Math.max(0,Math.ceil((y-k)/d)),t=Math.min(h.outHeight,(h.inHeight+y-k)/d);for(let n=0;n<m;++n){const r=Math.max(0,Math.ceil((b-n)/p)),s=Math.min(h.outWidth,(h.inWidth+b-n)/p);for(let i=0;i<h.outChannels;++i){const a=Math.trunc(i/v),o=i%v;let l=0;for(let c=0;c<h.batchSize;++c)for(let o=e;o<t;++o){const e=k+o*d-y;for(let t=r;t<s;++t){const r=n+t*p-b;l+=E.get(c,e,r,a)*w.get(c,o,t,i)}}g.set(l,k,n,a,o)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const jB={kernelName:fy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:i}=t,{strides:a,dilations:o,pad:l,dimRoundingMode:c,inputShape:u}=r;BF([s,i],"depthwiseConv2DNativeBackpropInput");const h=ab(s.shape),d=ab(i.shape),p=hk(u,i.shape,a,o,l,c,!0),f=new EE(p.inShape,"float32"),m=f.values,[g,b,y]=f.strides,v=n.data.get(s.dataId).values,[x,E,T]=h,w=n.data.get(i.dataId).values,[k,S,_]=d,{batchSize:I,filterHeight:A,filterWidth:C,inChannels:N,inHeight:D,inWidth:R,outChannels:O,outHeight:M,outWidth:L,strideHeight:P,strideWidth:F}=p,$=A-1-p.padInfo.top,B=C-1-p.padInfo.left,U=O/N;for(let z=0;z<I;++z)for(let e=0;e<N;++e)for(let t=0;t<D;++t){const n=t-$,r=Math.max(0,Math.ceil(n/P)),s=Math.min(M,(A+n)/P);for(let i=0;i<R;++i){const a=i-B,o=Math.max(0,Math.ceil(a/F)),l=Math.min(L,(C+a)/F);let c=0;for(let t=r;t<s;++t){const r=t*P-n;for(let n=o;n<l;++n){const s=x*z+E*t+T*n,i=k*(A-1-r)+S*(C-1-(n*F-a))+_*e;for(let t=0;t<U;++t){c+=v[s+(e*U+t)]*w[i+t]}}}m[g*z+b*t+y*i+e]=c}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const YB={kernelName:my,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,s=Hg(r.shape),i=n.data.get(r.dataId).values,a=QT([s,s],r.dtype),o=a.values;for(let c=0;c<i.length;c++)o[c*s+c]=i[c];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,a.dtype,a.values)}},KB={kernelName:gy,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:s,filter:i}=t,{strides:a,pad:o,dilations:l}=r,c=n,u=c.data.get(s.dataId).values,h=s.shape.length,d=c.data.get(i.dataId).values,p=i.shape.length,{batchSize:f,inHeight:m,inWidth:g,inChannels:b,outHeight:y,outWidth:v,padInfo:x,strideHeight:E,strideWidth:T,filterHeight:w,filterWidth:k,dilationHeight:S,dilationWidth:_,outShape:I}=lk(s.shape,i.shape,a,o,"NHWC",l),A=Hg(I),C=I.length,N=Jg(s.dtype,A);for(let D=0;D<f;++D)for(let e=0;e<y;++e){const t=e*E-x.top;for(let n=0;n<v;++n){const r=n*T-x.left;for(let a=0;a<b;++a){let o=Number.MIN_SAFE_INTEGER;for(let e=0;e<w;++e){const n=t+e*S;if(n>=0&&n<m)for(let t=0;t<k;++t){const l=r+t*_;if(l>=0&&l<g){const r=pb([D,n,l,a],h,ab(s.shape)),c=pb([e,t,a],p,ab(i.shape)),f=u[r]+d[c];f>o&&(o=f)}}}N[pb([D,e,n,a],C,ab(I))]=o}}}return{dataId:c.write(oE(N,s.dtype),I,s.dtype),shape:I,dtype:s.dtype}}},XB={kernelName:yy,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:s,filter:i,dy:a}=t,{strides:o,pad:l,dilations:c}=r,u=n,h=lb(s.shape,u.data.get(s.dataId).values),d=lb(i.shape,u.data.get(i.dataId).values),{batchSize:p,inHeight:f,inWidth:m,inChannels:g,outHeight:b,outWidth:y,padInfo:v,strideHeight:x,strideWidth:E,filterHeight:T,filterWidth:w,dilationHeight:k,dilationWidth:S,outShape:_}=lk(s.shape,i.shape,o,l,"NHWC",c);Bg(a.rank===_.length,(()=>`Error in ${yy}, dy must have the same rank as output ${_.length}, but got ${a.rank}`));const I=lb(_,u.data.get(a.dataId).values),A=hb(i.shape,i.dtype);for(let C=0;C<p;++C)for(let e=0;e<b;++e){const t=e*x-v.top;for(let n=0;n<y;++n){const r=n*E-v.left;for(let s=0;s<g;++s){let i=Number.MIN_SAFE_INTEGER,a=0,o=0;for(let e=0;e<T;++e){const n=t+e*k;if(n>=0&&n<f)for(let t=0;t<w;++t){const l=r+t*S;if(l>=0&&l<m){const r=h[C][n][l][s]+d[e][t][s];r>i&&(i=r,a=e,o=t)}}}A[a][o][s]+=I[C][e][n][s]}}}return{dataId:u.write(oE(A,s.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},QB={kernelName:by,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:s,filter:i,dy:a}=t,{strides:o,pad:l,dilations:c}=r,u=n,h=lb(s.shape,u.data.get(s.dataId).values),d=lb(i.shape,u.data.get(i.dataId).values),{batchSize:p,inHeight:f,inWidth:m,inChannels:g,outHeight:b,outWidth:y,padInfo:v,strideHeight:x,strideWidth:E,filterHeight:T,filterWidth:w,dilationHeight:k,dilationWidth:S,outShape:_}=lk(s.shape,i.shape,o,l,"NHWC",c);Bg(a.rank===_.length,(()=>`Error in ${by}, dy must have the same rank as output ${_.length}, but got ${a.rank}`));const I=lb(_,u.data.get(a.dataId).values),A=hb(s.shape,s.dtype);for(let C=0;C<p;++C)for(let e=0;e<b;++e){const t=e*x-v.top;for(let n=0;n<y;++n){const r=n*E-v.left;for(let s=0;s<g;++s){let i=Number.MIN_SAFE_INTEGER,a=t<0?0:t,o=r<0?0:r;for(let e=0;e<T;++e){const n=t+e*k;if(n>=0&&n<f)for(let t=0;t<w;++t){const l=r+t*S;if(l>=0&&l<m){const r=h[C][n][l][s]+d[e][t][s];r>i&&(i=r,a=n,o=l)}}}A[C][a][o][s]+=I[C][e][n][s]}}}return{dataId:u.write(oE(A,s.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};const JB={kernelName:vy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:s}=t,{canvas:i,options:a}=r,{contextOptions:o,imageOptions:l}=a||{},c=(null===l||void 0===l?void 0:l.alpha)||1,u=(null===o||void 0===o?void 0:o.contextType)||"2d";if("2d"!==u)throw new Error(`Context type ${o.contextType} is not supported by the CPU backend.`);const h=i.getContext(u,(null===o||void 0===o?void 0:o.contextAttributes)||{});if(null==h)throw new Error(`Could not get the context with ${u} type.`);const[d,p]=s.shape.slice(0,2),f=2===s.shape.length?1:s.shape[2],m=n.data.get(s.dataId).values,g="float32"===s.dtype?255:1,b=new Uint8ClampedArray(p*d*4);for(let v=0;v<d*p;++v){const e=[0,0,0,255*c];for(let n=0;n<f;n++){const t=m[v*f+n];if("float32"===s.dtype){if(t<0||t>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${t}.`)}else if("int32"===s.dtype&&(t<0||t>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${t}.`);1===f?(e[0]=t*g,e[1]=t*g,e[2]=t*g):e[n]=t*g}const t=4*v;b[t+0]=Math.round(e[0]),b[t+1]=Math.round(e[1]),b[t+2]=Math.round(e[2]),b[t+3]=Math.round(e[3])}i.width=p,i.height=d;const y=new ImageData(b,p,d);return h.putImageData(y,0,0),s}},ZB=QF(((e,t)=>e*t)),eU=y$(((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n}))),tU=b$(mv,ZB,eU),nU={kernelName:mv,backendName:"cpu",kernelFunc:tU};function rU(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,keepDims:a}=r;let o;BF(s,"sum"),o="bool"===s.dtype?m$({inputs:{x:s},backend:n,attrs:{dtype:"int32"}}):jF({inputs:{x:s},backend:n});const l=o.shape.length,c=Kg(i,o.shape),u=fS(c,l);let h=c,d=o;null!=u&&(d=P$({inputs:{x:o},backend:n,attrs:{perm:u}}),h=gS(h.length,l)),pS("sum",h,d.shape.length);const[p,f]=hS(d.shape,h);let m=h$(n,p,ME(d.dtype,"int32"));const g=Hg(f),b=n.data.get(m.dataId).values,y=n.data.get(d.dataId).values;for(let v=0;v<b.length;++v){const e=v*g;let t=0;for(let n=0;n<g;++n)t+=y[e+n];b[v]=t}if(a){const e=m;m=w$({inputs:{x:m},backend:n,attrs:{shape:dS(m.shape,c)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(o),null!=u&&n.disposeIntermediateTensorInfo(d),m}const sU={kernelName:nx,backendName:"cpu",kernelFunc:rU};const iU={kernelName:Ey,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:s}=r,i=t,{allDims:a,summedDims:o,idDims:l}=eA(s,i.length);nA(a.length,l,i);const{path:c,steps:u}=rA(o,l),h=u.length;let d=null,p=a.length;const f=[];for(let m=0;m<h;++m){for(const e of u[m]){const{permutationIndices:t,expandDims:r}=tA(p,l[e]);let s;sA(t)?s=i[e]:(s=P$({inputs:{x:i[e]},backend:n,attrs:{perm:t}}),f.push(s));const a=s.shape.slice();for(let e=0;e<r.length;++e)a.splice(r[e],0,1);Wg(s.shape,a)||(s=w$({inputs:{x:s},backend:n,attrs:{shape:a}}),f.push(s)),null===d?d=s:(d=tU({inputs:{a:s,b:d},backend:n}),f.push(d))}m<h-1&&(c[m]>=0&&(d=rU({inputs:{x:d},backend:n,attrs:{axis:c[m]-(a.length-p),keepDims:!1}}),f.push(d)),p--)}for(const m of f)m!==d&&n.disposeIntermediateTensorInfo(m);return d}};const aU={kernelName:wy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:s}=t;BF([r,s],"eluGrad");const i=new Float32Array(Hg(s.shape)),a=n.data.get(s.dataId).values,o=n.data.get(r.dataId).values;for(let l=0;l<a.length;++l){const e=a[l];i[l]=e>=0?o[l]:o[l]*(e+1)}return n.makeTensorInfo(s.shape,"float32",i)}},oU=QF(((e,t)=>e===t?1:0)),lU=b$(Sy,oU,null,"bool"),cU={kernelName:Sy,backendName:"cpu",kernelFunc:lU},uU=PI,hU=FI,dU=$I,pU=BI,fU=UI,mU=zI,gU=WF(ky,(e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+uU*n);return t*(1-((((mU*r+fU)*r+pU)*r+dU)*r+hU)*r*Math.exp(-n*n))})),bU={kernelName:ky,backendName:"cpu",kernelFunc:gU},yU=HF((e=>Math.exp(e))),vU=GF(_y,yU,"float32"),xU={kernelName:_y,backendName:"cpu",kernelFunc:vU};function EU(e){const{inputs:t,backend:n,attrs:r}=e,{input:s}=t,{dim:i}=r,a=s.shape.length,o=s.shape.slice();let l=i;return i<0&&(Bg(-(a+1)<=i,(()=>`Axis must be in the interval [${-(a+1)}, ${a}]`)),l=a+i+1),o.splice(l,0,1),w$({inputs:{x:s},backend:n,attrs:{shape:o}})}const TU={kernelName:Iy,backendName:"cpu",kernelFunc:EU},wU=HF((e=>Math.expm1(e))),kU=GF(Ay,wU),SU={kernelName:Ay,backendName:"cpu",kernelFunc:kU},_U=QF(((e,t)=>e/t)),IU=b$(xy,_U),AU={kernelName:xy,backendName:"cpu",kernelFunc:IU},CU=QF(((e,t)=>e-t)),NU=y$(((e,t,n,r)=>({real:e-n,imag:t-r}))),DU=b$(yx,CU,NU),RU={kernelName:yx,backendName:"cpu",kernelFunc:DU};function OU(e,t,n){const r=e.shape,s=r[0],i=r[1],a=n.data.get(e.dataId),o=a.complexTensorInfos.real,l=a.complexTensorInfos.imag,c=[s,i],u=Hg(c),h=Qg("float32",u),d=Qg("float32",u);for(let g=0;g<s;g++){const e=lB({inputs:{x:o},backend:n,attrs:{begin:[g,0],size:[1,i]}}),r=lB({inputs:{x:l},backend:n,attrs:{begin:[g,0],size:[1,i]}}),s=c$({inputs:{real:e,imag:r},backend:n}),{real:a,imag:c}=MU(s,t,n),u=HI(a,c);for(let t=0;t<i;t++){const e=qI(u,t);h[g*i+t]=e.real,d[g*i+t]=e.imag}n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(s)}const p=n.makeTensorInfo(c,"float32",h),f=n.makeTensorInfo(c,"float32",d),m=c$({inputs:{real:p,imag:f},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}function MU(e,t,n){const r=Hg(e.shape),s=n.data.get(e.dataId),i=n.data.get(s.complexTensorInfos.real.dataId).values,a=n.data.get(s.complexTensorInfos.imag.dataId).values;if(function(e){return 0===(e&e-1)}(r)){const s=LU(i,a,r,t,n),o=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(o,"float32",s.real),t=n.makeTensorInfo(o,"float32",s.imag),i=n.makeTensorInfo([],"float32",aE(r,"float32")),a=jF({inputs:{x:i},backend:n}),l=AU.kernelFunc({inputs:{a:e,b:i},backend:n}),c=AU.kernelFunc({inputs:{a:t,b:a},backend:n}),u=n.data.get(l.dataId).values,h=n.data.get(c.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),{real:u,imag:h}}return s}{const e=function(e,t,n){const r=new Float32Array(2*t);for(let s=0;s<t;s++){let i=0,a=0;for(let r=0;r<t;r++){const o=KI(s*r,t,n),l=qI(e,r);i+=l.real*o.real-l.imag*o.imag,a+=l.real*o.imag+l.imag*o.real}n&&(i/=t,a/=t),jI(r,i,a,s)}return r}(HI(i,a),r,t);return WI(e)}}function LU(e,t,n,r,s){if(1===n)return{real:e,imag:t};const i=HI(e,t),a=n/2,o=GI(i),l=o.real,c=o.imag,u=[l.length],h=s.makeTensorInfo(u,"float32",l),d=s.makeTensorInfo(u,"float32",c),p=c$({inputs:{real:h,imag:d},backend:s}),f=VI(i),m=f.real,g=f.imag,b=[m.length],y=s.makeTensorInfo(b,"float32",m),v=s.makeTensorInfo(b,"float32",g),x=c$({inputs:{real:y,imag:v},backend:s}),E=LU(l,c,a,r,s),T=E.real,w=E.imag,k=[T.length],S=s.makeTensorInfo(k,"float32",T),_=s.makeTensorInfo(k,"float32",w),I=c$({inputs:{real:S,imag:_},backend:s}),A=LU(m,g,a,r,s),C=A.real,N=A.imag,D=[C.length],R=s.makeTensorInfo(D,"float32",C),O=s.makeTensorInfo(D,"float32",N),M=c$({inputs:{real:R,imag:O},backend:s}),L=YI(n,r),P=[L.real.length],F=s.makeTensorInfo(P,"float32",L.real),$=s.makeTensorInfo(P,"float32",L.imag),B=c$({inputs:{real:F,imag:$},backend:s}),U=tU({inputs:{a:B,b:M},backend:s}),z=E$({inputs:{a:I,b:U},backend:s}),H=DU({inputs:{a:I,b:U},backend:s}),W=d$({inputs:{input:z},backend:s}),G=d$({inputs:{input:H},backend:s}),V=kB({inputs:{input:z},backend:s}),q=kB({inputs:{input:H},backend:s}),j=_B({inputs:[W,G],backend:s,attrs:{axis:0}}),Y=_B({inputs:[V,q],backend:s,attrs:{axis:0}}),K=s.data.get(j.dataId).values,X=s.data.get(Y.dataId).values;return s.disposeIntermediateTensorInfo(h),s.disposeIntermediateTensorInfo(d),s.disposeIntermediateTensorInfo(p),s.disposeIntermediateTensorInfo(y),s.disposeIntermediateTensorInfo(v),s.disposeIntermediateTensorInfo(x),s.disposeIntermediateTensorInfo(S),s.disposeIntermediateTensorInfo(_),s.disposeIntermediateTensorInfo(I),s.disposeIntermediateTensorInfo(R),s.disposeIntermediateTensorInfo(O),s.disposeIntermediateTensorInfo(M),s.disposeIntermediateTensorInfo(F),s.disposeIntermediateTensorInfo($),s.disposeIntermediateTensorInfo(B),s.disposeIntermediateTensorInfo(U),s.disposeIntermediateTensorInfo(z),s.disposeIntermediateTensorInfo(H),s.disposeIntermediateTensorInfo(W),s.disposeIntermediateTensorInfo(V),s.disposeIntermediateTensorInfo(G),s.disposeIntermediateTensorInfo(q),s.disposeIntermediateTensorInfo(j),s.disposeIntermediateTensorInfo(Y),{real:K,imag:X}}const PU={kernelName:Cy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,s=Hg(r.shape),i=r.shape[r.shape.length-1],a=w$({inputs:{x:r},backend:n,attrs:{shape:[s/i,i]}}),o=OU(a,!1,n),l=w$({inputs:{x:o},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),l}};function FU(e){const{backend:t,attrs:n}=e,{shape:r,value:s,dtype:i}=n,a=i||rb(s),o=Jg(a,Hg(r));return function(e,t){e.fill(t)}(o,s),t.makeTensorInfo(r,a,o)}const $U={kernelName:Ny,backendName:"cpu",kernelFunc:FU};const BU={kernelName:Dy,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:s}=t,i=r,a=Qg(s.dtype,Hg(s.shape)),[o,l,c,u]=s.shape,h=i.data.get(s.dataId).values;for(let d=0;d<o;d++){const e=d*c*l*u;for(let t=0;t<l;t++){const n=t*(c*u);for(let t=0;t<c;t++){const r=t*u;for(let s=0;s<u;s++){const i=Math.round(c-t-1),o=e+n+r+s;let l=h[o];if(i>=0&&i<c){l=h[e+n+i*u+s]}a[o]=l}}}}return{dataId:i.write(a,s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}},UU=HF((e=>Math.floor(e))),zU=GF(Ry,UU),HU={kernelName:Ry,backendName:"cpu",kernelFunc:zU},WU=QF(((e,t)=>Math.floor(e/t))),GU=b$(Oy,WU,null,"int32"),VU={kernelName:Oy,backendName:"cpu",kernelFunc:GU};const qU={kernelName:Ox,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:i,bias:a,preluActivationWeights:o}=t,{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:f}=r;let m=AB({inputs:{x:s,filter:i},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d}});if(a){const e=m;if("NCHW"===u&&1===a.shape.length&&1!==a.shape[0]){const e=w$({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});m=E$({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=E$({inputs:{a:m,b:a},backend:n});n.disposeIntermediateTensorInfo(e)}if(p){const e=m;if("NCHW"===u&&"prelu"===p&&1===o.shape.length&&1!==o.shape[0]){const e=w$({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=l$(n,m,p,e,f),n.disposeIntermediateTensorInfo(e)}else m=l$(n,m,p,o,f);n.disposeIntermediateTensorInfo(e)}return m}};const jU={kernelName:Mx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:i,bias:a,preluActivationWeights:o}=t,{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:f}=r;let m=GB({inputs:{x:s,filter:i},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d}});if(a){const e=m;m=E$({inputs:{a:m,b:a},backend:n}),n.disposeIntermediateTensorInfo(e)}if(p){const e=m;m=l$(n,m,p,o,f),n.disposeIntermediateTensorInfo(e)}return m}};function YU(e,t,n,r,s,i,a,o,l){const c=QT([r,i],n);for(let u=0;u<r;u++){const n=[];let r=0;for(let t=0;t<s;t++){const i=e[u*s+t];r+=i*a[t],n.push(i)}if(r<0||r>=l/i)throw new Error(`Invalid indices: ${n} does not index into ${o}`);for(let e=0;e<i;e++)c.values[u*i+e]=t.get(...t.indexToLoc(r*i+e))}return c}const KU={kernelName:Py,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:s}=t,i=Hg(r.shape),a=s.shape,o=a[a.length-1],[l,c,u,h]=NI(r,s);if(0===c)return n.makeTensorInfo(l,r.dtype,[]);const d=YU(n.data.get(s.dataId).values,n.bufferSync(r),r.dtype,c,o,u,h,r.shape,i);return n.makeTensorInfo(l,r.dtype,d.values)}};function XU(e,t,n){const r=QT(n,e.dtype);for(let s=0;s<r.size;++s){const n=r.indexToLoc(s).slice(),i=n[0],a=n[2],o=t.locToIndex([i,a]);n[2]=t.values[o];const l=e.locToIndex(n);0<=l&&l<e.values.length&&(r.values[s]=e.values[l])}return r}const QU={kernelName:Ly,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,indices:i}=t,{axis:a,batchDims:o}=r;BF([s,i],"gatherV2");const l=Kg(a,s.shape)[0],c=n.data.get(i.dataId).values,u=s.shape[l];for(let v=0;v<c.length;++v){const e=c[v];Bg(e<=u-1&&e>=0,(()=>`GatherV2: the index value ${e} is not in [0, ${u-1}]`))}let h=o;null==o&&(h=0);const d=Hg(i.shape),p=EA(s,i,l,h),f=w$({inputs:{x:s},backend:n,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),m=w$({inputs:{x:i},backend:n,attrs:{shape:[p.batchSize,d/p.batchSize]}}),g=[p.batchSize,p.outerSize,d/p.batchSize,p.sliceSize],b=n.bufferSync(m),y=XU(n.bufferSync(f),b,g);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(p.outputShape,y.dtype,y.values)}},JU=QF(((e,t)=>e>t?1:0)),ZU=b$(Fy,JU,null,"bool"),ez={kernelName:Fy,backendName:"cpu",kernelFunc:ZU},tz=QF(((e,t)=>e>=t?1:0)),nz=b$($y,tz,null,"bool"),rz={kernelName:$y,backendName:"cpu",kernelFunc:nz};const sz={kernelName:Uy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,s=Hg(r.shape),i=r.shape[r.shape.length-1],a=w$({inputs:{x:r},backend:n,attrs:{shape:[s/i,i]}}),o=OU(a,!0,n),l=w$({inputs:{x:o},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),l}},iz=WF(Hy,(e=>Number.isFinite(e)?1:0),"bool"),az={kernelName:Hy,backendName:"cpu",kernelFunc:iz},oz=WF(Wy,(e=>Math.abs(e)===1/0?1:0),"bool"),lz={kernelName:Wy,backendName:"cpu",kernelFunc:oz},cz=WF(Gy,(e=>Number.isNaN(e)?1:0),"bool"),uz={kernelName:Gy,backendName:"cpu",kernelFunc:cz},hz=QF(((e,t)=>e<t?1:0)),dz=b$(qy,hz,null,"bool"),pz={kernelName:qy,backendName:"cpu",kernelFunc:dz},fz=QF(((e,t)=>e<=t?1:0)),mz=b$(jy,fz,null,"bool"),gz={kernelName:jy,backendName:"cpu",kernelFunc:mz};function bz(e,t,n){const r=(t-e)/(n-1),s=ub(n,"float32");s[0]=e;for(let i=1;i<s.length;i++)s[i]=s[i-1]+r;return s}const yz={kernelName:Yy,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:s,num:i}=n,a=bz(r,s,i);return t.makeTensorInfo([a.length],"float32",a)}},vz=HF((e=>Math.log(e))),xz=GF(Ky,vz),Ez={kernelName:Ky,backendName:"cpu",kernelFunc:xz},Tz=WF(Xy,(e=>Math.log1p(e))),wz={kernelName:Xy,backendName:"cpu",kernelFunc:Tz},kz=QF(((e,t)=>e&&t)),Sz=b$(Qy,kz,null,"bool"),_z={kernelName:Qy,backendName:"cpu",kernelFunc:Sz},Iz=WF(Jy,(e=>e?0:1),"bool"),Az={kernelName:Jy,backendName:"cpu",kernelFunc:Iz},Cz=QF(((e,t)=>e||t)),Nz=b$(Zy,Cz,null,"bool"),Dz={kernelName:Zy,backendName:"cpu",kernelFunc:Nz};const Rz={kernelName:ev,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{depthRadius:i,bias:a,alpha:o,beta:l}=r;BF(s,"LRN");const c=s.shape[3],u=c-1,h=n.data.get(s.dataId).values,d=Hg(s.shape),p=new Float32Array(d);function f(e){const t=e%c;let n=e-t+Math.max(0,t-i);const r=e-t+Math.min(t+i,u);let s=0;for(;n<=r;n++){const e=h[n];s+=e*e}return s}for(let m=0;m<d;m++){const e=f(m),t=h[m]*Math.pow(a+o*e,-l);p[m]=t}return n.makeTensorInfo(s.shape,s.dtype,p)}};const Oz={kernelName:tv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,y:i,dy:a}=t,{depthRadius:o,bias:l,alpha:c,beta:u}=r;BF(a,"LRNGrad");const h=Hg(a.shape),d=a.shape[3],p=n.data.get(a.dataId).values,f=n.data.get(s.dataId).values,m=n.data.get(i.dataId).values,g=new Float32Array(h),b=h;for(let y=0;y<b;y++){const e=y%d,t=y-e+Math.max(0,e-o),n=y-e+Math.min(d,e+o+1);let r=0;for(let s=t;s<n;s++)r+=Math.pow(f[s],2);r=c*r+l;for(let s=t;s<n;s++){let e=-2*c*u*f[s]*m[y]/r;y===s&&(e+=Math.pow(r,-u)),e*=p[y],g[s]+=e}}return n.makeTensorInfo(a.shape,s.dtype,g)}};function Mz(e,t,n,r){const s=Qg(r,Hg(n));for(let i=0;i<s.length;++i){const n=i*t;let r=e[n];for(let s=0;s<t;++s){const t=e[n+s];(Number.isNaN(t)||t>r)&&(r=t)}s[i]=r}return s}function Lz(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{reductionIndices:i,keepDims:a}=r,o=n;let l=s.shape;const c=l.length,u=Kg(i,l);let h=u;const d=fS(h,c);let p=o.data.get(s.dataId).values;if(null!=d){const e=new Array(c);for(let t=0;t<e.length;t++)e[t]=l[d[t]];p=L$(p,l,s.dtype,d,e),h=gS(h.length,c),l=e}BF(s,"max"),pS("max",h,c);const[f,m]=hS(l,h),g=Mz(p,Hg(m),f,s.dtype),b=o.write(g,f,s.dtype);let y=f;if(a){y=dS(f,u)}return{dataId:b,shape:y,dtype:s.dtype}}const Pz={kernelName:nv,backendName:"cpu",kernelFunc:Lz},Fz=QF(((e,t)=>Math.max(e,t))),$z=b$(rv,Fz),Bz={kernelName:rv,backendName:"cpu",kernelFunc:$z};const Uz={kernelName:sv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;BF(s,"maxPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=r;Bg(vk(a,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`));const c=ck(s.shape,i,a,1,o,l);let u;if(1===c.filterWidth&&1===c.filterHeight&&Wg(c.inShape,c.outShape))u=jF({inputs:{x:s},backend:n});else{const e=n.data.get(s.dataId).values,t=ab(s.shape),r=Z$(e,s.shape,s.dtype,t,c,"max");u=n.makeTensorInfo(c.outShape,s.dtype,r.values)}return u}};const zz={kernelName:av,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{filterSize:i,strides:a,pad:o,dimRoundingMode:l,dataFormat:c}=r;BF(s,"maxPool3d");const u=uk(s.shape,i,a,1,o,l,c),h=tB(n.data.get(s.dataId).values,s.shape,s.dtype,ab(s.shape),u,"max");return n.makeTensorInfo(h.shape,"float32",h.values)}};const Hz={kernelName:ov,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:i}=t,{filterSize:a,strides:o,pad:l,dimRoundingMode:c}=r;BF([s,i],"maxPool3DGrad");const u=uk(i.shape,a,o,1,l,c),h=function(e,t){const n=QT(t.outShape,"int32"),r=t.strideDepth,s=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,o=t.dilationHeight,l=t.dilationWidth,c=t.effectiveFilterDepth,u=t.effectiveFilterHeight,h=t.effectiveFilterWidth,d=t.padInfo.front,p=t.padInfo.top,f=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let b=0;b<t.outDepth;++b){const y=b*r-d;let v=y;for(;v<0;)v+=a;const x=Math.min(t.inDepth,c+y);for(let r=0;r<t.outHeight;++r){const c=r*s-p;let d=c;for(;d<0;)d+=o;const E=Math.min(t.inHeight,u+c);for(let s=0;s<t.outWidth;++s){const p=s*i-f;let T=p;for(;T<0;)T+=l;const w=Math.min(t.inWidth,h+p);let k=Number.NEGATIVE_INFINITY,S=-1;for(let t=v;t<x;t+=a){const n=t-y;for(let r=d;r<E;r+=o){const s=r-c;for(let i=T;i<w;i+=l){const a=i-p,o=e.get(m,t,r,i,g);o>=k&&(k=o,S=n*u*h+s*u+a)}}}n.set(S,m,b,r,s,g)}}}return n}(n.bufferSync(i),u),d=u.strideDepth,p=u.strideHeight,f=u.strideWidth,m=u.dilationDepth,g=u.dilationHeight,b=u.dilationWidth,y=u.effectiveFilterDepth,v=u.effectiveFilterHeight,x=u.effectiveFilterWidth,E=y-1-u.padInfo.front,T=x-1-u.padInfo.left,w=v-1-u.padInfo.top,k=QT(i.shape,"float32"),S=n.bufferSync(s);for(let _=0;_<u.batchSize;++_)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inDepth;++t)for(let n=0;n<u.inHeight;++n)for(let r=0;r<u.inWidth;++r){const s=t-E,i=n-w,a=r-T;let o=0;for(let t=0;t<y;t+=m){const n=(s+t)/d;if(!(n<0||n>=u.outDepth||Math.floor(n)!==n))for(let r=0;r<v;r+=g){const s=(i+r)/p;if(!(s<0||s>=u.outHeight||Math.floor(s)!==s))for(let i=0;i<x;i+=b){const l=(a+i)/f;if(l<0||l>=u.outWidth||Math.floor(l)!==l)continue;const c=y*v*x-1-h.get(_,n,s,l,e)===t*v*x+r*x+i?1:0;if(0===c)continue;o+=S.get(_,n,s,l,e)*c}}}k.set(o,_,t,n,r,e)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};const Wz={kernelName:iv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:i,output:a}=t,o=i;BF([i,a],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:h}=r,d=ck(o.shape,l,c,1,u,h),p=n.data.get(o.dataId).values,f=QT(d.outShape,o.dtype,eB(p,o.shape,o.dtype,d).values),m=d.strideHeight,g=d.strideWidth,b=d.dilationHeight,y=d.dilationWidth,v=d.effectiveFilterHeight,x=d.effectiveFilterWidth,E=x-1-d.padInfo.left,T=v-1-d.padInfo.top,w=QT(o.shape,"float32"),k=n.data.get(s.dataId).values,S=QT(s.shape,"float32",k);for(let _=0;_<d.batchSize;++_)for(let e=0;e<d.inChannels;++e)for(let t=0;t<d.inHeight;++t)for(let n=0;n<d.inWidth;++n){const r=t-T,s=n-E;let i=0;for(let t=0;t<v;t+=b){const n=(r+t)/m;if(!(n<0||n>=d.outHeight||Math.floor(n)!==n))for(let r=0;r<x;r+=y){const a=(s+r)/g;if(a<0||a>=d.outWidth||Math.floor(a)!==a)continue;const o=v*x-1-f.get(_,n,a,e)===t*x+r?1:0;if(0===o)continue;i+=S.get(_,n,a,e)*o}}w.set(i,_,t,n,e)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};const Gz={kernelName:lv,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:s}=t,{filterSize:i,strides:a,pad:o,includeBatchInIndex:l}=n,c=r;BF(s,"MaxPoolWithArgmax");const u=c.data.get(s.dataId).values,h=ck(s.shape,i,a,[1,1],o),[d,p]=function(e,t,n,r,s){const i=Z$(e,0,n,ab(t),s,"max"),a=eB(e,t,n,s,!0,r);return[i.values,a.values]}(u,s.shape,s.dtype,l,h),f=c.write(d,h.outShape,s.dtype),m=c.write(p,h.outShape,s.dtype);return[{dataId:f,shape:h.outShape,dtype:s.dtype},{dataId:m,shape:h.outShape,dtype:"int32"}]}};const Vz={kernelName:cv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,keepDims:a}=r,o=Kg(i,s.shape),l=Hg(hS(s.shape,o)[1]),c=[],u=n.makeTensorInfo([],"float32",new Float32Array([l]));c.push(u);const h=m$({inputs:{x:s},backend:n,attrs:{dtype:"float32"}});c.push(h);const d=IU({inputs:{a:h,b:u},backend:n});c.push(d);const p=rU({inputs:{x:d},backend:n,attrs:{axis:i,keepDims:a}});return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}};const qz={kernelName:uv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,keepDims:a}=r;BF(s,"min");const o=Kg(i,s.shape);let l=o;const c=fS(l,s.shape.length);let u=s;null!=c&&(u=P$({inputs:{x:s},backend:n,attrs:{perm:c}}),l=gS(l.length,s.shape.length)),pS("min",l,u.shape.length);const[h,d]=hS(u.shape,l),p=Hg(d),f=ub(Hg(h),u.dtype),m=n.data.get(u.dataId).values;for(let b=0;b<f.length;++b){const e=b*p;let t=m[e];for(let n=0;n<p;++n){const r=m[e+n];(Number.isNaN(r)||r<t)&&(t=r)}f[b]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(h,u.dtype,f);if(a){const e=w$({inputs:{x:g},backend:n,attrs:{shape:dS(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}},jz=QF(((e,t)=>Math.min(e,t))),Yz=b$(hv,jz),Kz={kernelName:hv,backendName:"cpu",kernelFunc:Yz};const Xz={kernelName:dv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{paddings:i,mode:a}=r;BF(s,"mirrorPad");const o=i.map(((e,t)=>e[0]+s.shape[t]+e[1])),l=i.map((e=>e[0])),c=i.map(((e,t)=>e[0]+s.shape[t])),u="reflect"===a?0:1,h=n.data.get(s.dataId).values,d=s.shape.length,p=ab(s.shape),f=Hg(o),m=o.length,g=ab(o),b=Qg(s.dtype,f);for(let y=0;y<f;y++){let e=fb(y,m,g);for(let n=0;n<m;n++)e[n]<l[n]?e[n]=2*l[n]-e[n]-u:e[n]>=c[n]&&(e[n]=2*(c[n]-1)-e[n]+u);e=e.map(((e,t)=>e-l[t]));const t=pb(e,d,p);b[y]=h[t]}return{dataId:n.write(b,o,s.dtype),shape:o,dtype:s.dtype}}},Qz=QF(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),Jz=b$(pv,Qz),Zz={kernelName:pv,backendName:"cpu",kernelFunc:Jz};function eH(e){const{inputs:t,backend:n,attrs:r}=e,{logits:s}=t,{dim:i}=r,a=s.shape.length;let o=i;if(-1===o&&(o=a-1),o!==a-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${a} and dim was ${o}`);const l=Kg([o],s.shape),c=Lz({inputs:{x:s},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=dS(c.shape,l),h=w$({inputs:{x:c},backend:n,attrs:{shape:u}}),d=DU({inputs:{a:s,b:h},backend:n}),p=vU({inputs:{x:d},backend:n}),f=rU({inputs:{x:p},backend:n,attrs:{axis:l,keepDims:!1}}),m=w$({inputs:{x:f},backend:n,attrs:{shape:u}}),g=IU({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}const tH={kernelName:ix,backendName:"cpu",kernelFunc:eH};const nH={kernelName:fv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:s}=t,{numSamples:i,seed:a,normalized:o}=r;BF(s,"multinomial");const l=o?s:eH({inputs:{logits:s},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],h=n.data.get(l.dataId).values,d=[c,i],p=ub(Hg(d),"int32");for(let f=0;f<c;++f){const e=f*u,t=new Float32Array(u-1);t[0]=h[e];for(let s=1;s<t.length;++s)t[s]=t[s-1]+h[e+s];const n=MS.alea(a.toString()),r=f*i;for(let s=0;s<i;++s){const e=n();p[r+s]=t.length;for(let n=0;n<t.length;n++)if(e<t[n]){p[r+s]=n;break}}}return o||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(d,"int32",p)}};function rH(e,t,n){const r=aE(-1,n);return ZB([],t,r,e,n)}const sH={kernelName:gv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;BF(r,"neg");const s=n.data.get(r.dataId).values,[i,a]=rH(s,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,i)}},iH=P_;const aH={kernelName:yv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:i}=t,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l}=r;BF(s,"NonMaxSuppression");const c=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,{selectedIndices:h}=iH(c,u,a,o,l);return n.makeTensorInfo([h.length],"int32",new Int32Array(h))}},oH=F_;const lH={kernelName:vv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:i}=t,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:c}=r;BF(s,"NonMaxSuppressionPadded");const u=n.data.get(s.dataId).values,h=n.data.get(i.dataId).values,{selectedIndices:d,validOutputs:p}=oH(u,h,a,o,l,c);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},cH=$_;const uH={kernelName:xv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:i}=t,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,softNmsSigma:c}=r;BF(s,"NonMaxSuppressionWithScore");const u=n.data.get(s.dataId).values,h=n.data.get(i.dataId).values,d=a,p=o,f=l,m=c,{selectedIndices:g,selectedScores:b}=cH(u,h,d,p,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([b.length],"float32",new Float32Array(b))]}},hH=QF(((e,t)=>e!==t?1:0)),dH=b$(bv,hH,null,"bool"),pH={kernelName:bv,backendName:"cpu",kernelFunc:dH};const fH={kernelName:Tv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:s}=t,{dtype:i,depth:a,onValue:o,offValue:l}=r;BF(s,"oneHot");const c=Hg(s.shape),u=new Float32Array(c*a);u.fill(l);const h=n.data.get(s.dataId).values;for(let d=0;d<c;++d)h[d]>=0&&h[d]<a&&(u[d*a+h[d]]=o);return n.makeTensorInfo([...s.shape,a],i,u)}};function mH(e){const{inputs:t,backend:n}=e,{x:r}=t;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){const e=d$({inputs:{input:r},backend:n}),t=mH({inputs:{x:e},backend:n}),s=kB({inputs:{input:r},backend:n}),i=mH({inputs:{x:s},backend:n}),a=c$({inputs:{real:t,imag:i},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),a}return FU({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const gH={kernelName:Ax,backendName:"cpu",kernelFunc:mH};const bH={kernelName:Ev,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:s}=n;if("string"===s.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===s.dtype){const t=d$({inputs:{input:s},backend:r}),n=e({inputs:{x:t},backend:r}),i=kB({inputs:{input:s},backend:r}),a=mH({inputs:{x:i},backend:r}),o=c$({inputs:{real:n,imag:a},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),o}return FU({backend:r,attrs:{shape:s.shape,value:1,dtype:s.dtype}})}};function yH(e){const{inputs:t,backend:n,attrs:r}=e,{axis:s}=r;if(1===t.length)return EU({inputs:{input:t[0]},backend:n,attrs:{dim:s}});const i=t[0].shape,a=t[0].dtype;t.forEach((e=>{Ug(i,e.shape,"All tensors passed to stack must have matching shapes"),Bg(a===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const o=[],l=_B({inputs:t.map((e=>{const t=EU({inputs:{input:e},backend:n,attrs:{dim:s}});return o.push(t),t})),backend:n,attrs:{axis:s}});return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}const vH={kernelName:wv,backendName:"cpu",kernelFunc:yH};const xH={kernelName:kv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{paddings:i,constantValue:a}=r;BF(s,"pad");const o=i.map(((e,t)=>e[0]+s.shape[t]+e[1])),l=i.map((e=>e[0])),c=n.data.get(s.dataId).values,u=Hg(s.shape),h=s.shape.length,d=ab(s.shape),p=Hg(o),f=o.length,m=ab(o),g=Qg(s.dtype,p);0!==a&&g.fill(a);for(let b=0;b<u;b++){g[pb(fb(b,h,d).map(((e,t)=>e+l[t])),f,m)]=c[b]}return{dataId:n.write(g,o,s.dtype),shape:o,dtype:s.dtype}}},EH=QF(((e,t)=>Math.pow(e,t))),TH=b$(Sv,EH),wH={kernelName:Sv,backendName:"cpu",kernelFunc:TH};function kH(e,t,n,r){const[s,i]=hS(e,r),a=ME(t,"int32"),o=ub(Hg(s),a),l=Hg(i);for(let c=0;c<o.length;++c){const e=c*l;let t=1;for(let r=0;r<l;++r)t*=n[e+r];o[c]=t}return{outVals:o,outShape:s,outDtype:a}}const SH={kernelName:Iv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,keepDims:a}=r;BF(s,"prod");const o=s.shape.length,l=Kg(i,s.shape),c=fS(l,o);let u=l,h=s;const d=[];null!=c&&(h=P$({inputs:{x:s},backend:n,attrs:{perm:c}}),d.push(h),u=gS(u.length,o));const p=n.data.get(h.dataId).values,{outVals:f,outShape:m,outDtype:g}=kH(h.shape,h.dtype,p,u);let b=m;return a&&(b=dS(m,l)),d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(b,g,f)}};function _H(e,t,n,r){const s=[];let i=0;const a=t.length-1+n.length,o=new Array(a).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const r=e[n],s=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>s)throw new Error("Ragged splits must not point past values");for(let e=1;e<r.length;++e)if(r[e-1]>r[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);let l=1;for(let c=0;c<t.length-1;++c){l*=t[c];const e=t[c+1];for(let t=1;t<l+1;++t)o[c].push(t*e)}for(let c=0;c<e.length;++c){let r=e[c],a=e[c]+1;for(let e=0;e<n.length;++e){const s=n[e],i=e+t.length-1;if(i>=0){const e=o[i],t=e[e.length-1]-s[r];for(let n=r;n<a;++n)o[i].push(s[n+1]+t)}r=s[r],a=s[a]}a!==r&&(s.push([r,a]),i+=a-r)}return{outSplits:o,valueSlices:s,numValues:i}}function IH(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function AH(e,t,n,r,s){const i=t.slice();i[0]=s;const a=Jg(n,Hg(i)),o=e.length;return function(e,t,n,r,s,i){const a=IH(t,2)[1],o=IH(i,2)[1];let l=0;for(const c of n)for(let t=c[0];t<c[1];++t){for(let n=0;n<r;++n)s[l*o+n]=e[t*a+n];++l}}(e,t,r,0===o?0:o/t[0],a,i),[a,i]}function CH(e,t,n,r,s,i,a,o){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,r)=>{if(e<0||e>=n){const s=fb(r,t.length,ab(t)).join(",");throw new Error(`indices[${s}] = ${e} is not in [0, ${n})`)}}))}(i,a,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");const l=r[0],{outSplits:c,valueSlices:u,numValues:h}=_H(i,a,e,l),d=function(e){const t=[];for(let n=0;n<e.length;++n){const r=Jg("int32",e[n].length);t.push(r),e[n].forEach(((e,t)=>r[t]=e))}return t}(c),p=AH(n,r,s,u,h);return[d,p[0],p[1]]}const NH={kernelName:Av,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:s,paramsDenseValues:i,indices:a}=t,{outputRaggedRank:o}=r,l=s.map((e=>n.data.get(e.dataId).values)),c=s.map((e=>e.shape)),u=n.data.get(i.dataId).values,h=n.data.get(a.dataId).values,[d,p,f]=CH(l,c,u,i.shape,i.dtype,h,a.shape),m=d.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,i.dtype,p);return m.concat([g])}},DH=2147483647;function RH(e,t,n,r,s,i,a){if(t.length>1)throw new Error("starts must be a scalar or vector");if(s.length>1)throw new Error("limits must be a scalar or vector");if(a.length>1)throw new Error("deltas must be a scalar or vector");const o=0===t.length,l=0===s.length,c=0===a.length,u=[];o||u.push(t[0]),l||u.push(s[0]),c||u.push(a[0]);for(let m=1;m<u.length;++m)if(u[m]!==u[m-1])throw new Error("starts, limits, and deltas must have the same shape");const h=0===u.length?1:u[0],d=Jg("int32",h+1);d[0]=0;for(let m=0;m<h;++m){const t=o?e[0]:e[m],n=l?r[0]:r[m],s=c?i[0]:i[m];if(0===s)throw new Error("Requires delta != 0");let a;if(s>0&&n<t||s<0&&n>t)a=0;else if(a=Math.ceil(Math.abs((n-t)/s)),a>DH)throw new Error(`Requires ((limit - start) / delta) <= ${DH}`);d[m+1]=d[m]+a}const p=Jg(n,d[h]);let f=0;for(let m=0;m<h;++m){const t=d[m+1]-d[m];let n=o?e[0]:e[m];const r=c?i[0]:i[m];for(let e=0;e<t;++e)p[f++]=n,n+=r}return[d,p]}const OH={kernelName:Cv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:s,deltas:i}=t,a=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[c,u]=RH(a,r.shape,r.dtype,o,s.shape,l,i.shape);return[n.makeTensorInfo([c.length],"int32",c),n.makeTensorInfo([u.length],r.dtype,u)]}};var MH=bI;class LH{constructor(e,t,n,r,s,i,a,o,l,c){this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=r,this.valuesDType=s,this.defaultValue=i,this.defaultValueShape=a,this.rowPartitionValues=o,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=vI(c),this.raggedRank=xI(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===MH.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===MH.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case MH.VALUE_ROWIDS:return LH.getMaxWidthValueRowID(t);case MH.ROW_SPLITS:return LH.getMaxWidthRowSplit(t);default:throw new Error(`Cannot handle partition type ${MH[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let r=0;r<t-1;++r){const t=e[r+1]-e[r];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,r=e[0],s=0;for(let i=1;i<t;++i){const t=e[i];t!==r&&(r=t,s=Math.max(i-n,s),n=i)}return Math.max(t-n,s)}tensorShapeFromTensor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return FH(e,n)}calculateOutputSize(e){const t=this.valuesShape;EI(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=yI(this.raggedRank,n,t);r[0]<0&&(r[0]=e);for(let s=1;s<=this.raggedRank;++s)r[s]<0&&(r[s]=this.getMaxWidth(s));return r}calculateFirstParentOutputIndex(e,t,n){const r=Math.min(e,n),s=[];let i=0;for(let a=0;a<r;++a,i+=t)s.push(i);for(let a=r;a<e;++a)s.push(-1);return Bg(s.length===e,(()=>"Final length of result must be equal to firstDimension.")),s}calculateOutputIndexRowSplit(e,t,n,r){const s=e.length,i=[];for(let a=0;a<s-1;++a){const s=e[a+1]-e[a];let o=Math.min(r,s),l=t[a];-1===l&&(o=0);for(let e=0;e<o;++e)i.push(l),l+=n;for(let e=0;e<s-o;++e)i.push(-1)}if(s>0&&i.length!==e[s-1])throw new Error("Invalid row split size.");return i}calculateOutputIndexValueRowID(e,t,n,r){const s=e.length,i=[];if(0===s)return[];let a=0,o=e[0];if(o>=t.length)throw new Error(`Got currentValueRowId=${o}, which is not less than ${t.length}`);let l=t[o];i.push(l);for(let c=1;c<s;++c){const s=e[c];if(s===o)l>=0&&(++a,a<r?l+=n:l=-1);else{if(a=0,o=s,s>=t.length)throw new Error(`Got nextValueRowId=${s} which is not less than ${t.length}`);l=t[s]}i.push(l)}if(i.length!==e.length)throw new Error("Invalid row ids.");return i}calculateOutputIndex(e,t,n,r){const s=this.getRowPartitionTensor(e),i=this.getRowPartitionTypeByDimension(e);switch(i){case MH.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(s,t,n,r);case MH.ROW_SPLITS:if(s.length-1>t.length)throw new Error(`Row partition size is greater than output size: ${s.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(s,t,n,r);default:throw new Error(`Unsupported partition type: ${MH[i]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case MH.FIRST_DIM_SIZE:return e[0];case MH.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case MH.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${MH[t]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let i=n.length-2;i>=0;--i)n[i]=n[i+1]*t[i+1];const r=FH(t,!1),s=Jg(this.valuesDType,Hg(r));if(n[0]*t[0]>0){let i=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){i=this.calculateOutputIndex(e-1,i,n[e],t[e])}this.setOutput(this.raggedRank,i,s,r)}return[r,s]}setOutput(e,t,n,r){if(0===n.length)return;const s=this.values,i=n;let a=r.slice();a=a.slice(e+1);const o=Hg(a),l=t.length;let c=this.defaultValue;if(c.length!==o&&1!==c.length){const e=this.defaultValueShape;uT((()=>{const t=wk(c,e),n=Nk(t,a);c=n.dataSync()}))}let u=0,h=0,d=0;for(let p=0;p<=l;++p){let e=p<l?t[p]:-1;if(e!==d){if(h<d){const e=s.subarray(u*o);PH(i.subarray(h*o),e,(d-h)*o)}if(p>=l){const t=n.length;e=Math.floor(t/o)}if(e>d)if(1===this.defaultValue.length)i.subarray(d*o,e*o).fill(this.defaultValue[0]),d=e;else for(;e>d;){PH(i.slice(d*o),c,o),++d}e<0?(u=p+1,h=d):(u=p,h=d,d=h+1)}else++d}}}function PH(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function FH(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function $H(e,t,n,r,s,i,a,o,l,c){return new LH(e,t,n,r,s,i,a,o,l,c).compute()}const BH={kernelName:Nv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:s,values:i,defaultValue:a,rowPartitionTensors:o}=t,{rowPartitionTypes:l}=r,c=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,h=n.data.get(a.dataId).values,d=o.map((e=>n.data.get(e.dataId).values)),p=o.map((e=>e.shape)),[f,m]=$H(c,s.shape,u,i.shape,i.dtype,h,a.shape,d,p,l);return n.makeTensorInfo(f,i.dtype,m)}};function UH(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return ub(0,r);const s=ub(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),s[0]=e;for(let i=1;i<s.length;i++)s[i]=s[i-1]+n;return s}const zH={kernelName:Dv,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:s,dtype:i,step:a}=n,o=UH(r,s,a,i);return t.makeTensorInfo([o.length],i,o)}},HH=WF(Ov,(e=>1/e)),WH={kernelName:Ov,backendName:"cpu",kernelFunc:HH};const GH={kernelName:$v,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:s}=t,{alignCorners:i,halfPixelCenters:a,size:o}=r;BF(s,"resizeBilinear");const l=ab(s.shape),[c,u]=o,[h,d,p,f]=s.shape,m=n.data.get(s.dataId).values,g=new Float32Array(Hg([h,c,u,f])),b=[i&&c>1?d-1:d,i&&u>1?p-1:p],y=[i&&c>1?c-1:c,i&&u>1?u-1:u];let v=0;const x=b[0]/y[0],E=b[1]/y[1];for(let T=0;T<h;T++)for(let e=0;e<c;e++){let t;t=a?x*(e+.5)-.5:x*e;const n=Math.max(0,Math.floor(t)),r=t-n,s=Math.min(d-1,Math.ceil(t)),i=T*l[0]+n*l[1],o=T*l[0]+s*l[1];for(let e=0;e<u;e++){let t;t=a?E*(e+.5)-.5:E*e;const n=Math.max(0,Math.floor(t)),s=t-n,c=Math.min(p-1,Math.ceil(t)),u=i+n*l[2],h=o+n*l[2],d=i+c*l[2],b=o+c*l[2];for(let e=0;e<f;e++){const t=m[u+e],n=m[h+e],i=t+(m[d+e]-t)*s,a=i+(n+(m[b+e]-n)*s-i)*r;g[v++]=a}}}return n.makeTensorInfo([h,c,u,f],"float32",g)}};const VH={kernelName:Bv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:s,dy:i}=t,{alignCorners:a}=r;BF([i,s],"resizeBilinearGrad");const o=ab(s.shape),[l,c,u,h]=s.shape,[,d,p]=i.shape,f=new Float32Array(l*c*u*h),m=[a&&d>1?c-1:c,a&&p>1?u-1:u],g=[a&&d>1?d-1:d,a&&p>1?p-1:p],b=m[0]/g[0],y=m[1]/g[1],v=n.data.get(i.dataId).values;let x=0;for(let E=0;E<l;E++){const e=E*o[0];for(let t=0;t<d;t++){const n=t*b,r=Math.floor(n),s=Math.min(Math.ceil(n),c-1),i=e+r*o[1],a=e+s*o[1],l=n-r,d=1-l;for(let e=0;e<p;e++){const t=e*y,n=Math.floor(t),r=Math.min(Math.ceil(t),u-1),s=t-n,c=1-s,p=i+n*o[2],m=i+r*o[2],g=a+n*o[2],b=a+r*o[2],E=d*c,T=d*s,w=l*c,k=l*s;for(let e=0;e<h;e++){const t=v[x++];f[p+e]+=t*E,f[m+e]+=t*T,f[g+e]+=t*w,f[b+e]+=t*k}}}}return n.makeTensorInfo([l,u,c,h],"float32",f)}};const qH={kernelName:Pv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:s}=t,{alignCorners:i,halfPixelCenters:a,size:o}=r;BF(s,"resizeNearestNeighbor");const l=ab(s.shape),[c,u]=o,[h,d,p,f]=s.shape,m=n.data.get(s.dataId).values,g=new Float32Array(h*c*u*f),b=[i&&c>1?d-1:d,i&&u>1?p-1:p],y=[i&&c>1?c-1:c,i&&u>1?u-1:u],v=b[0]/y[0],x=b[1]/y[1];let E=0;for(let T=0;T<h;T++){const e=T*l[0];for(let t=0;t<c;t++){const n=a?v*(t+.5):v*t;let r=Math.min(d-1,i?Math.round(n):Math.floor(n));a&&(r=Math.max(0,r));const s=e+r*l[1];for(let e=0;e<u;e++){const t=a?x*(e+.5):x*e;let n=Math.min(p-1,i?Math.round(t):Math.floor(t));a&&(n=Math.max(0,n));const r=s+n*l[2];for(let e=0;e<f;e++){const t=m[r+e];g[E++]=t}}}}return n.makeTensorInfo([h,c,u,f],s.dtype,g)}};const jH={kernelName:Fv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:s,dy:i}=t,{alignCorners:a}=r;BF([i,s],"resizeNearestNeighborGrad");const o=ab(s.shape),l=ab(i.shape),[c,u,h,d]=s.shape,[,p,f]=i.shape,m=new Float32Array(c*u*h*d),g=n.data.get(i.dataId).values,b=[a&&p>1?u-1:u,a&&f>1?h-1:h],y=[a&&p>1?p-1:p,a&&f>1?f-1:f],v=b[0]/y[0],x=b[1]/y[1],E=1/v,T=1/x,w=2*Math.ceil(E)+2,k=2*Math.ceil(T)+2;for(let S=0;S<c;S++){const e=S*o[0];for(let t=0;t<u;t++){const n=e+t*o[1],r=Math.floor(t*E),s=Math.floor(r-w/2);for(let i=0;i<h;i++){const r=n+i*o[2],c=Math.floor(i*T),b=Math.floor(c-k/2);for(let n=0;n<d;n++){let o=0;for(let r=0;r<w;r++){const c=r+s;if(c<0||c>=p)continue;const d=e+c*l[1],m=c*v;if(t===Math.min(u-1,a?Math.round(m):Math.floor(m)))for(let e=0;e<k;e++){const t=e+b;if(t<0||t>=f)continue;const r=d+t*l[2],s=t*x;i===Math.min(h-1,a?Math.round(s):Math.floor(s))&&(o+=g[r+n])}}m[r+n]=o}}}}return n.makeTensorInfo(s.shape,s.dtype,m)}};const YH={kernelName:zv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{dims:i}=r;BF(s,"reverse");const a=s.shape.length,o=Kg(i,s.shape);if(0===a)return jF({inputs:{x:s},backend:n});const l=new EE(s.shape,s.dtype),c=n.bufferSync(s);for(let u=0;u<l.size;u++){const e=l.indexToLoc(u),t=e.slice();o.forEach((e=>t[e]=s.shape[e]-1-t[e])),l.set(c.get(...t),...e)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},KH={kernelName:Dx,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:s}=t,{radians:i,fillValue:a,center:o}=n,l=r,c=Qg(s.dtype,Hg(s.shape)),[u,h,d,p]=s.shape,[f,m]=kI(o,h,d),g=Math.sin(i),b=Math.cos(i),y=l.data.get(s.dataId).values;for(let v=0;v<u;v++){const e=v*d*h*p;for(let t=0;t<h;t++){const n=t*(d*p);for(let r=0;r<d;r++){const s=r*p;for(let i=0;i<p;i++){const o=[u,t,r,i],l=o[2],v=o[1];let x=(l-f)*b-(v-m)*g,E=(l-f)*g+(v-m)*b;x=Math.round(x+f),E=Math.round(E+m);let T=a;if("number"!==typeof a&&(T=3===i?255:a[i]),x>=0&&x<d&&E>=0&&E<h){T=y[e+E*(d*p)+x*p+i]}c[e+n+s+i]=T}}}}return{dataId:l.write(c,s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}},XH=WF(Hv,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),QH={kernelName:Hv,backendName:"cpu",kernelFunc:XH},JH=HF((e=>1/Math.sqrt(e))),ZH=GF(Wv,JH),eW={kernelName:Wv,backendName:"cpu",kernelFunc:ZH};function tW(e,t,n,r,s,i,a,o,l,c){const u=[r/s,s],h=e.values,d=t.values;if(0===r)return QT(n,t.dtype);const p=l instanceof EE?l:QT(u,t.dtype);"string"===typeof l||"number"===typeof l?p.values.fill(l):"boolean"===typeof l&&p.values.fill(+l);for(let f=0;f<i;f++){const e=[];let i=0;for(let t=0;t<a;t++){const n=h[f*a+t];e.push(n),i+=n*o[t]}if(i<0||i>=r/s)throw new Error(`Invalid indices: ${e} does not index into ${n}`);for(let n=0;n<s;n++)c?p.values[i*s+n]+=d[f*s+n]:p.values[i*s+n]=0===t.rank?d[0]:d[f*s+n]}return p}const nW={kernelName:Gv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:s,updates:i}=t,{shape:a}=r,{sliceRank:o,numUpdates:l,sliceSize:c,strides:u,outputSize:h}=OI(0,s,a),d=tW(n.bufferSync(s),n.bufferSync(i),a,h,c,l,o,u,0,!0);return n.makeTensorInfo(a,d.dtype,d.values)}};function rW(e,t){let n=0,r=e.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),e[s]<t?n=s+1:r=s;return r}function sW(e,t){let n=0,r=e.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),e[s]<=t?n=s+1:r=s;return r}const iW={kernelName:qv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:s,values:i}=t,{side:a}=r,o=function(e,t,n,r,s,i){const a=Jg("int32",n*s);for(let o=0;o<n;++o){const n=e.slice(o*r,(o+1)*r),l=o*s;for(let e=0;e<s;++e)a[l+e]="left"===i?rW(n,t[e+l]):sW(n,t[e+l])}return a}(n.data.get(s.dataId).values,n.data.get(i.dataId).values,s.shape[0],s.shape[1],i.shape[1],a);return n.makeTensorInfo(i.shape,"int32",o)}};const aW={kernelName:jv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:s,e:i}=t;BF([r,s,i],"select");const a=r.shape.length,o=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,u=ME(s.dtype,i.dtype),h=ub(Hg(s.shape),u);let d=0;const p=0===a||a>1||1===s.shape.length?1:Hg(s.shape.slice(1));for(let f=0;f<o.length;f++)for(let e=0;e<p;e++)1===o[f]?h[d++]=l[f]:h[d++]=c[f];return n.makeTensorInfo(s.shape,u,h)}},oW=MI,lW=LI,cW=WF(Yv,(e=>e>=0?lW*e:oW*(Math.exp(e)-1))),uW={kernelName:Yv,backendName:"cpu",kernelFunc:cW},hW=WF(Jv,(e=>e<0?-1:e>0?1:0)),dW={kernelName:Jv,backendName:"cpu",kernelFunc:hW},pW=WF(Xv,(e=>Math.sin(e))),fW={kernelName:Xv,backendName:"cpu",kernelFunc:pW},mW=WF(Qv,(e=>Math.sinh(e))),gW={kernelName:Qv,backendName:"cpu",kernelFunc:mW},bW=Math.log(1.1920928955078125e-7)+2,yW=WF(ex,(e=>{const t=e>-bW,n=e<bW,r=Math.exp(e);let s;return s=n?r:t?e:Math.log(1+r),s})),vW={kernelName:ex,backendName:"cpu",kernelFunc:yW};const xW={kernelName:rx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockShape:i,paddings:a}=r;BF([s],"spaceToBatchND");const o=Hg(i),l=[[0,0]];l.push(...a);for(let g=1+i.length;g<s.shape.length;++g)l.push([0,0]);const c=xH.kernelFunc({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),u=SI(c.shape,i,o,!1),h=_I(u.length,i.length,!1),d=II(c.shape,i,o,!1),p=w$({inputs:{x:c},backend:n,attrs:{shape:u}}),f=P$({inputs:{x:p},backend:n,attrs:{perm:h}}),m=w$({inputs:{x:f},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}};function EW(e,t,n,r,s,i,a){const o=t[0],l=i[0],c=new Array(l),u=new Array(o),h=t[1];if(0===l){if(0!==o)throw new Error(oA(o));return[Jg(n,0),[0,h],Jg(s,0),c,u]}let d=!0,p=0;const f=new Array(l).fill(0);for(let g=0;g<o;++g){const t=e[g*h];if(t<0)throw new Error(lA(g,t));if(t>=l)throw new Error(cA(g,t,l));++f[t],d=d&&t>=p,p=t}let m=!0;for(let g=0;g<l;++g){const e=0===f[g];c[g]=e,m=m&&!e,f[g]=Math.max(f[g],1),g>0&&(f[g]+=f[g-1])}if(m&&d){const t=e,n=r;for(let e=0;e<o;++e)u[e]=e;return[t,[o,h],n,c,u]}{const t=f[l-1],i=Jg(n,t*h),d=Jg(s,t),p=new Array(l).fill(0);for(let n=0;n<o;++n){const t=e[n*h],s=p[t],a=(0===t?0:f[t-1])+s;p[t]++;for(let r=0;r<h;++r)i[a*h+r]=e[n*h+r];d[a]=r[n],u[n]=a}for(let e=0;e<l;++e){if(0===p[e]){const t=0===e?0:f[e-1];i[t*h+0]=e;for(let e=1;e<h;++e)i[t*h+e]=0;d[t]=a}}return[i,[t,h],d,c,u]}}const TW={kernelName:ax,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:s,denseShape:i,defaultValue:a}=t;if(1!==i.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${i.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${r.shape}`);if(1!==s.shape.length)throw new Error(`Values must be a vector, saw:\n        ${s.shape}`);if(0!==a.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${a.shape}`);const o=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values[0],[h,d,p,f,m]=EW(o,r.shape,r.dtype,l,s.dtype,c,u);return[n.makeTensorInfo(d,r.dtype,h),n.makeTensorInfo([d[0]],s.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};function wW(e,t,n,r,s){const i=Hg(r),a=t[0],o=s.length,l=[];let c=1,u=-1;for(let m=0;m<o;++m){const e=s[m];if(-1===e){if(-1!==u)throw new Error(uA(u,m));u=m,l.push(1)}else{if(e<0)throw new Error(hA(m,e));c*=e,l.push(e)}}if(-1!==u){if(c<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(i/c);if(c*e!==i)throw new Error(pA(r,l));l[u]=e}if(Hg(l)!==i)throw new Error(fA(r,l));const h=r.length,d=[];if(h>0){d[h-1]=1;for(let e=h-2;e>=0;--e)d[e]=d[e+1]*r[e+1]}const p=[];if(o>0){p[o-1]=1;for(let e=o-2;e>=0;--e)p[e]=p[e+1]*l[e+1]}const f=Jg(n,a*o);for(let m=0;m<a;++m){let t=0;for(let n=0;n<h;++n)t+=e[m*h+n]*d[n];for(let e=0;e<o;++e)f[m*o+e]=Math.trunc(t/p[e]),t%=p[e]}return[f,[a,o],l]}const kW={kernelName:ox,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:s,newShape:i}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${r.shape}`);if(1!==s.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${s.shape}`);if(1!==i.shape.length)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const a=Array.from(n.data.get(s.dataId).values),o=n.data.get(r.dataId).values,l=Array.from(n.data.get(i.dataId).values),[c,u,h]=wW(o,r.shape,r.dtype,a,l);return[n.makeTensorInfo(u,r.dtype,c),n.makeTensorInfo([h.length],i.dtype,new Int32Array(h))]}};function SW(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const o=r.length,l=[t[0],e.length/t[0]],c=l[1],u=o>0?s[o-1]+1:0;if(u<0)throw new Error("segment ids must be >= 0");const h=t.slice();h[0]=u;const d=Jg(n,h.reduce(((e,t)=>e*t),1));if(0===o)return u>0&&d.fill(a),[d,h];if(u<=0)throw new Error("segment ids must be >= 0");let p=0,f=1,m=0,g=s[p];for(;;){let t=0;if(f<o){if(t=s[f],g===t){++f;continue}if(g>=t)throw new Error("segment ids are not increasing")}if(g<0||g>=u)throw new Error(bA(g,u));g>m&&d.fill(a,m*c,g*c);for(let n=p;n<f;++n){const t=r[n];if(t<0||t>=l[0])throw new Error(yA(n,r[n],l[0]));for(let n=0;n<c;n++)d[g*c+n]+=e[t*c+n]}if(i)for(let e=0;e<c;e++)d[g*c+e]/=f-p;if(p=f,++f,m=g+1,g=t,f>o)break}return m<u&&d.fill(a,m*c,u*c),[d,h]}const _W={kernelName:lx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:s,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==s.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${s.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${i.shape}`);if(s.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[c,u]=SW(a,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(u,r.dtype,c)}};const IW={kernelName:cx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:s,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==s.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${s.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${i.shape}`);if(s.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[c,u]=SW(a,r.shape,r.dtype,o,l);return n.makeTensorInfo(u,r.dtype,c)}};const AW={kernelName:ux,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:s,sparseValues:i,defaultValue:a}=t,{outputShape:o}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:h,outputSize:d}=OI(0,s,o),p=!1,f=n.bufferSync(s);let m;switch(i.dtype){case"bool":m=tW(f,n.bufferSync(i),o,d,u,c,l,h,Boolean(n.data.get(a.dataId).values[0]),p);break;case"float32":m=tW(f,n.bufferSync(i),o,d,u,c,l,h,n.data.get(a.dataId).values[0],p);break;case"int32":m=tW(f,n.bufferSync(i),o,d,u,c,l,h,n.data.get(a.dataId).values[0],p);break;case"string":m=tW(f,n.bufferSync(i),o,d,u,c,l,h,uE(n.data.get(a.dataId).values[0]),p);break;default:throw new Error(`Unsupported type ${i.dtype}`)}return n.makeTensorInfo(o,m.dtype,m.values)}};const CW={kernelName:sx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{numOrSizeSplits:i,axis:a}=r,o=Kg(a,s.shape)[0],l=aA(s,i,o),c=new Array(s.shape.length).fill(0),u=s.shape.slice();return l.map((e=>{const t=[...u];t[o]=e;const r=lB({inputs:{x:s},backend:n,attrs:{begin:c,size:t}});return c[o]+=e,r}))}},NW=HF((e=>Math.sqrt(e))),DW=WF(tx,(e=>Math.sqrt(e))),RW={kernelName:tx,backendName:"cpu",kernelFunc:DW},OW={kernelName:dx,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{x:r}=t,s=n;BF(r,"square");const i=s.data.get(r.dataId).values,a=new Float32Array(i.length);for(let o=0;o<i.length;++o){const e=i[o];a[o]=e*e}return{dataId:s.write(a,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},MW=QF(((e,t)=>{const n=e-t;return n*n})),LW=b$(hx,MW),PW={kernelName:hx,backendName:"cpu",kernelFunc:LW},FW=HF(((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:s}=t;return e.replace(new RegExp(n,r?"g":""),s)})),$W=GF(px,FW),BW={kernelName:px,backendName:"cpu",kernelFunc:$W},UW=WF(Cx,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),zW={kernelName:Cx,backendName:"cpu",kernelFunc:UW};function HW(e,t,n,r){const s=QT(e,t.dtype);for(let i=0;i<s.size;i++){const e=s.indexToLoc(i),a=new Array(e.length);for(let t=0;t<a.length;t++)a[t]=e[t]*n[t]+r[t];s.set(t.get(...a),...e)}return s}const WW={kernelName:fx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{begin:i,end:a,strides:o,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:h,shrinkAxisMask:d}=r;BF(s,"stridedSlice");const{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:b,begin:y,end:v,strides:x}=rk(s.shape,i,a,o,l,c,u,h,d);let E;if(m)E=w$({inputs:{x:s},backend:n,attrs:{shape:f}});else if(g||b){Bg(s.shape.length>=1,(()=>`Input must have rank at least 1, got: ${s.shape.length}`));const e=Gw(y,v,x),t=lB({inputs:{x:s},backend:n,attrs:{begin:y,size:e}});E=w$({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=HW(p,n.bufferSync(s),x,y);E=n.makeTensorInfo(f,e.dtype,e.values)}return E}};class GW{constructor(e,t,n,r,s,i){this.separator=cE(e),this.nGramWidths=t,this.leftPad=cE(n),this.rightPad=cE(r),this.padWidth=s,this.preserveShort=i}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,s,i){for(let a=0;a<s;++a){const o=this.getPadWidth(i),l=Math.max(0,o-a),c=Math.max(0,o-(s-(a+1))),u=i-(l+c),h=t+(l>0?0:a-o);let d=0;d+=l*this.leftPad.length;for(let t=0;t<u;++t)d+=e[h+t].length;d+=c*this.rightPad.length;d+=(l+c+u-1)*this.separator.length,n[r+a]=new Uint8Array(d);const p=n[r+a];let f=0;const m=e=>e.forEach((e=>p[f++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<u-1;++t)m(e[h+t]),m(this.separator);if(u>0){m(e[h+u-1]);for(let e=0;e<c;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<c-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let s=1;s<r;++s){let r=t[s]>=e;if(r=r&&t[s]<=n,!r)throw new Error(`Invalid split value ${t[s]}, must be in [${e}, ${n}]`);e=t[s]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const s=r-1,i=Jg("int32",r);if(0===n||0===r){const e=new Array(n);for(let t=0;t<=s;++t)i[t]=0;return[e,i]}i[0]=0;for(let o=1;o<=s;++o){const e=t[o]-t[o-1];let n=0;this.nGramWidths.forEach((t=>{n+=this.getNumNGrams(e,t)})),this.preserveShort&&e>0&&0===n&&(n=1),i[o]=i[o-1]+n}const a=new Array(i[s]);for(let o=0;o<s;++o){const n=t[o];let r=i[o];if(this.nGramWidths.forEach((s=>{const i=t[o+1]-t[o],l=this.getNumNGrams(i,s);this.createNGrams(e,n,a,r,l,s),r+=l})),this.preserveShort&&r===i[o]){const s=t[o+1]-t[o];if(0===s)continue;const i=s+2*this.padWidth,l=1;this.createNGrams(e,n,a,r,l,i)}}return[a,i]}}function VW(e,t,n,r,s,i,a,o){return new GW(n,r,s,i,a,o).compute(e,t)}const qW={kernelName:mx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:s,nGramWidths:i,leftPad:a,rightPad:o,padWidth:l,preserveShortSequences:c}=r,{data:u,dataSplits:h}=t,d=n.data.get(u.dataId).values,p=n.data.get(h.dataId).values,[f,m]=VW(d,p,s,i,a,o,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(h.shape,"int32",m)]}};function jW(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const s=t[0];let i=e.indexOf(s);for(;-1!==i;){const t=e.subarray(0,i);n&&0===t.length||r.push(t),i=(e=e.subarray(i+1)).indexOf(s)}return void(n&&0===e.length||r.push(e))}let s=0;for(let i=0;i<e.length+1;i++)if(i===e.length||-1!==t.indexOf(e[i])){const t=e.subarray(s,i);n&&0===t.length||r.push(t),s=i+1}}function YW(e,t,n){const r=e.length,s=[];let i=0,a=0;const o=new Array(r);for(let d=0;d<r;++d){const r=s.length;jW(e[d],t,n,s);const l=s.length-r;o[d]=l,i+=l,a=Math.max(a,l)}const l=Jg("int32",2*i),c=new Array(i),u=[r,a];let h=0;for(let d=0;d<r;++d)for(let e=0;e<o[d];++e)l[2*h]=d,l[2*h+1]=e,c[h]=s[h],++h;return[l,c,u]}const KW={kernelName:gx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:s}=r,{input:i,delimiter:a}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(0!==a.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const o=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values[0],[c,u,h]=YW(o,l,s),d=u.length;return[n.makeTensorInfo([d,2],"int32",c),n.makeTensorInfo([d],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(h))]}};function XW(e,t){const n=Jg("int32",e.length);for(let r=0;r<e.length;++r)n[r]=iE(e[r]).modulo(t).getLowBitsUnsigned();return n}const QW={kernelName:bx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:s}=r,{input:i}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const a=XW(n.data.get(i.dataId).values,s);return n.makeTensorInfo(i.shape,"int32",a)}},JW=WF(vx,(e=>Math.tan(e))),ZW={kernelName:vx,backendName:"cpu",kernelFunc:JW},eG=WF(xx,(e=>Math.tanh(e)));const tG={kernelName:Vv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:r,indices:s,updates:i}=t,{sliceRank:a,numUpdates:o,sliceSize:l,strides:c,outputSize:u}=OI(0,s,r.shape),h=n.bufferSync(s),d=n.bufferSync(i),p=n.bufferSync(r),f=tW(h,d,r.shape,u,l,o,a,c,p,!1);return n.makeTensorInfo(r.shape,f.dtype,f.values)}};function nG(e,t){const n=new Array(e.rank);for(let s=0;s<n.length;s++)n[s]=e.shape[s]*t[s];const r=QT(n,e.dtype);for(let s=0;s<r.values.length;++s){const t=r.indexToLoc(s),n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=t[r]%e.shape[r];const i=e.locToIndex(n);r.values[s]=e.values[i]}return r}const rG={kernelName:Ex,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{reps:i}=r;BF(s,"tile");const a=nG(n.bufferSync(s),i);return n.makeTensorInfo(a.shape,a.dtype,a.values)}},sG=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function iG(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;for(;r>n;){if(r-n>600){const s=r-n+1,i=t-n+1,a=Math.log(s),o=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*o*(s-o)/s)*Math.sign(i-s/2);iG(e,t,Math.max(n,Math.floor(t-i*o/s+l)),Math.min(r,Math.floor(t+(s-i)*o/s+l)))}const s=e[t];let i=n,a=r;for($g(e,n,t),sG(e[r],s)>0&&$g(e,n,r);i<a;){for($g(e,i,a),i++,a--;sG(e[i],s)<0;)i+=1;for(;sG(e[a],s)>0;)a-=1}0===sG(e[n],s)?$g(e,n,a):(a+=1,$g(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}}function aG(e,t,n,r,s){const i=t[t.length-1],[a,o]=[e.length/i,i],l=Qg(n,a*r),c=Qg("int32",a*r);for(let h=0;h<a;h++){const t=h*o,n=e.subarray(t,t+o);let i=new Array(n.length);n.forEach(((e,t)=>i[t]={value:e,index:t})),r<i.length&&(iG(i,r),i=i.slice(0,r)),s&&i.sort(sG);const a=h*r,u=l.subarray(a,a+r),d=c.subarray(a,a+r);for(let e=0;e<r;e++)u[e]=i[e].value,d[e]=i[e].index}const u=t.slice();return u[u.length-1]=r,[QT(u,n,l),QT(u,"int32",c)]}const oG={kernelName:Tx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{k:i,sorted:a}=r;BF(s,"topk");const o=n.data.get(s.dataId).values,[l,c]=aG(o,s.shape,s.dtype,i,a);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}};const lG={kernelName:wx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{image:s,transforms:i}=t,{interpolation:a,fillMode:o,fillValue:l,outputShape:c}=n,[u,h,d,p]=s.shape,[f,m]=null!=c?c:[h,d],g=[u,f,m,p],b=ab(s.shape),y=b[0],v=b[1],x=b[2],E=ab(g),T=E[0],w=E[1],k=E[2],S=Qg(s.dtype,Hg(g));S.fill(l);const _=r.data.get(s.dataId).values,I=r.data.get(i.dataId).values;for(let A=0;A<u;++A){const e=1===i.shape[0]?I:I.subarray(8*A,8*A+8);for(let t=0;t<f;++t)for(let n=0;n<m;++n)for(let r=0;r<p;++r){let s;const i=e[6]*n+e[7]*t+1;if(0===i)continue;const c=(e[0]*n+e[1]*t+e[2])/i,u=(e[3]*n+e[4]*t+e[5])/i,p=cG(c,d,o),f=cG(u,h,o);switch(a){case"nearest":s=hG(_,h,d,y,v,x,A,f,p,r,l);break;case"bilinear":s=dG(_,h,d,y,v,x,A,f,p,r,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${a}`)}S[A*T+t*w+n*k+r]=s}return r.makeTensorInfo(g,s.dtype,S)}return{dataId:r.write(S,g,s.dtype),shape:s.shape,dtype:s.dtype}}};function cG(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return Pg(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return Pg(0,n,t-1)}(e,t);case"nearest":return function(e,t){return Pg(0,e,t-1)}(e,t);default:return function(e){return e}(e)}}function uG(e,t,n,r,s,i,a,o,l,c,u){return 0<=o&&o<t&&0<=l&&l<n?e[a*r+o*s+l*i+c]:u}function hG(e,t,n,r,s,i,a,o,l,c,u){return uG(e,t,n,r,s,i,a,Math.round(o),Math.round(l),c,u)}function dG(e,t,n,r,s,i,a,o,l,c,u){const h=Math.floor(o),d=Math.floor(l),p=h+1,f=d+1;return(p-o)*((f-l)*uG(e,t,n,r,s,i,a,h,d,c,u)+(l-d)*uG(e,t,n,r,s,i,a,h,f,c,u))+(o-h)*((f-l)*uG(e,t,n,r,s,i,a,p,d,c,u)+(l-d)*uG(e,t,n,r,s,i,a,p,f,c,u))}function pG(e,t,n,r){const s=Kg(t,n)[0],i=[1,n[0],1];for(let f=0;f<s;f++)i[0]*=n[f];i[1]=n[s];for(let f=s+1;f<n.length;f++)i[2]*=n[f];const a=new Map,o=new Int32Array(n[s]),l=new EE(i,r,e),c=[],u=1===i[0]&&1===i[2];for(let f=0;f<n[s];f++){let t;if(u)t=e[f].toString();else{const e=[];for(let t=0;t<i[0];t++)for(let n=0;n<i[2];n++)e.push(l.get(t,f,n));t=e.join(",")}const n=a.get(t);if(null!=n)o[f]=n;else{const e=a.size;a.set(t,e),o[f]=e,c.push(f)}}const h=i.slice();h[1]=a.size;const d=new EE(h,r);c.forEach(((e,t)=>{for(let n=0;n<i[0];n++)for(let r=0;r<i[2];r++)d.set(l.get(n,e,r),n,t,r)}));const p=n.slice();return p[s]=h[1],{outputValues:d.values,outputShape:p,indices:o}}const fG={kernelName:Sx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:s}=n,{x:i}=t;BF(i,"unique");const a=r.data.get(i.dataId).values,{outputValues:o,outputShape:l,indices:c}=pG(a,s,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,o),r.makeTensorInfo([c.length],"int32",c)]}};const mG={kernelName:_x,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:s}=t;let{axis:i}=r;i<0&&(i+=s.shape.length);const a=s.shape.length,o=s.shape[i],l=new Array(a-1);let c=0;for(let p=0;p<a;p++)p!==i&&(l[c++]=s.shape[p]);const u=new Array(a).fill(0),h=s.shape.slice();h[i]=1;const d=new Array(o);for(let p=0;p<d.length;p++){u[i]=p;const e=lB({inputs:{x:s},backend:n,attrs:{begin:u,size:h}});d[p]=w$({inputs:{x:e},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(e)}return d}};const gG={kernelName:Ix,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,segmentIds:i}=t,{numSegments:a}=r;BF(s,"unsortedSegmentSum");const o=[],l=[],c=s.shape.length-i.shape.length;let u=i;for(let d=0;d<c;++d){const e=EU({inputs:{input:u},backend:n,attrs:{dim:d+1}});u=e,l.push(e)}for(let d=0;d<a;++d){const e=aE(d,"int32"),t=n.makeTensorInfo([],"int32",e),r=lU({inputs:{a:t,b:u},backend:n}),i=m$({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),a=tU({inputs:{a:i,b:s},backend:n}),c=rU({inputs:{x:a},backend:n,attrs:{axis:0,keepDims:!1}});o.push(c),l.push(t),l.push(r),l.push(i),l.push(a),l.push(c)}const h=yH({inputs:o,backend:n,attrs:{axis:0}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}},bG=[I$,C$,D$,O$,T$,M$,$$,B$,U$,z$,W$,V$,j$,X$,J$,nB,rB,sB,iB,_$,aB,uB,pB,mB,gB,g$,vB,EB,u$,TB,IB,CB,NB,DB,RB,OB,MB,PB,$B,BB,UB,zB,HB,WB,VB,qB,jB,YB,KB,XB,QB,JB,iU,qF,aU,cU,bU,xU,TU,SU,PU,$U,BU,HU,VU,qU,jU,KU,QU,ez,rz,YF,sz,SB,az,lz,uz,XF,pz,gz,yz,Ez,wz,_z,Az,Dz,Rz,Oz,Pz,Bz,Uz,zz,Hz,Wz,Gz,Vz,qz,Kz,Xz,Zz,nH,nU,sH,aH,lH,uH,pH,fH,bH,vH,xH,wH,e$,SH,NH,OH,BH,zH,p$,AU,WH,n$,s$,k$,GH,VH,qH,jH,YH,KH,QH,eW,nW,iW,aW,uW,o$,dW,fW,gW,cB,tH,vW,xW,TW,kW,_W,IW,AW,CW,RW,OW,PW,BW,zW,WW,qW,KW,QW,RU,sU,ZW,{kernelName:xx,backendName:"cpu",kernelFunc:eG},tG,rG,oG,lG,F$,fG,mG,gG,gH];for(const n of bG)Hx(n);const yG={},vG={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function xG(e,t){if(!(e in yG)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if(vb().getBool("IS_SAFARI")||"undefined"===typeof OffscreenCanvas||2!==e){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}return new OffscreenCanvas(300,150)}(e):t;n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete yG[e]}),!1),vb().getBool("SOFTWARE_WEBGL_ENABLED")&&(vG.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",vG)||n.getContext("experimental-webgl",vG);return n.getContext("webgl2",vG)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;yG[e]=n}const n=yG[e];return null==n||n.isContextLost()?(delete yG[e],xG(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),yG[e])}var EG,TG,wG;function kG(e,t){return[t,e]}function SG(e){const t=Hg(e);return Vg(Math.ceil(t/4))}function _G(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function IG(e,t){const n=e;let r,s,i,a,o,l,c,u,h,d;return 2===vb().getNumber("WEBGL_VERSION")?(r=n.R32F,s=n.R16F,i=n.RGBA16F,a=n.RGBA32F,o=n.RED,c=4,u=1,h=n.HALF_FLOAT,d=n.FLOAT,l=n.RGBA8):(r=e.RGBA,s=e.RGBA,i=e.RGBA,a=n.RGBA,o=e.RGBA,c=4,u=4,h=null!=t?t.HALF_FLOAT_OES:null,d=e.FLOAT,l=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:s,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:h,textureTypeFloat:d}}function AG(e,t){const n=t();return vb().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(EG||(EG={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(TG||(TG={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(wG||(wG={}));function CG(e){return!!(vb().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function NG(e,t){return BG(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const DG=/ERROR: [0-9]+:([0-9]+):/g;function RG(e,t){const n=DG.exec(t);if(null==n)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);const r=+n[1],s=e.split("\n"),i=s.length.toString().length+2,a=s.map(((e,t)=>qg((t+1).toString(),i)+e));let o=0;for(let h=0;h<a.length;h++)o=Math.max(a[h].length,o);const l=a.slice(0,r-1),c=a.slice(r-1,r),u=a.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${qg(c[0],o)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join("\n"))}function OG(e,t){if(AG(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function MG(e,t,n,r,s,i,a){const o=e.getAttribLocation(t,n);return-1!==o&&(AG(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,r))),AG(e,(()=>e.vertexAttribPointer(o,s,e.FLOAT,!1,i,a))),AG(e,(()=>e.enableVertexAttribArray(o))),!0)}function LG(e,t,n,r){AG(e,(()=>function(e,t,n){UG(e,n),AG(e,(()=>e.activeTexture(e.TEXTURE0+n))),AG(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,r))),AG(e,(()=>e.uniform1i(n,r)))}function PG(e,t,n){AG(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),AG(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function FG(e,t){AG(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),AG(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function $G(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function BG(e,t,n){const r=AG(e,(()=>t()));if(null==r)throw new Error(n);return r}function UG(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${n}]`}.`)}}function zG(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Hg(e.slice(0,e.length-t))}function HG(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function WG(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[zG(e),...HG(e)]),t}function GG(e){return e%2===0}function VG(e,t){if(Wg(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e[e.length-1],r=t[t.length-1];if(n===r)return!0;if(GG(n)&&GG(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&GG(e[0])&&GG(t[0])}let qG,jG;function YG(e,t){return null!=e.getExtension(t)}function KG(e){try{if(null!=xG(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function XG(e){if(0===e)return!1;const t=xG(e);if(1!==e){if(YG(t,"EXT_color_buffer_float"))return QG(t);const e="EXT_color_buffer_half_float";if(YG(t,e)){const n=t.getExtension(e);return function(e,t){const n=IG(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const s=1,i=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,s,i,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(a),o}(t,n)}return!1}if(!YG(t,"OES_texture_float"))return!1;if(!YG(t,"WEBGL_color_buffer_float"))return!1;return QG(t)}function QG(e){const t=IG(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),s}function JG(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&Bg("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the WebGL backend.`))}))}const ZG=vb();function eV(){let e,t,n,r,s,i,a,o,l,c;return 2===vb().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",s="texture",i="outputColor",a="out vec4 outputColor;",o=vb().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",s="texture2D",i="gl_FragColor",a="",o="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:s,output:i,defineOutput:a,defineSpecialNaN:o,defineSpecialInf:l,defineRound:c}}function tV(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=ab(t);return r.map(((t,s)=>`${`int ${e[s]} = ${n} / ${t}`}; ${s===r.length-1?`int ${e[s+1]} = ${n} - ${e[s]} * ${t}`:`index -= ${e[s]} * ${t}`};`)).join("")}function nV(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=ab(t);return r.map(((t,s)=>`${`int ${e[s]} = ${n} / outShapeStrides[${s}]`}; ${s===r.length-1?`int ${e[s+1]} = ${n} - ${e[s]} * outShapeStrides[${s}]`:`index -= ${e[s]} * outShapeStrides[${s}]`};`)).join("")}function rV(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=function(e,t){const n=e.length,r=e.map((e=>`${t}[${e}]`)),s=new Array(n-1);s[n-2]=r[n-1];for(let i=n-3;i>=0;--i)s[i]=`(${s[i+1]} * ${r[i+1]})`;return s}(e.map(((e,t)=>t)),t);return r.map(((t,s)=>`${`int ${e[s]} = ${n} / ${r[s]}`}; ${s===r.length-1?`int ${e[s+1]} = ${n} - ${e[s]} * ${r[s]}`:`index -= ${e[s]} * ${r[s]}`};`)).join("")}function sV(e){const t=ab(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}ZG.registerFlag("HAS_WEBGL",(()=>ZG.getNumber("WEBGL_VERSION")>0)),ZG.registerFlag("WEBGL_VERSION",(()=>KG(2)?2:KG(1)?1:0)),ZG.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),ZG.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===ZG.get("WEBGL_VERSION"))),ZG.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),ZG.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),ZG.registerFlag("WEBGL_PACK",(()=>ZG.getBool("HAS_WEBGL"))),ZG.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>ZG.getBool("WEBGL_PACK"))),ZG.registerFlag("WEBGL_PACK_CLIP",(()=>ZG.getBool("WEBGL_PACK"))),ZG.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>ZG.getBool("WEBGL_PACK"))),ZG.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>ZG.getBool("WEBGL_PACK"))),ZG.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>ZG.getBool("WEBGL_PACK"))),ZG.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>ZG.getBool("WEBGL_PACK"))),ZG.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>ZG.getBool("WEBGL_PACK"))),ZG.registerFlag("WEBGL_PACK_REDUCE",(()=>ZG.getBool("WEBGL_PACK"))),ZG.registerFlag("WEBGL_LAZILY_UNPACK",(()=>ZG.getBool("WEBGL_PACK"))),ZG.registerFlag("WEBGL_CONV_IM2COL",(()=>ZG.getBool("WEBGL_PACK"))),ZG.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",(()=>ZG.getBool("WEBGL_PACK"))),ZG.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==qG){const t=xG(e);qG=t.getParameter(t.MAX_TEXTURE_SIZE)}return qG}(ZG.getNumber("WEBGL_VERSION")))),ZG.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==jG){const t=xG(e);jG=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,jG)}(ZG.getNumber("WEBGL_VERSION")))),ZG.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=ZG.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=xG(e);return t=YG(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:YG(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),ZG.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>ZG.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!KE())),ZG.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=xG(e);if(1===e){if(!YG(t,"OES_texture_float"))return!1}else if(!YG(t,"EXT_color_buffer_float"))return!1;return QG(t)}(ZG.getNumber("WEBGL_VERSION")))),ZG.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!ZG.getBool("WEBGL_FORCE_F16_TEXTURES")&&ZG.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),ZG.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>XG(ZG.getNumber("WEBGL_VERSION")))),ZG.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=ZG.getNumber("WEBGL_VERSION"))&&null!=xG(e).fenceSync;var e})),ZG.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>ZG.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),ZG.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if("number"!==typeof e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),ZG.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>KE()?1:-1),(e=>{if("number"!==typeof e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),ZG.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),ZG.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),ZG.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),ZG.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128)),ZG.registerFlag("WEBGL_EXP_CONV",(()=>!1)),ZG.registerFlag("SOFTWARE_WEBGL_ENABLED",(()=>ZG.getBool("IS_TEST"))),ZG.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(()=>1/0)),ZG.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(()=>!1)),ZG.registerFlag("WEBGL2_ISNAN_CUSTOM",(()=>!1)),ZG.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));const iV="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:aV}=s;function oV(e,t,n){const r=[];if(e.forEach((e=>{const t=Hg(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(r.push(`uniform sampler2D ${e.name};`),r.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){const{uniformShape:t}=yV(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:r.push(`uniform int ${e.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${e.name}Shape;`)}r.push(`uniform ivec2 ${e.name}TexShape;`)}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{r.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));const s=r.join("\n"),i=e.map((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,s="";s+=n?cV(e,r):lV(e,r);const i=e.shapeInfo.logicalShape,a=t.logicalShape;i.length<=a.length&&(s+=n?function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",i=e.shapeInfo.logicalShape.length,a=t.logicalShape.length,o=aV(e.shapeInfo.logicalShape,t.logicalShape),l=bV(a),c=a-i;let u;const h=["x","y","z","w","u","v"];u=0===i?"":a<2&&o.length>=1?"coords = 0;":o.map((e=>`coords.${h[e+c]} = 0;`)).join("\n");let d="";d=a<2&&i>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${h[t+c]}`)).join(", ");let p="return outputValue;";const f=1===Hg(e.shapeInfo.logicalShape),m=Hg(t.logicalShape),g=1===m;if(1!==i||f||g){if(f&&!g)p=1===a?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(o.length){const e=i-2,t=i-1;o.indexOf(e)>-1&&o.indexOf(t)>-1?p="return vec4(outputValue.x);":o.indexOf(e)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(t)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${s}() {\n      ${l} coords = getOutputCoords();\n      ${u}\n      vec4 outputValue = get${r}(${d});\n      ${p}\n    }\n  `}(e,t):function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",i=t.texShape,a=e.shapeInfo.texShape,o=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&o===l&&null==e.shapeInfo.flatOffset&&Wg(a,i))return`\n      float ${s}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const c=bV(l),u=aV(e.shapeInfo.logicalShape,t.logicalShape),h=l-o;let d;const p=["x","y","z","w","u","v"];d=0===o?"":l<2&&u.length>=1?"coords = 0;":u.map((e=>`coords.${p[e+h]} = 0;`)).join("\n");let f="";f=l<2&&o>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${p[t+h]}`)).join(", ");return`\n    float ${s}() {\n      ${c} coords = getOutputCoords();\n      ${d}\n      return get${r}(${f});\n    }\n  `}(e,t));return s}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),a=t.texShape,o=eV(),l=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(o);let c,u,h=function(e){const t=`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${uV}\n    ${hV}\n    ${dV}\n  `;return t}(o);t.isPacked?(c=function(e,t,n){switch(e.length){case 0:return fV();case 1:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${r[1]}.0);\n      }\n    `;if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${r[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(Wg(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));\n      }\n    `;const s=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      int r = 2 * (index / ${s});\n      int c = imod(index, ${s}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],s=Math.ceil(e[2]/2),i=s*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      int b = index / ${i};\n      index -= b * ${i};\n\n      int r = 2 * (index / ${s});\n      int c = imod(index, ${s}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],s=Math.ceil(e[e.length-1]/2),i=s*Math.ceil(e[e.length-2]/2);let a=i,o="",l="b, r, c";for(let c=2;c<e.length-1;c++)a*=e[e.length-c-1],o=`\n      int b${c} = index / ${a};\n      index -= b${c} * ${a};\n    `+o,l=`b${c}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      ${o}\n\n      int b = index / ${i};\n      index -= b * ${i};\n\n      int r = 2 * (index / ${s});\n      int c = imod(index, ${s}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,t,n)}}(t.logicalShape,a,n.enableShapeUniforms),u=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(o)):(c=function(e,t,n){switch(e.length){case 0:return fV();case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `;if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){if(Wg(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `;if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${nV(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}const r=tV(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${nV(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}const r=tV(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){const n=tV(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=tV(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,a,n.enableShapeUniforms),u=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(o)),n.packedInputs&&(h+=pV);return[h,l,u,s,c,i,n.userCode].join("\n")}function lV(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[s,i]=e.shapeInfo.texShape;if(1===s&&1===i)return`\n      float ${r}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const a=mV(n);if(t)return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${a});\n      return sampleTexture(${n}, uv);\n    }\n  `;const[o,l]=e.shapeInfo.texShape;return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${o}, ${l}, ${a});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${r}(int index) {\n        ${gV(e)}\n      }\n    `;const s=e.shapeInfo.texShape,i=s[0],a=s[1];if(1===a&&1===i)return`\n      float ${r}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const o=mV(n);if(1===a)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${i}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===i)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${a}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(t)return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${i}, ${a}, index + ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape;if(null!=i&&Wg(n,i)){if(t)return`\n      float ${s}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `;const e=i[0];return`\n    float ${s}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${i[1]}.0, ${e}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `}const{newShape:a,keptDims:o}=Xg(n),l=a;if(l.length<n.length){const n=["row","col"];return`\n      ${lV(vV(e,l),t)}\n      float ${s}(int row, int col) {\n        return ${s}(${xV(n,o)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${s}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${gV(e)}\n      }\n    `;const c=i[0],u=i[1],h=mV(r);if(1===u)return t?`\n      float ${s}(int row, int col) {\n        float index = dot(vec3(row, col, ${h}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${s}(int row, int col) {\n      float index = dot(vec3(row, col, ${h}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${c}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(1===c)return t?`\n      float ${s}(int row, int col) {\n        float index = dot(vec3(row, col, ${h}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${s}(int row, int col) {\n      float index = dot(vec3(row, col, ${h}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${u}.0, 0.5);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(t)return`\n      float ${s}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${r}Shape[1] + col + ${h};\n        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n        return sampleTexture(${r}, uv);\n      }\n    `;return`\n  float ${s}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${h};\n    vec2 uv = uvFromFlat(${c}, ${u}, index);\n    return sampleTexture(${r}, uv);\n  }\n`}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],a=n[2],{newShape:o,keptDims:l}=Xg(n),c=o;if(c.length<n.length){const n=["row","col","depth"];return`\n        ${lV(vV(e,c),t)}\n        float ${s}(int row, int col, int depth) {\n          return ${s}(${xV(n,l)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${s}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${i}, ${a}, 1)));\n        ${gV(e)}\n      }\n    `;const u=e.shapeInfo.texShape,h=u[0],d=u[1],p=e.shapeInfo.flatOffset;if(d===i&&null==p)return t?`\n      float ${s}(int row, int col, int depth) {\n        int stride1 = ${r}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n        float ${s}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${a}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${d}.0, ${h}.0);\n          return sampleTexture(${r}, uv);\n        }\n      `;if(d===a&&null==p)return t?`\n      float ${s}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${s}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${h}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;const f=mV(r);if(t)return`\n    float ${s}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${r}Shape[1] * ${r}Shape[2];\n      int stride1 = ${r}Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ${f};\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n      return sampleTexture(${r}, uv);\n    }\n    `;return`\n      float ${s}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${i} + col * ${a} + depth + ${f};\n        vec2 uv = uvFromFlat(${h}, ${d}, index);\n        return sampleTexture(${r}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],a=n[2]*i,o=n[1]*a,{newShape:l,keptDims:c}=Xg(n);if(l.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${lV(vV(e,l),t)}\n      float ${s}(int row, int col, int depth, int depth2) {\n        return ${s}(${xV(n,c)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${s}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${o}, ${a}, ${i}, 1)));\n        ${gV(e)}\n      }\n    `;const u=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,d=h[0],p=h[1],f=`int stride2 = ${r}Shape[3];`,m=`int stride1 = ${r}Shape[2] * stride2;`,g=`int stride0 = ${r}Shape[1] * stride1;`;if(p===o&&null==u)return t?`\n      float ${s}(int row, int col, int depth, int depth2) {\n        ${f}\n        ${m}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${s}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${a}, ${i}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${d}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;if(p===i&&null==u)return t?`\n      float ${s}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${s}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${d}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;const b=mV(r);if(t)return`\n    float ${s}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${f}\n      ${m}\n      ${g}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${b});\n      return sampleTexture(${r}, uv);\n    }\n  `;return`\n    float ${s}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${o} + col * ${a} +\n          depth * ${i} + depth2;\n      vec2 uv = uvFromFlat(${d}, ${p}, index + ${b});\n      return sampleTexture(${r}, uv);\n    }\n  `}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t[4],i=t[3]*s,a=t[2]*i,o=t[1]*a,{newShape:l,keptDims:c}=Xg(t);if(l.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${lV(vV(e,l))}\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        return ${r}(${xV(t,c)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${o}, ${a}, ${i}, ${s})) +\n          depth3;\n        ${gV(e)}\n      }\n    `;const u=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,d=h[0],p=h[1];if(p===o&&null==u)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${a}, ${i}, ${s}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(p===s&&null==u)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const f=mV(n);return`\n    float ${r}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${o} + col * ${a} + depth * ${i} +\n          depth2 * ${s} + depth3 + ${f};\n      vec2 uv = uvFromFlat(${d}, ${p}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:s,keptDims:i}=Xg(t);if(s.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${lV(vV(e,s))}\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${r}(${xV(t,i)});\n      }\n    `}const a=t[5],o=t[4]*a,l=t[3]*o,c=t[2]*l,u=t[1]*c;if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${u}, ${c}, ${l}, ${o})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${a}, 1)));\n        ${gV(e)}\n      }\n    `;const h=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],f=d[1];if(f===u&&null==h)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${c}, ${l}, ${o}, ${a})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${f}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(f===a&&null==h)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${f}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const m=mV(n);return`\n    float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${u} + col * ${c} + depth * ${l} +\n          depth2 * ${o} + depth3 * ${a} + depth4 + ${m};\n      vec2 uv = uvFromFlat(${p}, ${f}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function cV(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=eV();return`\n    vec4 ${n}() {\n      return ${r.texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=e.shapeInfo.texShape,i=eV();if(t)return`\n    vec4 ${r}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `;const a=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];return`\n    vec4 ${r}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${a[0]}, ${a[1]}, index);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,a=i[0],o=i[1],l=eV();if(null!=i&&Wg(n,i))return t?`\n      vec4 ${s}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `:`\n      vec4 ${s}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${a}.0);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `;if(t)return`\n    vec4 ${s}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `;const c=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],u=Math.ceil(n[1]/2);return`\n    vec4 ${s}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${u}, ${c[0]}, ${c[1]}, row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===n[0]){const r=[1,2],i=["b","row","col"];return`\n        ${cV(vV(e,n.slice(1)),t)}\n        vec4 ${s}(int b, int row, int col) {\n          return ${s}(${xV(i,r)});\n        }\n      `}const o=eV();if(t)return`\n    vec4 ${s}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${o.texture2D}(${r}, uv);\n    }\n  `;const l=a[0],c=a[1],u=Math.ceil(n[2]/2),h=u*Math.ceil(n[1]/2);return`\n    vec4 ${s}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${l}, ${c}, ${h}, ${u}, b, row, col);\n      return ${o.texture2D}(${r}, uv);\n    }\n  `}(e,t);default:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=eV();if(t)return`\n    vec4 ${r}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${s.texture2D}(${n}, uv);\n    }\n  `;const i=e.shapeInfo.logicalShape,a=i.length,o=e.shapeInfo.texShape,l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],c=l[0],u=l[1],h=Math.ceil(i[a-1]/2);let d=h*Math.ceil(i[a-2]/2),p="int b, int row, int col",f=`b * ${d} + (row / 2) * ${h} + (col / 2)`;for(let m=2;m<a-1;m++)p=`int b${m}, `+p,d*=i[a-m-1],f=`b${m} * ${d} + `+f;return`\n    vec4 ${r}(${p}) {\n      int index = ${f};\n      int texR = index / ${u};\n      int texC = index - texR * ${u};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}, ${c});\n      return ${s.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}const uV="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",hV="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",dV="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",pV="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function fV(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function mV(e){return`offset${e}`}function gV(e){const t=e.name,n=Hg(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function bV(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function yV(e,t,n){const{newShape:r,keptDims:s}=Xg(t),i=t.length,a=e&&3===i&&1===t[0],o=a?t.slice(1):r,l=!e&&i>1&&!Wg(t,n)&&r.length<i||a;return{useSqueezeShape:l,uniformShape:l?o:t,keptDims:s}}function vV(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function xV(e,t){return t.map((t=>e[t])).join(", ")}function EV(e,t,n,r){const s=n.map(((e,n)=>{const r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),i=s.map((e=>e.shapeInfo)),a={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},o=oV(s,a,t),l=function(e,t){const n=BG(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(AG(e,(()=>e.shaderSource(n,t))),AG(e,(()=>e.compileShader(n))),vb().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw RG(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,o),c=e.createProgram(l);return vb().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:o,webGLProgram:c,inShapeInfos:i,outShapeInfo:a,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(c),Object.assign({program:t,fragmentShader:l,source:o,webGLProgram:c,inShapeInfos:i,outShapeInfo:a},TV(e,t,c)))}function TV(e,t,n){const r=[],s=[];let i,a,o,l=null,c=null;c=e.getUniformLocation(n,"NAN",!1),1===vb().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(n,"INFINITY",!1));const u=!1;for(const h of t.variableNames){const s={name:h,uniform:e.getUniformLocation(n,h,u),offset:e.getUniformLocation(n,`offset${h}`,u)};t.enableShapeUniforms&&(s.shape=e.getUniformLocation(n,`${h}Shape`,u),s.texShape=e.getUniformLocation(n,`${h}TexShape`,u)),r.push(s)}if(t.enableShapeUniforms&&(i=e.getUniformLocation(n,"outShape",u),o=e.getUniformLocation(n,"outShapeStrides",u),a=e.getUniformLocation(n,"outTexShape",u)),t.customUniforms)for(const h of t.customUniforms)s.push(e.getUniformLocation(n,h.name,u));return{variablesLocations:r,customUniformLocations:s,infLoc:l,nanLoc:c,outShapeLocation:i,outShapeStridesLocation:o,outTexShapeLocation:a}}function wV(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,n)=>{const r=e.logicalShape,s=t[n],i=s.shape;if(!Wg(r,i))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${i} must match`);if(e.isUniform&&s.isUniform)return;const a=e.texShape,o=s.isUniform?null:s.texData.texShape;if(!Wg(a,o))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${a} and ${o} must match`)}))}function kV(e){return vb().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class SV{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=EG.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=eV();this.outputShape=e,this.enableShapeUniforms=kV(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?nV(["r","c","d"],e):tV(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class _V{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=EG.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=eV();this.outputShape=e,this.enableShapeUniforms=kV(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?nV(["r","c","d"],e):tV(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class IV{constructor(e){this.variableNames=["A"],this.outTexUsage=TG.DOWNLOAD;const t=eV();this.outputShape=e,this.userCode=`\n      ${iV}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class AV{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=TG.DOWNLOAD;const t=eV();this.outputShape=e,this.userCode=`\n      ${iV}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}const CV={R:0,G:1,B:2,A:3};class NV{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RGBA";this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=eV();this.outputShape=e,this.enableShapeUniforms=kV(this.outputShape.length);let s="result";t&&(s="floor(result * 255. + 0.5)");let i="";for(let a=0;a<n.length;a++){const e=n[a];i+=`\n          if(offset == ${a}) {\n            result = values[${CV[e]}];\n          }`}this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":sV(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ${n.length});\n\n        flatIndex = idiv(flatIndex, ${n.length}, 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ${r.texture2D}(A, uv);\n          ${i}\n        }\n        ${r.output} = vec4(${s}, 0., 0., 0.);\n      }\n    `}}class DV{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=eV();this.outputShape=e,this.enableShapeUniforms=kV(this.outputShape.length);let r="",s="result";t&&(s="floor(result * 255. + 0.5)");for(let i=0;i<=1;i++)for(let t=0;t<=1;t++){const s=2*i+t;r+=`\n          localCoords = coords;\n          if(localCoords[2] + ${t} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${t};\n          if (localCoords[1] + ${i} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${i};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${n.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${s}] = values[0];\n            } else if (offset == 1) {\n              result[${s}] = values[1];\n            } else if (offset == 2) {\n              result[${s}] = values[2];\n            } else {\n              result[${s}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":sV(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${r}\n\n          ${n.output} = ${s};\n        }\n    `}}function RV(e){const t=eV();return function(e,t){const n=BG(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(AG(e,(()=>e.shaderSource(n,t))),AG(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function OV(e){return function(e,t){const n=BG(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return AG(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),AG(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function MV(e){return function(e,t){const n=BG(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return AG(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),AG(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function LV(e,t,n,r,s,i){!function(e,t){const n=vb().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}(t,n);const a=function(e){return BG(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),o=e.TEXTURE_2D;return AG(e,(()=>e.bindTexture(o,a))),AG(e,(()=>e.texParameteri(o,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),AG(e,(()=>e.texParameteri(o,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),AG(e,(()=>e.texParameteri(o,e.TEXTURE_MIN_FILTER,e.NEAREST))),AG(e,(()=>e.texParameteri(o,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===vb().getNumber("WEBGL_VERSION")?AG(e,(()=>e.texImage2D(o,0,r,t,n,0,s,i,null))):AG(e,(()=>e.texStorage2D(o,1,r,t,n))),AG(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:a,texShape:[n,t]}}function PV(e){return e.internalFormatFloat}function FV(e){return e.internalFormatHalfFloat}function $V(e){return e.downloadTextureFormat}function BV(e){return e.internalFormatPackedFloat}function UV(e){return e.internalFormatPackedHalfFloat}function zV(e,t,n,r,s,i,a,o){const l=e,c=new Float32Array(function(e,t){const[n,r]=_G(e,t);return n*r*4}(i,a));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}class HV{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const t=vb().getNumber("WEBGL_VERSION");if(null!=e?(this.gl=e,function(e,t){yG[e]=t}(t,e)):this.gl=xG(t),e=this.gl,2===vb().getNumber("WEBGL_VERSION")){const t=e;this.createVertexArray=()=>AG(t,(()=>t.createVertexArray())),this.bindVertexArray=e=>AG(t,(()=>t.bindVertexArray(e))),this.deleteVertexArray=e=>AG(t,(()=>t.deleteVertexArray(e))),this.getVertexArray=()=>AG(t,(()=>t.getParameter(t.VERTEX_ARRAY_BINDING)))}else if(null!=e){const t=e.getExtension("OES_vertex_array_object");if(null==t)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>AG(e,(()=>t.createVertexArrayOES())),this.bindVertexArray=n=>AG(e,(()=>t.bindVertexArrayOES(n))),this.deleteVertexArray=n=>AG(e,(()=>t.deleteVertexArrayOES(n))),this.getVertexArray=()=>AG(e,(()=>e.getParameter(t.VERTEX_ARRAY_BINDING_OES)))}let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===vb().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=NG(this.gl,e),YG(this.gl,t))this.textureHalfFloatExtension=NG(this.gl,t);else if(vb().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),YG(this.gl,r))this.colorBufferHalfFloatExtension=NG(this.gl,r);else if(vb().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",YG(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!YG(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=OV(this.gl),this.indexBuffer=MV(this.gl),this.framebuffer=function(e){return BG(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=IG(this.gl,this.textureHalfFloatExtension)}get debug(){return vb().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;AG(e,(()=>e.finish())),AG(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),AG(e,(()=>e.deleteFramebuffer(this.framebuffer))),AG(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),AG(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),AG(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[s,i]=kG(t,n);return LV(e,s,i,PV(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[s,i]=kG(t,n);return LV(e,s,i,FV(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[s,i]=kG(t,n);return LV(e,s,i,$V(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){AG(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===vb().getNumber("WEBGL_VERSION")?AG(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):AG(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===vb().getNumber("WEBGL_VERSION")?AG(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):AG(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),AG(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,s,i){let a,o,l;AG(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),s instanceof Uint8Array?(a=new Uint8Array(n*r*4),o=e.UNSIGNED_BYTE,l=e.RGBA):(a=new Float32Array(n*r*4),o=e.FLOAT,l=i.internalFormatPackedFloat),a.set(s),2===vb().getNumber("WEBGL_VERSION")?AG(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,o,a))):AG(e,(()=>e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,o,a))),AG(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[s,i]=_G(t,n);return LV(e,s,i,UV(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[s,i]=_G(t,n);return LV(e,s,i,BV(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(FG(this.gl,this.framebuffer),this.outputTexture=null),AG(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,r){const[s,i]=kG(t,n),a=new Uint8Array(t*n*4);return AG(e,(()=>e.readPixels(0,0,s,i,r.downloadTextureFormat,e.UNSIGNED_BYTE,a))),new Float32Array(a.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,r,s,i){return zV(this.gl,e,0,0,0,s,i,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const r=e,s=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,s),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),s}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const r=function(e,t,n){const r=e.createBuffer();AG(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,r)));const s=16*t*n;return AG(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,s,e.STREAM_READ))),AG(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),AG(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),r}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(vb().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,s=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=r.clientWaitSync(s,0,0);return e===r.ALREADY_SIGNALED||e===r.CONDITION_SATISFIED},t=s}else vb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,vb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const r=new Float32Array(t*n*4);return AG(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r))),r}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=RV(t));const n=function(e){return BG(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);AG(t,(()=>t.attachShader(n,this.vertexShader))),AG(t,(()=>t.attachShader(n,e))),function(e,t){if(AG(e,(()=>e.linkProgram(t))),!vb().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n);const r=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&OG(t,r),r}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const t=this.gl;AG(t,(()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer))),function(e,t,n){AG(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),MG(e,t,"clipSpacePos",n,3,20,0)&&MG(e,t,"uv",n,2,20,12)}(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(AG(this.gl,(()=>this.gl.deleteProgram(e))),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&OG(this.gl,this.program),AG(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?function(e,t,n){return BG(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),AG(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),LG(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[r,s]=_G(t,n);this.setOutputMatrixTextureDriver(e,r,s)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&OG(this.gl,this.program),$G(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const e=this.getVertexArray();console.assert(e===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}AG(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),AG(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=NG(this.gl,2===vb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===vb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===vb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await jg((()=>this.disposed||this.isQueryAvailable(e,vb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,vb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in vb().platform&&(n=vb().platform.setTimeoutCustom.bind(vb().platform)),jg((()=>(this.pollItems(),0===this.itemsToPoll.length)),(()=>0),null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),PG(this.gl,e,this.framebuffer),this.debug&&$G(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(PG(this.gl,this.outputTexture,this.framebuffer),this.debug&&$G(this.gl)):FG(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const r=this.gl;PG(r,e,this.framebuffer),this.debug&&$G(r),this.outputTexture=e,AG(r,(()=>r.viewport(0,0,t,n))),AG(r,(()=>r.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),AG(this.gl,(()=>this.gl.scissor(e,t,n,r)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{mx:WV,XI:GV,Nk:VV,f6:qV,ct:jV,YG:YV,hH:KV,z3:XV,sG:QV,uM:JV,vS:ZV,qB:eq,GG:tq,rq:nq,lg:rq,WR:sq,cu:iq,GE:aq,px:oq,jC:lq,He:cq,hE:uq,BF:hq,Dk:dq,cl:pq,_B:fq,ub:mq,_f:gq,Ku:bq,qy:yq,Zy:vq,bu:xq,zv:Eq,dH:Tq,HS:wq,yH:kq,l3:Sq,z9:_q,x6:Iq,_m:Aq,eW:Cq,GK:Nq,SP:Dq,yr:Rq,dl:Oq,Dw:Mq,xT:Lq,_X:Pq,wz:Fq}=i;function $q(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}function Bq(e,t){return 1===t?[e]:$q(e,t)}class Uq{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=kV(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=Bq("rc",this.rank),t=bV(this.rank),n=this.getOutOfBoundsCondition(e),r=this.getSetup(e),s=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${n}) {\n            setOutput(vec4(0));\n          } else {\n            ${r}\n\n            setOutput(vec4(${s}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let s=`${0===n?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let t=2;t<this.rank;t++)s=`${e[e.length-1-t]},`+s;t.push(s)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${r};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}class zq{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=kV(this.outputShape.length);let n="";for(let i=0;i<4;i++){let e="thisRC = rc;";i%2===1&&(e+="thisRC.z += 1;"),i>1&&(e+="thisRC.y += 1;"),n+=`\n        ${e}\n        ${i>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${i}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${i>0?"}":""}\n      `}var r,s;this.userCode=`\n      ${r=t,s=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${s?rV(["r","c","d"],"inputShape"):tV(["r","c","d"],r)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":sV(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class Hq{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,n){const r=Gq(t,n),s=Vq(e,r,n);s in this.freeTextures||(this.freeTextures[s]=[]),s in this.usedTextures||(this.usedTextures[s]=[]);const i=Wq(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[s].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();const e=this.freeTextures[s].pop();return this.usedTextures[s].push(e),e}let a;return r===wG.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===wG.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===wG.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===wG.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===wG.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[s].push(a),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),a}releaseTexture(e,t,n,r){if(null==this.freeTextures)return;const s=Gq(n,r),i=Vq(t,s,r);i in this.freeTextures||(this.freeTextures[i]=[]);const a=Wq(t,s,this.gpgpu.gl,this.gpgpu.textureConfig,r),o=vb().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==o&&this._numBytesAllocated>o?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=a):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;const l=this.usedTextures[i],c=l&&l.indexOf(e);if(null==c||c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l[c]=l[l.length-1],l.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function Wq(e,t,n,r,s){const i=function(e,t){switch(e){case wG.PACKED_2X2_FLOAT32:return BV(t);case wG.PACKED_2X2_FLOAT16:return UV(t);case wG.UNPACKED_FLOAT32:return PV(t);case wG.UNPACKED_FLOAT16:return FV(t);case wG.PACKED_4X1_UNSIGNED_BYTE:return $V(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,r);let a;if(s){const[t,n]=_G(e[0],e[1]);a=t*n}else{const[t,n]=kG(e[0],e[1]);a=t*n}const o=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,i);return a*o}function Gq(e,t){if(e===TG.UPLOAD)return wG.PACKED_2X2_FLOAT32;if(e===TG.RENDER||null==e)return function(e){return vb().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?wG.PACKED_2X2_FLOAT32:wG.UNPACKED_FLOAT32:e?wG.PACKED_2X2_FLOAT16:wG.UNPACKED_FLOAT16}(t);if(e===TG.DOWNLOAD||e===TG.PIXELS)return wG.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function Vq(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class qq{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=kV(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const jq="if (isnan(x)) return x;",Yq="return abs(x);";const Kq=jq+"\n  return (x < 0.0) ? 0.0 : x;\n",Xq=jq+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Qq="return x;";class Jq{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=kV(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class Zq{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=kV(this.outputShape.length);const t=e.length,n=Bq("rc",t),r=bV(t),s=function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),i=n.slice(-2),a=t<=1?"rc":`vec2(${i.join(",")})`;this.userCode=`\n      void main() {\n        ${r} rc = getOutputCoords();\n        vec4 packedInput = getA(${s});\n\n        setOutput(getChannel(packedInput, ${a}));\n      }\n    `}}const ej=kA,tj={};const nj=vb().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class rj extends Og{nextDataId(){return rj.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!vb().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof HV)t=e;else{const n=xG(vb().getNumber("WEBGL_VERSION"),e);t=new HV(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=xG(vb().getNumber("WEBGL_VERSION"));t=new HV(e),this.binaryCache=((n=vb().getNumber("WEBGL_VERSION"))in tj||(tj[n]={}),tj[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new Hq(this.gpgpu),this.numMBBeforeWarning=null==vb().global.screen?1024:vb().global.screen.height*vb().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new Rg(this,lT())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,n,r,s,i){const a=this.makeTensorInfo(t,n),o=this.texData.get(a.dataId);o.isPacked=!1,o.texture={texture:e,texShape:[r,s]},o.texShape=[r,s];const l=WG(t),c=new NV(l,!1,i),u=this.runWebGLProgram(c,[a],n,[[r,s]]);return u.shape=t,o.texture=null,this.disposeIntermediateTensorInfo(a),u.dataId}write(e,t,n){if((vb().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||vb().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:TG.UPLOAD,refCount:1}),r}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,r,s){if(vb().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:TG.UPLOAD,refCount:s})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:r,complexTensorInfos:s,slice:i,shape:a,isPacked:o}=t;if(null!=i){let t;t=o?new Jq(a,Qq):new qq(a,Qq);const n=this.runWebGLProgram(t,[{dataId:e,shape:a,dtype:r}],r),s=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),s}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;const l=null!=this.activeTimers;let c,u;if(l&&(c=lE()),"complex64"===r){u=HI(this.readSync(s.real.dataId),this.readSync(s.imag.dataId))}else u=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=lE()-c),this.convertAndCacheOnCPU(e,u)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:r,slice:s,dtype:i,complexTensorInfos:a,isPacked:o}=t;if(null!=s){let t;t=o?new Jq(r,Qq):new qq(r,Qq);const n=this.runWebGLProgram(t,[{dataId:e,shape:r,dtype:i}],i),s=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),s}if(null!=n)return this.convertAndCacheOnCPU(e);if(vb().getBool("DEBUG")&&!vb().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===vb().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,c,u=null;if("complex64"!==i&&vb().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);u=this.gpgpu.createBufferFromTexture(t.texture.texture,...SG(r))}if(this.pendingRead.set(e,[]),"complex64"!==i&&await this.gpgpu.createAndWaitForFence(),"complex64"===i){const e=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]);c=HI(e[0],e[1])}else if(null==u)c=this.getValuesFromTexture(e);else{const e=Hg(r);c=this.gpgpu.downloadFloat32MatrixFromBuffer(u,e)}if(null!=l&&this.disposeIntermediateTensorInfo(l),null!=u){const e=this.gpgpu.gl;AG(e,(()=>e.deleteBuffer(u)))}const h=this.convertAndCacheOnCPU(e,c),d=this.pendingRead.get(e);return this.pendingRead.delete(e),d.forEach((e=>e(h))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&lT().removeDataId(e,this),this.pendingDeletes--),h}readToGPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.texData.get(e),{values:r,shape:s,slice:i,dtype:a,isPacked:o,texture:l}=n;if("complex64"===a)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=i){let n;n=o?new Jq(s,Qq):new qq(s,Qq);const r=this.runWebGLProgram(n,[{dataId:e,shape:s,dtype:a}],a),i=this.readToGPU(r,t);return this.disposeIntermediateTensorInfo(r),i}if(null==l)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(e,t.customTexShape),u=lT().makeTensorFromTensorInfo(c),h=this.texData.get(c.dataId);return Object.assign({tensorRef:u},h.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>uE(e)));return QT(e.shape,e.dtype,n)}catch(Cm){throw new Error("Failed to decode encoded string bytes into utf-8")}return QT(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!CG(n)){if(vb().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:r}=this.texData.get(e),s=Hg(t);if(vb().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),r=this.texData.get(n.dataId),i=this.gpgpu.downloadMatrixFromPackedTexture(r.texture.texture,...SG(t)).subarray(0,s);return this.disposeIntermediateTensorInfo(n),i}const i=vb().getBool("WEBGL_PACK")&&!0===r,a=i?WG(t):t,o=i?new AV(a):new IV(a),l=this.runWebGLProgram(o,[{shape:a,dtype:n,dataId:e}],"float32"),c=this.texData.get(l.dataId),u=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,s);return this.disposeIntermediateTensorInfo(l),u}timerAvailable(){return vb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const s=dE(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),i=dE(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,r&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(vb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(s);a.kernelMs=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}(e),a.getExtraProfileInfo=()=>e.map(((e,t)=>({name:i[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return vb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:lE(),endMs:null}}endTimer(e){return vb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=lE(),e)}async getQueryTime(e){if(vb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:r,usage:s,isPacked:i,slice:a}=this.texData.get(e),o=a&&a.origDataId||e,l=this.dataRefCount.get(o);l>1?this.dataRefCount.set(o,l-1):(this.dataRefCount.delete(o),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(t,r,s,i)));const c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nj;return vb().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&Hg(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){Lx("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return ej(e.shape,t)}packedUnaryOp(e,t,n){const r=new Jq(e.shape,t),s=this.compileAndRun(r,[e],n);return lT().makeTensorFromTensorInfo(s)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=Tq(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(vb().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Yq,e.dtype);const t=new qq(e.shape,Yq),n=this.compileAndRun(t,[e]);return lT().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&tb(n[0])){const s=n.map((e=>cE(e)));r=this.write(s,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}makeOutput(e,t,n){return lT().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new Zq(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new Uq(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[zG(e.shape),...HG(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},s=[zG(t),...HG(t)],i=new zq(s,n),a=[n],o=this.runWebGLProgram(i,[r],e.dtype,a,!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:r,shape:s,dtype:i}=n;if(null!=t){Bg(Hg(s)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const a=WG(s);let o;o=r?new _V(a):new SV(a);const l=[null!=t?t:SG(a)];return{dtype:i,shape:s,dataId:this.runWebGLProgram(o,[{shape:a,dtype:i,dataId:e}],i,l,!0,t).dataId}}runWebGLProgram(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0;const a=this.makeTensorInfo(e.outputShape,n),o=this.texData.get(a.dataId);if(e.packedOutput&&(o.isPacked=!0),e.outPackingScheme===EG.DENSE){const t=null!=i?i:SG(e.outputShape);o.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(o.usage=e.outTexUsage),0===Hg(a.shape))return o.values=Qg(a.dtype,0),a;const l=[],c=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&Hg(t.shape)<=vb().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),l.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!VG(n.shape,t.shape)){const e=t,r=t.shape;t.shape=n.shape,t=this.packedReshape(t,r),l.push(t),n=this.texData.get(t.dataId),e.shape=r}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(a.dataId);const u={shape:a.shape,texData:o,isUniform:!1},h=function(e,t,n){let r="";t.concat(n).forEach((t=>{const s=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const i=t.texData.texShape,{useSqueezeShape:a,uniformShape:o,keptDims:l}=yV(e.packedInputs,t.shape,i);let c="",u="",h="";if(1===o.length&&e.packedInputs){const e=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];c=`${e[0]>1}_${e[1]>1}`}else if(2!==o.length||e.packedInputs){if(o.length>2&&!e.packedInputs){const e=ab(o);h=`${e[0]===i[1]}_${e[e.length-1]===i[1]}`}}else u=`${o[0]>1}_${o[1]>1}`;const d=t.shape.length,p=2===o.length&&Wg(t.shape,i),f=1===Hg(t.shape),m=ww(t.shape,n.shape),g=!e.packedInputs&&d===n.shape.length&&Wg(i,n.texData.texShape),b=e.packedInputs||o.length>2?"":`${i[0]>1}_${i[1]>1}`;r+=`${d}_${g}_${a?l:""}_${o.length}_${f}_${m}_${p}_${c}_${u}_${h}_${b}_${s}`}else{const e=t.isUniform?"uniform":t.texData.texShape;r+=`${t.shape}_${e}_${s}`}}));const s=e.userCode;let i=e.constructor.name;return i+="_"+r+"_"+s+`${vb().getNumber("WEBGL_VERSION")}`,i}(e,c,u),d=this.getAndSaveBinary(h,(()=>EV(this.gpgpu,e,c,u))),p=null!=this.activeTimers;let f;p&&(f=this.startTimer()),vb().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,s){t.program.enableShapeUniforms||(wV(t.inShapeInfos,n),wV([t.outShapeInfo],[r]));const i=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,a[0],a[1]):e.setOutputMatrixTexture(i.texture,a[0],a[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===vb().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(let l=0;l<n.length;++l){const r=n[l],{uniform:s,offset:i,shape:a,texShape:o}=t.variablesLocations[l];if(a){const{uniformShape:n}=yV(t.program.packedInputs,r.shape,r.texData.texShape);switch(n.length){case 1:e.gl.uniform1iv(a,new Int32Array(n));break;case 2:e.gl.uniform2iv(a,new Int32Array(n));break;case 3:e.gl.uniform3iv(a,new Int32Array(n));break;case 4:e.gl.uniform4iv(a,new Int32Array(n))}}if(o&&e.gl.uniform2i(o,r.texData.texShape[0],r.texData.texShape[1]),null!=s)if(r.isUniform)if(Hg(r.shape)<2)e.gl.uniform1f(s,r.uniformValues[0]);else{let t=r.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(s,t)}else null!=r.texData.slice&&null!=i&&e.gl.uniform1i(i,r.texData.slice.flatOffset),e.setInputMatrixTexture(r.texData.texture.texture,s,l)}const o=t.outShapeLocation;if(o)switch(r.shape.length){case 1:e.gl.uniform1iv(o,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(o,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(o,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(o,new Int32Array(r.shape))}if(t.outShapeStridesLocation){const n=ab(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&s)for(let l=0;l<t.program.customUniforms.length;++l){const n=t.program.customUniforms[l],r=t.customUniformLocations[l],i=s[l];if("float"===n.type)e.gl.uniform1fv(r,i);else if("vec2"===n.type)e.gl.uniform2fv(r,i);else if("vec3"===n.type)e.gl.uniform3fv(r,i);else if("vec4"===n.type)e.gl.uniform4fv(r,i);else if("int"===n.type)e.gl.uniform1iv(r,i);else if("ivec2"===n.type)e.gl.uniform2iv(r,i);else if("ivec3"===n.type)e.gl.uniform3iv(r,i);else{if("ivec4"!==n.type)throw Error(`uniform type ${n.type} is not supported yet.`);e.gl.uniform4iv(r,i)}}e.executeProgram()}(this.gpgpu,d,c,u,r),l.forEach((e=>this.disposeIntermediateTensorInfo(e))),p&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));const m=vb().getNumber("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=lE();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!vb().getBool("WEBGL_LAZILY_UNPACK")&&o.isPacked&&!1===s){const e=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),e}return a}compileAndRun(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,r,s)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!vb().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=uT((()=>{if(!vb().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=vb().getBool("DEBUG");vb().set("DEBUG",!1);const t=this.abs(cw(1e-8)).dataSync()[0];if(vb().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:r,values:s,texture:i,usage:a,isPacked:o}=t;if(null!=i)return;const l=null!=this.activeTimers;let c;l&&(c=lE());let u=t.texShape;if(null==u&&(u=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=vb().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=vb().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(r===1/0&&vb().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n*=2,r*=2,1===(e=e.map(((t,n)=>n>=e.length-2?Fg(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=Xg(e);e=t.newShape}let s=Hg(e),i=null;e.length<=1&&s<=n?i=[1,s]:2===e.length&&e[0]<=n&&e[1]<=n?i=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?i=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?i=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?i=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(i=[e[0],e[1]*e[2]*e[3]]);const a=null!=i&&Math.max(...i)>r&&Math.min(...i)<=(t?2:1)&&Math.min(...i)>0;if(null==i||a)if(t){const t=zG(e);let n=2,r=2;e.length&&([n,r]=HG(e)),s=t*(n/2)*(r/2),i=Vg(s).map((e=>2*e))}else i=Vg(s);return i}(n,o),t.texShape=u),null!=s){const e=WG(n);let i,a=u[1],h=u[0];const d=s instanceof Uint8Array||s instanceof Uint8ClampedArray;!o&&d||([a,h]=_G(u[0],u[1])),i=o?new DV(e,d):new NV(e,d);const p=d?[h,a]:u,f=this.makeTensorInfo(p,r),m=this.texData.get(f.dataId);m.usage=d?TG.PIXELS:TG.UPLOAD,m.texShape=p,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(f.dataId),a,h,s);const g=[[h,a]],b=!0,y=this.runWebGLProgram(i,[f],r,g,b),v=this.texData.get(y.dataId);t.texShape=v.texShape,t.isPacked=v.isPacked,t.usage=v.usage,vb().get("ENGINE_COMPILE_ONLY")?this.disposeData(y.dataId):(t.texture=v.texture,t.values=null,this.texData.delete(y.dataId)),this.disposeIntermediateTensorInfo(f),l&&(this.uploadWaitMs+=lE()-c)}else{const e=this.acquireTexture(u,a,r,o);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:r}=n;return null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}(t,r)),n.values}acquireTexture(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*eb(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(n){throw n}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await fI(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw RG(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:t,customUniformLocations:n,infLoc:r,nanLoc:s,outShapeLocation:i,outShapeStridesLocation:a,outTexShapeLocation:o}=TV(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=n,e.infLoc=r,e.nanLoc=s,e.outShapeLocation=i,e.outShapeStridesLocation=a,e.outTexShapeLocation=o}}createTensorFromGPUData(e,t,n){e.channels=e.channels||"RGBA";const{texture:r,height:s,width:i,channels:a}=e,o=lT().backend;if(!o.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const l=o.writeTexture(r,t,n,s,i,a);return lT().makeTensorFromDataId(l,t,n,o)}}rj.nextDataId=0;XE()&&pT("webgl",(()=>new rj),2);const sj="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class ij{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=Sw(t,n),this.enableShapeUniforms=kV(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}const aj="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class oj{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Sw(t,n);const s=this.outputShape.length;this.enableShapeUniforms=kV(s);let i="";if(r)if(0===s||1===Hg(this.outputShape))i="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{if(i=`\n          ${bV(s)} coords = getOutputCoords();\n        `,1===s)this.enableShapeUniforms?i+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":i+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=Bq("coords",s);this.enableShapeUniforms?i+=`\n            bool nextRowOutOfBounds =\n              (${e[s-2]} + 1) >= outShape[${s} - 2];\n            bool nextColOutOfBounds =\n              (${e[s-1]} + 1) >= outShape[${s} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:i+=`\n            bool nextRowOutOfBounds =\n              (${e[s-2]} + 1) >= ${this.outputShape[s-2]};\n            bool nextColOutOfBounds =\n              (${e[s-1]} + 1) >= ${this.outputShape[s-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${i}\n\n        setOutput(result);\n      }\n    `}}function lj(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const cj={kernelName:By,backendName:"webgl",kernelFunc:lj};function uj(e){const{inputs:t,backend:n}=e,{real:r,imag:s}=t,i=n.makeTensorInfo(r.shape,"complex64"),a=n.texData.get(i.dataId),o=lj({inputs:{x:r},backend:n}),l=lj({inputs:{x:s},backend:n});return a.complexTensorInfos={real:o,imag:l},i}const hj={kernelName:Xb,backendName:"webgl",kernelFunc:uj},dj="return (a < 0.) ? b * a : a;",pj="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const fj={kernelName:Vy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{alpha:i}=r,a=n.makeTensorInfo([],"float32",aE(i,"float32")),o=vb().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new oj(pj,s.shape,a.shape):new ij(dj,s.shape,a.shape),l=n.runWebGLProgram(o,[s,a],"float32");return n.disposeIntermediateTensorInfo(a),l}},mj="return (a < 0.) ? b * a : a;",gj="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const bj={kernelName:_v,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:s}=t,i=vb().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new oj(gj,r.shape,s.shape):new ij(mj,r.shape,s.shape);return n.runWebGLProgram(i,[r,s],"float32")}},yj="if (isnan(x)) return x;";function vj(e){let{opSnippet:t,packedOpSnippet:n,cpuKernelImpl:r,dtype:s}=e;return e=>{let{inputs:i,backend:a}=e;const{x:o}=i,l=a,c=s||o.dtype;if(l.shouldExecuteOnCPU([o])&&null!=r){const e=l.texData.get(o.dataId),t=r(e.values,c);return l.makeTensorInfo(o.shape,c,t)}let u;return u=vb().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new Jq(o.shape,n):new qq(o.shape,t),l.runWebGLProgram(u,[o],c)}}function xj(e){let{opSnippet:t,packedOpSnippet:n,checkOutOfBounds:r=!1,supportsComplex:s=!1,cpuKernelImpl:i,dtype:a}=e;return e=>{let{inputs:o,backend:l}=e;const{a:c,b:u}=o,h=l;if(s&&"complex64"===c.dtype){const e=h.texData.get(c.dataId),n=h.texData.get(u.dataId),[r,s]=[[e.complexTensorInfos.real,n.complexTensorInfos.real],[e.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((e=>{const[n,r]=e,s={dataId:n.dataId,dtype:n.dtype,shape:c.shape},i={dataId:r.dataId,dtype:r.dtype,shape:u.shape},a=new ij(t,c.shape,u.shape);return h.runWebGLProgram(a,[s,i],ME(n.dtype,r.dtype))})),i=uj({inputs:{real:r,imag:s},backend:h});return h.disposeIntermediateTensorInfo(r),h.disposeIntermediateTensorInfo(s),i}const d=a||ME(c.dtype,u.dtype);if(("string"===c.dtype||"string"===u.dtype||h.shouldExecuteOnCPU([c,u]))&&null!=i){const e=h.texData.get(c.dataId).values,t=h.texData.get(u.dataId).values,n="string"===c.dtype?TA(e):e,r="string"===c.dtype?TA(t):t,[s,a]=i(c.shape,u.shape,n,r,d),o=h.makeTensorInfo(a,d);return h.texData.get(o.dataId).values=s,o}let p;return p=vb().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new oj(n,c.shape,u.shape,r):new ij(t,c.shape,u.shape),h.runWebGLProgram(p,[c,u],d)}}function Ej(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return"return x;";if("relu"===e)return t?"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":Kq;if("elu"===e)return t?"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n":"return (x >= 0.0) ? x : (exp(x) - 1.0);";if("relu6"===e)return t?"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":Xq;if("prelu"===e)return t?gj:mj;if("leakyrelu"===e)return t?pj:dj;if("sigmoid"===e)return"return 1.0 / (1.0 + exp(-1.0 * x));";throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class Tj{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=kV(this.outputShape.length);const c=r?e[1]:e[2],u=Math.ceil(c/2),h=r?"i * 2, rc.y":"rc.y, i * 2",d=s?"rc.z, i * 2":"i * 2, rc.z",p=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],f=s?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";a&&(m=o?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${a}\n        }`:l?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${a}\n        }`:`vec4 activation(vec4 x) {\n          ${a}\n        }`,g="result = activation(result);");const b=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let y="rc.x",v="rc.x";e[0]<t[0]?y=`imod(rc.x, ${e[0]})`:t[0]<e[0]&&(v=`imod(rc.x, ${t[0]})`),this.userCode=`\n      ${m}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${u}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ${y};\n        int batchB = ${v};\n        for (int i = 0; i < ${u}; i++) {\n          vec4 a = getMatrixA(batchA, ${h});\n          vec4 b = getMatrixB(batchB, ${d});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${p[0]} * ${f[0]});\n          result += (${p[1]} * ${f[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${b}\n\n        ${g}\n\n        setOutput(result);\n      }\n    `}}const wj="return areal * breal - aimag * bimag;",kj="return areal * bimag + aimag * breal;";class Sj{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Sw(t,n),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const _j="return a * b;";function Ij(e){const{inputs:t,backend:n}=e,{a:r,b:s}=t,i=ME(r.dtype,s.dtype);if("complex64"===r.dtype){const e=n.texData.get(r.dataId),t=n.texData.get(s.dataId),i=new Sj(wj,r.shape,s.shape),a=new Sj(kj,r.shape,s.shape),o=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:r.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:s.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:s.shape}],l=n.runWebGLProgram(i,o,"float32"),c=n.runWebGLProgram(a,o,"float32"),u=uj({inputs:{real:l,imag:c},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),u}if(n.shouldExecuteOnCPU([r,s])){const e=n.texData.get(r.dataId),t=n.texData.get(s.dataId),[a,o]=hq(r.shape,s.shape,e.values,t.values,i),l=n.makeTensorInfo(o,i);return n.texData.get(l.dataId).values=a,l}let a;return a=vb().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new oj(_j,r.shape,s.shape):new ij(_j,r.shape,s.shape),n.runWebGLProgram(a,[r,s],i)}const Aj={kernelName:mv,backendName:"webgl",kernelFunc:Ij};function Cj(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{shape:i}=r,a=n,o=Hg(s.shape),l=Yg(i,o),c=Hg(l);Bg(o===c,(()=>`The new shape (${l}) has ${c} elements and the old shape (${s.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`));const u=a.texData.get(s.dataId);return!u.isPacked||VG(s.shape,l)||null!==u.texture&&VG(u.shape,l)?(a.incRef(s.dataId),{dataId:s.dataId,shape:l,dtype:s.dtype}):function(e,t,n){const r=[zG(e.shape),...HG(e.shape)],s={dtype:e.dtype,shape:r,dataId:e.dataId},i=[zG(t),...HG(t)],a=new zq(i,r),o=[r],l=n.runWebGLProgram(a,[s],e.dtype,o,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(s,l,a)}const Nj={kernelName:Lv,backendName:"webgl",kernelFunc:Cj};class Dj{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:s,outSize:i}=e;this.outputShape=[r,i];const a=4*Math.floor(n/4),o=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l=`sumValue += dot(values * ${Gg(e)?e.toPrecision(2):e}, ones);`}let c="";s%n>0&&(c=`\n        if (inIdx < 0 || inIdx >= ${s}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${c}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${a}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${l}\n        }\n\n        int inIdx = inOffset + ${a};\n        if (${1===o}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${l}\n        } else if (${2===o}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${l}\n        } else if (${3===o}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${l}\n        }\n        setOutput(sumValue);\n      }\n    `}}class Rj{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:s,outSize:i}=e;this.outputShape=[r,i];let a="0.0",o="";"prod"===t?a="1.0":"min"===t?(a="1.0 / 1e-20",o="min"):"max"===t&&(a="-1.0 / 1e-20",o="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const c=4*Math.floor(n/4),u=n%4;let h=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${o}(values, minMaxValue);\n        if (${"min"===t} || ${"max"===t}) {\n          minMaxValue = ${o}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,d="vec4";"all"===t?(a="1.0",h="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(a="0.0",h="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");let p="";s%n>0&&(p=`\n        if (inIdx < 0 || inIdx >= ${s}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${a};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${p}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        vec4 minMaxValue = vec4(${a});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${c}; i += 4) {\n          int inIdx = inOffset + i;\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${h}\n        }\n\n        int inIdx = inOffset + ${c};\n        if (${1===u}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${h}\n        } else if (${2===u}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${h}\n        } else if (${3===u}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${h}\n        }\n        setOutput(${l});\n      }\n    `}}function Oj(e,t,n,r){const s=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],r=wI(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape);let i=e;for(let a=0;a<s.length;a++){const{inSize:o,windowSize:l,outSize:c}=s[a];let u,h;u="mean"===n?0===a?new Dj({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:c},o):new Dj({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:c}):new Rj({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:c},n),h=i,i=r.runWebGLProgram(u,[i],t),h.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(h)}return i}class Mj{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e[t[i]];this.outputShape=n,this.rank=n.length;const r=bV(this.rank),s=function(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let s=0;s<e.length;s++)r[e[s]]=n[s];return r.join()}(t);this.userCode=`\n    void main() {\n      ${r} resRC = getOutputCoords();\n      setOutput(getA(${s}));\n    }\n    `}}class Lj{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let c=0;c<n.length;c++)n[c]=e[t[c]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=bV(this.rank),s=$q("rc",this.rank),i=new Array(this.rank);for(let c=0;c<t.length;c++)i[t[c]]=s[c];const a=`vec2(${i.slice(-2).join()})`,o=`++${s[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${i.join()}), ${a})`;this.userCode=`\n    void main() {\n      ${r} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${l};\n      if(${o}) {\n        result[1] = ${l};\n      }\n      --${s[this.rank-1]};\n      if(++${s[this.rank-2]} < ${n[this.rank-2]}) {\n        result[2] = ${l};\n        if(${o}) {\n          result[3] = ${l};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function Pj(e,t,n){const r=vb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Lj(e.shape,t):new Mj(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function Fj(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,keepDims:a}=r;return function(e,t,n,r){const s=t,i=e.shape.length,a=Kg(s,e.shape);let o=a;const l=fS(o,i),c=null!=l;let u=e;c&&(u=Pj(e,l,r),o=gS(o.length,i)),pS("sum",o,i);const[h,d]=hS(u.shape,o);let p=h;n&&(p=dS(h,a));const f=Hg(d),m=Cj({inputs:{x:u},attrs:{shape:[Hg(e.shape)/f,f]},backend:r}),g=Oj(m,LE(e.dtype),"sum",r),b=Cj({inputs:{x:g},attrs:{shape:p},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),c&&r.disposeIntermediateTensorInfo(u),b}(s,i,a,n)}const $j={kernelName:nx,backendName:"webgl",kernelFunc:Fj};function Bj(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{perm:i}=r,a=n,o=s.shape.length,l=new Array(o);for(let u=0;u<l.length;u++)l[u]=s.shape[i[u]];let c;if(a.shouldExecuteOnCPU([s])){const e=a.texData.get(s.dataId).values,t=Pq(e,s.shape,s.dtype,i,l);c=a.makeTensorInfo(l,s.dtype);a.texData.get(c.dataId).values=t}else c=Pj(s,i,a);return c}const Uj={kernelName:kx,backendName:"webgl",kernelFunc:Bj};function zj(e){let{a:t,b:n,transposeA:r,transposeB:s,backend:i,bias:a=null,preluActivationWeights:o=null,leakyreluAlpha:l=0,activation:c=null}=e;const u=t.shape.length,h=n.shape.length,d=r?t.shape[u-2]:t.shape[u-1],p=s?n.shape[h-1]:n.shape[h-2],f=r?t.shape[u-1]:t.shape[u-2],m=s?n.shape[h-2]:n.shape[h-1],g=t.shape.slice(0,-2),b=n.shape.slice(0,-2),y=Hg(g),v=Hg(b),x=Sw(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([f,m]);Bg(d===p,(()=>`Error in matMul: inner shapes (${d}) and (${p}) of Tensors with shapes ${t.shape} and ${n.shape} and transposeA=${r} and transposeB=${s} must match.`));const E=r?[y,d,f]:[y,f,d],T=s?[v,m,p]:[v,p,m],w=Cj({inputs:{x:t},backend:i,attrs:{shape:E}}),k=Cj({inputs:{x:n},backend:i,attrs:{shape:T}}),S=[w,k],_=Math.max(y,v),I=r?w.shape[1]:w.shape[2],A=null!=a,C=null!=o,N="leakyrelu"===c,D=null!=c?Ej(c,!0):null;let R;if((1===f||1===m)&&I>1e3&&!1===(A||C||N||null!=D)){let e=w,t=k;r&&(e=Bj({inputs:{x:w},backend:i,attrs:{perm:[0,2,1]}}),S.push(e)),s&&(t=Bj({inputs:{x:k},backend:i,attrs:{perm:[0,2,1]}}),S.push(t));const n=1===m;let a=e;1!==m&&(a=Cj({inputs:{x:e},backend:i,attrs:{shape:[_,I,1]}}),S.push(a));const o=1===m?2:1;let l=t;n&&(l=Cj({inputs:{x:t},backend:i,attrs:{shape:[_,1,I]}}),S.push(l));const c=Ij({inputs:{a:a,b:l},backend:i});R=Fj({inputs:{x:c},backend:i,attrs:{axis:o,keepDims:!0}}),S.push(c)}else{const e=ME(t.dtype,n.dtype),c=new Tj(E,T,[_,f,m],r,s,A,D,C,N),u=[w,k];if(null!=a&&u.push(a),C&&u.push(o),N){const e=i.makeTensorInfo([],"float32",aE(l,"float32"));u.push(e),S.push(e)}R=i.runWebGLProgram(c,u,e)}const O=Cj({inputs:{x:R},backend:i,attrs:{shape:x}});S.push(R);for(const M of S)i.disposeIntermediateTensorInfo(M);return O}const Hj={kernelName:Rx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:s,b:i,bias:a,preluActivationWeights:o}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:h}=r;return zj({a:s,b:i,transposeA:l,transposeB:c,backend:n,bias:a,preluActivationWeights:o,leakyreluAlpha:h,activation:u})}},Wj="return abs(x);";const Gj={kernelName:kb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&"complex64"!==r.dtype){const e=n.texData.get(r.dataId),t=Tq(e.values);return n.makeTensorInfo(r.shape,r.dtype,t)}let s;return s=vb().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Jq(r.shape,Wj):new qq(r.shape,Wj),n.runWebGLProgram(s,[r],r.dtype)}},Vj=vj({opSnippet:jq+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),qj={kernelName:Sb,backendName:"webgl",kernelFunc:Vj},jj=vj({opSnippet:jq+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),Yj={kernelName:_b,backendName:"webgl",kernelFunc:jj},Kj="return a + b;",Xj=xj({opSnippet:Kj,packedOpSnippet:Kj,supportsComplex:!0,cpuKernelImpl:WV}),Qj={kernelName:Ib,backendName:"webgl",kernelFunc:Xj};class Jj{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`float v${e} = get${e}AtOutCoords();`)}));const r=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        float result = ${r};\n        setOutput(result);\n      }\n    `}}class Zj{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`vec4 v${e} = get${e}AtOutCoords();`)}));const r=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        vec4 result = ${r};\n        setOutput(result);\n      }\n    `}}const eY={kernelName:Ab,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,s=n;if(1===s.length)return lj({inputs:{x:s[0]},backend:r});if(s.length>vb().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(s.length/2),n=e({inputs:s.slice(0,t),backend:r}),i=e({inputs:s.slice(t),backend:r});return e({inputs:[n,i],backend:r})}const i=s.map((e=>e.dtype)).reduce(((e,t)=>ME(e,t))),a=s.map((e=>e.shape)),o=vb().getBool("WEBGL_PACK")?new Zj(s[0].shape,a):new Jj(s[0].shape,a);return r.runWebGLProgram(o,s,i)}};const tY={kernelName:Cb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,keepDims:a}=r,o=s.shape.length,l=Kg(i,s.shape);let c=l;const u=fS(c,o);let h=s;null!=u&&(h=Bj({inputs:{x:s},backend:n,attrs:{perm:u}}),c=gS(c.length,o)),pS("all",c,o);const[d,p]=hS(h.shape,c),f=Cj({inputs:{x:h},backend:n,attrs:{shape:[-1,Hg(p)]}}),m=Oj(f,f.dtype,"all",n);let g;if(a){g=Cj({inputs:{x:m},backend:n,attrs:{shape:dS(d,l)}})}else g=Cj({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(h),g}};const nY={kernelName:Nb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,keepDims:a}=r,o=s.shape.length,l=Kg(i,s.shape);let c=l;const u=fS(c,o);let h=s;null!=u&&(h=Bj({inputs:{x:s},backend:n,attrs:{perm:u}}),c=gS(c.length,o)),pS("any",c,o);const[d,p]=hS(h.shape,c),f=Cj({inputs:{x:h},backend:n,attrs:{shape:[-1,Hg(p)]}}),m=Oj(f,f.dtype,"any",n);let g;if(a){g=Cj({inputs:{x:m},backend:n,attrs:{shape:dS(d,l)}})}else g=Cj({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(h),g}};class rY{constructor(e,t,n){this.variableNames=["A"];const{windowSize:r,batchSize:s,outSize:i}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[s,i];const a="max"===t?">":"<",o=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${r}; i++) {\n          int inIdx = ${o};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${a} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}class sY{constructor(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,Bg(e.length>2,(()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`));const s=e[e.length-1],i=Math.ceil(s/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");const a=this.outputShape,o=a.length,l=bV(o),c=Bq("coords",o);let u,h;if(1===i){h=o+1;const e=bV(h);u=`\n        ${e} sourceLocR = ${e}(${c.join()}, 0);\n        ++${c[o-1]};\n        ${e} sourceLocG = ${e}(${c.join()}, 0);\n        ++${c[o-2]};\n        ${e} sourceLocA = ${e}(${c.join()}, 0);\n        --${c[o-1]};\n        ${e} sourceLocB = ${e}(${c.join()}, 0);\n        --${c[o-2]};`}else h=o,u=`\n        ${l} sourceLocR = coords;\n        ++${c[o-1]};\n        ${l} sourceLocG = coords;\n        ++${c[o-2]};\n        ${l} sourceLocA = coords;\n        --${c[o-1]};\n        ${l} sourceLocB = coords;\n        --${c[o-2]};`;const d=["x","y","z","w","u","v"].slice(0,h),p="."+d[h-1],f=d.map((e=>"int "+e)),m=Bq("sourceLocR",h-1).concat("inIdx.r"),g=Bq("sourceLocG",h-1).concat("inIdx.g"),b=Bq("sourceLocB",h-1).concat("inIdx.b"),y=Bq("sourceLocA",h-1).concat("inIdx.a"),v="max"===n?"greaterThan":"lessThan",x=r?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),\n                             getBestIndicesAChannel(${g.join()}),\n                             getBestIndicesAChannel(${b.join()}),\n                             getBestIndicesAChannel(${y.join()})));`,E=`vec4(\n            getAChannel(${m.join()}),\n            hasNextCol ? getAChannel(${g.join()}) : 0.,\n            hasNextRow ? getAChannel(${b.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${y.join()}) : 0.)`,T=r?"":`\n      float getBestIndicesAChannel(${f.join()}) {\n        return getChannel(getBestIndicesA(${d.join()}),\n                                          vec2(${d.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${f.join()}) {\n        return getChannel(getA(${d.join()}),\n                               vec2(${d.slice(-2).join()}));\n      }\n      ${T}\n      void main() {\n        ${l} coords = getOutputCoords();\n        bool hasNextCol = ${c[o-1]} < ${a[o-1]-1};\n        bool hasNextRow = ${c[o-2]} < ${a[o-2]-1};\n        ${u}\n        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},\n          sourceLocB${p}, sourceLocA${p}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${E};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${x}\n          vec4 candidate = ${E};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${v}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}function iY(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=t.shape[0],i=t.shape[1];null!=r&&(s=r.shape[0],i=r.shape[1]);const a=wI(i),o={windowSize:a,inSize:i,batchSize:s,outSize:Math.ceil(i/a)},l=new rY(o,n,null==r),c=[t];null!=r&&c.push(r);const u=e.runWebGLProgram(l,c,"int32");if(1===u.shape[1])return u;const h=iY(e,t,n,u);return e.disposeIntermediateTensorInfo(u),h}function aY(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const s=null!=r?r.shape:t.shape,i=wI(s[s.length-1]),a=new sY(s,i,n,null==r),o=null==r?[t]:[t,r],l=e.runWebGLProgram(a,o,"int32");if(l.shape.length===t.shape.length){const r=aY(e,t,n,l);return e.disposeIntermediateTensorInfo(l),r}return l}function oY(e,t,n,r){const s=[n];if(pS("arg"+r.charAt(0).toUpperCase()+r.slice(1),s,t.shape.length),!vb().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],i=e.texData.get(t.dataId);let a=t;null!==i&&i.isPacked&&(a=e.unpackTensor(t),n.push(a));const[o,l]=hS(a.shape,s),c=Hg(l),u=Cj({inputs:{x:a},backend:e,attrs:{shape:[-1,c]}});n.push(u);const h=iY(e,u,r);n.push(h);const d=Cj({inputs:{x:h},backend:e,attrs:{shape:o}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),d}return aY(e,t,r)}const lY={kernelName:Db,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i}=r;let a=Kg(i,s.shape);const o=fS(a,s.shape.length);let l=s;const c=[];null!=o&&(l=Bj({inputs:{x:s},backend:n,attrs:{perm:o}}),c.push(l),a=gS(a.length,l.shape.length)),pS("argMax",[a[0]],l.shape.length);const u=oY(n,l,a[0],"max");return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}};const cY={kernelName:Rb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i}=r;let a=Kg(i,s.shape);const o=fS(a,s.shape.length);let l=s;const c=[];null!=o&&(l=Bj({inputs:{x:s},backend:n,attrs:{perm:o}}),c.push(l),a=gS(a.length,l.shape.length)),pS("argMin",[a[0]],l.shape.length);const u=oY(n,l,a[0],"min");return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}},uY=vj({opSnippet:jq+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),hY={kernelName:Ob,backendName:"webgl",kernelFunc:uY},dY=vj({opSnippet:jq+"return log(x + sqrt(x * x + 1.0));"}),pY={kernelName:Mb,backendName:"webgl",kernelFunc:dY},fY=vj({opSnippet:jq+"\n  return atan(x);\n"}),mY={kernelName:Lb,backendName:"webgl",kernelFunc:fY},gY=xj({opSnippet:sj+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+aj+"\n  return result;\n"}),bY={kernelName:Fb,backendName:"webgl",kernelFunc:gY},yY=vj({opSnippet:jq+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),vY={kernelName:Pb,backendName:"webgl",kernelFunc:yY};class xY{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,a=e.strideHeight,o=e.strideWidth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterHeight,h=e.effectiveFilterWidth,d=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const f="avg"===t,m=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let b="0.0";if(f||(b="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${a}, ${o});\n        const ivec2 pads = ivec2(${d}, ${p});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${u};\n              wR += ${l}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${h};\n                wC += ${c}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${r?s?m:g:`wR * ${h} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let y=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(y="avgValue / max(count, 1.0)");const v=4*Math.floor(i/4),x=i%4,E=`\n      if (${f}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${a}, ${o});\n      const ivec2 pads = ivec2(${d}, ${p});\n      const float initializationValue = ${b};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${b});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${u};\n            wR += ${l}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${v}; wC += 4) {\n            int xC = xCCorner + wC * ${c};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              getValue(batch, xR, xC + 2 * ${c}, d),\n              getValue(batch, xR, xC + 3 * ${c}, d)\n            );\n\n            ${E}\n          }\n\n          int xC = xCCorner + ${v};\n          if (${1===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${E}\n          } else if (${2===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${E}\n          } else if (${3===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              getValue(batch, xR, xC + 2 * ${c}, d),\n              initializationValue\n            );\n\n            ${E}\n          }\n        }\n        setOutput(${y});\n      }\n    `}}class EY{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,a=e.strideDepth,o=e.strideHeight,l=e.strideWidth,c=e.dilationDepth,u=e.dilationHeight,h=e.dilationWidth,d=e.effectiveFilterDepth,p=e.effectiveFilterHeight,f=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,b=e.padInfo.left;this.outputShape=e.outShape;const y="avg"===t;let v="0.0";if(y||(v="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${a}, ${o}, ${l});\n        const ivec3 pads = ivec3(${m}, ${g}, ${b});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${d};\n              wD += ${c}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${p};\n                wR += ${u}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${f};\n                  wC += ${h}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${r?s?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${p} * ${f} +\n                      wR * ${f} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let x=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(x="avgValue / max(count, 1.0)");const E=4*Math.floor(i/4),T=i%4,w=`\n      if (${y}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${a}, ${o}, ${l});\n      const ivec3 pads = ivec3(${m}, ${g}, ${b});\n      const float initializationValue = ${v};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${v});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${d};\n            wD += ${c}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${p};\n            wR += ${u}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${E}; wC += 4) {\n              int xC = xCCorner + wC * ${h};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${h}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${h}, ch)\n              );\n\n              ${w}\n            }\n\n            int xC = xCCorner + ${E};\n            if (${1===T}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${w}\n            } else if (${2===T}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${w}\n            } else if (${3===T}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${h}, ch),\n                initializationValue\n              );\n\n              ${w}\n            }\n          }\n        }\n        setOutput(${x});\n      }\n    `}}const TY={kernelName:$b,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;JG(s,"avgPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=r;Bg(vk(a,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`));const c=ck(s.shape,i,a,1,o,l);if(1===c.filterWidth&&1===c.filterHeight&&Wg(c.inShape,c.outShape))return lj({inputs:{x:s},backend:n});const u=new xY(c,"avg",!1);return n.runWebGLProgram(u,[s],"float32")}};const wY={kernelName:Ub,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{filterSize:i,strides:a,pad:o,dimRoundingMode:l,dataFormat:c}=r,u=uk(s.shape,i,a,[1,1,1],o,l,c),h=new EY(u,"avg",!1);return n.runWebGLProgram(h,[s],"float32")}};class kY{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,s=e.strideWidth,i=e.dilationHeight,a=e.dilationWidth,o=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=o-1-e.padInfo.top,u=l-1-e.padInfo.left,h=1/(t*n);this.userCode=`\n      const ivec2 pads = ivec2(${c}, ${u});\n      const float avgMultiplier = float(${h});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${o};\n            wR += ${i}) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${l};\n            wC+= ${a}) {\n            float dyC = float(dyCCorner + wC) / ${s}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class SY{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,s=e.strideDepth,i=e.strideHeight,a=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterDepth,h=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=u-1-e.padInfo.front,f=h-1-e.padInfo.top,m=d-1-e.padInfo.left,g=1/(t*n*r);this.userCode=`\n      const ivec3 pads = ivec3(${p}, ${f}, ${m});\n      const float avgMultiplier = float(${g});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${u};\n            wD += ${o}) {\n          float dyD = float(dyDCorner + wD) / ${s}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${h};\n              wR += ${l}) {\n            float dyR = float(dyRCorner + wR) / ${i}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${d};\n                wC += ${c}) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const _Y={kernelName:zb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:i}=t,a=i,{filterSize:o,strides:l,pad:c,dimRoundingMode:u}=r,h=uk(a.shape,o,l,[1,1,1],c,u),d=new SY(h);return n.runWebGLProgram(d,[s],a.dtype)}};const IY={kernelName:Bb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:i}=t,a=i;JG([s,i],"avgPoolGrad");const{filterSize:o,strides:l,pad:c}=r,u=ck(a.shape,o,l,1,c),h=new kY(u);return n.runWebGLProgram(h,[s],a.dtype)}};const AY={kernelName:Hb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:s,b:i}=t,{transposeA:a,transposeB:o}=r;return zj({a:s,b:i,transposeA:a,transposeB:o,backend:n})}};class CY{constructor(e,t,n,r,s,i){this.outputShape=[],this.variableNames=["x","mean","variance"],Sw(e,t),Sw(e,n);let a="0.0";null!=r&&(Sw(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let o="1.0";null!=s&&(Sw(e,s),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${a};\n        float scale = ${o};\n        float inv = scale * inversesqrt(variance + float(${i}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class NY{constructor(e,t,n,r,s,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Sw(e,t),Sw(e,n);let a="vec4(0.0)";null!=r&&(Sw(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let o="vec4(1.0)";null!=s&&(Sw(e,s),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${a};\n        vec4 scale = ${o};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${i}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const DY={kernelName:My,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:s,mean:i,variance:a,offset:o,scale:l}=t;Bg(i.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),Bg(null==o||i.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),Bg(null==l||i.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:c}=r;null==c&&(c=.001);const u=[s,i,a];let h=null;null!=o&&(h=o.shape,u.push(o));let d=null;null!=l&&(d=l.shape,u.push(l));const p=vb().getBool("WEBGL_PACK_NORMALIZATION")?new NY(s.shape,i.shape,a.shape,h,d,c):new CY(s.shape,i.shape,a.shape,h,d,c);return n.runWebGLProgram(p,u,u[0].dtype)}};class RY{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=bV(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return OY.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);let r;r=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${e.map(((e,t)=>`sourceLoc.${OY[t]} = start[${t}] + coords.${OY[t]};`)).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${r}\n        setOutput(getSource(${n}));\n      }\n    `}}const OY=["x","y","z","w","u","v"];class MY{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=bV(this.rank),n=Bq("coords",this.rank),r=Bq("sourceLoc",this.rank),s=1===this.rank?"sourceLoc":`vec2(${r.slice(-2).join()})`,i=`getChannel(getSource(${r.join()}), ${s})`,a=`\n      result.x = ${i};\n      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${r[this.rank-1]};\n        result.y = ${i};\n        --${r[this.rank-1]};\n      }\n    `,o=1===this.rank?"":`\n      --${n[this.rank-1]};\n      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${r[this.rank-2]};\n        result.z = ${i};\n        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${r[this.rank-1]};\n          result.w = ${i};\n        }\n      }\n    `,l=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map(((e,t)=>`start[${t}]`)).join()});`:e.map(((e,t)=>`${r[t]} = ${n[t]} + start[${t}];`)).join("\n");this.userCode=`\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${l}\n        vec4 result = vec4(0.);\n        ${a}\n        ${o}\n        setOutput(result);\n      }\n    `}}function LY(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{begin:i,size:a}=r,[o,l]=nk(s,i,a);if(Hw(s,o,l),0===Hg(l))return n.makeTensorInfo(l,s.dtype,[]);if(n.shouldExecuteOnCPU([s])||"string"===s.dtype){const e=n.texData.get(s.dataId),t=wq(e.values,o,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,t)}const{isPacked:c}=n.texData.get(s.dataId),u=ek(s.shape,o,l);if(c||!u){const e=vb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new MY(l):new RY(l),t=[o];return n.runWebGLProgram(e,[s],s.dtype,t)}return n.uploadToGPU(s.dataId),function(e,t,n,r){const s=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),a=r.texData.get(i.dataId);Object.assign(a,s),a.refCount=1,a.shape=n,a.dtype=e.dtype;let o=tk(t,ab(e.shape));s.slice&&(o+=s.slice.flatOffset),a.slice={flatOffset:o,origDataId:s.slice&&s.slice.origDataId||e.dataId};const l=r.dataRefCount.get(a.slice.origDataId)||1;return r.dataRefCount.set(a.slice.origDataId,l+1),i}(s,o,l,n)}const PY={kernelName:Kv,backendName:"webgl",kernelFunc:LY},FY={kernelName:Wb,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockShape:i,crops:a}=r;Bg(s.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const o=i.reduce(((e,t)=>e*t)),l=SI(s.shape,i,o),c=_I(l.length,i.length),u=II(s.shape,i,o),h=AI(a,i.length),d=CI(u,a,i.length),p=[],f=Cj({inputs:{x:s},backend:n,attrs:{shape:l}}),m=Bj({inputs:{x:f},backend:n,attrs:{perm:c}}),g=Cj({inputs:{x:m},backend:n,attrs:{shape:u}}),b=LY({inputs:{x:g},backend:n,attrs:{begin:h,size:d}});return p.push(f),p.push(m),p.push(g),p.forEach((e=>n.disposeIntermediateTensorInfo(e))),b}};const $Y={kernelName:Gb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,weights:i}=t,{size:a}=r,o=n.readSync(s.dataId),l=n.readSync(i.dataId),c=GV(o,l,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,c)}};const BY={kernelName:Vb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{a:r,b:s}=t,i=vb().getBool("WEBGL_PACK_BINARY_OPERATIONS"),a=vb().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,s])||1===a){const e=n.texData.get(r.dataId).values,t=n.texData.get(s.dataId).values,[i,a]=qV(r.shape,s.shape,e,t,r.dtype),o=n.makeTensorInfo(a,r.dtype);return n.texData.get(o.dataId).values=i,o}let o;return o=i?new oj("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",r.shape,s.shape,!1):new ij("\n  return float(int(a.r) & int(b.r));\n",r.shape,s.shape),n.runWebGLProgram(o,[r,s],r.dtype)}};const UY={kernelName:qb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:s}=t,i=n.readSync(r.dataId),a=n.readSync(s.dataId),o=Sw(Array.from(i),Array.from(a));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}},zY=xj({opSnippet:"return float(a != b);",cpuKernelImpl:pq,dtype:"bool"}),HY={kernelName:bv,backendName:"webgl",kernelFunc:zY};function WY(e){const{inputs:t,backend:n}=e,{input:r}=t;return lj({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}const GY={kernelName:Rv,backendName:"webgl",kernelFunc:WY};const VY={kernelName:jb,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r,attrs:s}=t,{x:i}=n,{dtype:a}=s;if("complex64"===a){if("complex64"===i.dtype)return lj({inputs:{x:i},backend:r});const t=CS(i.shape),n=e({inputs:{x:i},backend:r,attrs:{dtype:"float32"}}),s=uj({inputs:{real:n,imag:t},backend:r});return t.dispose(),r.disposeIntermediateTensorInfo(n),s}if("complex64"===i.dtype){const t=WY({inputs:{input:i},backend:r}),n=e({inputs:{x:t},backend:r,attrs:{dtype:a}});return r.disposeIntermediateTensorInfo(t),n}if(!Zg(i.dtype,a)){const e=lj({inputs:{x:i},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:a}}if(r.shouldExecuteOnCPU([i])){const e=r.texData.get(i.dataId).values,[t,n,s]=jV(e,i.shape,i.dtype,a);return r.makeTensorInfo(t,n,s)}if("int32"===a)return function(e,t){const n=new qq(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(i,r);if("bool"===a){const e=r.makeTensorInfo([],"bool",Qg("bool",1)),t=zY({inputs:{a:i,b:e},backend:r});return r.disposeIntermediateTensorInfo(e),t}throw new Error(`Error in Cast: failed to cast ${i.dtype} to ${a}`)}},qY="return ceil(x);",jY=vj({opSnippet:qY,packedOpSnippet:qY,cpuKernelImpl:YV}),YY={kernelName:Yb,backendName:"webgl",kernelFunc:jY};class KY{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class XY{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const QY={kernelName:Kb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{clipValueMin:i,clipValueMax:a}=r;let o;o=vb().getBool("WEBGL_PACK_CLIP")?new XY(s.shape):new KY(s.shape);const l=[[i],[a]];return n.runWebGLProgram(o,[s],s.dtype,l)}};class JY{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function ZY(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const eK={kernelName:Qb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,s=n.texData.get(r.dataId),i=new JY(r.shape),a=[ZY(r,s.complexTensorInfos.real),ZY(r,s.complexTensorInfos.imag)];return n.runWebGLProgram(i,a,a[0].dtype)}};class tK{constructor(e){this.outputShape=[],this.outputShape=gI(e,1),this.variableNames=e.map(((e,t)=>`T${t}`));const t=new Array(e.length-1);t[0]=e[0][1];for(let i=1;i<t.length;i++)t[i]=t[i-1]+e[i][1];const n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let i=1;i<t.length;i++){const e=t[i-1];n.push(`else if (yC < ${t[i]}) setOutput(getT${i}(yR, yC-${e}));`)}const r=t.length,s=t[t.length-1];n.push(`else setOutput(getT${r}(yR, yC-${s}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${n.join("\n        ")}\n      }\n    `}}class nK{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=gI(e,t);const n=this.outputShape,r=n.length,s=bV(r),i=Bq("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(((e,t)=>`T${t}`));const o=new Array(e.length-1);o[0]=e[0][t];for(let f=1;f<o.length;f++)o[f]=o[f-1]+e[f][t];const l=a[t],c=a.slice(-2),u=a.join();let h=`if (${l} < ${o[0]}) {\n        return getChannel(\n            getT0(${u}), vec2(${c.join()}));\n        }`;for(let f=1;f<o.length;f++){const e=o[f-1];h+=`\n        if (${l} < ${o[f]}  && ${l} >= ${o[f-1]}) {\n          return getChannel(\n            getT${f}(${rK(a,l,e)}),\n            vec2(${rK(c,l,e)}));\n        }`}const d=o.length,p=o[o.length-1];h+=`\n        return getChannel(\n          getT${d}(${rK(a,l,p)}),\n          vec2(${rK(c,l,p)}));`,this.userCode=`\n      float getValue(${a.map((e=>"int "+e))}) {\n        ${h}\n      }\n\n      void main() {\n        ${s} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${i}), 0., 0., 0.);\n\n        ${i[r-1]} = ${i[r-1]} + 1;\n        if (${i[r-1]} < ${n[r-1]}) {\n          result.g = getValue(${i});\n        }\n\n        ${i[r-2]} = ${i[r-2]} + 1;\n        if (${i[r-2]} < ${n[r-2]}) {\n          result.a = getValue(${i});\n        }\n\n        ${i[r-1]} = ${i[r-1]} - 1;\n        if (${i[r-2]} < ${n[r-2]} &&\n            ${i[r-1]} < ${n[r-1]}) {\n          result.b = getValue(${i});\n        }\n        setOutput(result);\n      }\n    `}}function rK(e,t,n){const r=e.indexOf(t);return e.map(((e,t)=>t===r?`${e} - ${n}`:e)).join()}function sK(e){const{inputs:t,backend:n}=e,{input:r}=t;return lj({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}const iK={kernelName:zy,backendName:"webgl",kernelFunc:sK};function aK(e,t,n){const r=e[0].dtype;if("complex64"===r){const r=e.map((e=>WY({inputs:{input:e},backend:n}))),s=e.map((e=>sK({inputs:{input:e},backend:n}))),i=aK(r,t,n),a=aK(s,t,n),o=uj({inputs:{real:i,imag:a},backend:n});return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),s.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),o}let s=n.shouldExecuteOnCPU(e);if("string"===r&&(s=!0),s){const s=e.map((e=>{const r=Hg(e.shape.slice(t));return Cj({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),i=s.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),a=gI(s.map((e=>e.shape)),1),o=1===s[0].shape[0],l=KV(i,a,r,o),c=gI(e.map((e=>e.shape)),t),u=n.makeTensorInfo(c,r,l);return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}const i=e.filter((e=>Hg(e.shape)>0)),a=vb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(1===i.length){const t=a?new qq(e[0].shape,Qq):new Jq(e[0].shape,Qq);return n.runWebGLProgram(t,e,r)}const o=vb().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>o){const e=[];for(let s=0;s<i.length;s+=o){const r=i.slice(s,s+o);e.push(aK(r,t,n))}const r=aK(e,t,n);for(const t of e)n.disposeIntermediateTensorInfo(t);return r}if(a){const e=new nK(i.map((e=>e.shape)),t);return n.runWebGLProgram(e,i,r)}const{tensors2D:l,outShape:c}=function(e,t,n){const r=gI(e.map((e=>e.shape)),t),s=e.map((e=>Cj({inputs:{x:e},attrs:{shape:[-1,Hg(e.shape.slice(t))]},backend:n})));return{tensors2D:s,outShape:r}}(i,t,n),u=new tK(l.map((e=>e.shape))),h=n.runWebGLProgram(u,l,r);l.forEach((e=>n.disposeIntermediateTensorInfo(e)));const d=Cj({inputs:{x:h},attrs:{shape:c},backend:n});return n.disposeIntermediateTensorInfo(h),d}function oK(e){const{inputs:t,backend:n,attrs:r}=e,{axis:s}=r,i=Kg(s,t[0].shape)[0];mI(t.map((e=>e.shape)),i);const a=gI(t.map((e=>e.shape)),i);if(0===Hg(a))return n.makeTensorInfo(a,t[0].dtype,[]);const o=t.filter((e=>Hg(e.shape)>0));return 1===o.length?lj({inputs:{x:o[0]},backend:n}):aK(o,i,n)}const lK={kernelName:Jb,backendName:"webgl",kernelFunc:oK};class cK{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.outputShape=e.outShape;const i=e.padInfo.top,a=e.padInfo.left,o=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,h=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,b=m?2:3,y=m?3:1;let v="",x="";n&&(v=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:s?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,x="result = activation(result);");const E=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${v}\n\n      const ivec2 strides = ivec2(${o}, ${l});\n      const ivec2 pads = ivec2(${i}, ${a});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${y}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${g}], coords[${b}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${h}; wR++) {\n          int xR = xRCorner + wR * ${c};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${d}; wC++) {\n            int xC = xCCorner + wC * ${u};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${p}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${m}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===f}) {\n\n              if (${m}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${p}) *\n                    getW(wR, wC, ${p}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${p}, xR, xC) *\n                    getW(wR, wC, ${p}, d2);\n              }\n\n            } else if (${2===f}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${p}, d2),\n                getW(wR, wC, ${p} + 1, d2)\n              );\n\n              if (${m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${p}),\n                  getX(batch, xR, xC, ${p} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${p}, xR, xC),\n                  getX(batch, ${p} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===f}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${p}, d2),\n                getW(wR, wC, ${p} + 1, d2),\n                getW(wR, wC, ${p} + 2, d2)\n              );\n\n              if (${m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${p}),\n                  getX(batch, xR, xC, ${p} + 1),\n                  getX(batch, xR, xC, ${p} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${p}, xR, xC),\n                  getX(batch, ${p} + 1, xR, xC),\n                  getX(batch, ${p} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${E}\n        ${x}\n        setOutput(result);\n      }\n    `}}class uK{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,s=e.strideDepth,i=e.strideHeight,a=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.filterDepth,h=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${s}, ${i}, ${a});\n      const ivec3 pads = ivec3(${t}, ${n}, ${r});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${u}; wF++) {\n          int xF = xFCorner + wF * ${o};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${h}; wR++) {\n            int xR = xRCorner + wR * ${l};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${d}; wC++) {\n              int xC = xCCorner + wC * ${c};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${p}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===f}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${p}) *\n                  getW(wF, wR, wC, ${p}, d2);\n              } else if (${2===f}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${p}),\n                  getX(batch, xF, xR, xC, ${p} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${p}, d2),\n                  getW(wF, wR, wC, ${p} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===f}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${p}),\n                  getX(batch, xF, xR, xC, ${p} + 1),\n                  getX(batch, xF, xR, xC, ${p} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${p}, d2),\n                  getW(wF, wR, wC, ${p} + 1, d2),\n                  getW(wF, wR, wC, ${p} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class hK{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=kV(this.outputShape.length);const i=e.padInfo.left,a=e.strideWidth,o=e.dilationWidth,l=e.filterHeight,c=e.filterWidth,u=c;let h="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let m=0;m<c;m++)h+=`\n           vec4 xTexelC${2*m};\n           int xTexelC${2*m}Ready;\n           vec4 xTexelC${2*m+1};\n           int xTexelC${2*m+1}Ready;\n           vec4 xC${m};`;h+=`\n     for (int r = 0; r < ${l}; r++) {\n      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {\n       `;for(let m=0;m<c;m++)h+=`\n           xTexelC${2*m} = vec4(0.0);\n           xTexelC${2*m}Ready = 0;\n           xTexelC${2*m+1} = vec4(0.0);\n           xTexelC${2*m+1}Ready = 0;\n           xC${m} = vec4(0.0);`;h+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let m=0;m<(u+1)/2;m++){const t=2*m;if(h+=`\n           xC = xCCorner + ${t*o};\n           `,1===a){if(t<c&&(i%2===1?(h+=`\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n               `,h+=1===o&&t>0?`\n                 xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);\n                 `:`\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC${t} = vec4(previous.zw, xTexelC${t}.xy);\n                   } else {\n                     xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);\n                   }\n                   `):h+=`\n                 if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 xC${t} = xTexelC${t};\n                 `,t+1<c)){const e=i%2===0?Fg(o):o;o%2===0&&i%2===1||o%2!==0&&i%2!==1?(h+=`\n                   xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                     xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC${t+1}.zw = vec2(0.0);\n                     }\n                     xTexelC${t+1}Ready = 1;\n                   }\n                   `,h+=o>1?`\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC${t+1} = vec4(previous.zw, xTexelC${t+1}.xy);\n                     } else {\n                      xC${t+1} = vec4(0.0, 0.0, xTexelC${t+1}.xy);\n                     }\n                     `:`\n                     xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);\n                     `):h+=1===e?`\n                     xC${t+1} = xTexelC${t};\n                     `:`\n                     xCOffset = xC + ${e};\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                       xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC${t+1}.zw = vec2(0.0);\n                       }\n                       xTexelC${t+1}Ready = 1;\n                     }\n\n                     xC${t+1} = xTexelC${t+1};\n                     `}}else t<c&&(i%2===1?(h+=`\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {\n                   xTexelC${t+1} = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC${t+1}.zw = vec2(0.0);\n                   }\n                   xTexelC${t+1}Ready = 1;\n                 }\n\n                 xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n               `,t+1<c&&(h+=`\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);\n                 `)):(h+=`\n                 if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                   xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t+1}.zw = vec2(0.);\n                   }\n                   xTexelC${t+1}Ready = 1;\n                 }\n\n                 xC${t} = vec4(\n                   xTexelC${t}.xy, xTexelC${t+1}.xy);\n               `,t+1<c&&(h+=`\n                   xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n                 `)));t<c&&(h+=`\n             wTexel = getW(r, ${t}, d1, d2);\n             dotProd += xC${t}.xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ${e.inChannels}) {\n               dotProd += xC${t}.yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           `,t+1<c&&(h+=`\n               wTexel = getW(r, ${t+1}, d1, d2);\n               dotProd += xC${t+1}.xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ${e.inChannels}) {\n                 dotProd += xC${t+1}.yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             `))}h+="\n     }\n   ",h+="\n     }\n   ",h+="\n     }\n   ";let d="",p="";n&&(d=r?`vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ${n}\n         }`:s?`vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ${n}\n         }`:`vec4 activation(vec4 x) {\n           ${n}\n         }`,p="result = activation(result);");const f=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n       ${d}\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ${h}\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ${f}\n         ${p}\n         setOutput(result);\n       }\n     `}}class dK{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=kV(this.outputShape.length);const{dataFormat:n}=t,r=eV(),s="channelsLast"===n,i=s?1:2,a=s?2:3,o=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let l="";for(let c=0;c<=1;c++)for(let e=0;e<=1;e++)l+=`\n          blockIndex = rc.z + ${e};\n          pos = rc.y + ${c};\n\n          ${o}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${i}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${a}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${s}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*c+e}] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*c+e}] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${l}\n\n        ${r.output} = result;\n      }\n    `}}function pK(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function fK(e){let{x:t,filter:n,convInfo:r,backend:s,bias:i=null,preluActivationWeights:a=null,leakyreluAlpha:o=0,activation:l=null}=e;const c=t.shape,u=s.texData.get(t.dataId),h=r.inChannels,d=c[0]*c[1]*c[2],p=r.outChannels,f="channelsLast"===r.dataFormat,m=!1;let g;const b=[];if(null!=a){const e=pK(a.shape,f);null!=e&&(a=Cj({inputs:{x:a},backend:s,attrs:{shape:e}}),b.push(a))}if(null!=i){const e=pK(i.shape,f);null!=e&&(i=Cj({inputs:{x:i},backend:s,attrs:{shape:e}}),b.push(i))}if(!((1===d||1===p)&&h>1e3)&&u.isPacked&&f&&null!=u.texture&&c[2]%2!==0&&Wg(u.shape.slice(-3),c.slice(-3))){const e=c[0]*c[1]*(c[2]+1),h={dataId:t.dataId,shape:[1,e,r.inChannels],dtype:t.dtype},d=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,Bg(VG(u.shape,h.shape),(()=>`packed reshape ${u.shape} to ${h.shape} isn't free`));const p=Cj({inputs:{x:n},backend:s,attrs:{shape:[1,r.inChannels,r.outChannels]}});b.push(p);const f=zj({a:h,b:p,backend:s,transposeA:false,transposeB:m,bias:i,activation:l,preluActivationWeights:a,leakyreluAlpha:o}),y=s.texData.get(f.dataId);Bg(y.isPacked,(()=>"batchMatMul result is expected to be packed")),u.shape=d,y.shape=r.outShape,g=lj({inputs:{x:f},backend:s}),g.shape=r.outShape,b.push(f)}else{const e=r.outHeight*r.outWidth,c=Cj({inputs:{x:t},backend:s,attrs:{shape:f?[r.batchSize,e,r.inChannels]:[r.batchSize,r.inChannels,e]}}),u=Cj({inputs:{x:n},backend:s,attrs:{shape:[1,r.inChannels,r.outChannels]}}),h=zj({a:f?c:u,b:f?u:c,transposeA:!f,transposeB:m,backend:s,bias:i,activation:l,preluActivationWeights:a,leakyreluAlpha:o});g=Cj({inputs:{x:h},backend:s,attrs:{shape:r.outShape}}),b.push(c),b.push(u),b.push(h)}for(const y of b)s.disposeIntermediateTensorInfo(y);return g}function mK(e){let{x:t,filter:n,convInfo:r,backend:s,bias:i=null,preluActivationWeights:a=null,leakyreluAlpha:o=0,activation:l=null}=e;const{filterWidth:c,filterHeight:u,inChannels:h,outWidth:d,outHeight:p,dataFormat:f}=r,m="channelsLast"===f,g=c*u*h,b=p*d,y=[r.batchSize,g,b],v=[];if(null!=a){const e=pK(a.shape,m);null!=e&&(a=Cj({inputs:{x:a},backend:s,attrs:{shape:e}}),v.push(a))}if(null!=i){const e=pK(i.shape,m);null!=e&&(i=Cj({inputs:{x:i},backend:s,attrs:{shape:e}}),v.push(i))}const x=Cj({inputs:{x:n},backend:s,attrs:{shape:[1,g,Hg(n.shape)/g]}});v.push(x);const E=new dK(y,r),T=[t.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],w=s.runWebGLProgram(E,[t],"float32",T),k=Cj({inputs:{x:w},backend:s,attrs:{shape:y}});v.push(w),v.push(k);const S=null!=i,_=null!=a,I="leakyrelu"===l,A=l?Ej(l,!0):null,C=new Tj(m?k.shape:x.shape,m?x.shape:k.shape,m?[r.batchSize,b,r.outChannels]:[r.batchSize,r.outChannels,b],!0,!1,S,A,_,I),N=m?[k,x]:[x,k];if(i&&N.push(i),_&&N.push(a),I){const e=s.makeTensorInfo([],"float32",aE(o,"float32"));N.push(e),v.push(e)}const D=s.runWebGLProgram(C,N,"float32"),R=Cj({inputs:{x:D},backend:s,attrs:{shape:r.outShape}});v.push(D);for(const O of v)s.disposeIntermediateTensorInfo(O);return R}const gK={kernelName:Zb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:i}=t,{strides:a,pad:o,dataFormat:l,dilations:c,dimRoundingMode:u}=r,h=Ek(l),d=hk(s.shape,i.shape,a,c,o,u,!1,h);let p;if(1!==d.filterHeight||1!==d.filterWidth||1!==d.dilationHeight||1!==d.dilationWidth||1!==d.strideHeight||1!==d.strideWidth||"SAME"!==d.padInfo.type&&"VALID"!==d.padInfo.type)if(d.strideWidth<=2&&"channelsLast"===h&&vb().getBool("WEBGL_EXP_CONV")){const e=new hK(d),t=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];p=n.runWebGLProgram(e,[s,i],"float32",t)}else if(vb().getBool("WEBGL_CONV_IM2COL"))p=mK({x:s,filter:i,convInfo:d,backend:n});else{const e=new cK(d);p=n.runWebGLProgram(e,[s,i],"float32")}else p=fK({x:s,filter:i,convInfo:d,backend:n});const f=Cj({inputs:{x:p},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(p),f}};class bK{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,s=e.padInfo.left,i="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${s};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              ${i?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);"}\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class yK{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,s=e.strideWidth,i="channelsLast"===e.dataFormat,a=t-1-e.padInfo.top,o=n-1-e.padInfo.left,l=i?1:2,c=i?2:3,u=i?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${a}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${u}];\n\n        ivec2 dyCorner = ivec2(coords[${l}], coords[${c}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${s}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${i}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class vK{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,s=e.padInfo.front,i=e.padInfo.top,a=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${s};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${n} - ${i};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${r} - ${a};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class xK{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,s=e.strideDepth,i=e.strideHeight,a=e.strideWidth,o=t-1-e.padInfo.front,l=n-1-e.padInfo.top,c=r-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${o}, ${l}, ${c});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${s}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${n}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${i}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${n} - 1 - wR;\n\n            for (int wC = 0; wC < ${r}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${r} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const EK={kernelName:ey,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:i}=t,{strides:a,pad:o,dataFormat:l,dimRoundingMode:c,filterShape:u}=r,h=Ek(l),d=hk(s.shape,u,a,1,o,c,!1,h),p=new bK(d);return n.runWebGLProgram(p,[s,i],"float32")}};class TK{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=kV(this.outputShape.length);const t=e.filterHeight,n=e.filterWidth,r=t-1-e.padInfo.top,s=n-1-e.padInfo.left;this.userCode=`\n      const ivec2 pads = ivec2(${r}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            int wCPerm = ${n} - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    `}}const wK={kernelName:ty,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:i}=t,{inputShape:a,strides:o,pad:l,dataFormat:c,dimRoundingMode:u}=r,h=Ek(c),d=hk(a,i.shape,o,1,l,u,!1,h);if(vb().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===h){const e=[[d.strideHeight,d.strideWidth]],t=new TK(d);return n.runWebGLProgram(t,[s,i],"float32",e)}{const e=new yK(d);return n.runWebGLProgram(e,[s,i],"float32")}}};const kK={kernelName:ny,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:i}=t,{strides:a,pad:o,dilations:l}=r,c=dk(s.shape,i.shape,a,l,o),u=new uK(c);return n.runWebGLProgram(u,[s,i],"float32")}};const SK={kernelName:ry,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:i}=t,{strides:a,pad:o,filterShape:l}=r,c=dk(s.shape,l,a,1,o),u=new vK(c);return n.runWebGLProgram(u,[s,i],"float32")}};const _K={kernelName:sy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:i}=t,{pad:a,strides:o,inputShape:l}=r,c=dk(l,i.shape,o,1,a),u=new xK(c);return n.runWebGLProgram(u,[s,i],"float32")}},IK=vj({opSnippet:yj+"\n  return cos(x);\n",packedOpSnippet:`\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ${aj}\n  return result;\n`}),AK={kernelName:iy,backendName:"webgl",kernelFunc:IK},CK=vj({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),NK={kernelName:ay,backendName:"webgl",kernelFunc:CK};class DK{constructor(e,t,n,r,s){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[i,a,o,l]=e,[c]=t,[u,h]=n;this.outputShape=[c,u,h,l];const d="bilinear"===r?1:0,[p,f]=[a-1+".0",o-1+".0"],[m,g,b]=u>1?[""+(a-1)/(u-1),"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[y,v,x]=h>1?[""+(o-1)/(h-1),"(x2-x1) * width_ratio",`x1*${f} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${f}`];this.userCode=`\n      const float height_ratio = float(${m});\n      const float width_ratio = float(${y});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${i}) {\n          return;\n        }\n\n        float height_scale = ${g};\n        float width_scale = ${v};\n\n        float in_y = ${b};\n        if( in_y < 0.0 || in_y > ${p} ) {\n          setOutput(float(${s}));\n          return;\n        }\n        float in_x = ${x};\n        if( in_x < 0.0 || in_x > ${f} ) {\n          setOutput(float(${s}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${d} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}const RK={kernelName:cy,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{image:s,boxes:i,boxInd:a}=t,{cropSize:o,method:l,extrapolationValue:c}=r,u=new DK(s.shape,i.shape,o,l,c);return n.runWebGLProgram(u,[s,i,a],"float32")}};var OK;!function(e){e.Prod="*",e.Sum="+"}(OK||(OK={}));class MK{constructor(e,t,n,r){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const s=this.outputShape.length,i=this.op===OK.Prod?"1.0":"0.0",a=n?i:`getX(${LK(s,"coords",this.op)})`,o=this.outputShape[this.outputShape.length-1];let l="",c="";n?(l=r?"end != "+(o-1):"end != 0",c=r?"end + 1":"end - 1"):(l=r?`end + pow2 < ${o}`:"end >= pow2",c=r?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${bV(s)} coords = getOutputCoords();\n        int end = ${PK(s,"coords",this.op)};\n        float val = ${a};\n        int pow2 = int(pow(2.0, index));\n        if (${l}) {\n          int idx = ${c};\n          ${PK(s,"coords",this.op)} = idx;\n          val ${this.op}= getX(${LK(s,"coords",this.op)});\n        }\n        setOutput(val);\n      }\n    `}}function LK(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function PK(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function FK(e,t,n,r,s,i){const a=t.shape.length,o=fS([r],a);let l=t;null!=o&&(l=Bj({inputs:{x:t},backend:n,attrs:{perm:o}}));const c=gS(1,a)[0];if(c!==a-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);const u=l.shape[c];let h=lj({inputs:{x:l},backend:n});for(let d=0;d<=Math.ceil(Math.log2(u))-1;d++){const t=new MK(e,l.shape,!1,i),r=[[d]],s=h;h=n.runWebGLProgram(t,[h],h.dtype,r),n.disposeIntermediateTensorInfo(s)}if(s){const t=new MK(e,l.shape,s,i),r=h;h=n.runWebGLProgram(t,[h],h.dtype),n.disposeIntermediateTensorInfo(r)}if(null!=o){const e=Bj({inputs:{x:h},backend:n,attrs:{perm:mS(o)}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(l),e}return h}const $K={kernelName:oy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,exclusive:a,reverse:o}=r;return FK(OK.Prod,s,n,i,a,o)}};const BK={kernelName:ly,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,exclusive:a,reverse:o}=r;return FK(OK.Sum,s,n,i,a,o)}};const UK={kernelName:uy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,weights:i}=t,{size:a,binaryOutput:o}=r;if(1===s.shape.length){const e=n.readSync(s.dataId),t=n.readSync(i.dataId),r=GV(e,t,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,r)}if(2===s.shape.length){const e=n.bufferSync(s),t=n.bufferSync(i),r=VV(e,t,a,o);return n.makeTensorInfo(r.shape,i.dtype,r.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}};class zK{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const HK={kernelName:hy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockSize:i,dataFormat:a}=r,o=s.shape[0],l=("NHWC"===a?s.shape[1]:s.shape[2])*i,c=("NHWC"===a?s.shape[2]:s.shape[3])*i,u=("NHWC"===a?s.shape[3]:s.shape[1])/(i*i),h=new zK("NHWC"===a?[o,l,c,u]:[o,u,l,c],i,a);return n.runWebGLProgram(h,[s],s.dtype)}};class WK{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=kV(this.outputShape.length);const i=e.filterHeight,a=e.filterWidth,o=e.outChannels/e.inChannels;let l="",c="";n&&(l=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:s?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,c="result = activation(result);");const u=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${l}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${o};\n        int q = d2 - d1 * ${o};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${i}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${a}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${u}\n        ${c}\n        setOutput(result);\n      }\n    `}}class GK{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=kV(this.outputShape.length);const i=e.outChannels/e.inChannels,a=e.padInfo.left,o=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,h=u;let d="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let g=0;g<u;g++)d+=`\n          vec4 xTexelC${2*g};\n          int xTexelC${2*g}Ready;\n          vec4 xTexelC${2*g+1};\n          int xTexelC${2*g+1}Ready;\n          vec4 xC${g};`;d+=`\n    for (int r = 0; r < ${c}; r++) {\n      `;for(let g=0;g<u;g++)d+=`\n          xTexelC${2*g} = vec4(0.0);\n          xTexelC${2*g}Ready = 0;\n          xTexelC${2*g+1} = vec4(0.0);\n          xTexelC${2*g+1}Ready = 0;\n          xC${g} = vec4(0.0);`;d+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let g=0;g<(h+1)/2;g++){const e=2*g;if(d+=`\n          xC = xCCorner + ${e*l};\n          `,1===o){if(e<u&&(a%2===1?(d+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n              `,d+=1===l&&e>0?`\n                xC${e} = vec4(xTexelC${e-2}.zw, xTexelC${e}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${e} = vec4(previous.zw, xTexelC${e}.xy);\n                  } else {\n                    xC${e} = vec4(0.0, 0.0, xTexelC${e}.xy);\n                  }\n                  `):d+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                xC${e} = xTexelC${e};\n                `,e+1<u)){const t=a%2===0?Fg(l):l;l%2===0&&a%2===1||l%2!==0&&a%2!==1?(d+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${t};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                    xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${e+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${e+1}Ready = 1;\n                  }\n                  `,d+=l>1?`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC${e+1} = vec4(previous.zw, xTexelC${e+1}.xy);\n                    } else {\n                     xC${e+1} = vec4(0.0, 0.0, xTexelC${e+1}.xy);\n                    }\n                    `:`\n                    xC${e+1} = vec4(xTexelC${e}.zw, xTexelC${e+1}.xy);\n                    `):d+=1===t?`\n                    xC${e+1} = xTexelC${e};\n                    `:`\n                    xCOffset = xC + ${t};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                      xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${e+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${e+1}Ready = 1;\n                    }\n\n                    xC${e+1} = xTexelC${e+1};\n                    `}}else e<u&&(a%2===1?(d+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${e+1}Ready == 0) {\n                  xTexelC${e+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${e+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${e+1}Ready = 1;\n                }\n\n                xC${e} = vec4(xTexelC${e}.zw, xTexelC${e+1}.zw);\n              `,e+1<u&&(d+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${e+1} = vec4(xTexelC${e+1}.xy, final.xy);\n                `)):(d+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                  xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e+1}.zw = vec2(0.);\n                  }\n                  xTexelC${e+1}Ready = 1;\n                }\n\n                xC${e} = vec4(\n                  xTexelC${e}.xy, xTexelC${e+1}.xy);\n              `,e+1<u&&(d+=`\n                  xC${e+1} = vec4(xTexelC${e}.zw, xTexelC${e+1}.zw);\n                `)));e<u&&(d+=`\n            wTexel = getW(r, ${e}, d1, q);\n            dotProd += xC${e} * vec4(wTexel.xz, wTexel.xz);\n          `,e+1<u&&(d+=`\n              wTexel = getW(r, ${e+1}, d1, q);\n              dotProd += xC${e+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}d+="\n    }\n  ",d+="\n      }\n    ";let p="",f="";n&&(p=r?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:s?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`vec4 activation(vec4 x) {\n          ${n}\n        }`,f="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${p}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${i};\n        int q = d2 - d1 * ${i};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${d}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${m}\n        ${f}\n        setOutput(result);\n      }\n    `}}const VK={kernelName:dy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:i}=t,{strides:a,pad:o,dilations:l,dimRoundingMode:c}=r;let u=l;null==u&&(u=[1,1]),Bg(vk(a,u),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`));const h=hk(s.shape,i.shape,a,u,o,c,!0);let d;d=vb().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels===1?new GK(h):new WK(h);const p=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];return n.runWebGLProgram(d,[s,i],"float32",p)}};class qK{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,s=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${i} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${s};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class jK{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,s=e.strideWidth,i=t-1-e.padInfo.top,a=n-1-e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${i}, ${a});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${s}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${o}; dm++) {\n              int d2 = d1 * ${o} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const YK={kernelName:py,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:i}=t,{strides:a,dilations:o,pad:l,dimRoundingMode:c,filterShape:u}=r,h=hk(s.shape,u,a,o,l,c,!0),d=new qK(h);return n.runWebGLProgram(d,[s,i],"float32")}};const KK={kernelName:fy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:i}=t,{strides:a,dilations:o,pad:l,dimRoundingMode:c,inputShape:u}=r,h=hk(u,i.shape,a,o,l,c,!0),d=new jK(h);return n.runWebGLProgram(d,[s,i],"float32")}};class XK{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const QK={kernelName:my,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,s=[...r.shape,...r.shape],i=Hg(r.shape),a=Cj({inputs:{x:r},backend:n,attrs:{shape:[i]}}),o=new XK(i),l=n.runWebGLProgram(o,[a],a.dtype),c=Cj({inputs:{x:l},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}};class JK{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:r,strideHeight:s,strideWidth:i,filterHeight:a,filterWidth:o,dilationHeight:l,dilationWidth:c}=e,{top:u,left:h}=r;this.userCode=`\n      const ivec2 strides = ivec2(${s}, ${i});\n      const ivec2 pads = ivec2(${u}, ${h});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${a}; h++) {\n          int hIn = hBeg + h * ${l};\n\n          if (hIn >= 0 && hIn < ${t}) {\n            for (int w = 0; w < ${o}; w++) {\n              int wIn = wBeg + w * ${c};\n\n              if (wIn >= 0 && wIn < ${n}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}const ZK={kernelName:gy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:i}=t,{strides:a,pad:o,dilations:l}=r,c=lk(s.shape,i.shape,a,o,"NHWC",l);let u;const h=new JK(c);u=n.runWebGLProgram(h,[s,i],"float32");const d=Cj({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),d}};const eX={kernelName:Ey,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:s}=r,i=t,{allDims:a,summedDims:o,idDims:l}=eA(s,i.length);nA(a.length,l,i);const{path:c,steps:u}=rA(o,l),h=u.length;let d=null,p=a.length;const f=[];for(let m=0;m<h;++m){for(const e of u[m]){const{permutationIndices:t,expandDims:r}=tA(p,l[e]);let s;sA(t)?s=i[e]:(s=Bj({inputs:{x:i[e]},backend:n,attrs:{perm:t}}),f.push(s));const a=s.shape.slice();for(let e=0;e<r.length;++e)a.splice(r[e],0,1);Wg(s.shape,a)||(s=Cj({inputs:{x:s},backend:n,attrs:{shape:a}}),f.push(s)),null===d?d=s:(d=Ij({inputs:{a:s,b:d},backend:n}),f.push(d))}m<h-1&&(c[m]>=0&&(d=Fj({inputs:{x:d},backend:n,attrs:{axis:c[m]-(a.length-p),keepDims:!1}}),f.push(d)),p--)}for(const m of f)m!==d&&n.disposeIntermediateTensorInfo(m);return d}},tX=vj({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),nX={kernelName:Ty,backendName:"webgl",kernelFunc:tX},rX={kernelName:wy,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:r,y:s}=t,i=vb().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new oj("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,s.shape):new ij("return (b >= 0.0) ? a : a * (b + 1.0);",r.shape,s.shape);return n.runWebGLProgram(i,[r,s],r.dtype)}},sX=xj({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:XV}),iX={kernelName:Sy,backendName:"webgl",kernelFunc:sX},aX=vj({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${PI};\n  float a1 = ${FI};\n  float a2 = ${$I};\n  float a3 = ${BI};\n  float a4 = ${UI};\n  float a5 = ${zI};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),oX={kernelName:ky,backendName:"webgl",kernelFunc:aX},lX=vj({opSnippet:yj+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:QV,dtype:"float32"}),cX={kernelName:_y,backendName:"webgl",kernelFunc:lX};function uX(e){const{inputs:t,attrs:n,backend:r}=e,{dim:s}=n,{input:i}=t,a=i.shape.length,o=i.shape.slice();let l=s;return s<0&&(Bg(-(a+1)<=s,(()=>`Axis must be in the interval [${-(a+1)}, ${a}]`)),l=a+s+1),o.splice(l,0,1),Cj({inputs:{x:i},backend:r,attrs:{shape:o}})}const hX={kernelName:Iy,backendName:"webgl",kernelFunc:uX},dX="return exp(x) - 1.0;",pX=vj({opSnippet:dX,packedOpSnippet:dX,cpuKernelImpl:JV}),fX={kernelName:Ay,backendName:"webgl",kernelFunc:pX};class mX{constructor(e,t,n){this.variableNames=["real","imag"];const r=t[1];this.outputShape=t;const s=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,i=n?`${r}.0`:"1.0";let a;if("real"===e)a="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);a="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${s};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${a}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${r});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${r}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${i};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function gX(e,t,n){const r=n.texData.get(e.dataId),s=Hg(e.shape),i=e.shape[e.shape.length-1],a=Cj({inputs:{x:e},backend:n,attrs:{shape:[s/i,i]}}),o=a.shape,l=new mX("real",o,t),c=new mX("imag",o,t),u=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:o},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:o}],h=n.runWebGLProgram(l,u,"float32"),d=n.runWebGLProgram(c,u,"float32"),p=uj({inputs:{real:h,imag:d},backend:n});n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d);const f=Cj({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(p),f}const bX={kernelName:Cy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return gX(r,!1,n)}};class yX{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function vX(e){const{backend:t,attrs:n}=e,{shape:r,value:s}=n;let{dtype:i}=n;if(i=i||rb(s),"string"===i){const e=Jg(i,Hg(r));return e.fill(s),t.makeTensorInfo(r,i,e)}{const e=new yX(r,s),n=[[s]];return t.runWebGLProgram(e,[],i,n)}}const xX={kernelName:Ny,backendName:"webgl",kernelFunc:vX};class EX{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const TX={kernelName:Dy,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{image:r}=t,s=n,i=new EX(r.shape);return s.runWebGLProgram(i,[r],r.dtype)}},wX="return floor(x);",kX=vj({opSnippet:wX,packedOpSnippet:wX,cpuKernelImpl:ZV}),SX={kernelName:Ry,backendName:"webgl",kernelFunc:kX},_X=xj({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),IX={kernelName:Oy,backendName:"webgl",kernelFunc:_X};class AX{constructor(e){this.variableNames=["A"];const t=eV(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${n}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class CX{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=eV(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${r}.0, ${n}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}const NX={kernelName:Nx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:s}=t;const{numChannels:i}=r,a="undefined"!==typeof HTMLVideoElement&&s instanceof HTMLVideoElement,o="undefined"!==typeof HTMLImageElement&&s instanceof HTMLImageElement,[l,c]=a?[s.videoWidth,s.videoHeight]:[s.width,s.height],u=[c,l],h=[c,l,i];if(o||a){const e=vb().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=DX&&e===RX||(RX=e,DX=document.createElement("canvas").getContext("2d",{willReadFrequently:RX})),DX.canvas.width=l,DX.canvas.height=c,DX.drawImage(s,0,0,l,c),s=DX.canvas}const d=n.makeTensorInfo(u,"int32");n.texData.get(d.dataId).usage=TG.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),s);const p=vb().getBool("WEBGL_PACK")?new CX(h):new AX(h),f=n.runWebGLProgram(p,[d],"int32");return n.disposeData(d.dataId),f}};let DX,RX=vb().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const OX={kernelName:Ox,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:i,bias:a,preluActivationWeights:o}=t,{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:f}=r,m=Ek(u),g=hk(s.shape,i.shape,l,h,c,d,!1,m);let b;const y=[],v=null!=a,x=null!=o,E="leakyrelu"===p,T=()=>{const e=[s,i],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=Cj({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return y.push(t),t}return e};if(v&&e.push(t(a,u)),x&&e.push(t(o,u)),E){const t=n.makeTensorInfo([],"float32",aE(f,"float32"));e.push(t),y.push(t)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===m&&vb().getBool("WEBGL_EXP_CONV")){const e=p?Ej(p,!0):null,t=new hK(g,v,e,x,E),r=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],s=T();b=n.runWebGLProgram(t,s,"float32",r)}else if(vb().getBool("WEBGL_CONV_IM2COL"))b=mK({x:s,filter:i,convInfo:g,backend:n,bias:a,activation:p,preluActivationWeights:o,leakyreluAlpha:f});else{const e=p?Ej(p,!1):null,t=new cK(g,v,e,x,E),r=T();b=n.runWebGLProgram(t,r,"float32")}else b=fK({x:s,filter:i,convInfo:g,backend:n,bias:a,activation:p,preluActivationWeights:o,leakyreluAlpha:f});const w=Cj({inputs:{x:b},backend:n,attrs:{shape:g.outShape}});return y.push(b),y.forEach((e=>n.disposeIntermediateTensorInfo(e))),w}};const MX={kernelName:Mx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:i,bias:a,preluActivationWeights:o}=t,{strides:l,pad:c,dilations:u,dimRoundingMode:h,activation:d,leakyreluAlpha:p}=r,f=[];let m=u;null==m&&(m=[1,1]),Bg(vk(l,m),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`));const g=hk(s.shape,i.shape,l,m,c,h,!0),b=vb().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,y=d?Ej(d,b):null,v=[s,i],x=null!=a,E=null!=o,T="leakyrelu"===d;if(x&&v.push(a),E&&v.push(o),T){const e=n.makeTensorInfo([],"float32",aE(p,"float32"));v.push(e),f.push(e)}let w;w=b?new GK(g,x,y,E,T):new WK(g,x,y,E,T);const k=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],S=n.runWebGLProgram(w,v,"float32",k);return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),S}};class LX{constructor(e,t,n,r){this.sliceDim=e,this.strides=t,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=n;const s=bV(n.length);let i="\n    int index;";for(let a=0;a<this.sliceDim;a++)i+=`\n          index = round(getIndices(coords[0], ${a}));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[a]};\n          flattenIndex += index * ${this.strides[a]};`;this.userCode=`\n         void main() {\n          ${s} coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ${i}\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      `}}const PX={kernelName:Py,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:s}=t,i=s.shape,a=i[i.length-1],o=Hg(r.shape),[l,c,u,h]=NI(r,s),d=Cj({inputs:{x:s},backend:n,attrs:{shape:[c,a]}}),p=Cj({inputs:{x:r},backend:n,attrs:{shape:[Hg(r.shape)/u,u]}});if(n.shouldExecuteOnCPU([r,s])||"string"===r.dtype){const e=n.readSync(s.dataId),t=n.bufferSync(r),i=eq(e,t,r.dtype,c,a,u,h,r.shape,o);return n.makeTensorInfo(l,r.dtype,i.values)}const f=new LX(a,h,[c,u],r.shape),m=n.runWebGLProgram(f,[p,d],p.dtype),g=Cj({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}};class FX{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=bV(this.rank),r=function(e){const t=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[];for(let r=0;r<e.length;r++)2===r?n.push("index"):n.push(`${t[r]}`);return n.join()}(e);this.userCode=`\n      void main() {\n        ${n} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${r}));\n      }\n    `}}function $X(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,indices:i}=t,{axis:a,batchDims:o}=r,l=Kg(a,s.shape)[0];if(vb().get("DEBUG")){const e=n.readSync(i.dataId),t=s.shape[l];for(let n=0;n<e.length;++n){const r=e[n];Bg(r<=t-1&&r>=0,(()=>`GatherV2: the index value ${r} is not in [0, ${t-1}]`))}}const c=EA(s,i,l,o),u=Hg(i.shape),h=[],d=Cj({inputs:{x:s},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),p=Cj({inputs:{x:i},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});h.push(d),h.push(p);const f=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([s,i])||"string"===s.dtype){const e=n.bufferSync(p),t=n.bufferSync(d),r=tq(t,e,f);return h.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c.outputShape,r.dtype,r.values)}const m=new FX(d.shape,f),g=n.runWebGLProgram(m,[d,p],d.dtype);h.push(g);const b=Cj({inputs:{x:g},backend:n,attrs:{shape:c.outputShape}});return h.forEach((e=>n.disposeIntermediateTensorInfo(e))),b}const BX={kernelName:Ly,backendName:"webgl",kernelFunc:$X},UX=xj({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:nq,dtype:"bool"}),zX={kernelName:Fy,backendName:"webgl",kernelFunc:UX},HX=xj({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:rq}),WX={kernelName:$y,backendName:"webgl",kernelFunc:HX};const GX={kernelName:Uy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return gX(r,!0,n)}},VX=vj({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),qX={kernelName:Hy,backendName:"webgl",kernelFunc:VX},jX=vj({opSnippet:"return float(isinf(x));",dtype:"bool"}),YX={kernelName:Wy,backendName:"webgl",kernelFunc:jX},KX=vj({opSnippet:"return float(isnan(x));",dtype:"bool"}),XX={kernelName:Gy,backendName:"webgl",kernelFunc:KX},QX=xj({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:sq,dtype:"bool"}),JX={kernelName:qy,backendName:"webgl",kernelFunc:QX},ZX=xj({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:iq,dtype:"bool"}),eQ={kernelName:jy,backendName:"webgl",kernelFunc:ZX};const tQ={kernelName:Yy,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:s,num:i}=n,a=aq(r,s,i);return t.makeTensorInfo([a.length],"float32",a)}},nQ=vj({opSnippet:yj+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:oq}),rQ={kernelName:Ky,backendName:"webgl",kernelFunc:nQ},sQ=vj({opSnippet:yj+"\n  return log(1.0 + x);\n"}),iQ={kernelName:Xy,backendName:"webgl",kernelFunc:sQ},aQ=xj({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),oQ={kernelName:Qy,backendName:"webgl",kernelFunc:aQ},lQ=vj({opSnippet:"return float(!(x >= 1.0));"}),cQ={kernelName:Jy,backendName:"webgl",kernelFunc:lQ},uQ=xj({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),hQ={kernelName:Zy,backendName:"webgl",kernelFunc:uQ};class dQ{constructor(e,t,n,r,s){this.variableNames=["x"],this.outputShape=[];const i=t,a=e[3]-1;let o;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;o=.5===s?`inversesqrt(${l})`:1===s?`1.0/(${l})`:`exp(log(${l}) * float(-${s}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${i}; j <= ${i}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${a}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${o};\n        setOutput(val);\n      }\n    `}}class pQ{constructor(e,t,n,r,s){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const i=t,a=e[3]-1;let o;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;o=.5===s?`inversesqrt(${l})`:1===s?`1.0/(${l})`:`exp(log(${l}) * float(-${s}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${i};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${i}; j <= ${i}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${a}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${o};\n        setOutput(result);\n      }\n    `}}const fQ={kernelName:ev,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{depthRadius:i,bias:a,alpha:o,beta:l}=r,c=vb().getBool("WEBGL_PACK_NORMALIZATION")?new pQ(s.shape,i,a,o,l):new dQ(s.shape,i,a,o,l);return n.runWebGLProgram(c,[s],s.dtype)}};class mQ{constructor(e,t,n,r,s){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=s,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${r}) * norm + float(${n});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${r})\n                * float(${s})\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${s});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}const gQ={kernelName:tv,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s,y:i,dy:a}=t,{depthRadius:o,bias:l,alpha:c,beta:u}=r,h=new mQ(s.shape,o,l,c,u);return n.runWebGLProgram(h,[s,i,a],s.dtype)}};function bQ(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{reductionIndices:i,keepDims:a}=r,o=s.shape.length,l=Kg(i,s.shape);let c=l;const u=fS(c,o),h=null!=u,d=n.shouldExecuteOnCPU([s]);let p=s;if(h){if(d){const e=n.texData.get(p.dataId).values,t=new Array(o);for(let n=0;n<t.length;n++)t[n]=s.shape[u[n]];const r=Pq(e,s.shape,s.dtype,u,t);p=n.makeTensorInfo(t,s.dtype);n.texData.get(p.dataId).values=r}else p=Pj(s,u,n);c=gS(c.length,o)}pS("max",c,o);const[f,m]=hS(p.shape,c);let g,b=f;if(a&&(b=dS(f,l)),d){const e=n.texData.get(p.dataId).values,t=lq(e,Hg(m),b,s.dtype);g=n.makeTensorInfo(b,s.dtype);n.texData.get(g.dataId).values=t}else g=function(e,t,n,r){const s=Hg(t),i=Cj({inputs:{x:e},attrs:{shape:[Hg(e.shape)/s,s]},backend:r}),a=Oj(i,e.dtype,"max",r),o=Cj({inputs:{x:a},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),o}(p,m,b,n);return h&&n.disposeIntermediateTensorInfo(p),g}const yQ={kernelName:nv,backendName:"webgl",kernelFunc:bQ},vQ=xj({opSnippet:sj+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+aj+"\n  return result;\n",cpuKernelImpl:cq}),xQ={kernelName:rv,backendName:"webgl",kernelFunc:vQ};const EQ={kernelName:sv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;JG(s,"maxPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=r;Bg(vk(a,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`));const c=ck(s.shape,i,a,1,o,l);if(1===c.filterWidth&&1===c.filterHeight&&Wg(c.inShape,c.outShape))return lj({inputs:{x:s},backend:n});const u=new xY(c,"max",!1);return n.runWebGLProgram(u,[s],s.dtype)}};const TQ={kernelName:av,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{filterSize:i,strides:a,pad:o,dataFormat:l,dimRoundingMode:c}=r,u=uk(s.shape,i,a,[1,1,1],o,c,l),h=new EY(u,"max",!1);return n.runWebGLProgram(h,[s],s.dtype)}};class wQ{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,s=e.effectiveFilterHeight,i=e.effectiveFilterWidth,a=s-1-e.padInfo.top,o=i-1-e.padInfo.left,l=s*i-1;this.userCode=`\n      const ivec2 pads = ivec2(${a}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${s};\n          wR += ${r}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${n}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${i} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class kQ{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,s=e.dilationDepth,i=e.dilationHeight,a=e.dilationWidth,o=e.effectiveFilterDepth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=o-1-e.padInfo.front,h=l-1-e.padInfo.top,d=c-1-e.padInfo.left,p=o*l*c-1;this.userCode=`\n      const ivec3 pads = ivec3(${u}, ${h}, ${d});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${o};\n           wD += ${s}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${l};\n              wR += ${i}) {\n            float dyR = float(dyRCorner + wR) / ${n}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${c};\n                wC += ${a}) {\n              float dyC = float(dyCCorner + wC) / ${r}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${p} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${l} * ${c} +\n                  wR * ${c} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const SQ={kernelName:ov,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:i}=t,a=i,{filterSize:o,strides:l,pad:c,dimRoundingMode:u}=r,h=uk(a.shape,o,l,[1,1,1],c,u),d=new EY(h,"max",!0),p=n.runWebGLProgram(d,[a],a.dtype),f=new kQ(h),m=n.runWebGLProgram(f,[s,p],a.dtype);return n.disposeIntermediateTensorInfo(p),m}};const _Q={kernelName:iv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:i,output:a}=t,o=i;JG([i,a],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:h}=r,d=ck(o.shape,l,c,1,u,h),p=new xY(d,"max",!0),f=n.runWebGLProgram(p,[o],o.dtype),m=new wQ(d),g=n.runWebGLProgram(m,[s,f],o.dtype);return n.disposeIntermediateTensorInfo(f),g}};const IQ={kernelName:lv,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:s}=t,{filterSize:i,strides:a,pad:o,includeBatchInIndex:l}=n,c=r;Bg(4===s.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${s.shape.length}.`));const u=[1,1];Bg(vk(a,u),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`));const h=ck(s.shape,i,a,u,o),[d,p]=function(e,t,n,r){let s=new xY(n,"max",!1);const i=r.runWebGLProgram(s,[e],"float32");return s=new xY(n,"max",!0,!0,t),[i,r.runWebGLProgram(s,[e],"float32")]}(s,l,h,c);return[d,p]}};const AQ={kernelName:cv,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:s}=t,{keepDims:i,axis:a}=n,o=r,l=s.shape.length,c=Kg(a,s.shape);let u=c;const h=fS(u,l),d=null!=h,p=o.shouldExecuteOnCPU([s]),f=[];let m=s;if(d){if(p){const e=o.texData.get(m.dataId).values,t=new Array(l);for(let r=0;r<t.length;r++)t[r]=s.shape[h[r]];const n=Pq(e,s.shape,s.dtype,h,t);m=o.makeTensorInfo(t,s.dtype);o.texData.get(m.dataId).values=n}else m=Pj(s,h,o);f.push(m),u=gS(u.length,l)}pS("sum",u,l);const[g,b]=hS(m.shape,u);let y=g;i&&(y=dS(g,c));const v=function(e,t,n,r){const s=Hg(t),i=Cj({inputs:{x:e},attrs:{shape:[Hg(e.shape)/s,s]},backend:r}),a=Oj(i,"float32","mean",r),o=Cj({inputs:{x:a},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),o}(m,b,y,o);for(const x of f)o.disposeIntermediateTensorInfo(x);return v}};const CQ={kernelName:uv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,keepDims:a}=r,o=s.shape.length,l=Kg(i,s.shape);let c=l;const u=fS(c,o);let h=s;null!=u&&(h=Bj({inputs:{x:s},backend:n,attrs:{perm:u}}),c=gS(c.length,s.shape.length)),pS("min",c,o);const[d,p]=hS(h.shape,c),f=Cj({inputs:{x:h},backend:n,attrs:{shape:[-1,Hg(p)]}}),m=Oj(f,f.dtype,"min",n);let g;if(a){g=Cj({inputs:{x:m},backend:n,attrs:{shape:dS(d,l)}})}else g=Cj({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(h),g}},NQ=xj({opSnippet:sj+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+aj+"\n  return result;\n",cpuKernelImpl:uq}),DQ={kernelName:hv,backendName:"webgl",kernelFunc:NQ};class RQ{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,s=bV(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),l="reflect"===n?0:1;this.userCode=1!==r?`\n      ${s} start = ${s}(${i});\n      ${s} end = ${s}(${a});\n\n      void main() {\n        ${s} outC = getOutputCoords();\n        for (int i = 0; i < ${r}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${l};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};\n          }\n        }\n        ${s} coords = outC - start;\n        setOutput(getX(${o}));\n      }\n    `:`\n        int start = ${i};\n        int end = ${a};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${l};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${l};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class OQ{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,s=bV(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),o=Bq("rc",r),l=Bq("source",r),c=`${o[r-1]} < ${this.outputShape[r-1]}`,u=1===r?"source":`vec2(${l.slice(-2).join()})`,h="reflect"===n?0:1;let d="";if(1===r){const e=`\n        ${s} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${h};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${h};\n        }\n        source -= start;\n      `;d=`\n        ${s} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${u});\n        ${o[r-1]} += 1;\n        if(${c}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${u});\n        }\n      `}else{const e=`\n        ${s} source = rc;\n        ${s} lt = ${s}(lessThan(source, start));\n        ${s} gte = ${s}(greaterThanEqual(source, end));\n        ${s} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${h}) +\n                gte * ((end - 1) * 2 - source + ${h});\n        source -= start;\n      `;d=`\n        ${s} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${u});\n        ${o[r-1]} += 1;\n        if(${c}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${u});\n        }\n        rc = outputLoc;\n        ${o[r-2]} += 1;\n        if(${o[r-2]} < ${this.outputShape[r-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${l.join()}), ${u});\n          ${o[r-1]} += 1;\n          if(${c}) {\n            ${e}\n            result[3] = getChannel(getX(${l.join()}), ${u});\n          }\n        }\n      `}this.userCode=`\n      const ${s} start = ${s}(${i});\n      const ${s} end = ${s}(${a});\n\n      void main() {\n        ${s} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${d}\n        setOutput(result);\n      }\n    `}}const MQ={kernelName:dv,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:s}=t,{paddings:i,mode:a}=r,o=vb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new OQ(s.shape,i,a):new RQ(s.shape,i,a);return n.runWebGLProgram(o,[s],s.dtype)}},LQ=xj({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+aj+"\n  return result;\n"}),PQ={kernelName:pv,backendName:"webgl",kernelFunc:LQ};class FQ{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}}const $Q=xj({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),BQ={kernelName:xy,backendName:"webgl",kernelFunc:$Q},UQ="return a - b;",zQ=xj({opSnippet:UQ,packedOpSnippet:UQ,supportsComplex:!0,cpuKernelImpl:Oq}),HQ={kernelName:yx,backendName:"webgl",kernelFunc:zQ};function WQ(e){const{inputs:t,backend:n,attrs:r}=e,{logits:s}=t,{dim:i}=r,a=Kg([i],s.shape),o=bQ({inputs:{x:s},backend:n,attrs:{reductionIndices:a,keepDims:!1}}),l=dS(o.shape,a),c=Cj({inputs:{x:o},backend:n,attrs:{shape:l}}),u=zQ({inputs:{a:s,b:c},backend:n}),h=lX({inputs:{x:u},backend:n}),d=Fj({inputs:{x:h},backend:n,attrs:{axis:a,keepDims:!1}}),p=Cj({inputs:{x:d},backend:n,attrs:{shape:l}}),f=$Q({inputs:{a:h,b:p},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),f}const GQ={kernelName:ix,backendName:"webgl",kernelFunc:WQ};const VQ={kernelName:fv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:s}=t,{numSamples:i,seed:a,normalized:o}=r,l=o?s:WQ({inputs:{logits:s},backend:n,attrs:{dim:s.shape.length-1}}),c=l.shape[0],u=l.shape[1],h=new FQ(c,u,i),d=[[a]],p=n.runWebGLProgram(h,[l],"int32",d);return o||n.disposeIntermediateTensorInfo(l),p}},qQ=jq+"\n  return -x;\n";const jQ={kernelName:gv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const e=n.texData.get(r.dataId),[t,s]=dq(e.values,r.shape,r.dtype);return n.makeTensorInfo(s,r.dtype,t)}let s;return s=vb().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Jq(r.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new qq(r.shape,qQ),n.runWebGLProgram(s,[r],r.dtype)}},YQ=P_;const KQ={kernelName:yv,backendName:"webgl",kernelFunc:function(e){Lx("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:i}=t,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l}=r,c=n.readSync(s.dataId),u=n.readSync(i.dataId),{selectedIndices:h}=YQ(c,u,a,o,l);return n.makeTensorInfo([h.length],"int32",new Int32Array(h))}},XQ=F_;const QQ={kernelName:vv,backendName:"webgl",kernelFunc:function(e){Lx("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:i}=t,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:c}=r,u=n.readSync(s.dataId),h=n.readSync(i.dataId),{selectedIndices:d,validOutputs:p}=XQ(u,h,a,o,l,c);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},JQ=$_;const ZQ={kernelName:xv,backendName:"webgl",kernelFunc:function(e){Lx("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:i}=t,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,softNmsSigma:c}=r,u=n.readSync(s.dataId),h=n.readSync(i.dataId),d=a,p=o,f=l,m=c,{selectedIndices:g,selectedScores:b}=JQ(u,h,d,p,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([b.length],"float32",new Float32Array(b))]}};class eJ{constructor(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${r}), float(${n}),\n                      float(index == coords.y)));\n      }\n    `}}const tJ={kernelName:Tv,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:s}=t,{dtype:i,depth:a,onValue:o,offValue:l}=r,c=Hg(s.shape),u=new eJ(c,a,o,l),h=Cj({inputs:{x:s},backend:n,attrs:{shape:[c]}}),d=n.runWebGLProgram(u,[h],i);n.disposeIntermediateTensorInfo(h);const p=Cj({inputs:{x:d},backend:n,attrs:{shape:[...s.shape,a]}});return n.disposeIntermediateTensorInfo(d),p}};function nJ(e){const{inputs:t,backend:n}=e,{x:r}=t;if("complex64"===r.dtype){const e=WY({inputs:{input:r},backend:n}),t=nJ({inputs:{x:e},backend:n}),s=sK({inputs:{input:r},backend:n}),i=nJ({inputs:{x:s},backend:n}),a=uj({inputs:{real:t,imag:i},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),a}return vX({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}const rJ={kernelName:Ax,backendName:"webgl",kernelFunc:nJ};const sJ={kernelName:Ev,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:s}=n;if("string"===s.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===s.dtype){const t=WY({inputs:{input:s},backend:r}),n=e({inputs:{x:t},backend:r}),i=sK({inputs:{input:s},backend:r}),a=nJ({inputs:{x:i},backend:r}),o=uj({inputs:{real:n,imag:a},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),o}return vX({attrs:{shape:s.shape,dtype:s.dtype,value:1},backend:r})}};const iJ={kernelName:wv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:s}=r;if(1===t.length)return uX({inputs:{input:t[0]},backend:n,attrs:{dim:s}});const i=t[0].shape,a=t[0].dtype;t.forEach((e=>{Ug(i,e.shape,"All tensors passed to stack must have matching shapes"),Bg(a===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const o=[],l=oK({inputs:t.map((e=>{const t=uX({inputs:{input:e},backend:n,attrs:{dim:s}});return o.push(t),t})),backend:n,attrs:{axis:s}});return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}};class aJ{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,s=bV(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?`\n      ${s} start = ${s}(${i});\n      ${s} end = ${s}(${a});\n\n      void main() {\n        ${s} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${s} coords = outC - start;\n          setOutput(getX(${o}));\n        }\n      }\n    `:`\n        int start = ${i};\n        int end = ${a};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}class oJ{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,s=bV(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),o=Bq("rc",r),l=Bq("source",r),c=`${o[r-1]} < ${this.outputShape[r-1]}`,u=1===r?"source":`vec2(${l.slice(-2).join()})`,h=[`${s} rc = outputLoc;`,`${o[r-1]} += 1;\n       if(${c}) {\n      `,1===r?"":`}\n       rc = outputLoc;\n       ${o[r-2]} += 1;\n       if(${o[r-2]} < ${this.outputShape[r-2]}) {`,1===r?"":`  ${o[r-1]} += 1;\n         if(${c}) {`],d=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let f=0,m=1===r?2:4;f<m;f++)p+=`\n        ${h[f]}\n        if (${d}) {\n          result[${f}] = float(value);\n        } else {\n          ${s} source = rc - start;\n          result[${f}] = getChannel(getX(${l.join()}), ${u});\n        }\n      `;p+=1===r?"} ":"}}",this.userCode=`\n      const ${s} start = ${s}(${i});\n      const ${s} end = ${s}(${a});\n\n      void main() {\n        ${s} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${p}\n        setOutput(result);\n      }\n    `}}const lJ=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{paddings:i,constantValue:a}=r;if(0===Hg(s.shape)){const e=i.map(((e,t)=>e[0]+s.shape[t]+e[1]));return vX({backend:n,attrs:{shape:e,value:a,dtype:s.dtype}})}const o=vb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new oJ(s.shape,i,a):new aJ(s.shape,i,a),l=[[a]];return n.runWebGLProgram(o,[s],s.dtype,l)},cJ={kernelName:kv,backendName:"webgl",kernelFunc:lJ},uJ=xj({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+aj+"\n  return result;\n"}),hJ={kernelName:Sv,backendName:"webgl",kernelFunc:uJ};const dJ={kernelName:Iv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:i,keepDims:a}=r,o=s.shape.length,l=[],c=Kg(i,s.shape);let u=c;const h=fS(u,o);let d,p=s;if(null!=h&&(p=Bj({inputs:{x:s},backend:n,attrs:{perm:h}}),u=gS(u.length,o),l.push(p)),pS("prod",u,o),n.shouldExecuteOnCPU([p])){const e=n.texData.get(p.dataId).values,{outVals:t,outShape:r,outDtype:s}=fq(p.shape,p.dtype,e,u);d=n.makeTensorInfo(r,s,t)}else{const[e,t]=hS(p.shape,u),r=Hg(t),i=Cj({inputs:{x:p},backend:n,attrs:{shape:[-1,r]}}),a=Oj(i,LE(s.dtype),"prod",n);d=Cj({inputs:{x:a},backend:n,attrs:{shape:e}}),l.push(i),l.push(a)}if(a){l.push(d);const e=dS(d.shape,c);d=Cj({inputs:{x:d},backend:n,attrs:{shape:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}};const pJ={kernelName:Av,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:s,paramsDenseValues:i,indices:a}=t,{outputRaggedRank:o}=r,l=s.map((e=>n.readSync(e.dataId))),c=s.map((e=>e.shape)),u=n.readSync(i.dataId),h=n.readSync(a.dataId),[d,p,f]=mq(l,c,u,i.shape,i.dtype,h,a.shape,o),m=d.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,i.dtype,p);return m.concat([g])}};const fJ={kernelName:Cv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:s,deltas:i}=t,a=n.readSync(r.dataId),o=n.readSync(s.dataId),l=n.readSync(i.dataId),[c,u]=gq(a,r.shape,r.dtype,o,s.shape,l,i.shape);return[n.makeTensorInfo([c.length],"int32",c),n.makeTensorInfo([u.length],r.dtype,u)]}};const mJ={kernelName:Nv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:s,values:i,defaultValue:a,rowPartitionTensors:o}=t,{rowPartitionTypes:l}=r,c=n.readSync(s.dataId),u=n.readSync(i.dataId),h=n.readSync(a.dataId),d=o.map((e=>n.readSync(e.dataId))),p=o.map((e=>e.shape)),[f,m]=bq(c,s.shape,u,i.shape,i.dtype,h,a.shape,d,p,l);return n.makeTensorInfo(f,i.dtype,m)}},gJ=e=>{const{backend:t,attrs:n}=e,{start:r,stop:s,step:i,dtype:a}=n,o=yq(r,s,i,a);return t.makeTensorInfo([o.length],a,o)},bJ={kernelName:Dv,backendName:"webgl",kernelFunc:gJ},yJ=vj({opSnippet:"return 1.0 / x;"}),vJ={kernelName:Ov,backendName:"webgl",kernelFunc:yJ},xJ=vj({opSnippet:jq+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),EJ={kernelName:Mv,backendName:"webgl",kernelFunc:xJ},TJ=vj({opSnippet:jq+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),wJ={kernelName:Uv,backendName:"webgl",kernelFunc:TJ};class kJ{constructor(e,t,n,r,s){this.variableNames=["A"],this.outputShape=[];const[i,a,o,l]=e;this.outputShape=[i,t,n,l];const c=[r&&t>1?a-1:a,r&&n>1?o-1:o],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];let h;h=s?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]});\n      const vec2 inputShapeRC = vec2(${a}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${h};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class SJ{constructor(e,t,n,r,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,a,o,l]=e;this.outputShape=[i,t,n,l];const c=[r&&t>1?a-1:a,r&&n>1?o-1:o],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];let h;h=s?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]},\n          ${c[1]/u[1]});\n      const vec3 inputShapeRC = vec3(${a}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${h};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}const _J={kernelName:$v,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:s}=t,{alignCorners:i,halfPixelCenters:a,size:o}=r,[l,c]=o,u=vb().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new SJ(s.shape,l,c,i,a):new kJ(s.shape,l,c,i,a);return n.runWebGLProgram(u,[s],"float32")}};class IJ{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,s]=t,[,i,a]=e,o=[n&&i>1?r-1:r,n&&a>1?s-1:s],l=[n&&i>1?i-1:i,n&&a>1?a-1:a],c=o[0]/l[0],u=o[1]/l[1],h=1/c,d=1/u,p=2*Math.ceil(h)+2,f=2*Math.ceil(d)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${c});\n        const float widthScale = float(${u});\n\n        const float invHeightScale = float(${h});\n        const float invWidthScale = float(${d});\n\n        const int winHeight = int(${p});\n        const int winWidth = int(${f});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${i}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${a}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${s-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const AJ={kernelName:Bv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:s,dy:i}=t,{alignCorners:a}=r,o=new IJ(i.shape,s.shape,a);return n.runWebGLProgram(o,[i],i.dtype)}};class CJ{constructor(e,t,n,r,s){this.variableNames=["A"],this.outputShape=[];const[i,a,o,l]=e;this.outputShape=[i,t,n,l];const c=[r&&t>1?a-1:a,r&&n>1?o-1:o],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=r?"0.5":"0.0";let d;d=s?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]});\n      const vec2 inputShapeRC = vec2(${a}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${d};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}class NJ{constructor(e,t,n,r,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,a,o,l]=e;this.outputShape=[i,t,n,l];const c=[r&&t>1?a-1:a,r&&n>1?o-1:o],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=r?"0.5":"0.0";let d;d=s?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]},\n          ${c[1]/u[1]});\n      const vec3 inputShapeRC = vec3(${a}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${d};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}const DJ={kernelName:Pv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:s}=t,{alignCorners:i,halfPixelCenters:a,size:o}=r,[l,c]=o,u=vb().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new NJ(s.shape,l,c,i,a):new CJ(s.shape,l,c,i,a);return n.runWebGLProgram(u,[s],s.dtype)}};class RJ{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,s]=t,[,i,a]=e,o=[n&&i>1?r-1:r,n&&a>1?s-1:s],l=[n&&i>1?i-1:i,n&&a>1?a-1:a],c=o[0]/l[0],u=o[1]/l[1],h=1/c,d=1/u,p=2*Math.ceil(h)+2,f=2*Math.ceil(d)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${c});\n        const float widthScale = float(${u});\n\n        const float invHeightScale = float(${h});\n        const float invWidthScale = float(${d});\n\n        const int winHeight = int(${p});\n        const int winWidth = int(${f});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${i}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${a}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${o[0]}) *\n                (float(dyR) / float(${l[0]}));\n\n            float sourceFracCol =\n                float(${o[1]}) *\n                  (float(dyC) / float(${l[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${r}) - 1),\n                ${n} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${s}) - 1),\n                ${n} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const OJ={kernelName:Fv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:s,dy:i}=t,{alignCorners:a}=r,o=new RJ(i.shape,s.shape,a);return n.runWebGLProgram(o,[i],i.dtype)}};class MJ{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,1===n)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const r=e.map(((n,r)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - coords[${n}] - 1`:`coords[${n}]`)(r))).join(","),s=bV(n);this.userCode=`\n      void main() {\n        ${s} coords = getOutputCoords();\n        setOutput(getX(${r}));\n      }\n    `}}class LJ{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const r=Bq("rc",n),s=`${r[n-1]} + 1 < ${this.outputShape[n-1]}`,i=`${r[n-2]} + 1 < ${this.outputShape[n-2]}`,a=bV(n);function o(n){const r=e.map(((r,s)=>function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${r[n]} - 1`:`${r[n]}`}(s,n)));return`getChannel(getX(${r.join(",")}), vec2(${r.slice(-2).join(",")}))`}this.userCode=1===n?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${s}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${a} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function(e){return o(e)}(r.slice())};\n          if(${s}){\n            result.g = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",o(e)}(r.slice())};\n          }\n          if(${i}) {\n            result.b = ${function(e){return e[n-2]="("+e[n-2]+" + 1)",o(e)}(r.slice())};\n            if(${s}) {\n              result.a = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",o(e)}(r.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}const PJ={kernelName:zv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{dims:i}=r,a=s.shape.length,o=Kg(i,s.shape);if(0===a)return lj({inputs:{x:s},backend:n});const l=vb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new LJ(s.shape,o):new MJ(s.shape,o);return n.runWebGLProgram(l,[s],s.dtype)}};class FJ{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],r=e[2];this.outputShape=e;let s="";s="number"===typeof t?`float outputValue = ${t.toFixed(2)};`:`\n        vec3 fill = vec3(${t.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${s}\n          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${n}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const $J={kernelName:Dx,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:s}=t,{radians:i,fillValue:a,center:o}=n,l=r,c=new FJ(s.shape,a),[u,h]=kI(o,s.shape[1],s.shape[2]),d=[[u,h,Math.sin(i),Math.cos(i)]];return l.runWebGLProgram(c,[s],s.dtype,d)}},BJ=vj({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),UJ={kernelName:Hv,backendName:"webgl",kernelFunc:BJ},zJ=vj({opSnippet:"return inversesqrt(x);",cpuKernelImpl:vq}),HJ={kernelName:Wv,backendName:"webgl",kernelFunc:zJ};class WJ{constructor(e,t,n,r,s,i){let a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;const o=bV(s.length),l=bV(i.length);let c="";1===n?c="i":2===n&&(c="i, j");const u=`getIndices(${c})`;let h="";1===r?h="i":2===r&&(h="i, coords[1]");const d=`getUpdates(${h})`;let p="";a&&(p="coords[0], coords[1]");const f=`getDefaultValue(${p})`,m=t>1?"strides[j]":"strides";this.userCode=`\n        ${o} strides = ${o}(${s});\n\n        void main() {\n          ${l} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${u});\n              flattenedIndex += index * ${m};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${d};\n              found = true;\n            }\n          }\n          setOutput(mix(${f}, sum, float(found)));\n        }\n      `}}class GJ{constructor(e,t,n,r,s,i){let a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;const o=bV(s.length),l=bV(i.length);let c="";1===n?c="i":2===n&&(c="i, j");const u=`getIndices(${c})`;let h="";1===r?h="i":2===r&&(h="i, coords[1]");const d=`getUpdates(${h})`;let p="";a&&(p="coords[0], coords[1]");const f=`getDefaultValue(${p})`,m=t>1?"strides[j]":"strides",g=t>1?"strides[j + 1]":"strides";this.userCode=`\n        ${o} strides = ${o}(${s});\n\n        void main() {\n          ${l} coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ${e}; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ${t}; j+=2) {\n              ivec4 index = round(${u});\n              flattenedIndex += index.xz * ${m};\n              if (j + 1 < ${t}) {\n                flattenedIndex += index.yw * ${g};\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ${d};\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(${f}, sum, found));\n        }\n      `}}const VJ={kernelName:Gv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:s,updates:i}=t,{shape:a}=r,{sliceRank:o,numUpdates:l,sliceSize:c,strides:u,outputSize:h}=OI(0,s,a),d=[h/c,c];if(0===h)return n.makeTensorInfo(a,s.dtype);const p=Cj({inputs:{x:s},backend:n,attrs:{shape:[l,o]}}),f=Cj({inputs:{x:i},backend:n,attrs:{shape:[l,c]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let g;g=vb().getBool("WEBGL_PACK")?new GJ(l,o,p.shape.length,f.shape.length,u,d):new WJ(l,o,p.shape.length,f.shape.length,u,d);const b=n.runWebGLProgram(g,[f,p,m],f.dtype),y=Cj({inputs:{x:b},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(m),y}};class qJ{constructor(e,t,n,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const s=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,i=2===vb().getNumber("WEBGL_VERSION")?"while (left < right) {":s,a="left"===r?"<":"<=";this.userCode=`\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ${i}\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ${a} value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     `}}const jJ={kernelName:qv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:s,values:i}=t,{side:a}=r,o=new qJ(s.shape[0],s.shape[1],i.shape[1],a),l=[[s.shape[1]]];return n.runWebGLProgram(o,[s,i],"int32",l)}};class YJ{constructor(e,t,n){let r,s;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error(`Where for rank ${n} is not yet supported`);if(1===n)s="resRC",r="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],a=[];for(let r=0;r<t.length;r++)a.push(`${n[r]}`),r<e&&i.push(`${n[r]}`);r=i.join(),s=a.join()}const i=bV(n);this.userCode=`\n      void main() {\n        ${i} resRC = getOutputCoords();\n        float cVal = getC(${r});\n        if (cVal >= 1.0) {\n          setOutput(getA(${s}));\n        } else {\n          setOutput(getB(${s}));\n        }\n      }\n    `}}const KJ={kernelName:jv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:s,e:i}=t,a=new YJ(r.shape.length,s.shape,s.shape.length);return n.runWebGLProgram(a,[r,s,i],ME(s.dtype,i.dtype))}},XJ=vj({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${MI};\n  float scale = ${LI};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),QJ={kernelName:Yv,backendName:"webgl",kernelFunc:XJ},JJ=vj({opSnippet:yj+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Eq}),ZJ={kernelName:Zv,backendName:"webgl",kernelFunc:JJ},eZ=vj({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),tZ={kernelName:Jv,backendName:"webgl",kernelFunc:eZ},nZ=vj({opSnippet:yj+"\n  return sin(x);\n",packedOpSnippet:`\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ${aj}\n  return result;\n`}),rZ={kernelName:Xv,backendName:"webgl",kernelFunc:nZ},sZ=vj({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),iZ={kernelName:Qv,backendName:"webgl",kernelFunc:sZ},aZ=vj({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),oZ={kernelName:ex,backendName:"webgl",kernelFunc:aZ},lZ={kernelName:rx,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockShape:i,paddings:a}=r;Bg(s.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const o=i.reduce(((e,t)=>e*t)),l=[[0,0]];l.push(...a);for(let b=1+i.length;b<s.shape.length;++b)l.push([0,0]);const c=[],u=lJ({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),h=SI(u.shape,i,o,!1),d=_I(h.length,i.length,!1),p=II(u.shape,i,o,!1),f=Cj({inputs:{x:u},backend:n,attrs:{shape:h}}),m=Bj({inputs:{x:f},backend:n,attrs:{perm:d}}),g=Cj({inputs:{x:m},backend:n,attrs:{shape:p}});return c.push(u),c.push(f),c.push(m),c.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}};const cZ={kernelName:ax,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:s,denseShape:i,defaultValue:a}=t;if(1!==i.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${i.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${r.shape}`);if(1!==s.shape.length)throw new Error(`Values must be a vector, saw:\n         ${s.shape}`);if(0!==a.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${a.shape}`);const o=n.readSync(r.dataId),l=n.readSync(s.dataId),c=n.readSync(i.dataId),u=n.readSync(a.dataId)[0],[h,d,p,f,m]=kq(o,r.shape,r.dtype,l,s.dtype,c,u);return[n.makeTensorInfo(d,r.dtype,h),n.makeTensorInfo([d[0]],s.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};const uZ={kernelName:ox,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:s,newShape:i}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(1!==s.shape.length)throw new Error(`Input shape should be a vector but received shape ${s.shape}`);if(1!==i.shape.length)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const a=Array.from(n.readSync(s.dataId)),o=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),[c,u,h]=Sq(o,r.shape,r.dtype,a,l);return[n.makeTensorInfo(u,r.dtype,c),n.makeTensorInfo([h.length],i.dtype,new Int32Array(h))]}};const hZ={kernelName:lx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:s,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==s.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${s.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${i.shape}`);const a=n.readSync(r.dataId),o=n.readSync(s.dataId),l=n.readSync(i.dataId),[c,u]=_q(a,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(u,r.dtype,c)}};const dZ={kernelName:cx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:s,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==s.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${s.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${i.shape}`);const a=n.readSync(r.dataId),o=n.readSync(s.dataId),l=n.readSync(i.dataId),[c,u]=_q(a,r.shape,r.dtype,o,l);return n.makeTensorInfo(u,r.dtype,c)}};const pZ={kernelName:ux,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:s,sparseValues:i,defaultValue:a}=t,{outputShape:o}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:h,outputSize:d}=OI(0,s,o),p=!1;if("string"===i.dtype){const e=n.bufferSync(s),t=n.bufferSync(i),r=uE(n.readSync(a.dataId)[0]),f=xq(e,t,o,d,u,c,l,h,r,p);return n.makeTensorInfo(o,f.dtype,f.values)}const f=new WJ(c,l,s.shape.length,i.shape.length,h,[d,1],p),m=n.runWebGLProgram(f,[i,s,a],i.dtype),g=Cj({inputs:{x:m},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(m),g}};const fZ={kernelName:sx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{numOrSizeSplits:i,axis:a}=r,o=Kg(a,s.shape)[0],l=aA(s,i,o),c=s.shape.length,u=new Array(c).fill(0),h=s.shape.slice();return l.map((e=>{const t=[...h];t[o]=e;const r=LY({inputs:{x:s},backend:n,attrs:{begin:u,size:t}});return u[o]+=e,r}))}},mZ="return sqrt(x);",gZ=vj({opSnippet:mZ,packedOpSnippet:mZ,cpuKernelImpl:Iq}),bZ={kernelName:tx,backendName:"webgl",kernelFunc:gZ},yZ={kernelName:dx,backendName:"webgl",kernelFunc:vj({opSnippet:"return x * x;"})},vZ="return (a - b) * (a - b);",xZ=xj({opSnippet:vZ,packedOpSnippet:vZ}),EZ={kernelName:hx,backendName:"webgl",kernelFunc:xZ};const TZ={kernelName:px,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;if("string"!==s.dtype)throw new Error("Input must be of datatype string");const i=TA(n.readSync(s.dataId)),a=Aq(i,"string",r);return n.makeTensorInfo(s.shape,"string",a)}};const wZ={kernelName:Cx,backendName:"webgl",kernelFunc:function(e){let{inputs:t,attrs:n,backend:r}=e;const{x:s}=t,i=jq+`\n    return x > 0.0 ? 1.0 : float(${n.alpha});\n  `,a=new qq(s.shape,i);return r.runWebGLProgram(a,[s],s.dtype)}};class kZ{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const r=n.length,s=bV(n.length),i=bV(n.length);let a="";if(1===r)a="coords * strides + begin";else{let e=0;a=n.map(((t,r)=>(e++,1===n.length?`coords * strides[${r}] + begin[${r}]`:`coords[${e-1}] * strides[${r}] + begin[${r}]`))).join(",")}this.userCode=`\n      ${s} begin = ${s}(${e});\n      ${s} strides = ${s}(${t});\n\n      void main() {\n        ${i} coords = getOutputCoords();\n        setOutput(getX(${a}));\n      }\n    `}}const SZ={kernelName:fx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{begin:i,end:a,strides:o,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:h,shrinkAxisMask:d}=r,{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:b,begin:y,end:v,strides:x}=rk(s.shape,i,a,o,l,c,u,h,d);let E;if(m)E=Cj({inputs:{x:s},backend:n,attrs:{shape:f}});else if(g||b){Bg(s.shape.length>=1,(()=>`Input must have rank at least 1, got: ${s.shape.length}`));const e=Gw(y,v,x),t=LY({inputs:{x:s},backend:n,attrs:{begin:y,size:e}});E=Cj({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([s])){const e=n.readSync(s.dataId),t=QT(s.shape,s.dtype,e),r=Cq(p,t,x,y);E=n.makeTensorInfo(f,s.dtype,r.values)}else{const e=new kZ(y,x,p);E=n.runWebGLProgram(e,[s],s.dtype)}}const T=Cj({inputs:{x:E},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(E),T}};const _Z={kernelName:mx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:s,nGramWidths:i,leftPad:a,rightPad:o,padWidth:l,preserveShortSequences:c}=r,{data:u,dataSplits:h}=t,d=n.readSync(u.dataId),p=n.readSync(h.dataId),[f,m]=Nq(d,p,s,i,a,o,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(h.shape,"int32",m)]}};const IZ={kernelName:gx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:s}=r,{input:i,delimiter:a}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(0!==a.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const o=n.readSync(i.dataId),l=n.readSync(a.dataId)[0],[c,u,h]=Dq(o,l,s),d=u.length;return[n.makeTensorInfo([d,2],"int32",c),n.makeTensorInfo([d],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(h))]}};const AZ={kernelName:bx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:s}=r,{input:i}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const a=n.readSync(i.dataId),o=Rq(a,s);return n.makeTensorInfo(i.shape,"int32",o)}},CZ=vj({opSnippet:"return tan(x);"}),NZ={kernelName:vx,backendName:"webgl",kernelFunc:CZ},DZ=vj({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),RZ={kernelName:xx,backendName:"webgl",kernelFunc:DZ};const OZ={kernelName:Vv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{tensor:s,indices:i,updates:a}=t,{}=r,{sliceRank:o,numUpdates:l,sliceSize:c,strides:u,outputSize:h}=OI(0,i,s.shape),d=[h/c,c];if(0===h)return n.makeTensorInfo(s.shape,i.dtype);const p=Cj({inputs:{x:i},backend:n,attrs:{shape:[l,o]}}),f=Cj({inputs:{x:a},backend:n,attrs:{shape:[l,c]}}),m=Cj({inputs:{x:s},backend:n,attrs:{shape:d}}),g=new WJ(l,o,p.shape.length,f.shape.length,u,d,!1,!0),b=n.runWebGLProgram(g,[f,p,m],m.dtype),y=Cj({inputs:{x:b},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),y}};class MZ{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e[i]*t[i];this.outputShape=n,this.rank=n.length;const r=bV(this.rank),s=function(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let s=0;s<e.length;s++)r.push(`imod(${n[s]}, ${e[s]})`);return r.join()}(e);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        setOutput(getA(${s}));\n      }\n    `}}function LZ(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{reps:i}=r;if("string"===s.dtype||s.shape.length>5){const e=n.readSync(s.dataId),t="string"===s.dtype?e.map((e=>uE(e))):e,r=QT(s.shape,s.dtype,t),a=Mq(r,i);return n.makeTensorInfo(a.shape,a.dtype,a.values)}const a=new MZ(s.shape,i);return n.runWebGLProgram(a,[s],s.dtype)}const PZ={kernelName:Ex,backendName:"webgl",kernelFunc:LZ};class FZ{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class $Z{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function BZ(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function UZ(e){let t=1;for(;t<e;)t*=2;return t}const zZ={kernelName:Tx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{k:i,sorted:a}=r,o=vb().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=vb().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=s.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([s])||u<o||i>l){const e=n.readSync(s.dataId),[t,r]=Lq(e,c,s.dtype,i,a);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(r.shape,r.dtype,r.values)]}if(0===i)return c[c.length-1]=0,[n.makeTensorInfo(c,s.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(1===u)return[s,vX({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const h=n.texData.get(s.dataId),d=null!==h&&h.isPacked,p=d?n.unpackTensor(s):s,f=Hg(c)/u,m=Cj({inputs:{x:p},attrs:{shape:[f,u]},backend:n});d&&BZ(n,p);const g=UZ(i),b=UZ(u);let y=null;const v=()=>null===y?[m,m]:[m,y],x=(e,t,r)=>{const s=v(),i=new FZ(r),a=[[u],[null===y?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],o=y;y=n.runWebGLProgram(i,s,"int32",a),BZ(n,o)};for(let S=1;S<g;S*=2){const e=2*S;for(let t=S;t>=1;t/=2)x(e,t,[f,b])}for(let S=b;S>g;S/=2){const e=v(),t=new $Z([f,S/2]),r=[[u],[null===y?1:0],[g]],s=y;y=n.runWebGLProgram(t,e,"int32",r),BZ(n,s);const i=g/2,a=2*i;for(let n=i;n>=1;n/=2)x(a,n,y.shape)}let E=y;y=LY({inputs:{x:y},backend:n,attrs:{begin:0,size:[f,i]}}),BZ(n,E);let T=$X({inputs:{x:m,indices:y},backend:n,attrs:{axis:1,batchDims:1}});BZ(n,m);const w=c.slice(0,-1);w.push(i),E=y,y=Cj({inputs:{x:y},attrs:{shape:w},backend:n}),BZ(n,E);const k=T;return T=Cj({inputs:{x:T},attrs:{shape:w},backend:n}),BZ(n,k),[T,y]}};class HZ{constructor(e,t,n,r,s,i){this.variableNames=["Image","Transforms"],this.outputShape=i;const a="nearest"===n?1:2;let o;switch(r){case"constant":default:o=1;break;case"reflect":o=2;break;case"wrap":o=3;break;case"nearest":o=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${o} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${o} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${o} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${s});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${s});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${t}));\n                float mapY = mapCoord(inY, float(${e}));\n\n                if (${a} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}const WZ={kernelName:wx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:s,transforms:i}=t,{interpolation:a,fillMode:o,fillValue:l,outputShape:c}=r,[u,h,d,p]=s.shape,[f,m]=null!=c?c:[h,d],g=new HZ(h,d,a,o,l,[u,f,m,p]);return n.runWebGLProgram(g,[s,i],"float32")}};const GZ={kernelName:Sx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:s}=n,{x:i}=t;JG(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const a=r.readSync(i.dataId),{outputValues:o,outputShape:l,indices:c}=Fq(a,s,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,o),r.makeTensorInfo([c.length],"int32",c)]}};const VZ={kernelName:_x,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:s}=t;let{axis:i}=r;i<0&&(i+=s.shape.length);const a=s,o=a.shape.length,l=s.shape[i],c=new Array(o-1);let u=0;for(let m=0;m<o;m++)m!==i&&(c[u++]=a.shape[m]);const h=[],d=new Array(o).fill(0),p=a.shape.slice();p[i]=1;const f=new Array(l);for(let m=0;m<f.length;m++){d[i]=m;const e=LY({inputs:{x:a},backend:n,attrs:{begin:d,size:p}}),t=Cj({inputs:{x:e},backend:n,attrs:{shape:c}});f[m]=t,h.push(e)}return h.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}};class qZ{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,r=e.batchSize,s=e.inSize,i=e.numSegments,a=i*Math.ceil(s/n);this.outputShape=[r,a];const o=4*Math.floor(n/4),l=n%4,c="\n        sumValue += dot(values, segFilter);\n    ";let u="";s%n>0&&(u=`\n        if (inIdx < 0 || inIdx >= ${s}) {\n          return initializationValue;\n        }\n      `);let h="";s%n>0&&(h=`\n        if (inIdx < 0 || inIdx >= ${s}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${u}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${h}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${i})) * float(${n}));\n        int currentSeg = int(mod(float(outIdx), float(${i})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${o}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${c}\n        }\n\n        int inIdx = inOffset + ${o};\n        if (${1===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${c}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${c}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${c}\n        }\n        setOutput(sumValue);\n      }\n    `}}const jZ={kernelName:Ix,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,segmentIds:i}=t,{numSegments:a}=r,o=s.shape.length,l=[];let c=0;const u=fS([c],o);let h=s;null!=u&&(h=Bj({inputs:{x:s},backend:n,attrs:{perm:u}}),l.push(h),c=gS(1,o)[0]);const d=xA(h.shape,c,a),p=Hg([h.shape[c]]),f=Cj({inputs:{x:h},backend:n,attrs:{shape:[-1,p]}});l.push(f);const m=LE(s.dtype),g=(e,t,r,s,i)=>{const a=e.shape[0],o=e.shape[1],c=vA(o,i),u=new qZ({windowSize:c,inSize:o,batchSize:a,numSegments:i},t),h=n.compileAndRun(u,[e,r],s);if(l.push(h),h.shape[1]===i)return h;const d=gJ({backend:n,attrs:{start:0,stop:i,step:1,dtype:"float32"}}),p=LZ({inputs:{x:d},backend:n,attrs:{reps:[o/c]}});l.push(d),l.push(p);return g(h,t,p,s,i)},b=Cj({inputs:{x:g(f,"unsortedSegmentSum",i,m,a)},backend:n,attrs:{shape:d}});let y=b;if(null!=u){l.push(b);const e=mS(u);y=Bj({inputs:{x:y},backend:n,attrs:{perm:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}},YZ=[Hj,Gj,qj,Yj,Qj,eY,tY,nY,lY,cY,hY,pY,mY,bY,vY,TY,wY,_Y,IY,AY,DY,FY,$Y,BY,UY,VY,YY,QY,hj,eK,lK,gK,EK,wK,kK,SK,_K,AK,NK,RK,$K,BK,UK,HK,VK,YK,KK,QK,ZK,eX,nX,rX,iX,oX,cX,hX,fX,bX,xX,TX,SX,IX,NX,OX,MX,PX,BX,zX,WX,cj,GX,iK,qX,YX,XX,fj,JX,eQ,tQ,rQ,iQ,oQ,cQ,hQ,fQ,gQ,yQ,xQ,EQ,TQ,SQ,_Q,IQ,AQ,CQ,DQ,MQ,PQ,VQ,Aj,jQ,KQ,QQ,ZQ,HY,tJ,sJ,iJ,cJ,hJ,bj,dJ,pJ,fJ,mJ,bJ,GY,BQ,vJ,EJ,wJ,Nj,_J,AJ,DJ,OJ,PJ,$J,UJ,HJ,VJ,jJ,KJ,QJ,ZJ,tZ,rZ,iZ,PY,GQ,oZ,lZ,cZ,uZ,hZ,dZ,pZ,fZ,bZ,yZ,EZ,TZ,wZ,SZ,_Z,IZ,AZ,HQ,$j,NZ,RZ,OZ,PZ,zZ,WZ,Uj,GZ,VZ,jZ,rJ];for(const n of YZ)Hx(n);var KZ;function XZ(e){return e.type===KZ.Tag||e.type===KZ.Script||e.type===KZ.Style}!function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(KZ||(KZ={}));const QZ=KZ.Root,JZ=KZ.Text,ZZ=KZ.Directive,e0=KZ.Comment,t0=KZ.Script,n0=KZ.Style,r0=KZ.Tag,s0=KZ.CDATA,i0=KZ.Doctype;class a0{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(){return E0(this,arguments.length>0&&void 0!==arguments[0]&&arguments[0])}}class o0 extends a0{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}class l0 extends o0{constructor(){super(...arguments),this.type=KZ.Text}get nodeType(){return 3}}class c0 extends o0{constructor(){super(...arguments),this.type=KZ.Comment}get nodeType(){return 8}}class u0 extends o0{constructor(e,t){super(t),this.name=e,this.type=KZ.Directive}get nodeType(){return 1}}class h0 extends a0{constructor(e){super(),this.children=e}get firstChild(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class d0 extends h0{constructor(){super(...arguments),this.type=KZ.CDATA}get nodeType(){return 4}}class p0 extends h0{constructor(){super(...arguments),this.type=KZ.Root}get nodeType(){return 9}}class f0 extends h0{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"script"===e?KZ.Script:"style"===e?KZ.Style:KZ.Tag;super(n),this.name=e,this.attribs=t,this.type=r}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map((e=>{var t,n;return{name:e,value:this.attribs[e],namespace:null===(t=this["x-attribsNamespace"])||void 0===t?void 0:t[e],prefix:null===(n=this["x-attribsPrefix"])||void 0===n?void 0:n[e]}}))}}function m0(e){return XZ(e)}function g0(e){return e.type===KZ.CDATA}function b0(e){return e.type===KZ.Text}function y0(e){return e.type===KZ.Comment}function v0(e){return e.type===KZ.Root}function x0(e){return Object.prototype.hasOwnProperty.call(e,"children")}function E0(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(b0(e))t=new l0(e.data);else if(y0(e))t=new c0(e.data);else if(m0(e)){const r=n?T0(e.children):[],s=new f0(e.name,{...e.attribs},r);r.forEach((e=>e.parent=s)),null!=e.namespace&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]={...e["x-attribsPrefix"]}),t=s}else if(g0(e)){const r=n?T0(e.children):[],s=new d0(r);r.forEach((e=>e.parent=s)),t=s}else if(v0(e)){const r=n?T0(e.children):[],s=new p0(r);r.forEach((e=>e.parent=s)),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),t=s}else{if(!function(e){return e.type===KZ.Directive}(e))throw new Error(`Not implemented yet: ${e.type}`);{const n=new u0(e.name,e.data);null!=e["x-name"]&&(n["x-name"]=e["x-name"],n["x-publicId"]=e["x-publicId"],n["x-systemId"]=e["x-systemId"]),t=n}}return t.startIndex=e.startIndex,t.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(t.sourceCodeLocation=e.sourceCodeLocation),t}function T0(e){const t=e.map((e=>E0(e,!0)));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const w0={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class k0{constructor(e,t,n){this.dom=[],this.root=new p0(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"===typeof t&&(n=t,t=w0),"object"===typeof e&&(t=e,e=void 0),this.callback=null!==e&&void 0!==e?e:null,this.options=null!==t&&void 0!==t?t:w0,this.elementCB=null!==n&&void 0!==n?n:null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new p0(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;const e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,t){const n=this.options.xmlMode?KZ.Tag:void 0,r=new f0(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)}ontext(e){const{lastNode:t}=this;if(t&&t.type===KZ.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const t=new l0(e);this.addNode(t),this.lastNode=t}}oncomment(e){if(this.lastNode&&this.lastNode.type===KZ.Comment)return void(this.lastNode.data+=e);const t=new c0(e);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const e=new l0(""),t=new d0([e]);this.addNode(t),e.parent=t,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,t){const n=new u0(e,t);this.addNode(n)}handleCallback(e){if("function"===typeof this.callback)this.callback(e,this.dom);else if(e)throw e}addNode(e){const t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null}}const S0=new Uint16Array('\u1d41<\xd5\u0131\u028a\u049d\u057b\u05d0\u0675\u06de\u07a2\u07d6\u080f\u0a4a\u0a91\u0da1\u0e6d\u0f09\u0f26\u10ca\u1228\u12e1\u1415\u149d\u14c3\u14df\u1525\0\0\0\0\0\0\u156b\u16cd\u198d\u1c12\u1ddd\u1f7e\u2060\u21b0\u228d\u23c0\u23fb\u2442\u2824\u2912\u2d08\u2e48\u2fce\u3016\u32ba\u3639\u37ac\u38fe\u3a28\u3a71\u3ae0\u3b2e\u0800EMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig\u803b\xc6\u40c6P\u803b&\u4026cute\u803b\xc1\u40c1reve;\u4102\u0100iyx}rc\u803b\xc2\u40c2;\u4410r;\uc000\ud835\udd04rave\u803b\xc0\u40c0pha;\u4391acr;\u4100d;\u6a53\u0100gp\x9d\xa1on;\u4104f;\uc000\ud835\udd38plyFunction;\u6061ing\u803b\xc5\u40c5\u0100cs\xbe\xc3r;\uc000\ud835\udc9cign;\u6254ilde\u803b\xc3\u40c3ml\u803b\xc4\u40c4\u0400aceforsu\xe5\xfb\xfe\u0117\u011c\u0122\u0127\u012a\u0100cr\xea\xf2kslash;\u6216\u0176\xf6\xf8;\u6ae7ed;\u6306y;\u4411\u0180crt\u0105\u010b\u0114ause;\u6235noullis;\u612ca;\u4392r;\uc000\ud835\udd05pf;\uc000\ud835\udd39eve;\u42d8c\xf2\u0113mpeq;\u624e\u0700HOacdefhilorsu\u014d\u0151\u0156\u0180\u019e\u01a2\u01b5\u01b7\u01ba\u01dc\u0215\u0273\u0278\u027ecy;\u4427PY\u803b\xa9\u40a9\u0180cpy\u015d\u0162\u017aute;\u4106\u0100;i\u0167\u0168\u62d2talDifferentialD;\u6145leys;\u612d\u0200aeio\u0189\u018e\u0194\u0198ron;\u410cdil\u803b\xc7\u40c7rc;\u4108nint;\u6230ot;\u410a\u0100dn\u01a7\u01adilla;\u40b8terDot;\u40b7\xf2\u017fi;\u43a7rcle\u0200DMPT\u01c7\u01cb\u01d1\u01d6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01e2\u01f8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020foubleQuote;\u601duote;\u6019\u0200lnpu\u021e\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6a74\u0180git\u022f\u0236\u023aruent;\u6261nt;\u622fourIntegral;\u622e\u0100fr\u024c\u024e;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6a2fcr;\uc000\ud835\udc9ep\u0100;C\u0284\u0285\u62d3ap;\u624d\u0580DJSZacefios\u02a0\u02ac\u02b0\u02b4\u02b8\u02cb\u02d7\u02e1\u02e6\u0333\u048d\u0100;o\u0179\u02a5trahd;\u6911cy;\u4402cy;\u4405cy;\u440f\u0180grs\u02bf\u02c4\u02c7ger;\u6021r;\u61a1hv;\u6ae4\u0100ay\u02d0\u02d5ron;\u410e;\u4414l\u0100;t\u02dd\u02de\u6207a;\u4394r;\uc000\ud835\udd07\u0100af\u02eb\u0327\u0100cm\u02f0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031ccute;\u40b4o\u0174\u030b\u030d;\u42d9bleAcute;\u42ddrave;\u4060ilde;\u42dcond;\u62c4ferentialD;\u6146\u0470\u033d\0\0\0\u0342\u0354\0\u0405f;\uc000\ud835\udd3b\u0180;DE\u0348\u0349\u034d\u40a8ot;\u60dcqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03cf\u03e2\u03f8ontourIntegra\xec\u0239o\u0274\u0379\0\0\u037b\xbb\u0349nArrow;\u61d3\u0100eo\u0387\u03a4ft\u0180ART\u0390\u0396\u03a1rrow;\u61d0ightArrow;\u61d4e\xe5\u02cang\u0100LR\u03ab\u03c4eft\u0100AR\u03b3\u03b9rrow;\u67f8ightArrow;\u67faightArrow;\u67f9ight\u0100AT\u03d8\u03derrow;\u61d2ee;\u62a8p\u0241\u03e9\0\0\u03efrrow;\u61d1ownArrow;\u61d5erticalBar;\u6225n\u0300ABLRTa\u0412\u042a\u0430\u045e\u047f\u037crrow\u0180;BU\u041d\u041e\u0422\u6193ar;\u6913pArrow;\u61f5reve;\u4311eft\u02d2\u043a\0\u0446\0\u0450ightVector;\u6950eeVector;\u695eector\u0100;B\u0459\u045a\u61bdar;\u6956ight\u01d4\u0467\0\u0471eeVector;\u695fector\u0100;B\u047a\u047b\u61c1ar;\u6957ee\u0100;A\u0486\u0487\u62a4rrow;\u61a7\u0100ct\u0492\u0497r;\uc000\ud835\udc9frok;\u4110\u0800NTacdfglmopqstux\u04bd\u04c0\u04c4\u04cb\u04de\u04e2\u04e7\u04ee\u04f5\u0521\u052f\u0536\u0552\u055d\u0560\u0565G;\u414aH\u803b\xd0\u40d0cute\u803b\xc9\u40c9\u0180aiy\u04d2\u04d7\u04dcron;\u411arc\u803b\xca\u40ca;\u442dot;\u4116r;\uc000\ud835\udd08rave\u803b\xc8\u40c8ement;\u6208\u0100ap\u04fa\u04fecr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65fberySmallSquare;\u65ab\u0100gp\u0526\u052aon;\u4118f;\uc000\ud835\udd3csilon;\u4395u\u0100ai\u053c\u0549l\u0100;T\u0542\u0543\u6a75ilde;\u6242librium;\u61cc\u0100ci\u0557\u055ar;\u6130m;\u6a73a;\u4397ml\u803b\xcb\u40cb\u0100ip\u056a\u056fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058d\u05b2\u05ccy;\u4424r;\uc000\ud835\udd09lled\u0253\u0597\0\0\u05a3mallSquare;\u65fcerySmallSquare;\u65aa\u0370\u05ba\0\u05bf\0\0\u05c4f;\uc000\ud835\udd3dAll;\u6200riertrf;\u6131c\xf2\u05cb\u0600JTabcdfgorst\u05e8\u05ec\u05ef\u05fa\u0600\u0612\u0616\u061b\u061d\u0623\u066c\u0672cy;\u4403\u803b>\u403emma\u0100;d\u05f7\u05f8\u4393;\u43dcreve;\u411e\u0180eiy\u0607\u060c\u0610dil;\u4122rc;\u411c;\u4413ot;\u4120r;\uc000\ud835\udd0a;\u62d9pf;\uc000\ud835\udd3eeater\u0300EFGLST\u0635\u0644\u064e\u0656\u065b\u0666qual\u0100;L\u063e\u063f\u6265ess;\u62dbullEqual;\u6267reater;\u6aa2ess;\u6277lantEqual;\u6a7eilde;\u6273cr;\uc000\ud835\udca2;\u626b\u0400Aacfiosu\u0685\u068b\u0696\u069b\u069e\u06aa\u06be\u06caRDcy;\u442a\u0100ct\u0690\u0694ek;\u42c7;\u405eirc;\u4124r;\u610clbertSpace;\u610b\u01f0\u06af\0\u06b2f;\u610dizontalLine;\u6500\u0100ct\u06c3\u06c5\xf2\u06a9rok;\u4126mp\u0144\u06d0\u06d8ownHum\xf0\u012fqual;\u624f\u0700EJOacdfgmnostu\u06fa\u06fe\u0703\u0707\u070e\u071a\u071e\u0721\u0728\u0744\u0778\u078b\u078f\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803b\xcd\u40cd\u0100iy\u0713\u0718rc\u803b\xce\u40ce;\u4418ot;\u4130r;\u6111rave\u803b\xcc\u40cc\u0180;ap\u0720\u072f\u073f\u0100cg\u0734\u0737r;\u412ainaryI;\u6148lie\xf3\u03dd\u01f4\u0749\0\u0762\u0100;e\u074d\u074e\u622c\u0100gr\u0753\u0758ral;\u622bsection;\u62c2isible\u0100CT\u076c\u0772omma;\u6063imes;\u6062\u0180gpt\u077f\u0783\u0788on;\u412ef;\uc000\ud835\udd40a;\u4399cr;\u6110ilde;\u4128\u01eb\u079a\0\u079ecy;\u4406l\u803b\xcf\u40cf\u0280cfosu\u07ac\u07b7\u07bc\u07c2\u07d0\u0100iy\u07b1\u07b5rc;\u4134;\u4419r;\uc000\ud835\udd0dpf;\uc000\ud835\udd41\u01e3\u07c7\0\u07ccr;\uc000\ud835\udca5rcy;\u4408kcy;\u4404\u0380HJacfos\u07e4\u07e8\u07ec\u07f1\u07fd\u0802\u0808cy;\u4425cy;\u440cppa;\u439a\u0100ey\u07f6\u07fbdil;\u4136;\u441ar;\uc000\ud835\udd0epf;\uc000\ud835\udd42cr;\uc000\ud835\udca6\u0580JTaceflmost\u0825\u0829\u082c\u0850\u0863\u09b3\u09b8\u09c7\u09cd\u0a37\u0a47cy;\u4409\u803b<\u403c\u0280cmnpr\u0837\u083c\u0841\u0844\u084dute;\u4139bda;\u439bg;\u67ealacetrf;\u6112r;\u619e\u0180aey\u0857\u085c\u0861ron;\u413ddil;\u413b;\u441b\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087e\u08a9\u08b1\u08e0\u08e6\u08fc\u092f\u095b\u0390\u096a\u0100nr\u0883\u088fgleBracket;\u67e8row\u0180;BR\u0899\u089a\u089e\u6190ar;\u61e4ightArrow;\u61c6eiling;\u6308o\u01f5\u08b7\0\u08c3bleBracket;\u67e6n\u01d4\u08c8\0\u08d2eeVector;\u6961ector\u0100;B\u08db\u08dc\u61c3ar;\u6959loor;\u630aight\u0100AV\u08ef\u08f5rrow;\u6194ector;\u694e\u0100er\u0901\u0917e\u0180;AV\u0909\u090a\u0910\u62a3rrow;\u61a4ector;\u695aiangle\u0180;BE\u0924\u0925\u0929\u62b2ar;\u69cfqual;\u62b4p\u0180DTV\u0937\u0942\u094cownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61bfar;\u6958ector\u0100;B\u0965\u0966\u61bcar;\u6952ight\xe1\u039cs\u0300EFGLST\u097e\u098b\u0995\u099d\u09a2\u09adqualGreater;\u62daullEqual;\u6266reater;\u6276ess;\u6aa1lantEqual;\u6a7dilde;\u6272r;\uc000\ud835\udd0f\u0100;e\u09bd\u09be\u62d8ftarrow;\u61daidot;\u413f\u0180npw\u09d4\u0a16\u0a1bg\u0200LRlr\u09de\u09f7\u0a02\u0a10eft\u0100AR\u09e6\u09ecrrow;\u67f5ightArrow;\u67f7ightArrow;\u67f6eft\u0100ar\u03b3\u0a0aight\xe1\u03bfight\xe1\u03caf;\uc000\ud835\udd43er\u0100LR\u0a22\u0a2ceftArrow;\u6199ightArrow;\u6198\u0180cht\u0a3e\u0a40\u0a42\xf2\u084c;\u61b0rok;\u4141;\u626a\u0400acefiosu\u0a5a\u0a5d\u0a60\u0a77\u0a7c\u0a85\u0a8b\u0a8ep;\u6905y;\u441c\u0100dl\u0a65\u0a6fiumSpace;\u605flintrf;\u6133r;\uc000\ud835\udd10nusPlus;\u6213pf;\uc000\ud835\udd44c\xf2\u0a76;\u439c\u0480Jacefostu\u0aa3\u0aa7\u0aad\u0ac0\u0b14\u0b19\u0d91\u0d97\u0d9ecy;\u440acute;\u4143\u0180aey\u0ab4\u0ab9\u0aberon;\u4147dil;\u4145;\u441d\u0180gsw\u0ac7\u0af0\u0b0eative\u0180MTV\u0ad3\u0adf\u0ae8ediumSpace;\u600bhi\u0100cn\u0ae6\u0ad8\xeb\u0ad9eryThi\xee\u0ad9ted\u0100GL\u0af8\u0b06reaterGreate\xf2\u0673essLes\xf3\u0a48Line;\u400ar;\uc000\ud835\udd11\u0200Bnpt\u0b22\u0b28\u0b37\u0b3areak;\u6060BreakingSpace;\u40a0f;\u6115\u0680;CDEGHLNPRSTV\u0b55\u0b56\u0b6a\u0b7c\u0ba1\u0beb\u0c04\u0c5e\u0c84\u0ca6\u0cd8\u0d61\u0d85\u6aec\u0100ou\u0b5b\u0b64ngruent;\u6262pCap;\u626doubleVerticalBar;\u6226\u0180lqx\u0b83\u0b8a\u0b9bement;\u6209ual\u0100;T\u0b92\u0b93\u6260ilde;\uc000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0bb6\u0bb7\u0bbd\u0bc9\u0bd3\u0bd8\u0be5\u626fqual;\u6271ullEqual;\uc000\u2267\u0338reater;\uc000\u226b\u0338ess;\u6279lantEqual;\uc000\u2a7e\u0338ilde;\u6275ump\u0144\u0bf2\u0bfdownHump;\uc000\u224e\u0338qual;\uc000\u224f\u0338e\u0100fs\u0c0a\u0c27tTriangle\u0180;BE\u0c1a\u0c1b\u0c21\u62eaar;\uc000\u29cf\u0338qual;\u62ecs\u0300;EGLST\u0c35\u0c36\u0c3c\u0c44\u0c4b\u0c58\u626equal;\u6270reater;\u6278ess;\uc000\u226a\u0338lantEqual;\uc000\u2a7d\u0338ilde;\u6274ested\u0100GL\u0c68\u0c79reaterGreater;\uc000\u2aa2\u0338essLess;\uc000\u2aa1\u0338recedes\u0180;ES\u0c92\u0c93\u0c9b\u6280qual;\uc000\u2aaf\u0338lantEqual;\u62e0\u0100ei\u0cab\u0cb9verseElement;\u620cghtTriangle\u0180;BE\u0ccb\u0ccc\u0cd2\u62ebar;\uc000\u29d0\u0338qual;\u62ed\u0100qu\u0cdd\u0d0cuareSu\u0100bp\u0ce8\u0cf9set\u0100;E\u0cf0\u0cf3\uc000\u228f\u0338qual;\u62e2erset\u0100;E\u0d03\u0d06\uc000\u2290\u0338qual;\u62e3\u0180bcp\u0d13\u0d24\u0d4eset\u0100;E\u0d1b\u0d1e\uc000\u2282\u20d2qual;\u6288ceeds\u0200;EST\u0d32\u0d33\u0d3b\u0d46\u6281qual;\uc000\u2ab0\u0338lantEqual;\u62e1ilde;\uc000\u227f\u0338erset\u0100;E\u0d58\u0d5b\uc000\u2283\u20d2qual;\u6289ilde\u0200;EFT\u0d6e\u0d6f\u0d75\u0d7f\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uc000\ud835\udca9ilde\u803b\xd1\u40d1;\u439d\u0700Eacdfgmoprstuv\u0dbd\u0dc2\u0dc9\u0dd5\u0ddb\u0de0\u0de7\u0dfc\u0e02\u0e20\u0e22\u0e32\u0e3f\u0e44lig;\u4152cute\u803b\xd3\u40d3\u0100iy\u0dce\u0dd3rc\u803b\xd4\u40d4;\u441eblac;\u4150r;\uc000\ud835\udd12rave\u803b\xd2\u40d2\u0180aei\u0dee\u0df2\u0df6cr;\u414cga;\u43a9cron;\u439fpf;\uc000\ud835\udd46enCurly\u0100DQ\u0e0e\u0e1aoubleQuote;\u601cuote;\u6018;\u6a54\u0100cl\u0e27\u0e2cr;\uc000\ud835\udcaaash\u803b\xd8\u40d8i\u016c\u0e37\u0e3cde\u803b\xd5\u40d5es;\u6a37ml\u803b\xd6\u40d6er\u0100BP\u0e4b\u0e60\u0100ar\u0e50\u0e53r;\u603eac\u0100ek\u0e5a\u0e5c;\u63deet;\u63b4arenthesis;\u63dc\u0480acfhilors\u0e7f\u0e87\u0e8a\u0e8f\u0e92\u0e94\u0e9d\u0eb0\u0efcrtialD;\u6202y;\u441fr;\uc000\ud835\udd13i;\u43a6;\u43a0usMinus;\u40b1\u0100ip\u0ea2\u0eadncareplan\xe5\u069df;\u6119\u0200;eio\u0eb9\u0eba\u0ee0\u0ee4\u6abbcedes\u0200;EST\u0ec8\u0ec9\u0ecf\u0eda\u627aqual;\u6aaflantEqual;\u627cilde;\u627eme;\u6033\u0100dp\u0ee9\u0eeeuct;\u620fortion\u0100;a\u0225\u0ef9l;\u621d\u0100ci\u0f01\u0f06r;\uc000\ud835\udcab;\u43a8\u0200Ufos\u0f11\u0f16\u0f1b\u0f1fOT\u803b"\u4022r;\uc000\ud835\udd14pf;\u611acr;\uc000\ud835\udcac\u0600BEacefhiorsu\u0f3e\u0f43\u0f47\u0f60\u0f73\u0fa7\u0faa\u0fad\u1096\u10a9\u10b4\u10bearr;\u6910G\u803b\xae\u40ae\u0180cnr\u0f4e\u0f53\u0f56ute;\u4154g;\u67ebr\u0100;t\u0f5c\u0f5d\u61a0l;\u6916\u0180aey\u0f67\u0f6c\u0f71ron;\u4158dil;\u4156;\u4420\u0100;v\u0f78\u0f79\u611cerse\u0100EU\u0f82\u0f99\u0100lq\u0f87\u0f8eement;\u620builibrium;\u61cbpEquilibrium;\u696fr\xbb\u0f79o;\u43a1ght\u0400ACDFTUVa\u0fc1\u0feb\u0ff3\u1022\u1028\u105b\u1087\u03d8\u0100nr\u0fc6\u0fd2gleBracket;\u67e9row\u0180;BL\u0fdc\u0fdd\u0fe1\u6192ar;\u61e5eftArrow;\u61c4eiling;\u6309o\u01f5\u0ff9\0\u1005bleBracket;\u67e7n\u01d4\u100a\0\u1014eeVector;\u695dector\u0100;B\u101d\u101e\u61c2ar;\u6955loor;\u630b\u0100er\u102d\u1043e\u0180;AV\u1035\u1036\u103c\u62a2rrow;\u61a6ector;\u695biangle\u0180;BE\u1050\u1051\u1055\u62b3ar;\u69d0qual;\u62b5p\u0180DTV\u1063\u106e\u1078ownVector;\u694feeVector;\u695cector\u0100;B\u1082\u1083\u61bear;\u6954ector\u0100;B\u1091\u1092\u61c0ar;\u6953\u0100pu\u109b\u109ef;\u611dndImplies;\u6970ightarrow;\u61db\u0100ch\u10b9\u10bcr;\u611b;\u61b1leDelayed;\u69f4\u0680HOacfhimoqstu\u10e4\u10f1\u10f7\u10fd\u1119\u111e\u1151\u1156\u1161\u1167\u11b5\u11bb\u11bf\u0100Cc\u10e9\u10eeHcy;\u4429y;\u4428FTcy;\u442ccute;\u415a\u0280;aeiy\u1108\u1109\u110e\u1113\u1117\u6abcron;\u4160dil;\u415erc;\u415c;\u4421r;\uc000\ud835\udd16ort\u0200DLRU\u112a\u1134\u113e\u1149ownArrow\xbb\u041eeftArrow\xbb\u089aightArrow\xbb\u0fddpArrow;\u6191gma;\u43a3allCircle;\u6218pf;\uc000\ud835\udd4a\u0272\u116d\0\0\u1170t;\u621aare\u0200;ISU\u117b\u117c\u1189\u11af\u65a1ntersection;\u6293u\u0100bp\u118f\u119eset\u0100;E\u1197\u1198\u628fqual;\u6291erset\u0100;E\u11a8\u11a9\u6290qual;\u6292nion;\u6294cr;\uc000\ud835\udcaear;\u62c6\u0200bcmp\u11c8\u11db\u1209\u120b\u0100;s\u11cd\u11ce\u62d0et\u0100;E\u11cd\u11d5qual;\u6286\u0100ch\u11e0\u1205eeds\u0200;EST\u11ed\u11ee\u11f4\u11ff\u627bqual;\u6ab0lantEqual;\u627dilde;\u627fTh\xe1\u0f8c;\u6211\u0180;es\u1212\u1213\u1223\u62d1rset\u0100;E\u121c\u121d\u6283qual;\u6287et\xbb\u1213\u0580HRSacfhiors\u123e\u1244\u1249\u1255\u125e\u1271\u1276\u129f\u12c2\u12c8\u12d1ORN\u803b\xde\u40deADE;\u6122\u0100Hc\u124e\u1252cy;\u440by;\u4426\u0100bu\u125a\u125c;\u4009;\u43a4\u0180aey\u1265\u126a\u126fron;\u4164dil;\u4162;\u4422r;\uc000\ud835\udd17\u0100ei\u127b\u1289\u01f2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128e\u1298kSpace;\uc000\u205f\u200aSpace;\u6009lde\u0200;EFT\u12ab\u12ac\u12b2\u12bc\u623cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uc000\ud835\udd4bipleDot;\u60db\u0100ct\u12d6\u12dbr;\uc000\ud835\udcafrok;\u4166\u0ae1\u12f7\u130e\u131a\u1326\0\u132c\u1331\0\0\0\0\0\u1338\u133d\u1377\u1385\0\u13ff\u1404\u140a\u1410\u0100cr\u12fb\u1301ute\u803b\xda\u40dar\u0100;o\u1307\u1308\u619fcir;\u6949r\u01e3\u1313\0\u1316y;\u440eve;\u416c\u0100iy\u131e\u1323rc\u803b\xdb\u40db;\u4423blac;\u4170r;\uc000\ud835\udd18rave\u803b\xd9\u40d9acr;\u416a\u0100di\u1341\u1369er\u0100BP\u1348\u135d\u0100ar\u134d\u1350r;\u405fac\u0100ek\u1357\u1359;\u63dfet;\u63b5arenthesis;\u63ddon\u0100;P\u1370\u1371\u62c3lus;\u628e\u0100gp\u137b\u137fon;\u4172f;\uc000\ud835\udd4c\u0400ADETadps\u1395\u13ae\u13b8\u13c4\u03e8\u13d2\u13d7\u13f3rrow\u0180;BD\u1150\u13a0\u13a4ar;\u6912ownArrow;\u61c5ownArrow;\u6195quilibrium;\u696eee\u0100;A\u13cb\u13cc\u62a5rrow;\u61a5own\xe1\u03f3er\u0100LR\u13de\u13e8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13f9\u13fa\u43d2on;\u43a5ing;\u416ecr;\uc000\ud835\udcb0ilde;\u4168ml\u803b\xdc\u40dc\u0480Dbcdefosv\u1427\u142c\u1430\u1433\u143e\u1485\u148a\u1490\u1496ash;\u62abar;\u6aeby;\u4412ash\u0100;l\u143b\u143c\u62a9;\u6ae6\u0100er\u1443\u1445;\u62c1\u0180bty\u144c\u1450\u147aar;\u6016\u0100;i\u144f\u1455cal\u0200BLST\u1461\u1465\u146a\u1474ar;\u6223ine;\u407ceparator;\u6758ilde;\u6240ThinSpace;\u600ar;\uc000\ud835\udd19pf;\uc000\ud835\udd4dcr;\uc000\ud835\udcb1dash;\u62aa\u0280cefos\u14a7\u14ac\u14b1\u14b6\u14bcirc;\u4174dge;\u62c0r;\uc000\ud835\udd1apf;\uc000\ud835\udd4ecr;\uc000\ud835\udcb2\u0200fios\u14cb\u14d0\u14d2\u14d8r;\uc000\ud835\udd1b;\u439epf;\uc000\ud835\udd4fcr;\uc000\ud835\udcb3\u0480AIUacfosu\u14f1\u14f5\u14f9\u14fd\u1504\u150f\u1514\u151a\u1520cy;\u442fcy;\u4407cy;\u442ecute\u803b\xdd\u40dd\u0100iy\u1509\u150drc;\u4176;\u442br;\uc000\ud835\udd1cpf;\uc000\ud835\udd50cr;\uc000\ud835\udcb4ml;\u4178\u0400Hacdefos\u1535\u1539\u153f\u154b\u154f\u155d\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417d;\u4417ot;\u417b\u01f2\u1554\0\u155boWidt\xe8\u0ad9a;\u4396r;\u6128pf;\u6124cr;\uc000\ud835\udcb5\u0be1\u1583\u158a\u1590\0\u15b0\u15b6\u15bf\0\0\0\0\u15c6\u15db\u15eb\u165f\u166d\0\u1695\u169b\u16b2\u16b9\0\u16becute\u803b\xe1\u40e1reve;\u4103\u0300;Ediuy\u159c\u159d\u15a1\u15a3\u15a8\u15ad\u623e;\uc000\u223e\u0333;\u623frc\u803b\xe2\u40e2te\u80bb\xb4\u0306;\u4430lig\u803b\xe6\u40e6\u0100;r\xb2\u15ba;\uc000\ud835\udd1erave\u803b\xe0\u40e0\u0100ep\u15ca\u15d6\u0100fp\u15cf\u15d4sym;\u6135\xe8\u15d3ha;\u43b1\u0100ap\u15dfc\u0100cl\u15e4\u15e7r;\u4101g;\u6a3f\u0264\u15f0\0\0\u160a\u0280;adsv\u15fa\u15fb\u15ff\u1601\u1607\u6227nd;\u6a55;\u6a5clope;\u6a58;\u6a5a\u0380;elmrsz\u1618\u1619\u161b\u161e\u163f\u164f\u1659\u6220;\u69a4e\xbb\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163a\u163c\u163e;\u69a8;\u69a9;\u69aa;\u69ab;\u69ac;\u69ad;\u69ae;\u69aft\u0100;v\u1645\u1646\u621fb\u0100;d\u164c\u164d\u62be;\u699d\u0100pt\u1654\u1657h;\u6222\xbb\xb9arr;\u637c\u0100gp\u1663\u1667on;\u4105f;\uc000\ud835\udd52\u0380;Eaeiop\u12c1\u167b\u167d\u1682\u1684\u1687\u168a;\u6a70cir;\u6a6f;\u624ad;\u624bs;\u4027rox\u0100;e\u12c1\u1692\xf1\u1683ing\u803b\xe5\u40e5\u0180cty\u16a1\u16a6\u16a8r;\uc000\ud835\udcb6;\u402amp\u0100;e\u12c1\u16af\xf1\u0288ilde\u803b\xe3\u40e3ml\u803b\xe4\u40e4\u0100ci\u16c2\u16c8onin\xf4\u0272nt;\u6a11\u0800Nabcdefiklnoprsu\u16ed\u16f1\u1730\u173c\u1743\u1748\u1778\u177d\u17e0\u17e6\u1839\u1850\u170d\u193d\u1948\u1970ot;\u6aed\u0100cr\u16f6\u171ek\u0200ceps\u1700\u1705\u170d\u1713ong;\u624cpsilon;\u43f6rime;\u6035im\u0100;e\u171a\u171b\u623dq;\u62cd\u0176\u1722\u1726ee;\u62bded\u0100;g\u172c\u172d\u6305e\xbb\u172drk\u0100;t\u135c\u1737brk;\u63b6\u0100oy\u1701\u1741;\u4431quo;\u601e\u0280cmprt\u1753\u175b\u1761\u1764\u1768aus\u0100;e\u010a\u0109ptyv;\u69b0s\xe9\u170cno\xf5\u0113\u0180ahw\u176f\u1771\u1773;\u43b2;\u6136een;\u626cr;\uc000\ud835\udd1fg\u0380costuvw\u178d\u179d\u17b3\u17c1\u17d5\u17db\u17de\u0180aiu\u1794\u1796\u179a\xf0\u0760rc;\u65efp\xbb\u1371\u0180dpt\u17a4\u17a8\u17adot;\u6a00lus;\u6a01imes;\u6a02\u0271\u17b9\0\0\u17becup;\u6a06ar;\u6605riangle\u0100du\u17cd\u17d2own;\u65bdp;\u65b3plus;\u6a04e\xe5\u1444\xe5\u14adarow;\u690d\u0180ako\u17ed\u1826\u1835\u0100cn\u17f2\u1823k\u0180lst\u17fa\u05ab\u1802ozenge;\u69ebriangle\u0200;dlr\u1812\u1813\u1818\u181d\u65b4own;\u65beeft;\u65c2ight;\u65b8k;\u6423\u01b1\u182b\0\u1833\u01b2\u182f\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183e\u184d\u0100;q\u1843\u1846\uc000=\u20e5uiv;\uc000\u2261\u20e5t;\u6310\u0200ptwx\u1859\u185e\u1867\u186cf;\uc000\ud835\udd53\u0100;t\u13cb\u1863om\xbb\u13cctie;\u62c8\u0600DHUVbdhmptuv\u1885\u1896\u18aa\u18bb\u18d7\u18db\u18ec\u18ff\u1905\u190a\u1910\u1921\u0200LRlr\u188e\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18a1\u18a2\u18a4\u18a6\u18a8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18b3\u18b5\u18b7\u18b9;\u655d;\u655a;\u655c;\u6559\u0380;HLRhlr\u18ca\u18cb\u18cd\u18cf\u18d1\u18d3\u18d5\u6551;\u656c;\u6563;\u6560;\u656b;\u6562;\u655fox;\u69c9\u0200LRlr\u18e4\u18e6\u18e8\u18ea;\u6555;\u6552;\u6510;\u650c\u0280;DUdu\u06bd\u18f7\u18f9\u18fb\u18fd;\u6565;\u6568;\u652c;\u6534inus;\u629flus;\u629eimes;\u62a0\u0200LRlr\u1919\u191b\u191d\u191f;\u655b;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193b\u6502;\u656a;\u6561;\u655e;\u653c;\u6524;\u651c\u0100ev\u0123\u1942bar\u803b\xa6\u40a6\u0200ceio\u1951\u1956\u195a\u1960r;\uc000\ud835\udcb7mi;\u604fm\u0100;e\u171a\u171cl\u0180;bh\u1968\u1969\u196b\u405c;\u69c5sub;\u67c8\u016c\u1974\u197el\u0100;e\u1979\u197a\u6022t\xbb\u197ap\u0180;Ee\u012f\u1985\u1987;\u6aae\u0100;q\u06dc\u06db\u0ce1\u19a7\0\u19e8\u1a11\u1a15\u1a32\0\u1a37\u1a50\0\0\u1ab4\0\0\u1ac1\0\0\u1b21\u1b2e\u1b4d\u1b52\0\u1bfd\0\u1c0c\u0180cpr\u19ad\u19b2\u19ddute;\u4107\u0300;abcds\u19bf\u19c0\u19c4\u19ca\u19d5\u19d9\u6229nd;\u6a44rcup;\u6a49\u0100au\u19cf\u19d2p;\u6a4bp;\u6a47ot;\u6a40;\uc000\u2229\ufe00\u0100eo\u19e2\u19e5t;\u6041\xee\u0693\u0200aeiu\u19f0\u19fb\u1a01\u1a05\u01f0\u19f5\0\u19f8s;\u6a4don;\u410ddil\u803b\xe7\u40e7rc;\u4109ps\u0100;s\u1a0c\u1a0d\u6a4cm;\u6a50ot;\u410b\u0180dmn\u1a1b\u1a20\u1a26il\u80bb\xb8\u01adptyv;\u69b2t\u8100\xa2;e\u1a2d\u1a2e\u40a2r\xe4\u01b2r;\uc000\ud835\udd20\u0180cei\u1a3d\u1a40\u1a4dy;\u4447ck\u0100;m\u1a47\u1a48\u6713ark\xbb\u1a48;\u43c7r\u0380;Ecefms\u1a5f\u1a60\u1a62\u1a6b\u1aa4\u1aaa\u1aae\u65cb;\u69c3\u0180;el\u1a69\u1a6a\u1a6d\u42c6q;\u6257e\u0261\u1a74\0\0\u1a88rrow\u0100lr\u1a7c\u1a81eft;\u61baight;\u61bb\u0280RSacd\u1a92\u1a94\u1a96\u1a9a\u1a9f\xbb\u0f47;\u64c8st;\u629birc;\u629aash;\u629dnint;\u6a10id;\u6aefcir;\u69c2ubs\u0100;u\u1abb\u1abc\u6663it\xbb\u1abc\u02ec\u1ac7\u1ad4\u1afa\0\u1b0aon\u0100;e\u1acd\u1ace\u403a\u0100;q\xc7\xc6\u026d\u1ad9\0\0\u1ae2a\u0100;t\u1ade\u1adf\u402c;\u4040\u0180;fl\u1ae8\u1ae9\u1aeb\u6201\xee\u1160e\u0100mx\u1af1\u1af6ent\xbb\u1ae9e\xf3\u024d\u01e7\u1afe\0\u1b07\u0100;d\u12bb\u1b02ot;\u6a6dn\xf4\u0246\u0180fry\u1b10\u1b14\u1b17;\uc000\ud835\udd54o\xe4\u0254\u8100\xa9;s\u0155\u1b1dr;\u6117\u0100ao\u1b25\u1b29rr;\u61b5ss;\u6717\u0100cu\u1b32\u1b37r;\uc000\ud835\udcb8\u0100bp\u1b3c\u1b44\u0100;e\u1b41\u1b42\u6acf;\u6ad1\u0100;e\u1b49\u1b4a\u6ad0;\u6ad2dot;\u62ef\u0380delprvw\u1b60\u1b6c\u1b77\u1b82\u1bac\u1bd4\u1bf9arr\u0100lr\u1b68\u1b6a;\u6938;\u6935\u0270\u1b72\0\0\u1b75r;\u62dec;\u62dfarr\u0100;p\u1b7f\u1b80\u61b6;\u693d\u0300;bcdos\u1b8f\u1b90\u1b96\u1ba1\u1ba5\u1ba8\u622arcap;\u6a48\u0100au\u1b9b\u1b9ep;\u6a46p;\u6a4aot;\u628dr;\u6a45;\uc000\u222a\ufe00\u0200alrv\u1bb5\u1bbf\u1bde\u1be3rr\u0100;m\u1bbc\u1bbd\u61b7;\u693cy\u0180evw\u1bc7\u1bd4\u1bd8q\u0270\u1bce\0\0\u1bd2re\xe3\u1b73u\xe3\u1b75ee;\u62ceedge;\u62cfen\u803b\xa4\u40a4earrow\u0100lr\u1bee\u1bf3eft\xbb\u1b80ight\xbb\u1bbde\xe4\u1bdd\u0100ci\u1c01\u1c07onin\xf4\u01f7nt;\u6231lcty;\u632d\u0980AHabcdefhijlorstuwz\u1c38\u1c3b\u1c3f\u1c5d\u1c69\u1c75\u1c8a\u1c9e\u1cac\u1cb7\u1cfb\u1cff\u1d0d\u1d7b\u1d91\u1dab\u1dbb\u1dc6\u1dcdr\xf2\u0381ar;\u6965\u0200glrs\u1c48\u1c4d\u1c52\u1c54ger;\u6020eth;\u6138\xf2\u1133h\u0100;v\u1c5a\u1c5b\u6010\xbb\u090a\u016b\u1c61\u1c67arow;\u690fa\xe3\u0315\u0100ay\u1c6e\u1c73ron;\u410f;\u4434\u0180;ao\u0332\u1c7c\u1c84\u0100gr\u02bf\u1c81r;\u61catseq;\u6a77\u0180glm\u1c91\u1c94\u1c98\u803b\xb0\u40b0ta;\u43b4ptyv;\u69b1\u0100ir\u1ca3\u1ca8sht;\u697f;\uc000\ud835\udd21ar\u0100lr\u1cb3\u1cb5\xbb\u08dc\xbb\u101e\u0280aegsv\u1cc2\u0378\u1cd6\u1cdc\u1ce0m\u0180;os\u0326\u1cca\u1cd4nd\u0100;s\u0326\u1cd1uit;\u6666amma;\u43ddin;\u62f2\u0180;io\u1ce7\u1ce8\u1cf8\u40f7de\u8100\xf7;o\u1ce7\u1cf0ntimes;\u62c7n\xf8\u1cf7cy;\u4452c\u026f\u1d06\0\0\u1d0arn;\u631eop;\u630d\u0280lptuw\u1d18\u1d1d\u1d22\u1d49\u1d55lar;\u4024f;\uc000\ud835\udd55\u0280;emps\u030b\u1d2d\u1d37\u1d3d\u1d42q\u0100;d\u0352\u1d33ot;\u6251inus;\u6238lus;\u6214quare;\u62a1blebarwedg\xe5\xfan\u0180adh\u112e\u1d5d\u1d67ownarrow\xf3\u1c83arpoon\u0100lr\u1d72\u1d76ef\xf4\u1cb4igh\xf4\u1cb6\u0162\u1d7f\u1d85karo\xf7\u0f42\u026f\u1d8a\0\0\u1d8ern;\u631fop;\u630c\u0180cot\u1d98\u1da3\u1da6\u0100ry\u1d9d\u1da1;\uc000\ud835\udcb9;\u4455l;\u69f6rok;\u4111\u0100dr\u1db0\u1db4ot;\u62f1i\u0100;f\u1dba\u1816\u65bf\u0100ah\u1dc0\u1dc3r\xf2\u0429a\xf2\u0fa6angle;\u69a6\u0100ci\u1dd2\u1dd5y;\u445fgrarr;\u67ff\u0900Dacdefglmnopqrstux\u1e01\u1e09\u1e19\u1e38\u0578\u1e3c\u1e49\u1e61\u1e7e\u1ea5\u1eaf\u1ebd\u1ee1\u1f2a\u1f37\u1f44\u1f4e\u1f5a\u0100Do\u1e06\u1d34o\xf4\u1c89\u0100cs\u1e0e\u1e14ute\u803b\xe9\u40e9ter;\u6a6e\u0200aioy\u1e22\u1e27\u1e31\u1e36ron;\u411br\u0100;c\u1e2d\u1e2e\u6256\u803b\xea\u40ealon;\u6255;\u444dot;\u4117\u0100Dr\u1e41\u1e45ot;\u6252;\uc000\ud835\udd22\u0180;rs\u1e50\u1e51\u1e57\u6a9aave\u803b\xe8\u40e8\u0100;d\u1e5c\u1e5d\u6a96ot;\u6a98\u0200;ils\u1e6a\u1e6b\u1e72\u1e74\u6a99nters;\u63e7;\u6113\u0100;d\u1e79\u1e7a\u6a95ot;\u6a97\u0180aps\u1e85\u1e89\u1e97cr;\u4113ty\u0180;sv\u1e92\u1e93\u1e95\u6205et\xbb\u1e93p\u01001;\u1e9d\u1ea4\u0133\u1ea1\u1ea3;\u6004;\u6005\u6003\u0100gs\u1eaa\u1eac;\u414bp;\u6002\u0100gp\u1eb4\u1eb8on;\u4119f;\uc000\ud835\udd56\u0180als\u1ec4\u1ece\u1ed2r\u0100;s\u1eca\u1ecb\u62d5l;\u69e3us;\u6a71i\u0180;lv\u1eda\u1edb\u1edf\u43b5on\xbb\u1edb;\u43f5\u0200csuv\u1eea\u1ef3\u1f0b\u1f23\u0100io\u1eef\u1e31rc\xbb\u1e2e\u0269\u1ef9\0\0\u1efb\xed\u0548ant\u0100gl\u1f02\u1f06tr\xbb\u1e5dess\xbb\u1e7a\u0180aei\u1f12\u1f16\u1f1als;\u403dst;\u625fv\u0100;D\u0235\u1f20D;\u6a78parsl;\u69e5\u0100Da\u1f2f\u1f33ot;\u6253rr;\u6971\u0180cdi\u1f3e\u1f41\u1ef8r;\u612fo\xf4\u0352\u0100ah\u1f49\u1f4b;\u43b7\u803b\xf0\u40f0\u0100mr\u1f53\u1f57l\u803b\xeb\u40ebo;\u60ac\u0180cip\u1f61\u1f64\u1f67l;\u4021s\xf4\u056e\u0100eo\u1f6c\u1f74ctatio\xee\u0559nential\xe5\u0579\u09e1\u1f92\0\u1f9e\0\u1fa1\u1fa7\0\0\u1fc6\u1fcc\0\u1fd3\0\u1fe6\u1fea\u2000\0\u2008\u205allingdotse\xf1\u1e44y;\u4444male;\u6640\u0180ilr\u1fad\u1fb3\u1fc1lig;\u8000\ufb03\u0269\u1fb9\0\0\u1fbdg;\u8000\ufb00ig;\u8000\ufb04;\uc000\ud835\udd23lig;\u8000\ufb01lig;\uc000fj\u0180alt\u1fd9\u1fdc\u1fe1t;\u666dig;\u8000\ufb02ns;\u65b1of;\u4192\u01f0\u1fee\0\u1ff3f;\uc000\ud835\udd57\u0100ak\u05bf\u1ff7\u0100;v\u1ffc\u1ffd\u62d4;\u6ad9artint;\u6a0d\u0100ao\u200c\u2055\u0100cs\u2011\u2052\u03b1\u201a\u2030\u2038\u2045\u2048\0\u2050\u03b2\u2022\u2025\u2027\u202a\u202c\0\u202e\u803b\xbd\u40bd;\u6153\u803b\xbc\u40bc;\u6155;\u6159;\u615b\u01b3\u2034\0\u2036;\u6154;\u6156\u02b4\u203e\u2041\0\0\u2043\u803b\xbe\u40be;\u6157;\u615c5;\u6158\u01b6\u204c\0\u204e;\u615a;\u615d8;\u615el;\u6044wn;\u6322cr;\uc000\ud835\udcbb\u0880Eabcdefgijlnorstv\u2082\u2089\u209f\u20a5\u20b0\u20b4\u20f0\u20f5\u20fa\u20ff\u2103\u2112\u2138\u0317\u213e\u2152\u219e\u0100;l\u064d\u2087;\u6a8c\u0180cmp\u2090\u2095\u209dute;\u41f5ma\u0100;d\u209c\u1cda\u43b3;\u6a86reve;\u411f\u0100iy\u20aa\u20aerc;\u411d;\u4433ot;\u4121\u0200;lqs\u063e\u0642\u20bd\u20c9\u0180;qs\u063e\u064c\u20c4lan\xf4\u0665\u0200;cdl\u0665\u20d2\u20d5\u20e5c;\u6aa9ot\u0100;o\u20dc\u20dd\u6a80\u0100;l\u20e2\u20e3\u6a82;\u6a84\u0100;e\u20ea\u20ed\uc000\u22db\ufe00s;\u6a94r;\uc000\ud835\udd24\u0100;g\u0673\u061bmel;\u6137cy;\u4453\u0200;Eaj\u065a\u210c\u210e\u2110;\u6a92;\u6aa5;\u6aa4\u0200Eaes\u211b\u211d\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6a8arox\xbb\u2124\u0100;q\u212e\u212f\u6a88\u0100;q\u212e\u211bim;\u62e7pf;\uc000\ud835\udd58\u0100ci\u2143\u2146r;\u610am\u0180;el\u066b\u214e\u2150;\u6a8e;\u6a90\u8300>;cdlqr\u05ee\u2160\u216a\u216e\u2173\u2179\u0100ci\u2165\u2167;\u6aa7r;\u6a7aot;\u62d7Par;\u6995uest;\u6a7c\u0280adels\u2184\u216a\u2190\u0656\u219b\u01f0\u2189\0\u218epro\xf8\u209er;\u6978q\u0100lq\u063f\u2196les\xf3\u2088i\xed\u066b\u0100en\u21a3\u21adrtneqq;\uc000\u2269\ufe00\xc5\u21aa\u0500Aabcefkosy\u21c4\u21c7\u21f1\u21f5\u21fa\u2218\u221d\u222f\u2268\u227dr\xf2\u03a0\u0200ilmr\u21d0\u21d4\u21d7\u21dbrs\xf0\u1484f\xbb\u2024il\xf4\u06a9\u0100dr\u21e0\u21e4cy;\u444a\u0180;cw\u08f4\u21eb\u21efir;\u6948;\u61adar;\u610firc;\u4125\u0180alr\u2201\u220e\u2213rts\u0100;u\u2209\u220a\u6665it\xbb\u220alip;\u6026con;\u62b9r;\uc000\ud835\udd25s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223a\u223e\u2243\u225e\u2263rr;\u61fftht;\u623bk\u0100lr\u2249\u2253eftarrow;\u61a9ightarrow;\u61aaf;\uc000\ud835\udd59bar;\u6015\u0180clt\u226f\u2274\u2278r;\uc000\ud835\udcbdas\xe8\u21f4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xbb\u1c5b\u0ae1\u22a3\0\u22aa\0\u22b8\u22c5\u22ce\0\u22d5\u22f3\0\0\u22f8\u2322\u2367\u2362\u237f\0\u2386\u23aa\u23b4cute\u803b\xed\u40ed\u0180;iy\u0771\u22b0\u22b5rc\u803b\xee\u40ee;\u4438\u0100cx\u22bc\u22bfy;\u4435cl\u803b\xa1\u40a1\u0100fr\u039f\u22c9;\uc000\ud835\udd26rave\u803b\xec\u40ec\u0200;ino\u073e\u22dd\u22e9\u22ee\u0100in\u22e2\u22e6nt;\u6a0ct;\u622dfin;\u69dcta;\u6129lig;\u4133\u0180aop\u22fe\u231a\u231d\u0180cgt\u2305\u2308\u2317r;\u412b\u0180elp\u071f\u230f\u2313in\xe5\u078ear\xf4\u0720h;\u4131f;\u62b7ed;\u41b5\u0280;cfot\u04f4\u232c\u2331\u233d\u2341are;\u6105in\u0100;t\u2338\u2339\u621eie;\u69dddo\xf4\u2319\u0280;celp\u0757\u234c\u2350\u235b\u2361al;\u62ba\u0100gr\u2355\u2359er\xf3\u1563\xe3\u234darhk;\u6a17rod;\u6a3c\u0200cgpt\u236f\u2372\u2376\u237by;\u4451on;\u412ff;\uc000\ud835\udd5aa;\u43b9uest\u803b\xbf\u40bf\u0100ci\u238a\u238fr;\uc000\ud835\udcben\u0280;Edsv\u04f4\u239b\u239d\u23a1\u04f3;\u62f9ot;\u62f5\u0100;v\u23a6\u23a7\u62f4;\u62f3\u0100;i\u0777\u23aelde;\u4129\u01eb\u23b8\0\u23bccy;\u4456l\u803b\xef\u40ef\u0300cfmosu\u23cc\u23d7\u23dc\u23e1\u23e7\u23f5\u0100iy\u23d1\u23d5rc;\u4135;\u4439r;\uc000\ud835\udd27ath;\u4237pf;\uc000\ud835\udd5b\u01e3\u23ec\0\u23f1r;\uc000\ud835\udcbfrcy;\u4458kcy;\u4454\u0400acfghjos\u240b\u2416\u2422\u2427\u242d\u2431\u2435\u243bppa\u0100;v\u2413\u2414\u43ba;\u43f0\u0100ey\u241b\u2420dil;\u4137;\u443ar;\uc000\ud835\udd28reen;\u4138cy;\u4445cy;\u445cpf;\uc000\ud835\udd5ccr;\uc000\ud835\udcc0\u0b80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248d\u2491\u250e\u253d\u255a\u2580\u264e\u265e\u2665\u2679\u267d\u269a\u26b2\u26d8\u275d\u2768\u278b\u27c0\u2801\u2812\u0180art\u2477\u247a\u247cr\xf2\u09c6\xf2\u0395ail;\u691barr;\u690e\u0100;g\u0994\u248b;\u6a8bar;\u6962\u0963\u24a5\0\u24aa\0\u24b1\0\0\0\0\0\u24b5\u24ba\0\u24c6\u24c8\u24cd\0\u24f9ute;\u413amptyv;\u69b4ra\xee\u084cbda;\u43bbg\u0180;dl\u088e\u24c1\u24c3;\u6991\xe5\u088e;\u6a85uo\u803b\xab\u40abr\u0400;bfhlpst\u0899\u24de\u24e6\u24e9\u24eb\u24ee\u24f1\u24f5\u0100;f\u089d\u24e3s;\u691fs;\u691d\xeb\u2252p;\u61abl;\u6939im;\u6973l;\u61a2\u0180;ae\u24ff\u2500\u2504\u6aabil;\u6919\u0100;s\u2509\u250a\u6aad;\uc000\u2aad\ufe00\u0180abr\u2515\u2519\u251drr;\u690crk;\u6772\u0100ak\u2522\u252cc\u0100ek\u2528\u252a;\u407b;\u405b\u0100es\u2531\u2533;\u698bl\u0100du\u2539\u253b;\u698f;\u698d\u0200aeuy\u2546\u254b\u2556\u2558ron;\u413e\u0100di\u2550\u2554il;\u413c\xec\u08b0\xe2\u2529;\u443b\u0200cqrs\u2563\u2566\u256d\u257da;\u6936uo\u0100;r\u0e19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694bh;\u61b2\u0280;fgqs\u258b\u258c\u0989\u25f3\u25ff\u6264t\u0280ahlrt\u2598\u25a4\u25b7\u25c2\u25e8rrow\u0100;t\u0899\u25a1a\xe9\u24f6arpoon\u0100du\u25af\u25b4own\xbb\u045ap\xbb\u0966eftarrows;\u61c7ight\u0180ahs\u25cd\u25d6\u25derrow\u0100;s\u08f4\u08a7arpoon\xf3\u0f98quigarro\xf7\u21f0hreetimes;\u62cb\u0180;qs\u258b\u0993\u25falan\xf4\u09ac\u0280;cdgs\u09ac\u260a\u260d\u261d\u2628c;\u6aa8ot\u0100;o\u2614\u2615\u6a7f\u0100;r\u261a\u261b\u6a81;\u6a83\u0100;e\u2622\u2625\uc000\u22da\ufe00s;\u6a93\u0280adegs\u2633\u2639\u263d\u2649\u264bppro\xf8\u24c6ot;\u62d6q\u0100gq\u2643\u2645\xf4\u0989gt\xf2\u248c\xf4\u099bi\xed\u09b2\u0180ilr\u2655\u08e1\u265asht;\u697c;\uc000\ud835\udd29\u0100;E\u099c\u2663;\u6a91\u0161\u2669\u2676r\u0100du\u25b2\u266e\u0100;l\u0965\u2673;\u696alk;\u6584cy;\u4459\u0280;acht\u0a48\u2688\u268b\u2691\u2696r\xf2\u25c1orne\xf2\u1d08ard;\u696bri;\u65fa\u0100io\u269f\u26a4dot;\u4140ust\u0100;a\u26ac\u26ad\u63b0che\xbb\u26ad\u0200Eaes\u26bb\u26bd\u26c9\u26d4;\u6268p\u0100;p\u26c3\u26c4\u6a89rox\xbb\u26c4\u0100;q\u26ce\u26cf\u6a87\u0100;q\u26ce\u26bbim;\u62e6\u0400abnoptwz\u26e9\u26f4\u26f7\u271a\u272f\u2741\u2747\u2750\u0100nr\u26ee\u26f1g;\u67ecr;\u61fdr\xeb\u08c1g\u0180lmr\u26ff\u270d\u2714eft\u0100ar\u09e6\u2707ight\xe1\u09f2apsto;\u67fcight\xe1\u09fdparrow\u0100lr\u2725\u2729ef\xf4\u24edight;\u61ac\u0180afl\u2736\u2739\u273dr;\u6985;\uc000\ud835\udd5dus;\u6a2dimes;\u6a34\u0161\u274b\u274fst;\u6217\xe1\u134e\u0180;ef\u2757\u2758\u1800\u65cange\xbb\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277c\u2785\u2787r\xf2\u08a8orne\xf2\u1d8car\u0100;d\u0f98\u2783;\u696d;\u600eri;\u62bf\u0300achiqt\u2798\u279d\u0a40\u27a2\u27ae\u27bbquo;\u6039r;\uc000\ud835\udcc1m\u0180;eg\u09b2\u27aa\u27ac;\u6a8d;\u6a8f\u0100bu\u252a\u27b3o\u0100;r\u0e1f\u27b9;\u601arok;\u4142\u8400<;cdhilqr\u082b\u27d2\u2639\u27dc\u27e0\u27e5\u27ea\u27f0\u0100ci\u27d7\u27d9;\u6aa6r;\u6a79re\xe5\u25f2mes;\u62c9arr;\u6976uest;\u6a7b\u0100Pi\u27f5\u27f9ar;\u6996\u0180;ef\u2800\u092d\u181b\u65c3r\u0100du\u2807\u280dshar;\u694ahar;\u6966\u0100en\u2817\u2821rtneqq;\uc000\u2268\ufe00\xc5\u281e\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288e\u2893\u28a0\u28a5\u28a8\u28da\u28e2\u28e4\u0a83\u28f3\u2902Dot;\u623a\u0200clpr\u284e\u2852\u2863\u287dr\u803b\xaf\u40af\u0100et\u2857\u2859;\u6642\u0100;e\u285e\u285f\u6720se\xbb\u285f\u0100;s\u103b\u2868to\u0200;dlu\u103b\u2873\u2877\u287bow\xee\u048cef\xf4\u090f\xf0\u13d1ker;\u65ae\u0100oy\u2887\u288cmma;\u6a29;\u443cash;\u6014asuredangle\xbb\u1626r;\uc000\ud835\udd2ao;\u6127\u0180cdn\u28af\u28b4\u28c9ro\u803b\xb5\u40b5\u0200;acd\u1464\u28bd\u28c0\u28c4s\xf4\u16a7ir;\u6af0ot\u80bb\xb7\u01b5us\u0180;bd\u28d2\u1903\u28d3\u6212\u0100;u\u1d3c\u28d8;\u6a2a\u0163\u28de\u28e1p;\u6adb\xf2\u2212\xf0\u0a81\u0100dp\u28e9\u28eeels;\u62a7f;\uc000\ud835\udd5e\u0100ct\u28f8\u28fdr;\uc000\ud835\udcc2pos\xbb\u159d\u0180;lm\u2909\u290a\u290d\u43bctimap;\u62b8\u0c00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297e\u2989\u2998\u29da\u29e9\u2a15\u2a1a\u2a58\u2a5d\u2a83\u2a95\u2aa4\u2aa8\u2b04\u2b07\u2b44\u2b7f\u2bae\u2c34\u2c67\u2c7c\u2ce9\u0100gt\u2947\u294b;\uc000\u22d9\u0338\u0100;v\u2950\u0bcf\uc000\u226b\u20d2\u0180elt\u295a\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61cdightarrow;\u61ce;\uc000\u22d8\u0338\u0100;v\u297b\u0c47\uc000\u226a\u20d2ightarrow;\u61cf\u0100Dd\u298e\u2993ash;\u62afash;\u62ae\u0280bcnpt\u29a3\u29a7\u29ac\u29b1\u29ccla\xbb\u02deute;\u4144g;\uc000\u2220\u20d2\u0280;Eiop\u0d84\u29bc\u29c0\u29c5\u29c8;\uc000\u2a70\u0338d;\uc000\u224b\u0338s;\u4149ro\xf8\u0d84ur\u0100;a\u29d3\u29d4\u666el\u0100;s\u29d3\u0b38\u01f3\u29df\0\u29e3p\u80bb\xa0\u0b37mp\u0100;e\u0bf9\u0c00\u0280aeouy\u29f4\u29fe\u2a03\u2a10\u2a13\u01f0\u29f9\0\u29fb;\u6a43on;\u4148dil;\u4146ng\u0100;d\u0d7e\u2a0aot;\uc000\u2a6d\u0338p;\u6a42;\u443dash;\u6013\u0380;Aadqsx\u0b92\u2a29\u2a2d\u2a3b\u2a41\u2a45\u2a50rr;\u61d7r\u0100hr\u2a33\u2a36k;\u6924\u0100;o\u13f2\u13f0ot;\uc000\u2250\u0338ui\xf6\u0b63\u0100ei\u2a4a\u2a4ear;\u6928\xed\u0b98ist\u0100;s\u0ba0\u0b9fr;\uc000\ud835\udd2b\u0200Eest\u0bc5\u2a66\u2a79\u2a7c\u0180;qs\u0bbc\u2a6d\u0be1\u0180;qs\u0bbc\u0bc5\u2a74lan\xf4\u0be2i\xed\u0bea\u0100;r\u0bb6\u2a81\xbb\u0bb7\u0180Aap\u2a8a\u2a8d\u2a91r\xf2\u2971rr;\u61aear;\u6af2\u0180;sv\u0f8d\u2a9c\u0f8c\u0100;d\u2aa1\u2aa2\u62fc;\u62facy;\u445a\u0380AEadest\u2ab7\u2aba\u2abe\u2ac2\u2ac5\u2af6\u2af9r\xf2\u2966;\uc000\u2266\u0338rr;\u619ar;\u6025\u0200;fqs\u0c3b\u2ace\u2ae3\u2aeft\u0100ar\u2ad4\u2ad9rro\xf7\u2ac1ightarro\xf7\u2a90\u0180;qs\u0c3b\u2aba\u2aealan\xf4\u0c55\u0100;s\u0c55\u2af4\xbb\u0c36i\xed\u0c5d\u0100;r\u0c35\u2afei\u0100;e\u0c1a\u0c25i\xe4\u0d90\u0100pt\u2b0c\u2b11f;\uc000\ud835\udd5f\u8180\xac;in\u2b19\u2b1a\u2b36\u40acn\u0200;Edv\u0b89\u2b24\u2b28\u2b2e;\uc000\u22f9\u0338ot;\uc000\u22f5\u0338\u01e1\u0b89\u2b33\u2b35;\u62f7;\u62f6i\u0100;v\u0cb8\u2b3c\u01e1\u0cb8\u2b41\u2b43;\u62fe;\u62fd\u0180aor\u2b4b\u2b63\u2b69r\u0200;ast\u0b7b\u2b55\u2b5a\u2b5flle\xec\u0b7bl;\uc000\u2afd\u20e5;\uc000\u2202\u0338lint;\u6a14\u0180;ce\u0c92\u2b70\u2b73u\xe5\u0ca5\u0100;c\u0c98\u2b78\u0100;e\u0c92\u2b7d\xf1\u0c98\u0200Aait\u2b88\u2b8b\u2b9d\u2ba7r\xf2\u2988rr\u0180;cw\u2b94\u2b95\u2b99\u619b;\uc000\u2933\u0338;\uc000\u219d\u0338ghtarrow\xbb\u2b95ri\u0100;e\u0ccb\u0cd6\u0380chimpqu\u2bbd\u2bcd\u2bd9\u2b04\u0b78\u2be4\u2bef\u0200;cer\u0d32\u2bc6\u0d37\u2bc9u\xe5\u0d45;\uc000\ud835\udcc3ort\u026d\u2b05\0\0\u2bd6ar\xe1\u2b56m\u0100;e\u0d6e\u2bdf\u0100;q\u0d74\u0d73su\u0100bp\u2beb\u2bed\xe5\u0cf8\xe5\u0d0b\u0180bcp\u2bf6\u2c11\u2c19\u0200;Ees\u2bff\u2c00\u0d22\u2c04\u6284;\uc000\u2ac5\u0338et\u0100;e\u0d1b\u2c0bq\u0100;q\u0d23\u2c00c\u0100;e\u0d32\u2c17\xf1\u0d38\u0200;Ees\u2c22\u2c23\u0d5f\u2c27\u6285;\uc000\u2ac6\u0338et\u0100;e\u0d58\u2c2eq\u0100;q\u0d60\u2c23\u0200gilr\u2c3d\u2c3f\u2c45\u2c47\xec\u0bd7lde\u803b\xf1\u40f1\xe7\u0c43iangle\u0100lr\u2c52\u2c5ceft\u0100;e\u0c1a\u2c5a\xf1\u0c26ight\u0100;e\u0ccb\u2c65\xf1\u0cd7\u0100;m\u2c6c\u2c6d\u43bd\u0180;es\u2c74\u2c75\u2c79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2c8f\u2c94\u2c99\u2c9e\u2ca3\u2cb0\u2cb6\u2cd3\u2ce3ash;\u62adarr;\u6904p;\uc000\u224d\u20d2ash;\u62ac\u0100et\u2ca8\u2cac;\uc000\u2265\u20d2;\uc000>\u20d2nfin;\u69de\u0180Aet\u2cbd\u2cc1\u2cc5rr;\u6902;\uc000\u2264\u20d2\u0100;r\u2cca\u2ccd\uc000<\u20d2ie;\uc000\u22b4\u20d2\u0100At\u2cd8\u2cdcrr;\u6903rie;\uc000\u22b5\u20d2im;\uc000\u223c\u20d2\u0180Aan\u2cf0\u2cf4\u2d02rr;\u61d6r\u0100hr\u2cfa\u2cfdk;\u6923\u0100;o\u13e7\u13e5ear;\u6927\u1253\u1a95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2d2d\0\u2d38\u2d48\u2d60\u2d65\u2d72\u2d84\u1b07\0\0\u2d8d\u2dab\0\u2dc8\u2dce\0\u2ddc\u2e19\u2e2b\u2e3e\u2e43\u0100cs\u2d31\u1a97ute\u803b\xf3\u40f3\u0100iy\u2d3c\u2d45r\u0100;c\u1a9e\u2d42\u803b\xf4\u40f4;\u443e\u0280abios\u1aa0\u2d52\u2d57\u01c8\u2d5alac;\u4151v;\u6a38old;\u69bclig;\u4153\u0100cr\u2d69\u2d6dir;\u69bf;\uc000\ud835\udd2c\u036f\u2d79\0\0\u2d7c\0\u2d82n;\u42dbave\u803b\xf2\u40f2;\u69c1\u0100bm\u2d88\u0df4ar;\u69b5\u0200acit\u2d95\u2d98\u2da5\u2da8r\xf2\u1a80\u0100ir\u2d9d\u2da0r;\u69beoss;\u69bbn\xe5\u0e52;\u69c0\u0180aei\u2db1\u2db5\u2db9cr;\u414dga;\u43c9\u0180cdn\u2dc0\u2dc5\u01cdron;\u43bf;\u69b6pf;\uc000\ud835\udd60\u0180ael\u2dd4\u2dd7\u01d2r;\u69b7rp;\u69b9\u0380;adiosv\u2dea\u2deb\u2dee\u2e08\u2e0d\u2e10\u2e16\u6228r\xf2\u1a86\u0200;efm\u2df7\u2df8\u2e02\u2e05\u6a5dr\u0100;o\u2dfe\u2dff\u6134f\xbb\u2dff\u803b\xaa\u40aa\u803b\xba\u40bagof;\u62b6r;\u6a56lope;\u6a57;\u6a5b\u0180clo\u2e1f\u2e21\u2e27\xf2\u2e01ash\u803b\xf8\u40f8l;\u6298i\u016c\u2e2f\u2e34de\u803b\xf5\u40f5es\u0100;a\u01db\u2e3as;\u6a36ml\u803b\xf6\u40f6bar;\u633d\u0ae1\u2e5e\0\u2e7d\0\u2e80\u2e9d\0\u2ea2\u2eb9\0\0\u2ecb\u0e9c\0\u2f13\0\0\u2f2b\u2fbc\0\u2fc8r\u0200;ast\u0403\u2e67\u2e72\u0e85\u8100\xb6;l\u2e6d\u2e6e\u40b6le\xec\u0403\u0269\u2e78\0\0\u2e7bm;\u6af3;\u6afdy;\u443fr\u0280cimpt\u2e8b\u2e8f\u2e93\u1865\u2e97nt;\u4025od;\u402eil;\u6030enk;\u6031r;\uc000\ud835\udd2d\u0180imo\u2ea8\u2eb0\u2eb4\u0100;v\u2ead\u2eae\u43c6;\u43d5ma\xf4\u0a76ne;\u660e\u0180;tv\u2ebf\u2ec0\u2ec8\u43c0chfork\xbb\u1ffd;\u43d6\u0100au\u2ecf\u2edfn\u0100ck\u2ed5\u2eddk\u0100;h\u21f4\u2edb;\u610e\xf6\u21f4s\u0480;abcdemst\u2ef3\u2ef4\u1908\u2ef9\u2efd\u2f04\u2f06\u2f0a\u2f0e\u402bcir;\u6a23ir;\u6a22\u0100ou\u1d40\u2f02;\u6a25;\u6a72n\u80bb\xb1\u0e9dim;\u6a26wo;\u6a27\u0180ipu\u2f19\u2f20\u2f25ntint;\u6a15f;\uc000\ud835\udd61nd\u803b\xa3\u40a3\u0500;Eaceinosu\u0ec8\u2f3f\u2f41\u2f44\u2f47\u2f81\u2f89\u2f92\u2f7e\u2fb6;\u6ab3p;\u6ab7u\xe5\u0ed9\u0100;c\u0ece\u2f4c\u0300;acens\u0ec8\u2f59\u2f5f\u2f66\u2f68\u2f7eppro\xf8\u2f43urlye\xf1\u0ed9\xf1\u0ece\u0180aes\u2f6f\u2f76\u2f7approx;\u6ab9qq;\u6ab5im;\u62e8i\xed\u0edfme\u0100;s\u2f88\u0eae\u6032\u0180Eas\u2f78\u2f90\u2f7a\xf0\u2f75\u0180dfp\u0eec\u2f99\u2faf\u0180als\u2fa0\u2fa5\u2faalar;\u632eine;\u6312urf;\u6313\u0100;t\u0efb\u2fb4\xef\u0efbrel;\u62b0\u0100ci\u2fc0\u2fc5r;\uc000\ud835\udcc5;\u43c8ncsp;\u6008\u0300fiopsu\u2fda\u22e2\u2fdf\u2fe5\u2feb\u2ff1r;\uc000\ud835\udd2epf;\uc000\ud835\udd62rime;\u6057cr;\uc000\ud835\udcc6\u0180aeo\u2ff8\u3009\u3013t\u0100ei\u2ffe\u3005rnion\xf3\u06b0nt;\u6a16st\u0100;e\u3010\u3011\u403f\xf1\u1f19\xf4\u0f14\u0a80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30e0\u310e\u312b\u3147\u3162\u3172\u318e\u3206\u3215\u3224\u3229\u3258\u326e\u3272\u3290\u32b0\u32b7\u0180art\u3047\u304a\u304cr\xf2\u10b3\xf2\u03ddail;\u691car\xf2\u1c65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307f\u308f\u3094\u30cc\u0100eu\u306d\u3071;\uc000\u223d\u0331te;\u4155i\xe3\u116emptyv;\u69b3g\u0200;del\u0fd1\u3089\u308b\u308d;\u6992;\u69a5\xe5\u0fd1uo\u803b\xbb\u40bbr\u0580;abcfhlpstw\u0fdc\u30ac\u30af\u30b7\u30b9\u30bc\u30be\u30c0\u30c3\u30c7\u30cap;\u6975\u0100;f\u0fe0\u30b4s;\u6920;\u6933s;\u691e\xeb\u225d\xf0\u272el;\u6945im;\u6974l;\u61a3;\u619d\u0100ai\u30d1\u30d5il;\u691ao\u0100;n\u30db\u30dc\u6236al\xf3\u0f1e\u0180abr\u30e7\u30ea\u30eer\xf2\u17e5rk;\u6773\u0100ak\u30f3\u30fdc\u0100ek\u30f9\u30fb;\u407d;\u405d\u0100es\u3102\u3104;\u698cl\u0100du\u310a\u310c;\u698e;\u6990\u0200aeuy\u3117\u311c\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xec\u0ff2\xe2\u30fa;\u4440\u0200clqs\u3134\u3137\u313d\u3144a;\u6937dhar;\u6969uo\u0100;r\u020e\u020dh;\u61b3\u0180acg\u314e\u315f\u0f44l\u0200;ips\u0f78\u3158\u315b\u109cn\xe5\u10bbar\xf4\u0fa9t;\u65ad\u0180ilr\u3169\u1023\u316esht;\u697d;\uc000\ud835\udd2f\u0100ao\u3177\u3186r\u0100du\u317d\u317f\xbb\u047b\u0100;l\u1091\u3184;\u696c\u0100;v\u318b\u318c\u43c1;\u43f1\u0180gns\u3195\u31f9\u31fcht\u0300ahlrst\u31a4\u31b0\u31c2\u31d8\u31e4\u31eerrow\u0100;t\u0fdc\u31ada\xe9\u30c8arpoon\u0100du\u31bb\u31bfow\xee\u317ep\xbb\u1092eft\u0100ah\u31ca\u31d0rrow\xf3\u0feaarpoon\xf3\u0551ightarrows;\u61c9quigarro\xf7\u30cbhreetimes;\u62ccg;\u42daingdotse\xf1\u1f32\u0180ahm\u320d\u3210\u3213r\xf2\u0feaa\xf2\u0551;\u600foust\u0100;a\u321e\u321f\u63b1che\xbb\u321fmid;\u6aee\u0200abpt\u3232\u323d\u3240\u3252\u0100nr\u3237\u323ag;\u67edr;\u61fer\xeb\u1003\u0180afl\u3247\u324a\u324er;\u6986;\uc000\ud835\udd63us;\u6a2eimes;\u6a35\u0100ap\u325d\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6a12ar\xf2\u31e3\u0200achq\u327b\u3280\u10bc\u3285quo;\u603ar;\uc000\ud835\udcc7\u0100bu\u30fb\u328ao\u0100;r\u0214\u0213\u0180hir\u3297\u329b\u32a0re\xe5\u31f8mes;\u62cai\u0200;efl\u32aa\u1059\u1821\u32ab\u65b9tri;\u69celuhar;\u6968;\u611e\u0d61\u32d5\u32db\u32df\u332c\u3338\u3371\0\u337a\u33a4\0\0\u33ec\u33f0\0\u3428\u3448\u345a\u34ad\u34b1\u34ca\u34f1\0\u3616\0\0\u3633cute;\u415bqu\xef\u27ba\u0500;Eaceinpsy\u11ed\u32f3\u32f5\u32ff\u3302\u330b\u330f\u331f\u3326\u3329;\u6ab4\u01f0\u32fa\0\u32fc;\u6ab8on;\u4161u\xe5\u11fe\u0100;d\u11f3\u3307il;\u415frc;\u415d\u0180Eas\u3316\u3318\u331b;\u6ab6p;\u6abaim;\u62e9olint;\u6a13i\xed\u1204;\u4441ot\u0180;be\u3334\u1d47\u3335\u62c5;\u6a66\u0380Aacmstx\u3346\u334a\u3357\u335b\u335e\u3363\u336drr;\u61d8r\u0100hr\u3350\u3352\xeb\u2228\u0100;o\u0a36\u0a34t\u803b\xa7\u40a7i;\u403bwar;\u6929m\u0100in\u3369\xf0nu\xf3\xf1t;\u6736r\u0100;o\u3376\u2055\uc000\ud835\udd30\u0200acoy\u3382\u3386\u3391\u33a0rp;\u666f\u0100hy\u338b\u338fcy;\u4449;\u4448rt\u026d\u3399\0\0\u339ci\xe4\u1464ara\xec\u2e6f\u803b\xad\u40ad\u0100gm\u33a8\u33b4ma\u0180;fv\u33b1\u33b2\u33b2\u43c3;\u43c2\u0400;deglnpr\u12ab\u33c5\u33c9\u33ce\u33d6\u33de\u33e1\u33e6ot;\u6a6a\u0100;q\u12b1\u12b0\u0100;E\u33d3\u33d4\u6a9e;\u6aa0\u0100;E\u33db\u33dc\u6a9d;\u6a9fe;\u6246lus;\u6a24arr;\u6972ar\xf2\u113d\u0200aeit\u33f8\u3408\u340f\u3417\u0100ls\u33fd\u3404lsetm\xe9\u336ahp;\u6a33parsl;\u69e4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341c\u341d\u6aaa\u0100;s\u3422\u3423\u6aac;\uc000\u2aac\ufe00\u0180flp\u342e\u3433\u3442tcy;\u444c\u0100;b\u3438\u3439\u402f\u0100;a\u343e\u343f\u69c4r;\u633ff;\uc000\ud835\udd64a\u0100dr\u344d\u0402es\u0100;u\u3454\u3455\u6660it\xbb\u3455\u0180csu\u3460\u3479\u349f\u0100au\u3465\u346fp\u0100;s\u1188\u346b;\uc000\u2293\ufe00p\u0100;s\u11b4\u3475;\uc000\u2294\ufe00u\u0100bp\u347f\u348f\u0180;es\u1197\u119c\u3486et\u0100;e\u1197\u348d\xf1\u119d\u0180;es\u11a8\u11ad\u3496et\u0100;e\u11a8\u349d\xf1\u11ae\u0180;af\u117b\u34a6\u05b0r\u0165\u34ab\u05b1\xbb\u117car\xf2\u1148\u0200cemt\u34b9\u34be\u34c2\u34c5r;\uc000\ud835\udcc8tm\xee\xf1i\xec\u3415ar\xe6\u11be\u0100ar\u34ce\u34d5r\u0100;f\u34d4\u17bf\u6606\u0100an\u34da\u34edight\u0100ep\u34e3\u34eapsilo\xee\u1ee0h\xe9\u2eafs\xbb\u2852\u0280bcmnp\u34fb\u355e\u1209\u358b\u358e\u0480;Edemnprs\u350e\u350f\u3511\u3515\u351e\u3523\u352c\u3531\u3536\u6282;\u6ac5ot;\u6abd\u0100;d\u11da\u351aot;\u6ac3ult;\u6ac1\u0100Ee\u3528\u352a;\u6acb;\u628alus;\u6abfarr;\u6979\u0180eiu\u353d\u3552\u3555t\u0180;en\u350e\u3545\u354bq\u0100;q\u11da\u350feq\u0100;q\u352b\u3528m;\u6ac7\u0100bp\u355a\u355c;\u6ad5;\u6ad3c\u0300;acens\u11ed\u356c\u3572\u3579\u357b\u3326ppro\xf8\u32faurlye\xf1\u11fe\xf1\u11f3\u0180aes\u3582\u3588\u331bppro\xf8\u331aq\xf1\u3317g;\u666a\u0680123;Edehlmnps\u35a9\u35ac\u35af\u121c\u35b2\u35b4\u35c0\u35c9\u35d5\u35da\u35df\u35e8\u35ed\u803b\xb9\u40b9\u803b\xb2\u40b2\u803b\xb3\u40b3;\u6ac6\u0100os\u35b9\u35bct;\u6abeub;\u6ad8\u0100;d\u1222\u35c5ot;\u6ac4s\u0100ou\u35cf\u35d2l;\u67c9b;\u6ad7arr;\u697bult;\u6ac2\u0100Ee\u35e4\u35e6;\u6acc;\u628blus;\u6ac0\u0180eiu\u35f4\u3609\u360ct\u0180;en\u121c\u35fc\u3602q\u0100;q\u1222\u35b2eq\u0100;q\u35e7\u35e4m;\u6ac8\u0100bp\u3611\u3613;\u6ad4;\u6ad6\u0180Aan\u361c\u3620\u362drr;\u61d9r\u0100hr\u3626\u3628\xeb\u222e\u0100;o\u0a2b\u0a29war;\u692alig\u803b\xdf\u40df\u0be1\u3651\u365d\u3660\u12ce\u3673\u3679\0\u367e\u36c2\0\0\0\0\0\u36db\u3703\0\u3709\u376c\0\0\0\u3787\u0272\u3656\0\0\u365bget;\u6316;\u43c4r\xeb\u0e5f\u0180aey\u3666\u366b\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uc000\ud835\udd31\u0200eiko\u3686\u369d\u36b5\u36bc\u01f2\u368b\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369b\u43b8ym;\u43d1\u0100cn\u36a2\u36b2k\u0100as\u36a8\u36aeppro\xf8\u12c1im\xbb\u12acs\xf0\u129e\u0100as\u36ba\u36ae\xf0\u12c1rn\u803b\xfe\u40fe\u01ec\u031f\u36c6\u22e7es\u8180\xd7;bd\u36cf\u36d0\u36d8\u40d7\u0100;a\u190f\u36d5r;\u6a31;\u6a30\u0180eps\u36e1\u36e3\u3700\xe1\u2a4d\u0200;bcf\u0486\u36ec\u36f0\u36f4ot;\u6336ir;\u6af1\u0100;o\u36f9\u36fc\uc000\ud835\udd65rk;\u6ada\xe1\u3362rime;\u6034\u0180aip\u370f\u3712\u3764d\xe5\u1248\u0380adempst\u3721\u374d\u3740\u3751\u3757\u375c\u375fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65b5own\xbb\u1dbbeft\u0100;e\u2800\u373e\xf1\u092e;\u625cight\u0100;e\u32aa\u374b\xf1\u105aot;\u65ecinus;\u6a3alus;\u6a39b;\u69cdime;\u6a3bezium;\u63e2\u0180cht\u3772\u377d\u3781\u0100ry\u3777\u377b;\uc000\ud835\udcc9;\u4446cy;\u445brok;\u4167\u0100io\u378b\u378ex\xf4\u1777head\u0100lr\u3797\u37a0eftarro\xf7\u084fightarrow\xbb\u0f5d\u0900AHabcdfghlmoprstuw\u37d0\u37d3\u37d7\u37e4\u37f0\u37fc\u380e\u381c\u3823\u3834\u3851\u385d\u386b\u38a9\u38cc\u38d2\u38ea\u38f6r\xf2\u03edar;\u6963\u0100cr\u37dc\u37e2ute\u803b\xfa\u40fa\xf2\u1150r\u01e3\u37ea\0\u37edy;\u445eve;\u416d\u0100iy\u37f5\u37farc\u803b\xfb\u40fb;\u4443\u0180abh\u3803\u3806\u380br\xf2\u13adlac;\u4171a\xf2\u13c3\u0100ir\u3813\u3818sht;\u697e;\uc000\ud835\udd32rave\u803b\xf9\u40f9\u0161\u3827\u3831r\u0100lr\u382c\u382e\xbb\u0957\xbb\u1083lk;\u6580\u0100ct\u3839\u384d\u026f\u383f\0\0\u384arn\u0100;e\u3845\u3846\u631cr\xbb\u3846op;\u630fri;\u65f8\u0100al\u3856\u385acr;\u416b\u80bb\xa8\u0349\u0100gp\u3862\u3866on;\u4173f;\uc000\ud835\udd66\u0300adhlsu\u114b\u3878\u387d\u1372\u3891\u38a0own\xe1\u13b3arpoon\u0100lr\u3888\u388cef\xf4\u382digh\xf4\u382fi\u0180;hl\u3899\u389a\u389c\u43c5\xbb\u13faon\xbb\u389aparrows;\u61c8\u0180cit\u38b0\u38c4\u38c8\u026f\u38b6\0\0\u38c1rn\u0100;e\u38bc\u38bd\u631dr\xbb\u38bdop;\u630eng;\u416fri;\u65f9cr;\uc000\ud835\udcca\u0180dir\u38d9\u38dd\u38e2ot;\u62f0lde;\u4169i\u0100;f\u3730\u38e8\xbb\u1813\u0100am\u38ef\u38f2r\xf2\u38a8l\u803b\xfc\u40fcangle;\u69a7\u0780ABDacdeflnoprsz\u391c\u391f\u3929\u392d\u39b5\u39b8\u39bd\u39df\u39e4\u39e8\u39f3\u39f9\u39fd\u3a01\u3a20r\xf2\u03f7ar\u0100;v\u3926\u3927\u6ae8;\u6ae9as\xe8\u03e1\u0100nr\u3932\u3937grt;\u699c\u0380eknprst\u34e3\u3946\u394b\u3952\u395d\u3964\u3996app\xe1\u2415othin\xe7\u1e96\u0180hir\u34eb\u2ec8\u3959op\xf4\u2fb5\u0100;h\u13b7\u3962\xef\u318d\u0100iu\u3969\u396dgm\xe1\u33b3\u0100bp\u3972\u3984setneq\u0100;q\u397d\u3980\uc000\u228a\ufe00;\uc000\u2acb\ufe00setneq\u0100;q\u398f\u3992\uc000\u228b\ufe00;\uc000\u2acc\ufe00\u0100hr\u399b\u399fet\xe1\u369ciangle\u0100lr\u39aa\u39afeft\xbb\u0925ight\xbb\u1051y;\u4432ash\xbb\u1036\u0180elr\u39c4\u39d2\u39d7\u0180;be\u2dea\u39cb\u39cfar;\u62bbq;\u625alip;\u62ee\u0100bt\u39dc\u1468a\xf2\u1469r;\uc000\ud835\udd33tr\xe9\u39aesu\u0100bp\u39ef\u39f1\xbb\u0d1c\xbb\u0d59pf;\uc000\ud835\udd67ro\xf0\u0efbtr\xe9\u39b4\u0100cu\u3a06\u3a0br;\uc000\ud835\udccb\u0100bp\u3a10\u3a18n\u0100Ee\u3980\u3a16\xbb\u397en\u0100Ee\u3992\u3a1e\xbb\u3990igzag;\u699a\u0380cefoprs\u3a36\u3a3b\u3a56\u3a5b\u3a54\u3a61\u3a6airc;\u4175\u0100di\u3a40\u3a51\u0100bg\u3a45\u3a49ar;\u6a5fe\u0100;q\u15fa\u3a4f;\u6259erp;\u6118r;\uc000\ud835\udd34pf;\uc000\ud835\udd68\u0100;e\u1479\u3a66at\xe8\u1479cr;\uc000\ud835\udccc\u0ae3\u178e\u3a87\0\u3a8b\0\u3a90\u3a9b\0\0\u3a9d\u3aa8\u3aab\u3aaf\0\0\u3ac3\u3ace\0\u3ad8\u17dc\u17dftr\xe9\u17d1r;\uc000\ud835\udd35\u0100Aa\u3a94\u3a97r\xf2\u03c3r\xf2\u09f6;\u43be\u0100Aa\u3aa1\u3aa4r\xf2\u03b8r\xf2\u09eba\xf0\u2713is;\u62fb\u0180dpt\u17a4\u3ab5\u3abe\u0100fl\u3aba\u17a9;\uc000\ud835\udd69im\xe5\u17b2\u0100Aa\u3ac7\u3acar\xf2\u03cer\xf2\u0a01\u0100cq\u3ad2\u17b8r;\uc000\ud835\udccd\u0100pt\u17d6\u3adcr\xe9\u17d4\u0400acefiosu\u3af0\u3afd\u3b08\u3b0c\u3b11\u3b15\u3b1b\u3b21c\u0100uy\u3af6\u3afbte\u803b\xfd\u40fd;\u444f\u0100iy\u3b02\u3b06rc;\u4177;\u444bn\u803b\xa5\u40a5r;\uc000\ud835\udd36cy;\u4457pf;\uc000\ud835\udd6acr;\uc000\ud835\udcce\u0100cm\u3b26\u3b29y;\u444el\u803b\xff\u40ff\u0500acdefhiosw\u3b42\u3b48\u3b54\u3b58\u3b64\u3b69\u3b6d\u3b74\u3b7a\u3b80cute;\u417a\u0100ay\u3b4d\u3b52ron;\u417e;\u4437ot;\u417c\u0100et\u3b5d\u3b61tr\xe6\u155fa;\u43b6r;\uc000\ud835\udd37cy;\u4436grarr;\u61ddpf;\uc000\ud835\udd6bcr;\uc000\ud835\udccf\u0100jn\u3b85\u3b87;\u600dj;\u600c'.split("").map((e=>e.charCodeAt(0)))),_0=new Uint16Array("\u0200aglq\t\x15\x18\x1b\u026d\x0f\0\0\x12p;\u4026os;\u4027t;\u403et;\u403cuot;\u4022".split("").map((e=>e.charCodeAt(0))));var I0;const A0=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),C0=null!==(I0=String.fromCodePoint)&&void 0!==I0?I0:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};function N0(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=A0.get(e))&&void 0!==t?t:e}var D0;!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(D0||(D0={}));var R0,O0,M0;function L0(e){return e>=D0.ZERO&&e<=D0.NINE}function P0(e){return e===D0.EQUALS||function(e){return e>=D0.UPPER_A&&e<=D0.UPPER_Z||e>=D0.LOWER_A&&e<=D0.LOWER_Z||L0(e)}(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(R0||(R0={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(O0||(O0={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(M0||(M0={}));class F0{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=O0.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=M0.Strict}startEntity(e){this.decodeMode=e,this.state=O0.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case O0.EntityStart:return e.charCodeAt(t)===D0.NUM?(this.state=O0.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=O0.NamedEntity,this.stateNamedEntity(e,t));case O0.NumericStart:return this.stateNumericStart(e,t);case O0.NumericDecimal:return this.stateNumericDecimal(e,t);case O0.NumericHex:return this.stateNumericHex(e,t);case O0.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===D0.LOWER_X?(this.state=O0.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=O0.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){const s=n-t;this.result=this.result*Math.pow(r,s)+parseInt(e.substr(t,s),r),this.consumed+=s}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const s=e.charCodeAt(t);if(!(L0(s)||(r=s,r>=D0.UPPER_A&&r<=D0.UPPER_F||r>=D0.LOWER_A&&r<=D0.LOWER_F)))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(s,3);t+=1}var r;return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!L0(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===D0.SEMI)this.consumed+=1;else if(this.decodeMode===M0.Strict)return 0;return this.emitCodePoint(N0(this.result),this.consumed),this.errors&&(e!==D0.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let r=n[this.treeIndex],s=(r&R0.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const i=e.charCodeAt(t);if(this.treeIndex=B0(n,r,this.treeIndex+Math.max(1,s),i),this.treeIndex<0)return 0===this.result||this.decodeMode===M0.Attribute&&(0===s||P0(i))?0:this.emitNotTerminatedNamedEntity();if(r=n[this.treeIndex],s=(r&R0.VALUE_LENGTH)>>14,0!==s){if(i===D0.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==M0.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,r=(n[t]&R0.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:r}=this;return this.emitCodePoint(1===t?r[e]&~R0.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case O0.NamedEntity:return 0===this.result||this.decodeMode===M0.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case O0.NumericDecimal:return this.emitNumericEntity(0,2);case O0.NumericHex:return this.emitNumericEntity(0,3);case O0.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case O0.EntityStart:return 0}}}function $0(e){let t="";const n=new F0(e,(e=>t+=C0(e)));return function(e,r){let s=0,i=0;for(;(i=e.indexOf("&",i))>=0;){t+=e.slice(s,i),n.startEntity(r);const a=n.write(e,i+1);if(a<0){s=i+n.end();break}s=i+a,i=0===a?s+1:s}const a=t+e.slice(s);return t="",a}}function B0(e,t,n,r){const s=(t&R0.BRANCH_LENGTH)>>7,i=t&R0.JUMP_TABLE;if(0===s)return 0!==i&&r===i?n:-1;if(i){const t=r-i;return t<0||t>=s?-1:e[n+t]-1}let a=n,o=a+s-1;for(;a<=o;){const t=a+o>>>1,n=e[t];if(n<r)a=t+1;else{if(!(n>r))return e[t+s];o=t-1}}return-1}$0(S0),$0(_0);function U0(e){for(let t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}new Map(U0([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(U0([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(U0([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(U0([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));const z0=/["&'<>$\x80-\uFFFF]/g,H0=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),W0=null!=String.prototype.codePointAt?(e,t)=>e.codePointAt(t):(e,t)=>55296===(64512&e.charCodeAt(t))?1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function G0(e){let t,n="",r=0;for(;null!==(t=z0.exec(e));){const s=t.index,i=e.charCodeAt(s),a=H0.get(i);void 0!==a?(n+=e.substring(r,s)+a,r=s+1):(n+=`${e.substring(r,s)}&#x${W0(e,s).toString(16)};`,r=z0.lastIndex+=Number(55296===(64512&i)))}return n+e.substr(r)}function V0(e,t){return function(n){let r,s=0,i="";for(;r=e.exec(n);)s!==r.index&&(i+=n.substring(s,r.index)),i+=t.get(r[0].charCodeAt(0)),s=r.index+1;return i+n.substring(s)}}V0(/[&<>'"]/g,H0);const q0=V0(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),j0=V0(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));var Y0,K0;!function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"}(Y0||(Y0={})),function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"}(K0||(K0={}));const X0=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),Q0=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),J0=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function Z0(e){return e.replace(/"/g,"&quot;")}const e1=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function t1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="length"in e?e:[e];let r="";for(let s=0;s<n.length;s++)r+=r1(n[s],t);return r}const n1=t1;function r1(e,t){switch(e.type){case QZ:return t1(e.children,t);case i0:case ZZ:return`<${e.data}>`;case e0:return function(e){return`\x3c!--${e.data}--\x3e`}(e);case s0:return function(e){return`<![CDATA[${e.children[0].data}]]>`}(e);case t0:case n0:case r0:return function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=X0.get(e.name))&&void 0!==n?n:e.name,e.parent&&s1.has(e.parent.name)&&(t={...t,xmlMode:!1}));!t.xmlMode&&i1.has(e.name)&&(t={...t,xmlMode:"foreign"});let r=`<${e.name}`;const s=function(e,t){var n;if(!e)return;const r=!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)?Z0:t.xmlMode||"utf8"!==t.encodeEntities?G0:q0;return Object.keys(e).map((n=>{var s,i;const a=null!==(s=e[n])&&void 0!==s?s:"";return"foreign"===t.xmlMode&&(n=null!==(i=Q0.get(n))&&void 0!==i?i:n),t.emptyAttrs||t.xmlMode||""!==a?`${n}="${r(a)}"`:n})).join(" ")}(e.attribs,t);s&&(r+=` ${s}`);0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&e1.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=t1(e.children,t)),!t.xmlMode&&e1.has(e.name)||(r+=`</${e.name}>`));return r}(e,t);case JZ:return function(e,t){var n;let r=e.data||"";!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)||!t.xmlMode&&e.parent&&J0.has(e.parent.name)||(r=t.xmlMode||"utf8"!==t.encodeEntities?G0(r):j0(r));return r}(e,t)}}const s1=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),i1=new Set(["svg","math"]);function a1(e){return Array.isArray(e)?e.map(a1).join(""):x0(e)&&!y0(e)?a1(e.children):b0(e)?e.data:""}function o1(e){return Array.isArray(e)?e.map(o1).join(""):x0(e)&&(e.type===KZ.Tag||g0(e))?o1(e.children):b0(e)?e.data:""}function l1(e){return x0(e)?e.children:[]}function c1(e){let{next:t}=e;for(;null!==t&&!m0(t);)({next:t}=t);return t}function u1(e){let{prev:t}=e;for(;null!==t&&!m0(t);)({prev:t}=t);return t}function h1(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}var d1;function p1(e){return(e=e.filter(((e,t,n)=>!n.includes(e,t+1)))).sort(((e,t)=>{const n=function(e,t){const n=[],r=[];if(e===t)return 0;let s=x0(e)?e:e.parent;for(;s;)n.unshift(s),s=s.parent;for(s=x0(t)?t:t.parent;s;)r.unshift(s),s=s.parent;const i=Math.min(n.length,r.length);let a=0;for(;a<i&&n[a]===r[a];)a++;if(0===a)return d1.DISCONNECTED;const o=n[a-1],l=o.children,c=n[a],u=r[a];return l.indexOf(c)>l.indexOf(u)?o===t?d1.FOLLOWING|d1.CONTAINED_BY:d1.FOLLOWING:o===e?d1.PRECEDING|d1.CONTAINS:d1.PRECEDING}(e,t);return n&d1.PRECEDING?-1:n&d1.FOLLOWING?1:0})),e}!function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"}(d1||(d1={}));const f1={_useHtmlParser2:!1};function m1(e,t){if(!e)return null!==t&&void 0!==t?t:f1;const n={_useHtmlParser2:!!e.xmlMode,...t,...e};return e.xml?(n._useHtmlParser2=!0,n.xmlMode=!0,!0!==e.xml&&Object.assign(n,e.xml)):e.xmlMode&&(n._useHtmlParser2=!0),n}function g1(e,t,n){return e?e(null!==t&&void 0!==t?t:e._root.children,null,void 0,n).toString():""}function b1(e,t){return g1(this,function(e,t){return!t&&"object"===typeof e&&null!=e&&!("length"in e)&&!("type"in e)}(e)?void(t=e):e,{...null===this||void 0===this?void 0:this._options,...m1(t)})}function y1(e){return g1(this,e,{...this._options,xmlMode:!0})}function v1(e){const t=null!==e&&void 0!==e?e:this?this.root():[];let n="";for(let r=0;r<t.length;r++)n+=a1(t[r]);return n}function x1(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"boolean"===typeof t&&t;if(!e||"string"!==typeof e)return null;"boolean"===typeof t&&(n=t);const r=this.load(e,this._options,!1);return n||r("script").remove(),[...r.root()[0].children]}function E1(){return this(this._root)}function T1(e,t){if(t===e)return!1;let n=t;for(;n&&n!==n.parent;)if(n=n.parent,n===e)return!0;return!1}function w1(e){return this.root().extract(e)}function k1(e,t){if(!S1(e)||!S1(t))return;let n=e.length;const r=+t.length;for(let s=0;s<r;s++)e[n++]=t[s];return e.length=n,e}function S1(e){if(Array.isArray(e))return!0;if("object"!==typeof e||null===e||!("length"in e)||"number"!==typeof e.length||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}function _1(e){return null!=e.cheerio}function I1(e,t){const n=e.length;for(let r=0;r<n;r++)t(e[r],r);return e}var A1;function C1(e){const t=e.indexOf("<");if(t<0||t>e.length-3)return!1;const n=e.charCodeAt(t+1);return(n>=A1.LowerA&&n<=A1.LowerZ||n>=A1.UpperA&&n<=A1.UpperZ||n===A1.Exclamation)&&e.includes(">",t+2)}!function(e){e[e.LowerA=97]="LowerA",e[e.LowerZ=122]="LowerZ",e[e.UpperA=65]="UpperA",e[e.UpperZ=90]="UpperZ",e[e.Exclamation=33]="Exclamation"}(A1||(A1={}));const N1=Object.prototype.hasOwnProperty,D1=/\s+/,R1="data-",O1=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,M1=/^{[^]*}$|^\[[^]*]$/;function L1(e,t,n){var r;if(e&&m0(e))return null!==(r=e.attribs)&&void 0!==r||(e.attribs={}),t?N1.call(e.attribs,t)?!n&&O1.test(t)?t:e.attribs[t]:"option"===e.name&&"value"===t?v1(e.children):"input"!==e.name||"radio"!==e.attribs.type&&"checkbox"!==e.attribs.type||"value"!==t?void 0:"on":e.attribs}function P1(e,t,n){null===n?V1(e,t):e.attribs[t]=`${n}`}function F1(e,t){if("object"===typeof e||void 0!==t){if("function"===typeof t){if("string"!==typeof e)throw new Error("Bad combination of arguments.");return I1(this,((n,r)=>{m0(n)&&P1(n,e,t.call(n,r,n.attribs[e]))}))}return I1(this,(n=>{if(m0(n))if("object"===typeof e)for(const t of Object.keys(e)){P1(n,t,e[t])}else P1(n,e,t)}))}return arguments.length>1?this:L1(this[0],e,this.options.xmlMode)}function $1(e,t,n){return t in e?e[t]:!n&&O1.test(t)?void 0!==L1(e,t,!1):L1(e,t,n)}function B1(e,t,n,r){t in e?e[t]=n:P1(e,t,!r&&O1.test(t)?n?"":null:`${n}`)}function U1(e,t){var n;if("string"===typeof e&&void 0===t){const t=this[0];if(!t||!m0(t))return;switch(e){case"style":{const e=this.css(),t=Object.keys(e);for(let n=0;n<t.length;n++)e[n]=t[n];return e.length=t.length,e}case"tagName":case"nodeName":return t.name.toUpperCase();case"href":case"src":{const r=null===(n=t.attribs)||void 0===n?void 0:n[e];return"undefined"===typeof URL||("href"!==e||"a"!==t.tagName&&"link"!==t.tagName)&&("src"!==e||"img"!==t.tagName&&"iframe"!==t.tagName&&"audio"!==t.tagName&&"video"!==t.tagName&&"source"!==t.tagName)||void 0===r||!this.options.baseURI?r:new URL(r,this.options.baseURI).href}case"innerText":return o1(t);case"textContent":return a1(t);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return $1(t,e,this.options.xmlMode)}}if("object"===typeof e||void 0!==t){if("function"===typeof t){if("object"===typeof e)throw new TypeError("Bad combination of arguments.");return I1(this,((n,r)=>{m0(n)&&B1(n,e,t.call(n,r,$1(n,e,this.options.xmlMode)),this.options.xmlMode)}))}return I1(this,(n=>{if(m0(n))if("object"===typeof e)for(const t of Object.keys(e)){B1(n,t,e[t],this.options.xmlMode)}else B1(n,e,t,this.options.xmlMode)}))}}function z1(e,t,n){var r;null!==(r=e.data)&&void 0!==r||(e.data={}),"object"===typeof t?Object.assign(e.data,t):"string"===typeof t&&void 0!==n&&(e.data[t]=n)}function H1(e){if("null"===e)return null;if("true"===e)return!0;if("false"===e)return!1;const t=Number(e);if(e===String(t))return t;if(M1.test(e))try{return JSON.parse(e)}catch{}return e}function W1(e,t){var n;const r=this[0];if(!r||!m0(r))return;const s=r;return null!==(n=s.data)&&void 0!==n||(s.data={}),null==e?function(e){for(const t of Object.keys(e.attribs)){if(!t.startsWith(R1))continue;const n=t.slice(R1.length).replace(/[._-](\w|$)/g,((e,t)=>t.toUpperCase()));N1.call(e.data,n)||(e.data[n]=H1(e.attribs[t]))}return e.data}(s):"object"===typeof e||void 0!==t?(I1(this,(n=>{m0(n)&&("object"===typeof e?z1(n,e):z1(n,e,t))})),this):function(e,t){const n=R1+t.replace(/[A-Z]/g,"-$&").toLowerCase(),r=e.data;return N1.call(r,t)?r[t]:N1.call(e.attribs,n)?r[t]=H1(e.attribs[n]):void 0}(s,e)}function G1(e){const t=0===arguments.length,n=this[0];if(!n||!m0(n))return t?void 0:this;switch(n.name){case"textarea":return this.text(e);case"select":{const n=this.find("option:selected");if(!t){if(null==this.attr("multiple")&&"object"===typeof e)return this;this.find("option").removeAttr("selected");const t="object"===typeof e?e:[e];for(const e of t)this.find(`option[value="${e}"]`).attr("selected","");return this}return this.attr("multiple")?n.toArray().map((e=>v1(e.children))):n.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}function V1(e,t){e.attribs&&N1.call(e.attribs,t)&&delete e.attribs[t]}function q1(e){return e?e.trim().split(D1):[]}function j1(e){const t=q1(e);for(const n of t)I1(this,(e=>{m0(e)&&V1(e,n)}));return this}function Y1(e){return this.toArray().some((t=>{const n=m0(t)&&t.attribs.class;let r=-1;if(n&&e.length>0)for(;(r=n.indexOf(e,r+1))>-1;){const t=r+e.length;if((0===r||D1.test(n[r-1]))&&(t===n.length||D1.test(n[t])))return!0}return!1}))}function K1(e){if("function"===typeof e)return I1(this,((t,n)=>{if(m0(t)){const r=t.attribs.class||"";K1.call([t],e.call(t,n,r))}}));if(!e||"string"!==typeof e)return this;const t=e.split(D1),n=this.length;for(let r=0;r<n;r++){const e=this[r];if(!m0(e))continue;const n=L1(e,"class",!1);if(n){let r=` ${n} `;for(const e of t){const t=`${e} `;r.includes(` ${t}`)||(r+=t)}P1(e,"class",r.trim())}else P1(e,"class",t.join(" ").trim())}return this}function X1(e){if("function"===typeof e)return I1(this,((t,n)=>{m0(t)&&X1.call([t],e.call(t,n,t.attribs.class||""))}));const t=q1(e),n=t.length,r=0===arguments.length;return I1(this,(e=>{if(m0(e))if(r)e.attribs.class="";else{const r=q1(e.attribs.class);let s=!1;for(let e=0;e<n;e++){const n=r.indexOf(t[e]);n>=0&&(r.splice(n,1),s=!0,e--)}s&&(e.attribs.class=r.join(" "))}}))}function Q1(e,t){if("function"===typeof e)return I1(this,((n,r)=>{m0(n)&&Q1.call([n],e.call(n,r,n.attribs.class||"",t),t)}));if(!e||"string"!==typeof e)return this;const n=e.split(D1),r=n.length,s="boolean"===typeof t?t?1:-1:0,i=this.length;for(let a=0;a<i;a++){const e=this[a];if(!m0(e))continue;const t=q1(e.attribs.class);for(let i=0;i<r;i++){const e=t.indexOf(n[i]);s>=0&&e<0?t.push(n[i]):s<=0&&e>=0&&t.splice(e,1)}e.attribs.class=t.join(" ")}return this}var J1;!function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"}(J1||(J1={}));var Z1;!function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"}(Z1||(Z1={}));const e2=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,t2=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,n2=new Map([[126,Z1.Element],[94,Z1.Start],[36,Z1.End],[42,Z1.Any],[33,Z1.Not],[124,Z1.Hyphen]]),r2=new Set(["has","not","matches","is","where","host","host-context"]);function s2(e){switch(e.type){case J1.Adjacent:case J1.Child:case J1.Descendant:case J1.Parent:case J1.Sibling:case J1.ColumnCombinator:return!0;default:return!1}}const i2=new Set(["contains","icontains"]);function a2(e,t,n){const r=parseInt(t,16)-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)}function o2(e){return e.replace(t2,a2)}function l2(e){return 39===e||34===e}function c2(e){return 32===e||9===e||10===e||12===e||13===e}function u2(e){const t=[],n=h2(t,`${e}`,0);if(n<e.length)throw new Error(`Unmatched selector: ${e.slice(n)}`);return t}function h2(e,t,n){let r=[];function s(e){const r=t.slice(n+e).match(e2);if(!r)throw new Error(`Expected name, found ${t.slice(n)}`);const[s]=r;return n+=e+s.length,o2(s)}function i(e){for(n+=e;n<t.length&&c2(t.charCodeAt(n));)n++}function a(){const e=n+=1;let r=1;for(;r>0&&n<t.length;n++)40!==t.charCodeAt(n)||o(n)?41!==t.charCodeAt(n)||o(n)||r--:r++;if(r)throw new Error("Parenthesis not matched");return o2(t.slice(e,n-1))}function o(e){let n=0;for(;92===t.charCodeAt(--e);)n++;return 1===(1&n)}function l(){if(r.length>0&&s2(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function c(e){r.length>0&&r[r.length-1].type===J1.Descendant?r[r.length-1].type=e:(l(),r.push({type:e}))}function u(e,t){r.push({type:J1.Attribute,name:e,action:t,value:s(1),namespace:null,ignoreCase:"quirks"})}function h(){if(r.length&&r[r.length-1].type===J1.Descendant&&r.pop(),0===r.length)throw new Error("Empty sub-selector");e.push(r)}if(i(0),t.length===n)return n;e:for(;n<t.length;){const e=t.charCodeAt(n);switch(e){case 32:case 9:case 10:case 12:case 13:0!==r.length&&r[0].type===J1.Descendant||(l(),r.push({type:J1.Descendant})),i(1);break;case 62:c(J1.Child),i(1);break;case 60:c(J1.Parent),i(1);break;case 126:c(J1.Sibling),i(1);break;case 43:c(J1.Adjacent),i(1);break;case 46:u("class",Z1.Element);break;case 35:u("id",Z1.Equals);break;case 91:{let e;i(1);let a=null;124===t.charCodeAt(n)?e=s(1):t.startsWith("*|",n)?(a="*",e=s(2)):(e=s(0),124===t.charCodeAt(n)&&61!==t.charCodeAt(n+1)&&(a=e,e=s(1))),i(0);let l=Z1.Exists;const c=n2.get(t.charCodeAt(n));if(c){if(l=c,61!==t.charCodeAt(n+1))throw new Error("Expected `=`");i(2)}else 61===t.charCodeAt(n)&&(l=Z1.Equals,i(1));let u="",h=null;if("exists"!==l){if(l2(t.charCodeAt(n))){const e=t.charCodeAt(n);let r=n+1;for(;r<t.length&&(t.charCodeAt(r)!==e||o(r));)r+=1;if(t.charCodeAt(r)!==e)throw new Error("Attribute value didn't end");u=o2(t.slice(n+1,r)),n=r+1}else{const e=n;for(;n<t.length&&(!c2(t.charCodeAt(n))&&93!==t.charCodeAt(n)||o(n));)n+=1;u=o2(t.slice(e,n))}i(0);const e=32|t.charCodeAt(n);115===e?(h=!1,i(1)):105===e&&(h=!0,i(1))}if(93!==t.charCodeAt(n))throw new Error("Attribute selector didn't terminate");n+=1;const d={type:J1.Attribute,name:e,action:l,value:u,namespace:a,ignoreCase:h};r.push(d);break}case 58:{if(58===t.charCodeAt(n+1)){r.push({type:J1.PseudoElement,name:s(2).toLowerCase(),data:40===t.charCodeAt(n)?a():null});continue}const e=s(1).toLowerCase();let i=null;if(40===t.charCodeAt(n))if(r2.has(e)){if(l2(t.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${e} cannot be quoted`);if(i=[],n=h2(i,t,n+1),41!==t.charCodeAt(n))throw new Error(`Missing closing parenthesis in :${e} (${t})`);n+=1}else{if(i=a(),i2.has(e)){const e=i.charCodeAt(0);e===i.charCodeAt(i.length-1)&&l2(e)&&(i=i.slice(1,-1))}i=o2(i)}r.push({type:J1.Pseudo,name:e,data:i});break}case 44:h(),r=[],i(1);break;default:{if(t.startsWith("/*",n)){const e=t.indexOf("*/",n+2);if(e<0)throw new Error("Comment was not terminated");n=e+2,0===r.length&&i(0);break}let a,o=null;if(42===e)n+=1,a="*";else if(124===e){if(a="",124===t.charCodeAt(n+1)){c(J1.ColumnCombinator),i(2);break}}else{if(!e2.test(t.slice(n)))break e;a=s(0)}124===t.charCodeAt(n)&&124!==t.charCodeAt(n+1)&&(o=a,42===t.charCodeAt(n+1)?(a="*",n+=2):a=s(1)),r.push("*"===a?{type:J1.Universal,namespace:o}:{type:J1.Tag,name:a,namespace:o})}}}return h(),n}function d2(e){return XZ(e)}function p2(e){return e.type===KZ.CDATA}function f2(e){return e.type===KZ.Text}function m2(e){return e.type===KZ.Comment}function g2(e){return e.type===KZ.Root}function b2(e){return Object.prototype.hasOwnProperty.call(e,"children")}const y2=new Uint16Array('\u1d41<\xd5\u0131\u028a\u049d\u057b\u05d0\u0675\u06de\u07a2\u07d6\u080f\u0a4a\u0a91\u0da1\u0e6d\u0f09\u0f26\u10ca\u1228\u12e1\u1415\u149d\u14c3\u14df\u1525\0\0\0\0\0\0\u156b\u16cd\u198d\u1c12\u1ddd\u1f7e\u2060\u21b0\u228d\u23c0\u23fb\u2442\u2824\u2912\u2d08\u2e48\u2fce\u3016\u32ba\u3639\u37ac\u38fe\u3a28\u3a71\u3ae0\u3b2e\u0800EMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig\u803b\xc6\u40c6P\u803b&\u4026cute\u803b\xc1\u40c1reve;\u4102\u0100iyx}rc\u803b\xc2\u40c2;\u4410r;\uc000\ud835\udd04rave\u803b\xc0\u40c0pha;\u4391acr;\u4100d;\u6a53\u0100gp\x9d\xa1on;\u4104f;\uc000\ud835\udd38plyFunction;\u6061ing\u803b\xc5\u40c5\u0100cs\xbe\xc3r;\uc000\ud835\udc9cign;\u6254ilde\u803b\xc3\u40c3ml\u803b\xc4\u40c4\u0400aceforsu\xe5\xfb\xfe\u0117\u011c\u0122\u0127\u012a\u0100cr\xea\xf2kslash;\u6216\u0176\xf6\xf8;\u6ae7ed;\u6306y;\u4411\u0180crt\u0105\u010b\u0114ause;\u6235noullis;\u612ca;\u4392r;\uc000\ud835\udd05pf;\uc000\ud835\udd39eve;\u42d8c\xf2\u0113mpeq;\u624e\u0700HOacdefhilorsu\u014d\u0151\u0156\u0180\u019e\u01a2\u01b5\u01b7\u01ba\u01dc\u0215\u0273\u0278\u027ecy;\u4427PY\u803b\xa9\u40a9\u0180cpy\u015d\u0162\u017aute;\u4106\u0100;i\u0167\u0168\u62d2talDifferentialD;\u6145leys;\u612d\u0200aeio\u0189\u018e\u0194\u0198ron;\u410cdil\u803b\xc7\u40c7rc;\u4108nint;\u6230ot;\u410a\u0100dn\u01a7\u01adilla;\u40b8terDot;\u40b7\xf2\u017fi;\u43a7rcle\u0200DMPT\u01c7\u01cb\u01d1\u01d6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01e2\u01f8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020foubleQuote;\u601duote;\u6019\u0200lnpu\u021e\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6a74\u0180git\u022f\u0236\u023aruent;\u6261nt;\u622fourIntegral;\u622e\u0100fr\u024c\u024e;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6a2fcr;\uc000\ud835\udc9ep\u0100;C\u0284\u0285\u62d3ap;\u624d\u0580DJSZacefios\u02a0\u02ac\u02b0\u02b4\u02b8\u02cb\u02d7\u02e1\u02e6\u0333\u048d\u0100;o\u0179\u02a5trahd;\u6911cy;\u4402cy;\u4405cy;\u440f\u0180grs\u02bf\u02c4\u02c7ger;\u6021r;\u61a1hv;\u6ae4\u0100ay\u02d0\u02d5ron;\u410e;\u4414l\u0100;t\u02dd\u02de\u6207a;\u4394r;\uc000\ud835\udd07\u0100af\u02eb\u0327\u0100cm\u02f0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031ccute;\u40b4o\u0174\u030b\u030d;\u42d9bleAcute;\u42ddrave;\u4060ilde;\u42dcond;\u62c4ferentialD;\u6146\u0470\u033d\0\0\0\u0342\u0354\0\u0405f;\uc000\ud835\udd3b\u0180;DE\u0348\u0349\u034d\u40a8ot;\u60dcqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03cf\u03e2\u03f8ontourIntegra\xec\u0239o\u0274\u0379\0\0\u037b\xbb\u0349nArrow;\u61d3\u0100eo\u0387\u03a4ft\u0180ART\u0390\u0396\u03a1rrow;\u61d0ightArrow;\u61d4e\xe5\u02cang\u0100LR\u03ab\u03c4eft\u0100AR\u03b3\u03b9rrow;\u67f8ightArrow;\u67faightArrow;\u67f9ight\u0100AT\u03d8\u03derrow;\u61d2ee;\u62a8p\u0241\u03e9\0\0\u03efrrow;\u61d1ownArrow;\u61d5erticalBar;\u6225n\u0300ABLRTa\u0412\u042a\u0430\u045e\u047f\u037crrow\u0180;BU\u041d\u041e\u0422\u6193ar;\u6913pArrow;\u61f5reve;\u4311eft\u02d2\u043a\0\u0446\0\u0450ightVector;\u6950eeVector;\u695eector\u0100;B\u0459\u045a\u61bdar;\u6956ight\u01d4\u0467\0\u0471eeVector;\u695fector\u0100;B\u047a\u047b\u61c1ar;\u6957ee\u0100;A\u0486\u0487\u62a4rrow;\u61a7\u0100ct\u0492\u0497r;\uc000\ud835\udc9frok;\u4110\u0800NTacdfglmopqstux\u04bd\u04c0\u04c4\u04cb\u04de\u04e2\u04e7\u04ee\u04f5\u0521\u052f\u0536\u0552\u055d\u0560\u0565G;\u414aH\u803b\xd0\u40d0cute\u803b\xc9\u40c9\u0180aiy\u04d2\u04d7\u04dcron;\u411arc\u803b\xca\u40ca;\u442dot;\u4116r;\uc000\ud835\udd08rave\u803b\xc8\u40c8ement;\u6208\u0100ap\u04fa\u04fecr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65fberySmallSquare;\u65ab\u0100gp\u0526\u052aon;\u4118f;\uc000\ud835\udd3csilon;\u4395u\u0100ai\u053c\u0549l\u0100;T\u0542\u0543\u6a75ilde;\u6242librium;\u61cc\u0100ci\u0557\u055ar;\u6130m;\u6a73a;\u4397ml\u803b\xcb\u40cb\u0100ip\u056a\u056fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058d\u05b2\u05ccy;\u4424r;\uc000\ud835\udd09lled\u0253\u0597\0\0\u05a3mallSquare;\u65fcerySmallSquare;\u65aa\u0370\u05ba\0\u05bf\0\0\u05c4f;\uc000\ud835\udd3dAll;\u6200riertrf;\u6131c\xf2\u05cb\u0600JTabcdfgorst\u05e8\u05ec\u05ef\u05fa\u0600\u0612\u0616\u061b\u061d\u0623\u066c\u0672cy;\u4403\u803b>\u403emma\u0100;d\u05f7\u05f8\u4393;\u43dcreve;\u411e\u0180eiy\u0607\u060c\u0610dil;\u4122rc;\u411c;\u4413ot;\u4120r;\uc000\ud835\udd0a;\u62d9pf;\uc000\ud835\udd3eeater\u0300EFGLST\u0635\u0644\u064e\u0656\u065b\u0666qual\u0100;L\u063e\u063f\u6265ess;\u62dbullEqual;\u6267reater;\u6aa2ess;\u6277lantEqual;\u6a7eilde;\u6273cr;\uc000\ud835\udca2;\u626b\u0400Aacfiosu\u0685\u068b\u0696\u069b\u069e\u06aa\u06be\u06caRDcy;\u442a\u0100ct\u0690\u0694ek;\u42c7;\u405eirc;\u4124r;\u610clbertSpace;\u610b\u01f0\u06af\0\u06b2f;\u610dizontalLine;\u6500\u0100ct\u06c3\u06c5\xf2\u06a9rok;\u4126mp\u0144\u06d0\u06d8ownHum\xf0\u012fqual;\u624f\u0700EJOacdfgmnostu\u06fa\u06fe\u0703\u0707\u070e\u071a\u071e\u0721\u0728\u0744\u0778\u078b\u078f\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803b\xcd\u40cd\u0100iy\u0713\u0718rc\u803b\xce\u40ce;\u4418ot;\u4130r;\u6111rave\u803b\xcc\u40cc\u0180;ap\u0720\u072f\u073f\u0100cg\u0734\u0737r;\u412ainaryI;\u6148lie\xf3\u03dd\u01f4\u0749\0\u0762\u0100;e\u074d\u074e\u622c\u0100gr\u0753\u0758ral;\u622bsection;\u62c2isible\u0100CT\u076c\u0772omma;\u6063imes;\u6062\u0180gpt\u077f\u0783\u0788on;\u412ef;\uc000\ud835\udd40a;\u4399cr;\u6110ilde;\u4128\u01eb\u079a\0\u079ecy;\u4406l\u803b\xcf\u40cf\u0280cfosu\u07ac\u07b7\u07bc\u07c2\u07d0\u0100iy\u07b1\u07b5rc;\u4134;\u4419r;\uc000\ud835\udd0dpf;\uc000\ud835\udd41\u01e3\u07c7\0\u07ccr;\uc000\ud835\udca5rcy;\u4408kcy;\u4404\u0380HJacfos\u07e4\u07e8\u07ec\u07f1\u07fd\u0802\u0808cy;\u4425cy;\u440cppa;\u439a\u0100ey\u07f6\u07fbdil;\u4136;\u441ar;\uc000\ud835\udd0epf;\uc000\ud835\udd42cr;\uc000\ud835\udca6\u0580JTaceflmost\u0825\u0829\u082c\u0850\u0863\u09b3\u09b8\u09c7\u09cd\u0a37\u0a47cy;\u4409\u803b<\u403c\u0280cmnpr\u0837\u083c\u0841\u0844\u084dute;\u4139bda;\u439bg;\u67ealacetrf;\u6112r;\u619e\u0180aey\u0857\u085c\u0861ron;\u413ddil;\u413b;\u441b\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087e\u08a9\u08b1\u08e0\u08e6\u08fc\u092f\u095b\u0390\u096a\u0100nr\u0883\u088fgleBracket;\u67e8row\u0180;BR\u0899\u089a\u089e\u6190ar;\u61e4ightArrow;\u61c6eiling;\u6308o\u01f5\u08b7\0\u08c3bleBracket;\u67e6n\u01d4\u08c8\0\u08d2eeVector;\u6961ector\u0100;B\u08db\u08dc\u61c3ar;\u6959loor;\u630aight\u0100AV\u08ef\u08f5rrow;\u6194ector;\u694e\u0100er\u0901\u0917e\u0180;AV\u0909\u090a\u0910\u62a3rrow;\u61a4ector;\u695aiangle\u0180;BE\u0924\u0925\u0929\u62b2ar;\u69cfqual;\u62b4p\u0180DTV\u0937\u0942\u094cownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61bfar;\u6958ector\u0100;B\u0965\u0966\u61bcar;\u6952ight\xe1\u039cs\u0300EFGLST\u097e\u098b\u0995\u099d\u09a2\u09adqualGreater;\u62daullEqual;\u6266reater;\u6276ess;\u6aa1lantEqual;\u6a7dilde;\u6272r;\uc000\ud835\udd0f\u0100;e\u09bd\u09be\u62d8ftarrow;\u61daidot;\u413f\u0180npw\u09d4\u0a16\u0a1bg\u0200LRlr\u09de\u09f7\u0a02\u0a10eft\u0100AR\u09e6\u09ecrrow;\u67f5ightArrow;\u67f7ightArrow;\u67f6eft\u0100ar\u03b3\u0a0aight\xe1\u03bfight\xe1\u03caf;\uc000\ud835\udd43er\u0100LR\u0a22\u0a2ceftArrow;\u6199ightArrow;\u6198\u0180cht\u0a3e\u0a40\u0a42\xf2\u084c;\u61b0rok;\u4141;\u626a\u0400acefiosu\u0a5a\u0a5d\u0a60\u0a77\u0a7c\u0a85\u0a8b\u0a8ep;\u6905y;\u441c\u0100dl\u0a65\u0a6fiumSpace;\u605flintrf;\u6133r;\uc000\ud835\udd10nusPlus;\u6213pf;\uc000\ud835\udd44c\xf2\u0a76;\u439c\u0480Jacefostu\u0aa3\u0aa7\u0aad\u0ac0\u0b14\u0b19\u0d91\u0d97\u0d9ecy;\u440acute;\u4143\u0180aey\u0ab4\u0ab9\u0aberon;\u4147dil;\u4145;\u441d\u0180gsw\u0ac7\u0af0\u0b0eative\u0180MTV\u0ad3\u0adf\u0ae8ediumSpace;\u600bhi\u0100cn\u0ae6\u0ad8\xeb\u0ad9eryThi\xee\u0ad9ted\u0100GL\u0af8\u0b06reaterGreate\xf2\u0673essLes\xf3\u0a48Line;\u400ar;\uc000\ud835\udd11\u0200Bnpt\u0b22\u0b28\u0b37\u0b3areak;\u6060BreakingSpace;\u40a0f;\u6115\u0680;CDEGHLNPRSTV\u0b55\u0b56\u0b6a\u0b7c\u0ba1\u0beb\u0c04\u0c5e\u0c84\u0ca6\u0cd8\u0d61\u0d85\u6aec\u0100ou\u0b5b\u0b64ngruent;\u6262pCap;\u626doubleVerticalBar;\u6226\u0180lqx\u0b83\u0b8a\u0b9bement;\u6209ual\u0100;T\u0b92\u0b93\u6260ilde;\uc000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0bb6\u0bb7\u0bbd\u0bc9\u0bd3\u0bd8\u0be5\u626fqual;\u6271ullEqual;\uc000\u2267\u0338reater;\uc000\u226b\u0338ess;\u6279lantEqual;\uc000\u2a7e\u0338ilde;\u6275ump\u0144\u0bf2\u0bfdownHump;\uc000\u224e\u0338qual;\uc000\u224f\u0338e\u0100fs\u0c0a\u0c27tTriangle\u0180;BE\u0c1a\u0c1b\u0c21\u62eaar;\uc000\u29cf\u0338qual;\u62ecs\u0300;EGLST\u0c35\u0c36\u0c3c\u0c44\u0c4b\u0c58\u626equal;\u6270reater;\u6278ess;\uc000\u226a\u0338lantEqual;\uc000\u2a7d\u0338ilde;\u6274ested\u0100GL\u0c68\u0c79reaterGreater;\uc000\u2aa2\u0338essLess;\uc000\u2aa1\u0338recedes\u0180;ES\u0c92\u0c93\u0c9b\u6280qual;\uc000\u2aaf\u0338lantEqual;\u62e0\u0100ei\u0cab\u0cb9verseElement;\u620cghtTriangle\u0180;BE\u0ccb\u0ccc\u0cd2\u62ebar;\uc000\u29d0\u0338qual;\u62ed\u0100qu\u0cdd\u0d0cuareSu\u0100bp\u0ce8\u0cf9set\u0100;E\u0cf0\u0cf3\uc000\u228f\u0338qual;\u62e2erset\u0100;E\u0d03\u0d06\uc000\u2290\u0338qual;\u62e3\u0180bcp\u0d13\u0d24\u0d4eset\u0100;E\u0d1b\u0d1e\uc000\u2282\u20d2qual;\u6288ceeds\u0200;EST\u0d32\u0d33\u0d3b\u0d46\u6281qual;\uc000\u2ab0\u0338lantEqual;\u62e1ilde;\uc000\u227f\u0338erset\u0100;E\u0d58\u0d5b\uc000\u2283\u20d2qual;\u6289ilde\u0200;EFT\u0d6e\u0d6f\u0d75\u0d7f\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uc000\ud835\udca9ilde\u803b\xd1\u40d1;\u439d\u0700Eacdfgmoprstuv\u0dbd\u0dc2\u0dc9\u0dd5\u0ddb\u0de0\u0de7\u0dfc\u0e02\u0e20\u0e22\u0e32\u0e3f\u0e44lig;\u4152cute\u803b\xd3\u40d3\u0100iy\u0dce\u0dd3rc\u803b\xd4\u40d4;\u441eblac;\u4150r;\uc000\ud835\udd12rave\u803b\xd2\u40d2\u0180aei\u0dee\u0df2\u0df6cr;\u414cga;\u43a9cron;\u439fpf;\uc000\ud835\udd46enCurly\u0100DQ\u0e0e\u0e1aoubleQuote;\u601cuote;\u6018;\u6a54\u0100cl\u0e27\u0e2cr;\uc000\ud835\udcaaash\u803b\xd8\u40d8i\u016c\u0e37\u0e3cde\u803b\xd5\u40d5es;\u6a37ml\u803b\xd6\u40d6er\u0100BP\u0e4b\u0e60\u0100ar\u0e50\u0e53r;\u603eac\u0100ek\u0e5a\u0e5c;\u63deet;\u63b4arenthesis;\u63dc\u0480acfhilors\u0e7f\u0e87\u0e8a\u0e8f\u0e92\u0e94\u0e9d\u0eb0\u0efcrtialD;\u6202y;\u441fr;\uc000\ud835\udd13i;\u43a6;\u43a0usMinus;\u40b1\u0100ip\u0ea2\u0eadncareplan\xe5\u069df;\u6119\u0200;eio\u0eb9\u0eba\u0ee0\u0ee4\u6abbcedes\u0200;EST\u0ec8\u0ec9\u0ecf\u0eda\u627aqual;\u6aaflantEqual;\u627cilde;\u627eme;\u6033\u0100dp\u0ee9\u0eeeuct;\u620fortion\u0100;a\u0225\u0ef9l;\u621d\u0100ci\u0f01\u0f06r;\uc000\ud835\udcab;\u43a8\u0200Ufos\u0f11\u0f16\u0f1b\u0f1fOT\u803b"\u4022r;\uc000\ud835\udd14pf;\u611acr;\uc000\ud835\udcac\u0600BEacefhiorsu\u0f3e\u0f43\u0f47\u0f60\u0f73\u0fa7\u0faa\u0fad\u1096\u10a9\u10b4\u10bearr;\u6910G\u803b\xae\u40ae\u0180cnr\u0f4e\u0f53\u0f56ute;\u4154g;\u67ebr\u0100;t\u0f5c\u0f5d\u61a0l;\u6916\u0180aey\u0f67\u0f6c\u0f71ron;\u4158dil;\u4156;\u4420\u0100;v\u0f78\u0f79\u611cerse\u0100EU\u0f82\u0f99\u0100lq\u0f87\u0f8eement;\u620builibrium;\u61cbpEquilibrium;\u696fr\xbb\u0f79o;\u43a1ght\u0400ACDFTUVa\u0fc1\u0feb\u0ff3\u1022\u1028\u105b\u1087\u03d8\u0100nr\u0fc6\u0fd2gleBracket;\u67e9row\u0180;BL\u0fdc\u0fdd\u0fe1\u6192ar;\u61e5eftArrow;\u61c4eiling;\u6309o\u01f5\u0ff9\0\u1005bleBracket;\u67e7n\u01d4\u100a\0\u1014eeVector;\u695dector\u0100;B\u101d\u101e\u61c2ar;\u6955loor;\u630b\u0100er\u102d\u1043e\u0180;AV\u1035\u1036\u103c\u62a2rrow;\u61a6ector;\u695biangle\u0180;BE\u1050\u1051\u1055\u62b3ar;\u69d0qual;\u62b5p\u0180DTV\u1063\u106e\u1078ownVector;\u694feeVector;\u695cector\u0100;B\u1082\u1083\u61bear;\u6954ector\u0100;B\u1091\u1092\u61c0ar;\u6953\u0100pu\u109b\u109ef;\u611dndImplies;\u6970ightarrow;\u61db\u0100ch\u10b9\u10bcr;\u611b;\u61b1leDelayed;\u69f4\u0680HOacfhimoqstu\u10e4\u10f1\u10f7\u10fd\u1119\u111e\u1151\u1156\u1161\u1167\u11b5\u11bb\u11bf\u0100Cc\u10e9\u10eeHcy;\u4429y;\u4428FTcy;\u442ccute;\u415a\u0280;aeiy\u1108\u1109\u110e\u1113\u1117\u6abcron;\u4160dil;\u415erc;\u415c;\u4421r;\uc000\ud835\udd16ort\u0200DLRU\u112a\u1134\u113e\u1149ownArrow\xbb\u041eeftArrow\xbb\u089aightArrow\xbb\u0fddpArrow;\u6191gma;\u43a3allCircle;\u6218pf;\uc000\ud835\udd4a\u0272\u116d\0\0\u1170t;\u621aare\u0200;ISU\u117b\u117c\u1189\u11af\u65a1ntersection;\u6293u\u0100bp\u118f\u119eset\u0100;E\u1197\u1198\u628fqual;\u6291erset\u0100;E\u11a8\u11a9\u6290qual;\u6292nion;\u6294cr;\uc000\ud835\udcaear;\u62c6\u0200bcmp\u11c8\u11db\u1209\u120b\u0100;s\u11cd\u11ce\u62d0et\u0100;E\u11cd\u11d5qual;\u6286\u0100ch\u11e0\u1205eeds\u0200;EST\u11ed\u11ee\u11f4\u11ff\u627bqual;\u6ab0lantEqual;\u627dilde;\u627fTh\xe1\u0f8c;\u6211\u0180;es\u1212\u1213\u1223\u62d1rset\u0100;E\u121c\u121d\u6283qual;\u6287et\xbb\u1213\u0580HRSacfhiors\u123e\u1244\u1249\u1255\u125e\u1271\u1276\u129f\u12c2\u12c8\u12d1ORN\u803b\xde\u40deADE;\u6122\u0100Hc\u124e\u1252cy;\u440by;\u4426\u0100bu\u125a\u125c;\u4009;\u43a4\u0180aey\u1265\u126a\u126fron;\u4164dil;\u4162;\u4422r;\uc000\ud835\udd17\u0100ei\u127b\u1289\u01f2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128e\u1298kSpace;\uc000\u205f\u200aSpace;\u6009lde\u0200;EFT\u12ab\u12ac\u12b2\u12bc\u623cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uc000\ud835\udd4bipleDot;\u60db\u0100ct\u12d6\u12dbr;\uc000\ud835\udcafrok;\u4166\u0ae1\u12f7\u130e\u131a\u1326\0\u132c\u1331\0\0\0\0\0\u1338\u133d\u1377\u1385\0\u13ff\u1404\u140a\u1410\u0100cr\u12fb\u1301ute\u803b\xda\u40dar\u0100;o\u1307\u1308\u619fcir;\u6949r\u01e3\u1313\0\u1316y;\u440eve;\u416c\u0100iy\u131e\u1323rc\u803b\xdb\u40db;\u4423blac;\u4170r;\uc000\ud835\udd18rave\u803b\xd9\u40d9acr;\u416a\u0100di\u1341\u1369er\u0100BP\u1348\u135d\u0100ar\u134d\u1350r;\u405fac\u0100ek\u1357\u1359;\u63dfet;\u63b5arenthesis;\u63ddon\u0100;P\u1370\u1371\u62c3lus;\u628e\u0100gp\u137b\u137fon;\u4172f;\uc000\ud835\udd4c\u0400ADETadps\u1395\u13ae\u13b8\u13c4\u03e8\u13d2\u13d7\u13f3rrow\u0180;BD\u1150\u13a0\u13a4ar;\u6912ownArrow;\u61c5ownArrow;\u6195quilibrium;\u696eee\u0100;A\u13cb\u13cc\u62a5rrow;\u61a5own\xe1\u03f3er\u0100LR\u13de\u13e8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13f9\u13fa\u43d2on;\u43a5ing;\u416ecr;\uc000\ud835\udcb0ilde;\u4168ml\u803b\xdc\u40dc\u0480Dbcdefosv\u1427\u142c\u1430\u1433\u143e\u1485\u148a\u1490\u1496ash;\u62abar;\u6aeby;\u4412ash\u0100;l\u143b\u143c\u62a9;\u6ae6\u0100er\u1443\u1445;\u62c1\u0180bty\u144c\u1450\u147aar;\u6016\u0100;i\u144f\u1455cal\u0200BLST\u1461\u1465\u146a\u1474ar;\u6223ine;\u407ceparator;\u6758ilde;\u6240ThinSpace;\u600ar;\uc000\ud835\udd19pf;\uc000\ud835\udd4dcr;\uc000\ud835\udcb1dash;\u62aa\u0280cefos\u14a7\u14ac\u14b1\u14b6\u14bcirc;\u4174dge;\u62c0r;\uc000\ud835\udd1apf;\uc000\ud835\udd4ecr;\uc000\ud835\udcb2\u0200fios\u14cb\u14d0\u14d2\u14d8r;\uc000\ud835\udd1b;\u439epf;\uc000\ud835\udd4fcr;\uc000\ud835\udcb3\u0480AIUacfosu\u14f1\u14f5\u14f9\u14fd\u1504\u150f\u1514\u151a\u1520cy;\u442fcy;\u4407cy;\u442ecute\u803b\xdd\u40dd\u0100iy\u1509\u150drc;\u4176;\u442br;\uc000\ud835\udd1cpf;\uc000\ud835\udd50cr;\uc000\ud835\udcb4ml;\u4178\u0400Hacdefos\u1535\u1539\u153f\u154b\u154f\u155d\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417d;\u4417ot;\u417b\u01f2\u1554\0\u155boWidt\xe8\u0ad9a;\u4396r;\u6128pf;\u6124cr;\uc000\ud835\udcb5\u0be1\u1583\u158a\u1590\0\u15b0\u15b6\u15bf\0\0\0\0\u15c6\u15db\u15eb\u165f\u166d\0\u1695\u169b\u16b2\u16b9\0\u16becute\u803b\xe1\u40e1reve;\u4103\u0300;Ediuy\u159c\u159d\u15a1\u15a3\u15a8\u15ad\u623e;\uc000\u223e\u0333;\u623frc\u803b\xe2\u40e2te\u80bb\xb4\u0306;\u4430lig\u803b\xe6\u40e6\u0100;r\xb2\u15ba;\uc000\ud835\udd1erave\u803b\xe0\u40e0\u0100ep\u15ca\u15d6\u0100fp\u15cf\u15d4sym;\u6135\xe8\u15d3ha;\u43b1\u0100ap\u15dfc\u0100cl\u15e4\u15e7r;\u4101g;\u6a3f\u0264\u15f0\0\0\u160a\u0280;adsv\u15fa\u15fb\u15ff\u1601\u1607\u6227nd;\u6a55;\u6a5clope;\u6a58;\u6a5a\u0380;elmrsz\u1618\u1619\u161b\u161e\u163f\u164f\u1659\u6220;\u69a4e\xbb\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163a\u163c\u163e;\u69a8;\u69a9;\u69aa;\u69ab;\u69ac;\u69ad;\u69ae;\u69aft\u0100;v\u1645\u1646\u621fb\u0100;d\u164c\u164d\u62be;\u699d\u0100pt\u1654\u1657h;\u6222\xbb\xb9arr;\u637c\u0100gp\u1663\u1667on;\u4105f;\uc000\ud835\udd52\u0380;Eaeiop\u12c1\u167b\u167d\u1682\u1684\u1687\u168a;\u6a70cir;\u6a6f;\u624ad;\u624bs;\u4027rox\u0100;e\u12c1\u1692\xf1\u1683ing\u803b\xe5\u40e5\u0180cty\u16a1\u16a6\u16a8r;\uc000\ud835\udcb6;\u402amp\u0100;e\u12c1\u16af\xf1\u0288ilde\u803b\xe3\u40e3ml\u803b\xe4\u40e4\u0100ci\u16c2\u16c8onin\xf4\u0272nt;\u6a11\u0800Nabcdefiklnoprsu\u16ed\u16f1\u1730\u173c\u1743\u1748\u1778\u177d\u17e0\u17e6\u1839\u1850\u170d\u193d\u1948\u1970ot;\u6aed\u0100cr\u16f6\u171ek\u0200ceps\u1700\u1705\u170d\u1713ong;\u624cpsilon;\u43f6rime;\u6035im\u0100;e\u171a\u171b\u623dq;\u62cd\u0176\u1722\u1726ee;\u62bded\u0100;g\u172c\u172d\u6305e\xbb\u172drk\u0100;t\u135c\u1737brk;\u63b6\u0100oy\u1701\u1741;\u4431quo;\u601e\u0280cmprt\u1753\u175b\u1761\u1764\u1768aus\u0100;e\u010a\u0109ptyv;\u69b0s\xe9\u170cno\xf5\u0113\u0180ahw\u176f\u1771\u1773;\u43b2;\u6136een;\u626cr;\uc000\ud835\udd1fg\u0380costuvw\u178d\u179d\u17b3\u17c1\u17d5\u17db\u17de\u0180aiu\u1794\u1796\u179a\xf0\u0760rc;\u65efp\xbb\u1371\u0180dpt\u17a4\u17a8\u17adot;\u6a00lus;\u6a01imes;\u6a02\u0271\u17b9\0\0\u17becup;\u6a06ar;\u6605riangle\u0100du\u17cd\u17d2own;\u65bdp;\u65b3plus;\u6a04e\xe5\u1444\xe5\u14adarow;\u690d\u0180ako\u17ed\u1826\u1835\u0100cn\u17f2\u1823k\u0180lst\u17fa\u05ab\u1802ozenge;\u69ebriangle\u0200;dlr\u1812\u1813\u1818\u181d\u65b4own;\u65beeft;\u65c2ight;\u65b8k;\u6423\u01b1\u182b\0\u1833\u01b2\u182f\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183e\u184d\u0100;q\u1843\u1846\uc000=\u20e5uiv;\uc000\u2261\u20e5t;\u6310\u0200ptwx\u1859\u185e\u1867\u186cf;\uc000\ud835\udd53\u0100;t\u13cb\u1863om\xbb\u13cctie;\u62c8\u0600DHUVbdhmptuv\u1885\u1896\u18aa\u18bb\u18d7\u18db\u18ec\u18ff\u1905\u190a\u1910\u1921\u0200LRlr\u188e\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18a1\u18a2\u18a4\u18a6\u18a8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18b3\u18b5\u18b7\u18b9;\u655d;\u655a;\u655c;\u6559\u0380;HLRhlr\u18ca\u18cb\u18cd\u18cf\u18d1\u18d3\u18d5\u6551;\u656c;\u6563;\u6560;\u656b;\u6562;\u655fox;\u69c9\u0200LRlr\u18e4\u18e6\u18e8\u18ea;\u6555;\u6552;\u6510;\u650c\u0280;DUdu\u06bd\u18f7\u18f9\u18fb\u18fd;\u6565;\u6568;\u652c;\u6534inus;\u629flus;\u629eimes;\u62a0\u0200LRlr\u1919\u191b\u191d\u191f;\u655b;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193b\u6502;\u656a;\u6561;\u655e;\u653c;\u6524;\u651c\u0100ev\u0123\u1942bar\u803b\xa6\u40a6\u0200ceio\u1951\u1956\u195a\u1960r;\uc000\ud835\udcb7mi;\u604fm\u0100;e\u171a\u171cl\u0180;bh\u1968\u1969\u196b\u405c;\u69c5sub;\u67c8\u016c\u1974\u197el\u0100;e\u1979\u197a\u6022t\xbb\u197ap\u0180;Ee\u012f\u1985\u1987;\u6aae\u0100;q\u06dc\u06db\u0ce1\u19a7\0\u19e8\u1a11\u1a15\u1a32\0\u1a37\u1a50\0\0\u1ab4\0\0\u1ac1\0\0\u1b21\u1b2e\u1b4d\u1b52\0\u1bfd\0\u1c0c\u0180cpr\u19ad\u19b2\u19ddute;\u4107\u0300;abcds\u19bf\u19c0\u19c4\u19ca\u19d5\u19d9\u6229nd;\u6a44rcup;\u6a49\u0100au\u19cf\u19d2p;\u6a4bp;\u6a47ot;\u6a40;\uc000\u2229\ufe00\u0100eo\u19e2\u19e5t;\u6041\xee\u0693\u0200aeiu\u19f0\u19fb\u1a01\u1a05\u01f0\u19f5\0\u19f8s;\u6a4don;\u410ddil\u803b\xe7\u40e7rc;\u4109ps\u0100;s\u1a0c\u1a0d\u6a4cm;\u6a50ot;\u410b\u0180dmn\u1a1b\u1a20\u1a26il\u80bb\xb8\u01adptyv;\u69b2t\u8100\xa2;e\u1a2d\u1a2e\u40a2r\xe4\u01b2r;\uc000\ud835\udd20\u0180cei\u1a3d\u1a40\u1a4dy;\u4447ck\u0100;m\u1a47\u1a48\u6713ark\xbb\u1a48;\u43c7r\u0380;Ecefms\u1a5f\u1a60\u1a62\u1a6b\u1aa4\u1aaa\u1aae\u65cb;\u69c3\u0180;el\u1a69\u1a6a\u1a6d\u42c6q;\u6257e\u0261\u1a74\0\0\u1a88rrow\u0100lr\u1a7c\u1a81eft;\u61baight;\u61bb\u0280RSacd\u1a92\u1a94\u1a96\u1a9a\u1a9f\xbb\u0f47;\u64c8st;\u629birc;\u629aash;\u629dnint;\u6a10id;\u6aefcir;\u69c2ubs\u0100;u\u1abb\u1abc\u6663it\xbb\u1abc\u02ec\u1ac7\u1ad4\u1afa\0\u1b0aon\u0100;e\u1acd\u1ace\u403a\u0100;q\xc7\xc6\u026d\u1ad9\0\0\u1ae2a\u0100;t\u1ade\u1adf\u402c;\u4040\u0180;fl\u1ae8\u1ae9\u1aeb\u6201\xee\u1160e\u0100mx\u1af1\u1af6ent\xbb\u1ae9e\xf3\u024d\u01e7\u1afe\0\u1b07\u0100;d\u12bb\u1b02ot;\u6a6dn\xf4\u0246\u0180fry\u1b10\u1b14\u1b17;\uc000\ud835\udd54o\xe4\u0254\u8100\xa9;s\u0155\u1b1dr;\u6117\u0100ao\u1b25\u1b29rr;\u61b5ss;\u6717\u0100cu\u1b32\u1b37r;\uc000\ud835\udcb8\u0100bp\u1b3c\u1b44\u0100;e\u1b41\u1b42\u6acf;\u6ad1\u0100;e\u1b49\u1b4a\u6ad0;\u6ad2dot;\u62ef\u0380delprvw\u1b60\u1b6c\u1b77\u1b82\u1bac\u1bd4\u1bf9arr\u0100lr\u1b68\u1b6a;\u6938;\u6935\u0270\u1b72\0\0\u1b75r;\u62dec;\u62dfarr\u0100;p\u1b7f\u1b80\u61b6;\u693d\u0300;bcdos\u1b8f\u1b90\u1b96\u1ba1\u1ba5\u1ba8\u622arcap;\u6a48\u0100au\u1b9b\u1b9ep;\u6a46p;\u6a4aot;\u628dr;\u6a45;\uc000\u222a\ufe00\u0200alrv\u1bb5\u1bbf\u1bde\u1be3rr\u0100;m\u1bbc\u1bbd\u61b7;\u693cy\u0180evw\u1bc7\u1bd4\u1bd8q\u0270\u1bce\0\0\u1bd2re\xe3\u1b73u\xe3\u1b75ee;\u62ceedge;\u62cfen\u803b\xa4\u40a4earrow\u0100lr\u1bee\u1bf3eft\xbb\u1b80ight\xbb\u1bbde\xe4\u1bdd\u0100ci\u1c01\u1c07onin\xf4\u01f7nt;\u6231lcty;\u632d\u0980AHabcdefhijlorstuwz\u1c38\u1c3b\u1c3f\u1c5d\u1c69\u1c75\u1c8a\u1c9e\u1cac\u1cb7\u1cfb\u1cff\u1d0d\u1d7b\u1d91\u1dab\u1dbb\u1dc6\u1dcdr\xf2\u0381ar;\u6965\u0200glrs\u1c48\u1c4d\u1c52\u1c54ger;\u6020eth;\u6138\xf2\u1133h\u0100;v\u1c5a\u1c5b\u6010\xbb\u090a\u016b\u1c61\u1c67arow;\u690fa\xe3\u0315\u0100ay\u1c6e\u1c73ron;\u410f;\u4434\u0180;ao\u0332\u1c7c\u1c84\u0100gr\u02bf\u1c81r;\u61catseq;\u6a77\u0180glm\u1c91\u1c94\u1c98\u803b\xb0\u40b0ta;\u43b4ptyv;\u69b1\u0100ir\u1ca3\u1ca8sht;\u697f;\uc000\ud835\udd21ar\u0100lr\u1cb3\u1cb5\xbb\u08dc\xbb\u101e\u0280aegsv\u1cc2\u0378\u1cd6\u1cdc\u1ce0m\u0180;os\u0326\u1cca\u1cd4nd\u0100;s\u0326\u1cd1uit;\u6666amma;\u43ddin;\u62f2\u0180;io\u1ce7\u1ce8\u1cf8\u40f7de\u8100\xf7;o\u1ce7\u1cf0ntimes;\u62c7n\xf8\u1cf7cy;\u4452c\u026f\u1d06\0\0\u1d0arn;\u631eop;\u630d\u0280lptuw\u1d18\u1d1d\u1d22\u1d49\u1d55lar;\u4024f;\uc000\ud835\udd55\u0280;emps\u030b\u1d2d\u1d37\u1d3d\u1d42q\u0100;d\u0352\u1d33ot;\u6251inus;\u6238lus;\u6214quare;\u62a1blebarwedg\xe5\xfan\u0180adh\u112e\u1d5d\u1d67ownarrow\xf3\u1c83arpoon\u0100lr\u1d72\u1d76ef\xf4\u1cb4igh\xf4\u1cb6\u0162\u1d7f\u1d85karo\xf7\u0f42\u026f\u1d8a\0\0\u1d8ern;\u631fop;\u630c\u0180cot\u1d98\u1da3\u1da6\u0100ry\u1d9d\u1da1;\uc000\ud835\udcb9;\u4455l;\u69f6rok;\u4111\u0100dr\u1db0\u1db4ot;\u62f1i\u0100;f\u1dba\u1816\u65bf\u0100ah\u1dc0\u1dc3r\xf2\u0429a\xf2\u0fa6angle;\u69a6\u0100ci\u1dd2\u1dd5y;\u445fgrarr;\u67ff\u0900Dacdefglmnopqrstux\u1e01\u1e09\u1e19\u1e38\u0578\u1e3c\u1e49\u1e61\u1e7e\u1ea5\u1eaf\u1ebd\u1ee1\u1f2a\u1f37\u1f44\u1f4e\u1f5a\u0100Do\u1e06\u1d34o\xf4\u1c89\u0100cs\u1e0e\u1e14ute\u803b\xe9\u40e9ter;\u6a6e\u0200aioy\u1e22\u1e27\u1e31\u1e36ron;\u411br\u0100;c\u1e2d\u1e2e\u6256\u803b\xea\u40ealon;\u6255;\u444dot;\u4117\u0100Dr\u1e41\u1e45ot;\u6252;\uc000\ud835\udd22\u0180;rs\u1e50\u1e51\u1e57\u6a9aave\u803b\xe8\u40e8\u0100;d\u1e5c\u1e5d\u6a96ot;\u6a98\u0200;ils\u1e6a\u1e6b\u1e72\u1e74\u6a99nters;\u63e7;\u6113\u0100;d\u1e79\u1e7a\u6a95ot;\u6a97\u0180aps\u1e85\u1e89\u1e97cr;\u4113ty\u0180;sv\u1e92\u1e93\u1e95\u6205et\xbb\u1e93p\u01001;\u1e9d\u1ea4\u0133\u1ea1\u1ea3;\u6004;\u6005\u6003\u0100gs\u1eaa\u1eac;\u414bp;\u6002\u0100gp\u1eb4\u1eb8on;\u4119f;\uc000\ud835\udd56\u0180als\u1ec4\u1ece\u1ed2r\u0100;s\u1eca\u1ecb\u62d5l;\u69e3us;\u6a71i\u0180;lv\u1eda\u1edb\u1edf\u43b5on\xbb\u1edb;\u43f5\u0200csuv\u1eea\u1ef3\u1f0b\u1f23\u0100io\u1eef\u1e31rc\xbb\u1e2e\u0269\u1ef9\0\0\u1efb\xed\u0548ant\u0100gl\u1f02\u1f06tr\xbb\u1e5dess\xbb\u1e7a\u0180aei\u1f12\u1f16\u1f1als;\u403dst;\u625fv\u0100;D\u0235\u1f20D;\u6a78parsl;\u69e5\u0100Da\u1f2f\u1f33ot;\u6253rr;\u6971\u0180cdi\u1f3e\u1f41\u1ef8r;\u612fo\xf4\u0352\u0100ah\u1f49\u1f4b;\u43b7\u803b\xf0\u40f0\u0100mr\u1f53\u1f57l\u803b\xeb\u40ebo;\u60ac\u0180cip\u1f61\u1f64\u1f67l;\u4021s\xf4\u056e\u0100eo\u1f6c\u1f74ctatio\xee\u0559nential\xe5\u0579\u09e1\u1f92\0\u1f9e\0\u1fa1\u1fa7\0\0\u1fc6\u1fcc\0\u1fd3\0\u1fe6\u1fea\u2000\0\u2008\u205allingdotse\xf1\u1e44y;\u4444male;\u6640\u0180ilr\u1fad\u1fb3\u1fc1lig;\u8000\ufb03\u0269\u1fb9\0\0\u1fbdg;\u8000\ufb00ig;\u8000\ufb04;\uc000\ud835\udd23lig;\u8000\ufb01lig;\uc000fj\u0180alt\u1fd9\u1fdc\u1fe1t;\u666dig;\u8000\ufb02ns;\u65b1of;\u4192\u01f0\u1fee\0\u1ff3f;\uc000\ud835\udd57\u0100ak\u05bf\u1ff7\u0100;v\u1ffc\u1ffd\u62d4;\u6ad9artint;\u6a0d\u0100ao\u200c\u2055\u0100cs\u2011\u2052\u03b1\u201a\u2030\u2038\u2045\u2048\0\u2050\u03b2\u2022\u2025\u2027\u202a\u202c\0\u202e\u803b\xbd\u40bd;\u6153\u803b\xbc\u40bc;\u6155;\u6159;\u615b\u01b3\u2034\0\u2036;\u6154;\u6156\u02b4\u203e\u2041\0\0\u2043\u803b\xbe\u40be;\u6157;\u615c5;\u6158\u01b6\u204c\0\u204e;\u615a;\u615d8;\u615el;\u6044wn;\u6322cr;\uc000\ud835\udcbb\u0880Eabcdefgijlnorstv\u2082\u2089\u209f\u20a5\u20b0\u20b4\u20f0\u20f5\u20fa\u20ff\u2103\u2112\u2138\u0317\u213e\u2152\u219e\u0100;l\u064d\u2087;\u6a8c\u0180cmp\u2090\u2095\u209dute;\u41f5ma\u0100;d\u209c\u1cda\u43b3;\u6a86reve;\u411f\u0100iy\u20aa\u20aerc;\u411d;\u4433ot;\u4121\u0200;lqs\u063e\u0642\u20bd\u20c9\u0180;qs\u063e\u064c\u20c4lan\xf4\u0665\u0200;cdl\u0665\u20d2\u20d5\u20e5c;\u6aa9ot\u0100;o\u20dc\u20dd\u6a80\u0100;l\u20e2\u20e3\u6a82;\u6a84\u0100;e\u20ea\u20ed\uc000\u22db\ufe00s;\u6a94r;\uc000\ud835\udd24\u0100;g\u0673\u061bmel;\u6137cy;\u4453\u0200;Eaj\u065a\u210c\u210e\u2110;\u6a92;\u6aa5;\u6aa4\u0200Eaes\u211b\u211d\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6a8arox\xbb\u2124\u0100;q\u212e\u212f\u6a88\u0100;q\u212e\u211bim;\u62e7pf;\uc000\ud835\udd58\u0100ci\u2143\u2146r;\u610am\u0180;el\u066b\u214e\u2150;\u6a8e;\u6a90\u8300>;cdlqr\u05ee\u2160\u216a\u216e\u2173\u2179\u0100ci\u2165\u2167;\u6aa7r;\u6a7aot;\u62d7Par;\u6995uest;\u6a7c\u0280adels\u2184\u216a\u2190\u0656\u219b\u01f0\u2189\0\u218epro\xf8\u209er;\u6978q\u0100lq\u063f\u2196les\xf3\u2088i\xed\u066b\u0100en\u21a3\u21adrtneqq;\uc000\u2269\ufe00\xc5\u21aa\u0500Aabcefkosy\u21c4\u21c7\u21f1\u21f5\u21fa\u2218\u221d\u222f\u2268\u227dr\xf2\u03a0\u0200ilmr\u21d0\u21d4\u21d7\u21dbrs\xf0\u1484f\xbb\u2024il\xf4\u06a9\u0100dr\u21e0\u21e4cy;\u444a\u0180;cw\u08f4\u21eb\u21efir;\u6948;\u61adar;\u610firc;\u4125\u0180alr\u2201\u220e\u2213rts\u0100;u\u2209\u220a\u6665it\xbb\u220alip;\u6026con;\u62b9r;\uc000\ud835\udd25s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223a\u223e\u2243\u225e\u2263rr;\u61fftht;\u623bk\u0100lr\u2249\u2253eftarrow;\u61a9ightarrow;\u61aaf;\uc000\ud835\udd59bar;\u6015\u0180clt\u226f\u2274\u2278r;\uc000\ud835\udcbdas\xe8\u21f4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xbb\u1c5b\u0ae1\u22a3\0\u22aa\0\u22b8\u22c5\u22ce\0\u22d5\u22f3\0\0\u22f8\u2322\u2367\u2362\u237f\0\u2386\u23aa\u23b4cute\u803b\xed\u40ed\u0180;iy\u0771\u22b0\u22b5rc\u803b\xee\u40ee;\u4438\u0100cx\u22bc\u22bfy;\u4435cl\u803b\xa1\u40a1\u0100fr\u039f\u22c9;\uc000\ud835\udd26rave\u803b\xec\u40ec\u0200;ino\u073e\u22dd\u22e9\u22ee\u0100in\u22e2\u22e6nt;\u6a0ct;\u622dfin;\u69dcta;\u6129lig;\u4133\u0180aop\u22fe\u231a\u231d\u0180cgt\u2305\u2308\u2317r;\u412b\u0180elp\u071f\u230f\u2313in\xe5\u078ear\xf4\u0720h;\u4131f;\u62b7ed;\u41b5\u0280;cfot\u04f4\u232c\u2331\u233d\u2341are;\u6105in\u0100;t\u2338\u2339\u621eie;\u69dddo\xf4\u2319\u0280;celp\u0757\u234c\u2350\u235b\u2361al;\u62ba\u0100gr\u2355\u2359er\xf3\u1563\xe3\u234darhk;\u6a17rod;\u6a3c\u0200cgpt\u236f\u2372\u2376\u237by;\u4451on;\u412ff;\uc000\ud835\udd5aa;\u43b9uest\u803b\xbf\u40bf\u0100ci\u238a\u238fr;\uc000\ud835\udcben\u0280;Edsv\u04f4\u239b\u239d\u23a1\u04f3;\u62f9ot;\u62f5\u0100;v\u23a6\u23a7\u62f4;\u62f3\u0100;i\u0777\u23aelde;\u4129\u01eb\u23b8\0\u23bccy;\u4456l\u803b\xef\u40ef\u0300cfmosu\u23cc\u23d7\u23dc\u23e1\u23e7\u23f5\u0100iy\u23d1\u23d5rc;\u4135;\u4439r;\uc000\ud835\udd27ath;\u4237pf;\uc000\ud835\udd5b\u01e3\u23ec\0\u23f1r;\uc000\ud835\udcbfrcy;\u4458kcy;\u4454\u0400acfghjos\u240b\u2416\u2422\u2427\u242d\u2431\u2435\u243bppa\u0100;v\u2413\u2414\u43ba;\u43f0\u0100ey\u241b\u2420dil;\u4137;\u443ar;\uc000\ud835\udd28reen;\u4138cy;\u4445cy;\u445cpf;\uc000\ud835\udd5ccr;\uc000\ud835\udcc0\u0b80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248d\u2491\u250e\u253d\u255a\u2580\u264e\u265e\u2665\u2679\u267d\u269a\u26b2\u26d8\u275d\u2768\u278b\u27c0\u2801\u2812\u0180art\u2477\u247a\u247cr\xf2\u09c6\xf2\u0395ail;\u691barr;\u690e\u0100;g\u0994\u248b;\u6a8bar;\u6962\u0963\u24a5\0\u24aa\0\u24b1\0\0\0\0\0\u24b5\u24ba\0\u24c6\u24c8\u24cd\0\u24f9ute;\u413amptyv;\u69b4ra\xee\u084cbda;\u43bbg\u0180;dl\u088e\u24c1\u24c3;\u6991\xe5\u088e;\u6a85uo\u803b\xab\u40abr\u0400;bfhlpst\u0899\u24de\u24e6\u24e9\u24eb\u24ee\u24f1\u24f5\u0100;f\u089d\u24e3s;\u691fs;\u691d\xeb\u2252p;\u61abl;\u6939im;\u6973l;\u61a2\u0180;ae\u24ff\u2500\u2504\u6aabil;\u6919\u0100;s\u2509\u250a\u6aad;\uc000\u2aad\ufe00\u0180abr\u2515\u2519\u251drr;\u690crk;\u6772\u0100ak\u2522\u252cc\u0100ek\u2528\u252a;\u407b;\u405b\u0100es\u2531\u2533;\u698bl\u0100du\u2539\u253b;\u698f;\u698d\u0200aeuy\u2546\u254b\u2556\u2558ron;\u413e\u0100di\u2550\u2554il;\u413c\xec\u08b0\xe2\u2529;\u443b\u0200cqrs\u2563\u2566\u256d\u257da;\u6936uo\u0100;r\u0e19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694bh;\u61b2\u0280;fgqs\u258b\u258c\u0989\u25f3\u25ff\u6264t\u0280ahlrt\u2598\u25a4\u25b7\u25c2\u25e8rrow\u0100;t\u0899\u25a1a\xe9\u24f6arpoon\u0100du\u25af\u25b4own\xbb\u045ap\xbb\u0966eftarrows;\u61c7ight\u0180ahs\u25cd\u25d6\u25derrow\u0100;s\u08f4\u08a7arpoon\xf3\u0f98quigarro\xf7\u21f0hreetimes;\u62cb\u0180;qs\u258b\u0993\u25falan\xf4\u09ac\u0280;cdgs\u09ac\u260a\u260d\u261d\u2628c;\u6aa8ot\u0100;o\u2614\u2615\u6a7f\u0100;r\u261a\u261b\u6a81;\u6a83\u0100;e\u2622\u2625\uc000\u22da\ufe00s;\u6a93\u0280adegs\u2633\u2639\u263d\u2649\u264bppro\xf8\u24c6ot;\u62d6q\u0100gq\u2643\u2645\xf4\u0989gt\xf2\u248c\xf4\u099bi\xed\u09b2\u0180ilr\u2655\u08e1\u265asht;\u697c;\uc000\ud835\udd29\u0100;E\u099c\u2663;\u6a91\u0161\u2669\u2676r\u0100du\u25b2\u266e\u0100;l\u0965\u2673;\u696alk;\u6584cy;\u4459\u0280;acht\u0a48\u2688\u268b\u2691\u2696r\xf2\u25c1orne\xf2\u1d08ard;\u696bri;\u65fa\u0100io\u269f\u26a4dot;\u4140ust\u0100;a\u26ac\u26ad\u63b0che\xbb\u26ad\u0200Eaes\u26bb\u26bd\u26c9\u26d4;\u6268p\u0100;p\u26c3\u26c4\u6a89rox\xbb\u26c4\u0100;q\u26ce\u26cf\u6a87\u0100;q\u26ce\u26bbim;\u62e6\u0400abnoptwz\u26e9\u26f4\u26f7\u271a\u272f\u2741\u2747\u2750\u0100nr\u26ee\u26f1g;\u67ecr;\u61fdr\xeb\u08c1g\u0180lmr\u26ff\u270d\u2714eft\u0100ar\u09e6\u2707ight\xe1\u09f2apsto;\u67fcight\xe1\u09fdparrow\u0100lr\u2725\u2729ef\xf4\u24edight;\u61ac\u0180afl\u2736\u2739\u273dr;\u6985;\uc000\ud835\udd5dus;\u6a2dimes;\u6a34\u0161\u274b\u274fst;\u6217\xe1\u134e\u0180;ef\u2757\u2758\u1800\u65cange\xbb\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277c\u2785\u2787r\xf2\u08a8orne\xf2\u1d8car\u0100;d\u0f98\u2783;\u696d;\u600eri;\u62bf\u0300achiqt\u2798\u279d\u0a40\u27a2\u27ae\u27bbquo;\u6039r;\uc000\ud835\udcc1m\u0180;eg\u09b2\u27aa\u27ac;\u6a8d;\u6a8f\u0100bu\u252a\u27b3o\u0100;r\u0e1f\u27b9;\u601arok;\u4142\u8400<;cdhilqr\u082b\u27d2\u2639\u27dc\u27e0\u27e5\u27ea\u27f0\u0100ci\u27d7\u27d9;\u6aa6r;\u6a79re\xe5\u25f2mes;\u62c9arr;\u6976uest;\u6a7b\u0100Pi\u27f5\u27f9ar;\u6996\u0180;ef\u2800\u092d\u181b\u65c3r\u0100du\u2807\u280dshar;\u694ahar;\u6966\u0100en\u2817\u2821rtneqq;\uc000\u2268\ufe00\xc5\u281e\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288e\u2893\u28a0\u28a5\u28a8\u28da\u28e2\u28e4\u0a83\u28f3\u2902Dot;\u623a\u0200clpr\u284e\u2852\u2863\u287dr\u803b\xaf\u40af\u0100et\u2857\u2859;\u6642\u0100;e\u285e\u285f\u6720se\xbb\u285f\u0100;s\u103b\u2868to\u0200;dlu\u103b\u2873\u2877\u287bow\xee\u048cef\xf4\u090f\xf0\u13d1ker;\u65ae\u0100oy\u2887\u288cmma;\u6a29;\u443cash;\u6014asuredangle\xbb\u1626r;\uc000\ud835\udd2ao;\u6127\u0180cdn\u28af\u28b4\u28c9ro\u803b\xb5\u40b5\u0200;acd\u1464\u28bd\u28c0\u28c4s\xf4\u16a7ir;\u6af0ot\u80bb\xb7\u01b5us\u0180;bd\u28d2\u1903\u28d3\u6212\u0100;u\u1d3c\u28d8;\u6a2a\u0163\u28de\u28e1p;\u6adb\xf2\u2212\xf0\u0a81\u0100dp\u28e9\u28eeels;\u62a7f;\uc000\ud835\udd5e\u0100ct\u28f8\u28fdr;\uc000\ud835\udcc2pos\xbb\u159d\u0180;lm\u2909\u290a\u290d\u43bctimap;\u62b8\u0c00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297e\u2989\u2998\u29da\u29e9\u2a15\u2a1a\u2a58\u2a5d\u2a83\u2a95\u2aa4\u2aa8\u2b04\u2b07\u2b44\u2b7f\u2bae\u2c34\u2c67\u2c7c\u2ce9\u0100gt\u2947\u294b;\uc000\u22d9\u0338\u0100;v\u2950\u0bcf\uc000\u226b\u20d2\u0180elt\u295a\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61cdightarrow;\u61ce;\uc000\u22d8\u0338\u0100;v\u297b\u0c47\uc000\u226a\u20d2ightarrow;\u61cf\u0100Dd\u298e\u2993ash;\u62afash;\u62ae\u0280bcnpt\u29a3\u29a7\u29ac\u29b1\u29ccla\xbb\u02deute;\u4144g;\uc000\u2220\u20d2\u0280;Eiop\u0d84\u29bc\u29c0\u29c5\u29c8;\uc000\u2a70\u0338d;\uc000\u224b\u0338s;\u4149ro\xf8\u0d84ur\u0100;a\u29d3\u29d4\u666el\u0100;s\u29d3\u0b38\u01f3\u29df\0\u29e3p\u80bb\xa0\u0b37mp\u0100;e\u0bf9\u0c00\u0280aeouy\u29f4\u29fe\u2a03\u2a10\u2a13\u01f0\u29f9\0\u29fb;\u6a43on;\u4148dil;\u4146ng\u0100;d\u0d7e\u2a0aot;\uc000\u2a6d\u0338p;\u6a42;\u443dash;\u6013\u0380;Aadqsx\u0b92\u2a29\u2a2d\u2a3b\u2a41\u2a45\u2a50rr;\u61d7r\u0100hr\u2a33\u2a36k;\u6924\u0100;o\u13f2\u13f0ot;\uc000\u2250\u0338ui\xf6\u0b63\u0100ei\u2a4a\u2a4ear;\u6928\xed\u0b98ist\u0100;s\u0ba0\u0b9fr;\uc000\ud835\udd2b\u0200Eest\u0bc5\u2a66\u2a79\u2a7c\u0180;qs\u0bbc\u2a6d\u0be1\u0180;qs\u0bbc\u0bc5\u2a74lan\xf4\u0be2i\xed\u0bea\u0100;r\u0bb6\u2a81\xbb\u0bb7\u0180Aap\u2a8a\u2a8d\u2a91r\xf2\u2971rr;\u61aear;\u6af2\u0180;sv\u0f8d\u2a9c\u0f8c\u0100;d\u2aa1\u2aa2\u62fc;\u62facy;\u445a\u0380AEadest\u2ab7\u2aba\u2abe\u2ac2\u2ac5\u2af6\u2af9r\xf2\u2966;\uc000\u2266\u0338rr;\u619ar;\u6025\u0200;fqs\u0c3b\u2ace\u2ae3\u2aeft\u0100ar\u2ad4\u2ad9rro\xf7\u2ac1ightarro\xf7\u2a90\u0180;qs\u0c3b\u2aba\u2aealan\xf4\u0c55\u0100;s\u0c55\u2af4\xbb\u0c36i\xed\u0c5d\u0100;r\u0c35\u2afei\u0100;e\u0c1a\u0c25i\xe4\u0d90\u0100pt\u2b0c\u2b11f;\uc000\ud835\udd5f\u8180\xac;in\u2b19\u2b1a\u2b36\u40acn\u0200;Edv\u0b89\u2b24\u2b28\u2b2e;\uc000\u22f9\u0338ot;\uc000\u22f5\u0338\u01e1\u0b89\u2b33\u2b35;\u62f7;\u62f6i\u0100;v\u0cb8\u2b3c\u01e1\u0cb8\u2b41\u2b43;\u62fe;\u62fd\u0180aor\u2b4b\u2b63\u2b69r\u0200;ast\u0b7b\u2b55\u2b5a\u2b5flle\xec\u0b7bl;\uc000\u2afd\u20e5;\uc000\u2202\u0338lint;\u6a14\u0180;ce\u0c92\u2b70\u2b73u\xe5\u0ca5\u0100;c\u0c98\u2b78\u0100;e\u0c92\u2b7d\xf1\u0c98\u0200Aait\u2b88\u2b8b\u2b9d\u2ba7r\xf2\u2988rr\u0180;cw\u2b94\u2b95\u2b99\u619b;\uc000\u2933\u0338;\uc000\u219d\u0338ghtarrow\xbb\u2b95ri\u0100;e\u0ccb\u0cd6\u0380chimpqu\u2bbd\u2bcd\u2bd9\u2b04\u0b78\u2be4\u2bef\u0200;cer\u0d32\u2bc6\u0d37\u2bc9u\xe5\u0d45;\uc000\ud835\udcc3ort\u026d\u2b05\0\0\u2bd6ar\xe1\u2b56m\u0100;e\u0d6e\u2bdf\u0100;q\u0d74\u0d73su\u0100bp\u2beb\u2bed\xe5\u0cf8\xe5\u0d0b\u0180bcp\u2bf6\u2c11\u2c19\u0200;Ees\u2bff\u2c00\u0d22\u2c04\u6284;\uc000\u2ac5\u0338et\u0100;e\u0d1b\u2c0bq\u0100;q\u0d23\u2c00c\u0100;e\u0d32\u2c17\xf1\u0d38\u0200;Ees\u2c22\u2c23\u0d5f\u2c27\u6285;\uc000\u2ac6\u0338et\u0100;e\u0d58\u2c2eq\u0100;q\u0d60\u2c23\u0200gilr\u2c3d\u2c3f\u2c45\u2c47\xec\u0bd7lde\u803b\xf1\u40f1\xe7\u0c43iangle\u0100lr\u2c52\u2c5ceft\u0100;e\u0c1a\u2c5a\xf1\u0c26ight\u0100;e\u0ccb\u2c65\xf1\u0cd7\u0100;m\u2c6c\u2c6d\u43bd\u0180;es\u2c74\u2c75\u2c79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2c8f\u2c94\u2c99\u2c9e\u2ca3\u2cb0\u2cb6\u2cd3\u2ce3ash;\u62adarr;\u6904p;\uc000\u224d\u20d2ash;\u62ac\u0100et\u2ca8\u2cac;\uc000\u2265\u20d2;\uc000>\u20d2nfin;\u69de\u0180Aet\u2cbd\u2cc1\u2cc5rr;\u6902;\uc000\u2264\u20d2\u0100;r\u2cca\u2ccd\uc000<\u20d2ie;\uc000\u22b4\u20d2\u0100At\u2cd8\u2cdcrr;\u6903rie;\uc000\u22b5\u20d2im;\uc000\u223c\u20d2\u0180Aan\u2cf0\u2cf4\u2d02rr;\u61d6r\u0100hr\u2cfa\u2cfdk;\u6923\u0100;o\u13e7\u13e5ear;\u6927\u1253\u1a95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2d2d\0\u2d38\u2d48\u2d60\u2d65\u2d72\u2d84\u1b07\0\0\u2d8d\u2dab\0\u2dc8\u2dce\0\u2ddc\u2e19\u2e2b\u2e3e\u2e43\u0100cs\u2d31\u1a97ute\u803b\xf3\u40f3\u0100iy\u2d3c\u2d45r\u0100;c\u1a9e\u2d42\u803b\xf4\u40f4;\u443e\u0280abios\u1aa0\u2d52\u2d57\u01c8\u2d5alac;\u4151v;\u6a38old;\u69bclig;\u4153\u0100cr\u2d69\u2d6dir;\u69bf;\uc000\ud835\udd2c\u036f\u2d79\0\0\u2d7c\0\u2d82n;\u42dbave\u803b\xf2\u40f2;\u69c1\u0100bm\u2d88\u0df4ar;\u69b5\u0200acit\u2d95\u2d98\u2da5\u2da8r\xf2\u1a80\u0100ir\u2d9d\u2da0r;\u69beoss;\u69bbn\xe5\u0e52;\u69c0\u0180aei\u2db1\u2db5\u2db9cr;\u414dga;\u43c9\u0180cdn\u2dc0\u2dc5\u01cdron;\u43bf;\u69b6pf;\uc000\ud835\udd60\u0180ael\u2dd4\u2dd7\u01d2r;\u69b7rp;\u69b9\u0380;adiosv\u2dea\u2deb\u2dee\u2e08\u2e0d\u2e10\u2e16\u6228r\xf2\u1a86\u0200;efm\u2df7\u2df8\u2e02\u2e05\u6a5dr\u0100;o\u2dfe\u2dff\u6134f\xbb\u2dff\u803b\xaa\u40aa\u803b\xba\u40bagof;\u62b6r;\u6a56lope;\u6a57;\u6a5b\u0180clo\u2e1f\u2e21\u2e27\xf2\u2e01ash\u803b\xf8\u40f8l;\u6298i\u016c\u2e2f\u2e34de\u803b\xf5\u40f5es\u0100;a\u01db\u2e3as;\u6a36ml\u803b\xf6\u40f6bar;\u633d\u0ae1\u2e5e\0\u2e7d\0\u2e80\u2e9d\0\u2ea2\u2eb9\0\0\u2ecb\u0e9c\0\u2f13\0\0\u2f2b\u2fbc\0\u2fc8r\u0200;ast\u0403\u2e67\u2e72\u0e85\u8100\xb6;l\u2e6d\u2e6e\u40b6le\xec\u0403\u0269\u2e78\0\0\u2e7bm;\u6af3;\u6afdy;\u443fr\u0280cimpt\u2e8b\u2e8f\u2e93\u1865\u2e97nt;\u4025od;\u402eil;\u6030enk;\u6031r;\uc000\ud835\udd2d\u0180imo\u2ea8\u2eb0\u2eb4\u0100;v\u2ead\u2eae\u43c6;\u43d5ma\xf4\u0a76ne;\u660e\u0180;tv\u2ebf\u2ec0\u2ec8\u43c0chfork\xbb\u1ffd;\u43d6\u0100au\u2ecf\u2edfn\u0100ck\u2ed5\u2eddk\u0100;h\u21f4\u2edb;\u610e\xf6\u21f4s\u0480;abcdemst\u2ef3\u2ef4\u1908\u2ef9\u2efd\u2f04\u2f06\u2f0a\u2f0e\u402bcir;\u6a23ir;\u6a22\u0100ou\u1d40\u2f02;\u6a25;\u6a72n\u80bb\xb1\u0e9dim;\u6a26wo;\u6a27\u0180ipu\u2f19\u2f20\u2f25ntint;\u6a15f;\uc000\ud835\udd61nd\u803b\xa3\u40a3\u0500;Eaceinosu\u0ec8\u2f3f\u2f41\u2f44\u2f47\u2f81\u2f89\u2f92\u2f7e\u2fb6;\u6ab3p;\u6ab7u\xe5\u0ed9\u0100;c\u0ece\u2f4c\u0300;acens\u0ec8\u2f59\u2f5f\u2f66\u2f68\u2f7eppro\xf8\u2f43urlye\xf1\u0ed9\xf1\u0ece\u0180aes\u2f6f\u2f76\u2f7approx;\u6ab9qq;\u6ab5im;\u62e8i\xed\u0edfme\u0100;s\u2f88\u0eae\u6032\u0180Eas\u2f78\u2f90\u2f7a\xf0\u2f75\u0180dfp\u0eec\u2f99\u2faf\u0180als\u2fa0\u2fa5\u2faalar;\u632eine;\u6312urf;\u6313\u0100;t\u0efb\u2fb4\xef\u0efbrel;\u62b0\u0100ci\u2fc0\u2fc5r;\uc000\ud835\udcc5;\u43c8ncsp;\u6008\u0300fiopsu\u2fda\u22e2\u2fdf\u2fe5\u2feb\u2ff1r;\uc000\ud835\udd2epf;\uc000\ud835\udd62rime;\u6057cr;\uc000\ud835\udcc6\u0180aeo\u2ff8\u3009\u3013t\u0100ei\u2ffe\u3005rnion\xf3\u06b0nt;\u6a16st\u0100;e\u3010\u3011\u403f\xf1\u1f19\xf4\u0f14\u0a80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30e0\u310e\u312b\u3147\u3162\u3172\u318e\u3206\u3215\u3224\u3229\u3258\u326e\u3272\u3290\u32b0\u32b7\u0180art\u3047\u304a\u304cr\xf2\u10b3\xf2\u03ddail;\u691car\xf2\u1c65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307f\u308f\u3094\u30cc\u0100eu\u306d\u3071;\uc000\u223d\u0331te;\u4155i\xe3\u116emptyv;\u69b3g\u0200;del\u0fd1\u3089\u308b\u308d;\u6992;\u69a5\xe5\u0fd1uo\u803b\xbb\u40bbr\u0580;abcfhlpstw\u0fdc\u30ac\u30af\u30b7\u30b9\u30bc\u30be\u30c0\u30c3\u30c7\u30cap;\u6975\u0100;f\u0fe0\u30b4s;\u6920;\u6933s;\u691e\xeb\u225d\xf0\u272el;\u6945im;\u6974l;\u61a3;\u619d\u0100ai\u30d1\u30d5il;\u691ao\u0100;n\u30db\u30dc\u6236al\xf3\u0f1e\u0180abr\u30e7\u30ea\u30eer\xf2\u17e5rk;\u6773\u0100ak\u30f3\u30fdc\u0100ek\u30f9\u30fb;\u407d;\u405d\u0100es\u3102\u3104;\u698cl\u0100du\u310a\u310c;\u698e;\u6990\u0200aeuy\u3117\u311c\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xec\u0ff2\xe2\u30fa;\u4440\u0200clqs\u3134\u3137\u313d\u3144a;\u6937dhar;\u6969uo\u0100;r\u020e\u020dh;\u61b3\u0180acg\u314e\u315f\u0f44l\u0200;ips\u0f78\u3158\u315b\u109cn\xe5\u10bbar\xf4\u0fa9t;\u65ad\u0180ilr\u3169\u1023\u316esht;\u697d;\uc000\ud835\udd2f\u0100ao\u3177\u3186r\u0100du\u317d\u317f\xbb\u047b\u0100;l\u1091\u3184;\u696c\u0100;v\u318b\u318c\u43c1;\u43f1\u0180gns\u3195\u31f9\u31fcht\u0300ahlrst\u31a4\u31b0\u31c2\u31d8\u31e4\u31eerrow\u0100;t\u0fdc\u31ada\xe9\u30c8arpoon\u0100du\u31bb\u31bfow\xee\u317ep\xbb\u1092eft\u0100ah\u31ca\u31d0rrow\xf3\u0feaarpoon\xf3\u0551ightarrows;\u61c9quigarro\xf7\u30cbhreetimes;\u62ccg;\u42daingdotse\xf1\u1f32\u0180ahm\u320d\u3210\u3213r\xf2\u0feaa\xf2\u0551;\u600foust\u0100;a\u321e\u321f\u63b1che\xbb\u321fmid;\u6aee\u0200abpt\u3232\u323d\u3240\u3252\u0100nr\u3237\u323ag;\u67edr;\u61fer\xeb\u1003\u0180afl\u3247\u324a\u324er;\u6986;\uc000\ud835\udd63us;\u6a2eimes;\u6a35\u0100ap\u325d\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6a12ar\xf2\u31e3\u0200achq\u327b\u3280\u10bc\u3285quo;\u603ar;\uc000\ud835\udcc7\u0100bu\u30fb\u328ao\u0100;r\u0214\u0213\u0180hir\u3297\u329b\u32a0re\xe5\u31f8mes;\u62cai\u0200;efl\u32aa\u1059\u1821\u32ab\u65b9tri;\u69celuhar;\u6968;\u611e\u0d61\u32d5\u32db\u32df\u332c\u3338\u3371\0\u337a\u33a4\0\0\u33ec\u33f0\0\u3428\u3448\u345a\u34ad\u34b1\u34ca\u34f1\0\u3616\0\0\u3633cute;\u415bqu\xef\u27ba\u0500;Eaceinpsy\u11ed\u32f3\u32f5\u32ff\u3302\u330b\u330f\u331f\u3326\u3329;\u6ab4\u01f0\u32fa\0\u32fc;\u6ab8on;\u4161u\xe5\u11fe\u0100;d\u11f3\u3307il;\u415frc;\u415d\u0180Eas\u3316\u3318\u331b;\u6ab6p;\u6abaim;\u62e9olint;\u6a13i\xed\u1204;\u4441ot\u0180;be\u3334\u1d47\u3335\u62c5;\u6a66\u0380Aacmstx\u3346\u334a\u3357\u335b\u335e\u3363\u336drr;\u61d8r\u0100hr\u3350\u3352\xeb\u2228\u0100;o\u0a36\u0a34t\u803b\xa7\u40a7i;\u403bwar;\u6929m\u0100in\u3369\xf0nu\xf3\xf1t;\u6736r\u0100;o\u3376\u2055\uc000\ud835\udd30\u0200acoy\u3382\u3386\u3391\u33a0rp;\u666f\u0100hy\u338b\u338fcy;\u4449;\u4448rt\u026d\u3399\0\0\u339ci\xe4\u1464ara\xec\u2e6f\u803b\xad\u40ad\u0100gm\u33a8\u33b4ma\u0180;fv\u33b1\u33b2\u33b2\u43c3;\u43c2\u0400;deglnpr\u12ab\u33c5\u33c9\u33ce\u33d6\u33de\u33e1\u33e6ot;\u6a6a\u0100;q\u12b1\u12b0\u0100;E\u33d3\u33d4\u6a9e;\u6aa0\u0100;E\u33db\u33dc\u6a9d;\u6a9fe;\u6246lus;\u6a24arr;\u6972ar\xf2\u113d\u0200aeit\u33f8\u3408\u340f\u3417\u0100ls\u33fd\u3404lsetm\xe9\u336ahp;\u6a33parsl;\u69e4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341c\u341d\u6aaa\u0100;s\u3422\u3423\u6aac;\uc000\u2aac\ufe00\u0180flp\u342e\u3433\u3442tcy;\u444c\u0100;b\u3438\u3439\u402f\u0100;a\u343e\u343f\u69c4r;\u633ff;\uc000\ud835\udd64a\u0100dr\u344d\u0402es\u0100;u\u3454\u3455\u6660it\xbb\u3455\u0180csu\u3460\u3479\u349f\u0100au\u3465\u346fp\u0100;s\u1188\u346b;\uc000\u2293\ufe00p\u0100;s\u11b4\u3475;\uc000\u2294\ufe00u\u0100bp\u347f\u348f\u0180;es\u1197\u119c\u3486et\u0100;e\u1197\u348d\xf1\u119d\u0180;es\u11a8\u11ad\u3496et\u0100;e\u11a8\u349d\xf1\u11ae\u0180;af\u117b\u34a6\u05b0r\u0165\u34ab\u05b1\xbb\u117car\xf2\u1148\u0200cemt\u34b9\u34be\u34c2\u34c5r;\uc000\ud835\udcc8tm\xee\xf1i\xec\u3415ar\xe6\u11be\u0100ar\u34ce\u34d5r\u0100;f\u34d4\u17bf\u6606\u0100an\u34da\u34edight\u0100ep\u34e3\u34eapsilo\xee\u1ee0h\xe9\u2eafs\xbb\u2852\u0280bcmnp\u34fb\u355e\u1209\u358b\u358e\u0480;Edemnprs\u350e\u350f\u3511\u3515\u351e\u3523\u352c\u3531\u3536\u6282;\u6ac5ot;\u6abd\u0100;d\u11da\u351aot;\u6ac3ult;\u6ac1\u0100Ee\u3528\u352a;\u6acb;\u628alus;\u6abfarr;\u6979\u0180eiu\u353d\u3552\u3555t\u0180;en\u350e\u3545\u354bq\u0100;q\u11da\u350feq\u0100;q\u352b\u3528m;\u6ac7\u0100bp\u355a\u355c;\u6ad5;\u6ad3c\u0300;acens\u11ed\u356c\u3572\u3579\u357b\u3326ppro\xf8\u32faurlye\xf1\u11fe\xf1\u11f3\u0180aes\u3582\u3588\u331bppro\xf8\u331aq\xf1\u3317g;\u666a\u0680123;Edehlmnps\u35a9\u35ac\u35af\u121c\u35b2\u35b4\u35c0\u35c9\u35d5\u35da\u35df\u35e8\u35ed\u803b\xb9\u40b9\u803b\xb2\u40b2\u803b\xb3\u40b3;\u6ac6\u0100os\u35b9\u35bct;\u6abeub;\u6ad8\u0100;d\u1222\u35c5ot;\u6ac4s\u0100ou\u35cf\u35d2l;\u67c9b;\u6ad7arr;\u697bult;\u6ac2\u0100Ee\u35e4\u35e6;\u6acc;\u628blus;\u6ac0\u0180eiu\u35f4\u3609\u360ct\u0180;en\u121c\u35fc\u3602q\u0100;q\u1222\u35b2eq\u0100;q\u35e7\u35e4m;\u6ac8\u0100bp\u3611\u3613;\u6ad4;\u6ad6\u0180Aan\u361c\u3620\u362drr;\u61d9r\u0100hr\u3626\u3628\xeb\u222e\u0100;o\u0a2b\u0a29war;\u692alig\u803b\xdf\u40df\u0be1\u3651\u365d\u3660\u12ce\u3673\u3679\0\u367e\u36c2\0\0\0\0\0\u36db\u3703\0\u3709\u376c\0\0\0\u3787\u0272\u3656\0\0\u365bget;\u6316;\u43c4r\xeb\u0e5f\u0180aey\u3666\u366b\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uc000\ud835\udd31\u0200eiko\u3686\u369d\u36b5\u36bc\u01f2\u368b\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369b\u43b8ym;\u43d1\u0100cn\u36a2\u36b2k\u0100as\u36a8\u36aeppro\xf8\u12c1im\xbb\u12acs\xf0\u129e\u0100as\u36ba\u36ae\xf0\u12c1rn\u803b\xfe\u40fe\u01ec\u031f\u36c6\u22e7es\u8180\xd7;bd\u36cf\u36d0\u36d8\u40d7\u0100;a\u190f\u36d5r;\u6a31;\u6a30\u0180eps\u36e1\u36e3\u3700\xe1\u2a4d\u0200;bcf\u0486\u36ec\u36f0\u36f4ot;\u6336ir;\u6af1\u0100;o\u36f9\u36fc\uc000\ud835\udd65rk;\u6ada\xe1\u3362rime;\u6034\u0180aip\u370f\u3712\u3764d\xe5\u1248\u0380adempst\u3721\u374d\u3740\u3751\u3757\u375c\u375fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65b5own\xbb\u1dbbeft\u0100;e\u2800\u373e\xf1\u092e;\u625cight\u0100;e\u32aa\u374b\xf1\u105aot;\u65ecinus;\u6a3alus;\u6a39b;\u69cdime;\u6a3bezium;\u63e2\u0180cht\u3772\u377d\u3781\u0100ry\u3777\u377b;\uc000\ud835\udcc9;\u4446cy;\u445brok;\u4167\u0100io\u378b\u378ex\xf4\u1777head\u0100lr\u3797\u37a0eftarro\xf7\u084fightarrow\xbb\u0f5d\u0900AHabcdfghlmoprstuw\u37d0\u37d3\u37d7\u37e4\u37f0\u37fc\u380e\u381c\u3823\u3834\u3851\u385d\u386b\u38a9\u38cc\u38d2\u38ea\u38f6r\xf2\u03edar;\u6963\u0100cr\u37dc\u37e2ute\u803b\xfa\u40fa\xf2\u1150r\u01e3\u37ea\0\u37edy;\u445eve;\u416d\u0100iy\u37f5\u37farc\u803b\xfb\u40fb;\u4443\u0180abh\u3803\u3806\u380br\xf2\u13adlac;\u4171a\xf2\u13c3\u0100ir\u3813\u3818sht;\u697e;\uc000\ud835\udd32rave\u803b\xf9\u40f9\u0161\u3827\u3831r\u0100lr\u382c\u382e\xbb\u0957\xbb\u1083lk;\u6580\u0100ct\u3839\u384d\u026f\u383f\0\0\u384arn\u0100;e\u3845\u3846\u631cr\xbb\u3846op;\u630fri;\u65f8\u0100al\u3856\u385acr;\u416b\u80bb\xa8\u0349\u0100gp\u3862\u3866on;\u4173f;\uc000\ud835\udd66\u0300adhlsu\u114b\u3878\u387d\u1372\u3891\u38a0own\xe1\u13b3arpoon\u0100lr\u3888\u388cef\xf4\u382digh\xf4\u382fi\u0180;hl\u3899\u389a\u389c\u43c5\xbb\u13faon\xbb\u389aparrows;\u61c8\u0180cit\u38b0\u38c4\u38c8\u026f\u38b6\0\0\u38c1rn\u0100;e\u38bc\u38bd\u631dr\xbb\u38bdop;\u630eng;\u416fri;\u65f9cr;\uc000\ud835\udcca\u0180dir\u38d9\u38dd\u38e2ot;\u62f0lde;\u4169i\u0100;f\u3730\u38e8\xbb\u1813\u0100am\u38ef\u38f2r\xf2\u38a8l\u803b\xfc\u40fcangle;\u69a7\u0780ABDacdeflnoprsz\u391c\u391f\u3929\u392d\u39b5\u39b8\u39bd\u39df\u39e4\u39e8\u39f3\u39f9\u39fd\u3a01\u3a20r\xf2\u03f7ar\u0100;v\u3926\u3927\u6ae8;\u6ae9as\xe8\u03e1\u0100nr\u3932\u3937grt;\u699c\u0380eknprst\u34e3\u3946\u394b\u3952\u395d\u3964\u3996app\xe1\u2415othin\xe7\u1e96\u0180hir\u34eb\u2ec8\u3959op\xf4\u2fb5\u0100;h\u13b7\u3962\xef\u318d\u0100iu\u3969\u396dgm\xe1\u33b3\u0100bp\u3972\u3984setneq\u0100;q\u397d\u3980\uc000\u228a\ufe00;\uc000\u2acb\ufe00setneq\u0100;q\u398f\u3992\uc000\u228b\ufe00;\uc000\u2acc\ufe00\u0100hr\u399b\u399fet\xe1\u369ciangle\u0100lr\u39aa\u39afeft\xbb\u0925ight\xbb\u1051y;\u4432ash\xbb\u1036\u0180elr\u39c4\u39d2\u39d7\u0180;be\u2dea\u39cb\u39cfar;\u62bbq;\u625alip;\u62ee\u0100bt\u39dc\u1468a\xf2\u1469r;\uc000\ud835\udd33tr\xe9\u39aesu\u0100bp\u39ef\u39f1\xbb\u0d1c\xbb\u0d59pf;\uc000\ud835\udd67ro\xf0\u0efbtr\xe9\u39b4\u0100cu\u3a06\u3a0br;\uc000\ud835\udccb\u0100bp\u3a10\u3a18n\u0100Ee\u3980\u3a16\xbb\u397en\u0100Ee\u3992\u3a1e\xbb\u3990igzag;\u699a\u0380cefoprs\u3a36\u3a3b\u3a56\u3a5b\u3a54\u3a61\u3a6airc;\u4175\u0100di\u3a40\u3a51\u0100bg\u3a45\u3a49ar;\u6a5fe\u0100;q\u15fa\u3a4f;\u6259erp;\u6118r;\uc000\ud835\udd34pf;\uc000\ud835\udd68\u0100;e\u1479\u3a66at\xe8\u1479cr;\uc000\ud835\udccc\u0ae3\u178e\u3a87\0\u3a8b\0\u3a90\u3a9b\0\0\u3a9d\u3aa8\u3aab\u3aaf\0\0\u3ac3\u3ace\0\u3ad8\u17dc\u17dftr\xe9\u17d1r;\uc000\ud835\udd35\u0100Aa\u3a94\u3a97r\xf2\u03c3r\xf2\u09f6;\u43be\u0100Aa\u3aa1\u3aa4r\xf2\u03b8r\xf2\u09eba\xf0\u2713is;\u62fb\u0180dpt\u17a4\u3ab5\u3abe\u0100fl\u3aba\u17a9;\uc000\ud835\udd69im\xe5\u17b2\u0100Aa\u3ac7\u3acar\xf2\u03cer\xf2\u0a01\u0100cq\u3ad2\u17b8r;\uc000\ud835\udccd\u0100pt\u17d6\u3adcr\xe9\u17d4\u0400acefiosu\u3af0\u3afd\u3b08\u3b0c\u3b11\u3b15\u3b1b\u3b21c\u0100uy\u3af6\u3afbte\u803b\xfd\u40fd;\u444f\u0100iy\u3b02\u3b06rc;\u4177;\u444bn\u803b\xa5\u40a5r;\uc000\ud835\udd36cy;\u4457pf;\uc000\ud835\udd6acr;\uc000\ud835\udcce\u0100cm\u3b26\u3b29y;\u444el\u803b\xff\u40ff\u0500acdefhiosw\u3b42\u3b48\u3b54\u3b58\u3b64\u3b69\u3b6d\u3b74\u3b7a\u3b80cute;\u417a\u0100ay\u3b4d\u3b52ron;\u417e;\u4437ot;\u417c\u0100et\u3b5d\u3b61tr\xe6\u155fa;\u43b6r;\uc000\ud835\udd37cy;\u4436grarr;\u61ddpf;\uc000\ud835\udd6bcr;\uc000\ud835\udccf\u0100jn\u3b85\u3b87;\u600dj;\u600c'.split("").map((e=>e.charCodeAt(0)))),v2=new Uint16Array("\u0200aglq\t\x15\x18\x1b\u026d\x0f\0\0\x12p;\u4026os;\u4027t;\u403et;\u403cuot;\u4022".split("").map((e=>e.charCodeAt(0))));var x2;const E2=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),T2=null!==(x2=String.fromCodePoint)&&void 0!==x2?x2:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};function w2(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=E2.get(e))&&void 0!==t?t:e}var k2;!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(k2||(k2={}));var S2,_2,I2;function A2(e){return e>=k2.ZERO&&e<=k2.NINE}function C2(e){return e===k2.EQUALS||function(e){return e>=k2.UPPER_A&&e<=k2.UPPER_Z||e>=k2.LOWER_A&&e<=k2.LOWER_Z||A2(e)}(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(S2||(S2={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(_2||(_2={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(I2||(I2={}));class N2{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=_2.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=I2.Strict}startEntity(e){this.decodeMode=e,this.state=_2.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case _2.EntityStart:return e.charCodeAt(t)===k2.NUM?(this.state=_2.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=_2.NamedEntity,this.stateNamedEntity(e,t));case _2.NumericStart:return this.stateNumericStart(e,t);case _2.NumericDecimal:return this.stateNumericDecimal(e,t);case _2.NumericHex:return this.stateNumericHex(e,t);case _2.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===k2.LOWER_X?(this.state=_2.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=_2.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){const s=n-t;this.result=this.result*Math.pow(r,s)+parseInt(e.substr(t,s),r),this.consumed+=s}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const s=e.charCodeAt(t);if(!(A2(s)||(r=s,r>=k2.UPPER_A&&r<=k2.UPPER_F||r>=k2.LOWER_A&&r<=k2.LOWER_F)))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(s,3);t+=1}var r;return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!A2(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===k2.SEMI)this.consumed+=1;else if(this.decodeMode===I2.Strict)return 0;return this.emitCodePoint(w2(this.result),this.consumed),this.errors&&(e!==k2.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let r=n[this.treeIndex],s=(r&S2.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const i=e.charCodeAt(t);if(this.treeIndex=R2(n,r,this.treeIndex+Math.max(1,s),i),this.treeIndex<0)return 0===this.result||this.decodeMode===I2.Attribute&&(0===s||C2(i))?0:this.emitNotTerminatedNamedEntity();if(r=n[this.treeIndex],s=(r&S2.VALUE_LENGTH)>>14,0!==s){if(i===k2.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==I2.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,r=(n[t]&S2.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:r}=this;return this.emitCodePoint(1===t?r[e]&~S2.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case _2.NamedEntity:return 0===this.result||this.decodeMode===I2.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case _2.NumericDecimal:return this.emitNumericEntity(0,2);case _2.NumericHex:return this.emitNumericEntity(0,3);case _2.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case _2.EntityStart:return 0}}}function D2(e){let t="";const n=new N2(e,(e=>t+=T2(e)));return function(e,r){let s=0,i=0;for(;(i=e.indexOf("&",i))>=0;){t+=e.slice(s,i),n.startEntity(r);const a=n.write(e,i+1);if(a<0){s=i+n.end();break}s=i+a,i=0===a?s+1:s}const a=t+e.slice(s);return t="",a}}function R2(e,t,n,r){const s=(t&S2.BRANCH_LENGTH)>>7,i=t&S2.JUMP_TABLE;if(0===s)return 0!==i&&r===i?n:-1;if(i){const t=r-i;return t<0||t>=s?-1:e[n+t]-1}let a=n,o=a+s-1;for(;a<=o;){const t=a+o>>>1,n=e[t];if(n<r)a=t+1;else{if(!(n>r))return e[t+s];o=t-1}}return-1}D2(y2),D2(v2);function O2(e){for(let t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}new Map(O2([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(O2([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(O2([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(O2([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));const M2=/["&'<>$\x80-\uFFFF]/g,L2=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),P2=null!=String.prototype.codePointAt?(e,t)=>e.codePointAt(t):(e,t)=>55296===(64512&e.charCodeAt(t))?1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function F2(e){let t,n="",r=0;for(;null!==(t=M2.exec(e));){const s=t.index,i=e.charCodeAt(s),a=L2.get(i);void 0!==a?(n+=e.substring(r,s)+a,r=s+1):(n+=`${e.substring(r,s)}&#x${P2(e,s).toString(16)};`,r=M2.lastIndex+=Number(55296===(64512&i)))}return n+e.substr(r)}function $2(e,t){return function(n){let r,s=0,i="";for(;r=e.exec(n);)s!==r.index&&(i+=n.substring(s,r.index)),i+=t.get(r[0].charCodeAt(0)),s=r.index+1;return i+n.substring(s)}}$2(/[&<>'"]/g,L2);const B2=$2(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),U2=$2(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));var z2,H2;!function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"}(z2||(z2={})),function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"}(H2||(H2={}));const W2=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),G2=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),V2=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function q2(e){return e.replace(/"/g,"&quot;")}const j2=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Y2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="length"in e?e:[e];let r="";for(let s=0;s<n.length;s++)r+=X2(n[s],t);return r}const K2=Y2;function X2(e,t){switch(e.type){case QZ:return Y2(e.children,t);case i0:case ZZ:return`<${e.data}>`;case e0:return function(e){return`\x3c!--${e.data}--\x3e`}(e);case s0:return function(e){return`<![CDATA[${e.children[0].data}]]>`}(e);case t0:case n0:case r0:return function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=W2.get(e.name))&&void 0!==n?n:e.name,e.parent&&Q2.has(e.parent.name)&&(t={...t,xmlMode:!1}));!t.xmlMode&&J2.has(e.name)&&(t={...t,xmlMode:"foreign"});let r=`<${e.name}`;const s=function(e,t){var n;if(!e)return;const r=!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)?q2:t.xmlMode||"utf8"!==t.encodeEntities?F2:B2;return Object.keys(e).map((n=>{var s,i;const a=null!==(s=e[n])&&void 0!==s?s:"";return"foreign"===t.xmlMode&&(n=null!==(i=G2.get(n))&&void 0!==i?i:n),t.emptyAttrs||t.xmlMode||""!==a?`${n}="${r(a)}"`:n})).join(" ")}(e.attribs,t);s&&(r+=` ${s}`);0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&j2.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=Y2(e.children,t)),!t.xmlMode&&j2.has(e.name)||(r+=`</${e.name}>`));return r}(e,t);case JZ:return function(e,t){var n;let r=e.data||"";!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)||!t.xmlMode&&e.parent&&V2.has(e.parent.name)||(r=t.xmlMode||"utf8"!==t.encodeEntities?F2(r):U2(r));return r}(e,t)}}const Q2=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),J2=new Set(["svg","math"]);function Z2(e,t){return K2(e,t)}function e3(e,t){return b2(e)?e.children.map((e=>Z2(e,t))).join(""):""}function t3(e){return Array.isArray(e)?e.map(t3).join(""):d2(e)?"br"===e.name?"\n":t3(e.children):p2(e)?t3(e.children):f2(e)?e.data:""}function n3(e){return Array.isArray(e)?e.map(n3).join(""):b2(e)&&!m2(e)?n3(e.children):f2(e)?e.data:""}function r3(e){return Array.isArray(e)?e.map(r3).join(""):b2(e)&&(e.type===KZ.Tag||p2(e))?r3(e.children):f2(e)?e.data:""}function s3(e){return b2(e)?e.children:[]}function i3(e){return e.parent||null}function a3(e){const t=i3(e);if(null!=t)return s3(t);const n=[e];let{prev:r,next:s}=e;for(;null!=r;)n.unshift(r),({prev:r}=r);for(;null!=s;)n.push(s),({next:s}=s);return n}function o3(e,t){var n;return null===(n=e.attribs)||void 0===n?void 0:n[t]}function l3(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]}function c3(e){return e.name}function u3(e){let{next:t}=e;for(;null!==t&&!d2(t);)({next:t}=t);return t}function h3(e){let{prev:t}=e;for(;null!==t&&!d2(t);)({prev:t}=t);return t}function d3(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}function p3(e,t){const n=t.prev=e.prev;n&&(n.next=t);const r=t.next=e.next;r&&(r.prev=t);const s=t.parent=e.parent;if(s){const n=s.children;n[n.lastIndexOf(e)]=t,e.parent=null}}function f3(e,t){if(d3(t),t.next=null,t.parent=e,e.children.push(t)>1){const n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null}function m3(e,t){d3(t);const{parent:n}=e,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){const e=n.children;e.splice(e.lastIndexOf(r),0,t)}}else n&&n.children.push(t)}function g3(e,t){if(d3(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){const n=e.children[1];n.prev=t,t.next=n}else t.next=null}function b3(e,t){d3(t);const{parent:n}=e;if(n){const r=n.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}function y3(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return v3(e,Array.isArray(t)?t:[t],n,r)}function v3(e,t,n,r){const s=[],i=[Array.isArray(t)?t:[t]],a=[0];for(;;){if(a[0]>=i[0].length){if(1===a.length)return s;i.shift(),a.shift();continue}const t=i[0][a[0]++];if(e(t)&&(s.push(t),--r<=0))return s;n&&b2(t)&&t.children.length>0&&(a.unshift(0),i.unshift(t.children))}}function x3(e,t){return t.find(e)}function E3(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Array.isArray(t)?t:[t];for(let s=0;s<r.length;s++){const t=r[s];if(d2(t)&&e(t))return t;if(n&&b2(t)&&t.children.length>0){const n=E3(e,t.children,!0);if(n)return n}}return null}function T3(e,t){return(Array.isArray(t)?t:[t]).some((t=>d2(t)&&e(t)||b2(t)&&T3(e,t.children)))}function w3(e,t){const n=[],r=[Array.isArray(t)?t:[t]],s=[0];for(;;){if(s[0]>=r[0].length){if(1===r.length)return n;r.shift(),s.shift();continue}const t=r[0][s[0]++];d2(t)&&e(t)&&n.push(t),b2(t)&&t.children.length>0&&(s.unshift(0),r.unshift(t.children))}}const k3={tag_name:e=>"function"===typeof e?t=>d2(t)&&e(t.name):"*"===e?d2:t=>d2(t)&&t.name===e,tag_type:e=>"function"===typeof e?t=>e(t.type):t=>t.type===e,tag_contains:e=>"function"===typeof e?t=>f2(t)&&e(t.data):t=>f2(t)&&t.data===e};function S3(e,t){return"function"===typeof t?n=>d2(n)&&t(n.attribs[e]):n=>d2(n)&&n.attribs[e]===t}function _3(e,t){return n=>e(n)||t(n)}function I3(e){const t=Object.keys(e).map((t=>{const n=e[t];return Object.prototype.hasOwnProperty.call(k3,t)?k3[t](n):S3(t,n)}));return 0===t.length?null:t.reduce(_3)}function A3(e,t){const n=I3(e);return!n||n(t)}function C3(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const s=I3(e);return s?y3(s,t,n,r):[]}function N3(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Array.isArray(t)||(t=[t]),E3(S3("id",e),t,n)}function D3(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return y3(k3.tag_name(e),t,n,r)}function R3(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return y3(S3("class",e),t,n,r)}function O3(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return y3(k3.tag_type(e),t,n,r)}function M3(e){let t=e.length;for(;--t>=0;){const n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(let r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e}var L3;function P3(e,t){const n=[],r=[];if(e===t)return 0;let s=b2(e)?e:e.parent;for(;s;)n.unshift(s),s=s.parent;for(s=b2(t)?t:t.parent;s;)r.unshift(s),s=s.parent;const i=Math.min(n.length,r.length);let a=0;for(;a<i&&n[a]===r[a];)a++;if(0===a)return L3.DISCONNECTED;const o=n[a-1],l=o.children,c=n[a],u=r[a];return l.indexOf(c)>l.indexOf(u)?o===t?L3.FOLLOWING|L3.CONTAINED_BY:L3.FOLLOWING:o===e?L3.PRECEDING|L3.CONTAINS:L3.PRECEDING}function F3(e){return(e=e.filter(((e,t,n)=>!n.includes(e,t+1)))).sort(((e,t)=>{const n=P3(e,t);return n&L3.PRECEDING?-1:n&L3.FOLLOWING?1:0})),e}function $3(e){const t=H3(V3,e);return t?"feed"===t.name?function(e){var t;const n=e.children,r={type:"atom",items:D3("entry",n).map((e=>{var t;const{children:n}=e,r={media:z3(n)};G3(r,"id","id",n),G3(r,"title","title",n);const s=null===(t=H3("link",n))||void 0===t?void 0:t.attribs.href;s&&(r.link=s);const i=W3("summary",n)||W3("content",n);i&&(r.description=i);const a=W3("updated",n);return a&&(r.pubDate=new Date(a)),r}))};G3(r,"id","id",n),G3(r,"title","title",n);const s=null===(t=H3("link",n))||void 0===t?void 0:t.attribs.href;s&&(r.link=s);G3(r,"description","subtitle",n);const i=W3("updated",n);i&&(r.updated=new Date(i));return G3(r,"author","email",n,!0),r}(t):function(e){var t,n;const r=null!==(n=null===(t=H3("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==n?n:[],s={type:e.name.substr(0,3),id:"",items:D3("item",e.children).map((e=>{const{children:t}=e,n={media:z3(t)};G3(n,"id","guid",t),G3(n,"title","title",t),G3(n,"link","link",t),G3(n,"description","description",t);const r=W3("pubDate",t)||W3("dc:date",t);return r&&(n.pubDate=new Date(r)),n}))};G3(s,"title","title",r),G3(s,"link","link",r),G3(s,"description","description",r);const i=W3("lastBuildDate",r);i&&(s.updated=new Date(i));return G3(s,"author","managingEditor",r,!0),s}(t):null}!function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"}(L3||(L3={}));const B3=["url","type","lang"],U3=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function z3(e){return D3("media:content",e).map((e=>{const{attribs:t}=e,n={medium:t.medium,isDefault:!!t.isDefault};for(const r of B3)t[r]&&(n[r]=t[r]);for(const r of U3)t[r]&&(n[r]=parseInt(t[r],10));return t.expression&&(n.expression=t.expression),n}))}function H3(e,t){return D3(e,t,!0,1)[0]}function W3(e,t){return n3(D3(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],1)).trim()}function G3(e,t,n,r){const s=W3(n,r,arguments.length>4&&void 0!==arguments[4]&&arguments[4]);s&&(e[t]=s)}function V3(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}var q3=n(666);const j3=new Map([[J1.Universal,50],[J1.Tag,30],[J1.Attribute,1],[J1.Pseudo,0]]);function Y3(e){return!j3.has(e.type)}const K3=new Map([[Z1.Exists,10],[Z1.Equals,8],[Z1.Not,7],[Z1.Start,6],[Z1.End,6],[Z1.Any,5]]);function X3(e){const t=e.map(Q3);for(let n=1;n<e.length;n++){const r=t[n];if(!(r<0))for(let s=n-1;s>=0&&r<t[s];s--){const n=e[s+1];e[s+1]=e[s],e[s]=n,t[s+1]=t[s],t[s]=r}}}function Q3(e){var t,n;let r=null!==(t=j3.get(e.type))&&void 0!==t?t:-1;return e.type===J1.Attribute?(r=null!==(n=K3.get(e.action))&&void 0!==n?n:4,e.action===Z1.Equals&&"id"===e.name&&(r=9),e.ignoreCase&&(r>>=1)):e.type===J1.Pseudo&&(e.data?"has"===e.name||"contains"===e.name?r=0:Array.isArray(e.data)?(r=Math.min(...e.data.map((e=>Math.min(...e.map(Q3))))),r<0&&(r=0)):r=2:r=3),r}const J3=/[-[\]{}()*+?.,\\^$|#\s]/g;function Z3(e){return e.replace(J3,"\\$&")}const e4=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function t4(e,t){return"boolean"===typeof e.ignoreCase?e.ignoreCase:"quirks"===e.ignoreCase?!!t.quirksMode:!t.xmlMode&&e4.has(e.name)}const n4={equals(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;return t4(t,n)?(i=i.toLowerCase(),t=>{const n=r.getAttributeValue(t,s);return null!=n&&n.length===i.length&&n.toLowerCase()===i&&e(t)}):t=>r.getAttributeValue(t,s)===i&&e(t)},hyphen(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;const a=i.length;return t4(t,n)?(i=i.toLowerCase(),function(t){const n=r.getAttributeValue(t,s);return null!=n&&(n.length===a||"-"===n.charAt(a))&&n.substr(0,a).toLowerCase()===i&&e(t)}):function(t){const n=r.getAttributeValue(t,s);return null!=n&&(n.length===a||"-"===n.charAt(a))&&n.substr(0,a)===i&&e(t)}},element(e,t,n){const{adapter:r}=n,{name:s,value:i}=t;if(/\s/.test(i))return q3.falseFunc;const a=new RegExp(`(?:^|\\s)${Z3(i)}(?:$|\\s)`,t4(t,n)?"i":"");return function(t){const n=r.getAttributeValue(t,s);return null!=n&&n.length>=i.length&&a.test(n)&&e(t)}},exists(e,t,n){let{name:r}=t,{adapter:s}=n;return t=>s.hasAttrib(t,r)&&e(t)},start(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;const a=i.length;return 0===a?q3.falseFunc:t4(t,n)?(i=i.toLowerCase(),t=>{const n=r.getAttributeValue(t,s);return null!=n&&n.length>=a&&n.substr(0,a).toLowerCase()===i&&e(t)}):t=>{var n;return!!(null===(n=r.getAttributeValue(t,s))||void 0===n?void 0:n.startsWith(i))&&e(t)}},end(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;const a=-i.length;return 0===a?q3.falseFunc:t4(t,n)?(i=i.toLowerCase(),t=>{var n;return(null===(n=r.getAttributeValue(t,s))||void 0===n?void 0:n.substr(a).toLowerCase())===i&&e(t)}):t=>{var n;return!!(null===(n=r.getAttributeValue(t,s))||void 0===n?void 0:n.endsWith(i))&&e(t)}},any(e,t,n){const{adapter:r}=n,{name:s,value:i}=t;if(""===i)return q3.falseFunc;if(t4(t,n)){const t=new RegExp(Z3(i),"i");return function(n){const a=r.getAttributeValue(n,s);return null!=a&&a.length>=i.length&&t.test(a)&&e(n)}}return t=>{var n;return!!(null===(n=r.getAttributeValue(t,s))||void 0===n?void 0:n.includes(i))&&e(t)}},not(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;return""===i?t=>!!r.getAttributeValue(t,s)&&e(t):t4(t,n)?(i=i.toLowerCase(),t=>{const n=r.getAttributeValue(t,s);return(null==n||n.length!==i.length||n.toLowerCase()!==i)&&e(t)}):t=>r.getAttributeValue(t,s)!==i&&e(t)}},r4=new Set([9,10,12,13,32]),s4="0".charCodeAt(0),i4="9".charCodeAt(0);function a4(e){return function(e){const t=e[0],n=e[1]-1;if(n<0&&t<=0)return q3.falseFunc;if(-1===t)return e=>e<=n;if(0===t)return e=>e===n;if(1===t)return n<0?q3.trueFunc:e=>e>=n;const r=Math.abs(t),s=(n%r+r)%r;return t>1?e=>e>=n&&e%r===s:e=>e<=n&&e%r===s}(function(e){if("even"===(e=e.trim().toLowerCase()))return[2,0];if("odd"===e)return[2,1];let t=0,n=0,r=i(),s=a();if(t<e.length&&"n"===e.charAt(t)&&(t++,n=r*(null!==s&&void 0!==s?s:1),o(),t<e.length?(r=i(),o(),s=a()):r=s=0),null===s||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[n,r*s];function i(){return"-"===e.charAt(t)?(t++,-1):("+"===e.charAt(t)&&t++,1)}function a(){const n=t;let r=0;for(;t<e.length&&e.charCodeAt(t)>=s4&&e.charCodeAt(t)<=i4;)r=10*r+(e.charCodeAt(t)-s4),t++;return t===n?null:r}function o(){for(;t<e.length&&r4.has(e.charCodeAt(t));)t++}}(e))}function o4(e,t){return n=>{const r=t.getParent(n);return null!=r&&t.isTag(r)&&e(n)}}const l4={contains(e,t,n){let{adapter:r}=n;return function(n){return e(n)&&r.getText(n).includes(t)}},icontains(e,t,n){let{adapter:r}=n;const s=t.toLowerCase();return function(t){return e(t)&&r.getText(t).toLowerCase().includes(s)}},"nth-child"(e,t,n){let{adapter:r,equals:s}=n;const i=a4(t);return i===q3.falseFunc?q3.falseFunc:i===q3.trueFunc?o4(e,r):function(t){const n=r.getSiblings(t);let a=0;for(let e=0;e<n.length&&!s(t,n[e]);e++)r.isTag(n[e])&&a++;return i(a)&&e(t)}},"nth-last-child"(e,t,n){let{adapter:r,equals:s}=n;const i=a4(t);return i===q3.falseFunc?q3.falseFunc:i===q3.trueFunc?o4(e,r):function(t){const n=r.getSiblings(t);let a=0;for(let e=n.length-1;e>=0&&!s(t,n[e]);e--)r.isTag(n[e])&&a++;return i(a)&&e(t)}},"nth-of-type"(e,t,n){let{adapter:r,equals:s}=n;const i=a4(t);return i===q3.falseFunc?q3.falseFunc:i===q3.trueFunc?o4(e,r):function(t){const n=r.getSiblings(t);let a=0;for(let e=0;e<n.length;e++){const i=n[e];if(s(t,i))break;r.isTag(i)&&r.getName(i)===r.getName(t)&&a++}return i(a)&&e(t)}},"nth-last-of-type"(e,t,n){let{adapter:r,equals:s}=n;const i=a4(t);return i===q3.falseFunc?q3.falseFunc:i===q3.trueFunc?o4(e,r):function(t){const n=r.getSiblings(t);let a=0;for(let e=n.length-1;e>=0;e--){const i=n[e];if(s(t,i))break;r.isTag(i)&&r.getName(i)===r.getName(t)&&a++}return i(a)&&e(t)}},root(e,t,n){let{adapter:r}=n;return t=>{const n=r.getParent(t);return(null==n||!r.isTag(n))&&e(t)}},scope(e,t,n,r){const{equals:s}=n;return r&&0!==r.length?1===r.length?t=>s(r[0],t)&&e(t):t=>r.includes(t)&&e(t):l4.root(e,t,n)},hover:c4("isHovered"),visited:c4("isVisited"),active:c4("isActive")};function c4(e){return function(t,n,r){let{adapter:s}=r;const i=s[e];return"function"!==typeof i?q3.falseFunc:function(e){return i(e)&&t(e)}}}const u4={empty(e,t){let{adapter:n}=t;return!n.getChildren(e).some((e=>n.isTag(e)||""!==n.getText(e)))},"first-child"(e,t){let{adapter:n,equals:r}=t;if(n.prevElementSibling)return null==n.prevElementSibling(e);const s=n.getSiblings(e).find((e=>n.isTag(e)));return null!=s&&r(e,s)},"last-child"(e,t){let{adapter:n,equals:r}=t;const s=n.getSiblings(e);for(let i=s.length-1;i>=0;i--){if(r(e,s[i]))return!0;if(n.isTag(s[i]))break}return!1},"first-of-type"(e,t){let{adapter:n,equals:r}=t;const s=n.getSiblings(e),i=n.getName(e);for(let a=0;a<s.length;a++){const t=s[a];if(r(e,t))return!0;if(n.isTag(t)&&n.getName(t)===i)break}return!1},"last-of-type"(e,t){let{adapter:n,equals:r}=t;const s=n.getSiblings(e),i=n.getName(e);for(let a=s.length-1;a>=0;a--){const t=s[a];if(r(e,t))return!0;if(n.isTag(t)&&n.getName(t)===i)break}return!1},"only-of-type"(e,t){let{adapter:n,equals:r}=t;const s=n.getName(e);return n.getSiblings(e).every((t=>r(e,t)||!n.isTag(t)||n.getName(t)!==s))},"only-child"(e,t){let{adapter:n,equals:r}=t;return n.getSiblings(e).every((t=>r(e,t)||!n.isTag(t)))}};function h4(e,t,n,r){if(null===n){if(e.length>r)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===r)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}const d4={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:":is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] > option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )",enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},p4={};function f4(e,t){return e===q3.falseFunc?q3.falseFunc:n=>t.isTag(n)&&e(n)}function m4(e,t){const n=t.getSiblings(e);if(n.length<=1)return[];const r=n.indexOf(e);return r<0||r===n.length-1?[]:n.slice(r+1).filter(t.isTag)}function g4(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const b4=(e,t,n,r,s)=>{const i=s(t,g4(n),r);return i===q3.trueFunc?e:i===q3.falseFunc?q3.falseFunc:t=>i(t)&&e(t)},y4={is:b4,matches:b4,where:b4,not(e,t,n,r,s){const i=s(t,g4(n),r);return i===q3.falseFunc?e:i===q3.trueFunc?q3.falseFunc:t=>!i(t)&&e(t)},has(e,t,n,r,s){const{adapter:i}=n,a=g4(n);a.relativeSelector=!0;const o=t.some((e=>e.some(Y3)))?[p4]:void 0,l=s(t,a,o);if(l===q3.falseFunc)return q3.falseFunc;const c=f4(l,i);if(o&&l!==q3.trueFunc){const{shouldTestNextSiblings:t=!1}=l;return n=>{if(!e(n))return!1;o[0]=n;const r=i.getChildren(n),s=t?[...r,...m4(n,i)]:r;return i.existsOne(c,s)}}return t=>e(t)&&i.existsOne(c,i.getChildren(t))}};function v4(e,t){const n=t.getParent(e);return n&&t.isTag(n)?n:null}function x4(e,t,n,r,s){const{adapter:i,equals:a}=n;switch(t.type){case J1.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case J1.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case J1.Attribute:if(null!=t.namespace)throw new Error("Namespaced attributes are not yet supported by css-select");return n.xmlMode&&!n.lowerCaseAttributeNames||(t.name=t.name.toLowerCase()),n4[t.action](e,t,n);case J1.Pseudo:return function(e,t,n,r,s){var i;const{name:a,data:o}=t;if(Array.isArray(o)){if(!(a in y4))throw new Error(`Unknown pseudo-class :${a}(${o})`);return y4[a](e,o,n,r,s)}const l=null===(i=n.pseudos)||void 0===i?void 0:i[a],c="string"===typeof l?l:d4[a];if("string"===typeof c){if(null!=o)throw new Error(`Pseudo ${a} doesn't have any arguments`);const t=u2(c);return y4.is(e,t,n,r,s)}if("function"===typeof l)return h4(l,a,o,1),t=>l(t,o)&&e(t);if(a in l4)return l4[a](e,o,n,r);if(a in u4){const t=u4[a];return h4(t,a,o,2),r=>t(r,n,o)&&e(r)}throw new Error(`Unknown pseudo-class :${a}`)}(e,t,n,r,s);case J1.Tag:{if(null!=t.namespace)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:r}=t;return n.xmlMode&&!n.lowerCaseTags||(r=r.toLowerCase()),function(t){return i.getName(t)===r&&e(t)}}case J1.Descendant:{if(!1===n.cacheResults||"undefined"===typeof WeakSet)return function(t){let n=t;for(;n=v4(n,i);)if(e(n))return!0;return!1};const t=new WeakSet;return function(n){let r=n;for(;r=v4(r,i);)if(!t.has(r)){if(i.isTag(r)&&e(r))return!0;t.add(r)}return!1}}case"_flexibleDescendant":return function(t){let n=t;do{if(e(n))return!0}while(n=v4(n,i));return!1};case J1.Parent:return function(t){return i.getChildren(t).some((t=>i.isTag(t)&&e(t)))};case J1.Child:return function(t){const n=i.getParent(t);return null!=n&&i.isTag(n)&&e(n)};case J1.Sibling:return function(t){const n=i.getSiblings(t);for(let r=0;r<n.length;r++){const s=n[r];if(a(t,s))break;if(i.isTag(s)&&e(s))return!0}return!1};case J1.Adjacent:return i.prevElementSibling?function(t){const n=i.prevElementSibling(t);return null!=n&&e(n)}:function(t){const n=i.getSiblings(t);let r;for(let e=0;e<n.length;e++){const s=n[e];if(a(t,s))break;i.isTag(s)&&(r=s)}return!!r&&e(r)};case J1.Universal:if(null!=t.namespace&&"*"!==t.namespace)throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}function E4(e,t,n){return _4("string"===typeof e?u2(e):e,t,n)}function T4(e){return e.type===J1.Pseudo&&("scope"===e.name||Array.isArray(e.data)&&e.data.some((e=>e.some(T4))))}const w4={type:J1.Descendant},k4={type:"_flexibleDescendant"},S4={type:J1.Pseudo,name:"scope",data:null};function _4(e,t,n){var r;e.forEach(X3),n=null!==(r=t.context)&&void 0!==r?r:n;const s=Array.isArray(n),i=n&&(Array.isArray(n)?n:[n]);if(!1!==t.relativeSelector)!function(e,t,n){let{adapter:r}=t;const s=!!(null===n||void 0===n?void 0:n.every((e=>{const t=r.isTag(e)&&r.getParent(e);return e===p4||t&&r.isTag(t)})));for(const i of e){if(i.length>0&&Y3(i[0])&&i[0].type!==J1.Descendant);else{if(!s||i.some(T4))continue;i.unshift(w4)}i.unshift(S4)}}(e,t,i);else if(e.some((e=>e.length>0&&Y3(e[0]))))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let a=!1;const o=e.map((e=>{if(e.length>=2){const[t,n]=e;t.type!==J1.Pseudo||"scope"!==t.name||(s&&n.type===J1.Descendant?e[1]=k4:n.type!==J1.Adjacent&&n.type!==J1.Sibling||(a=!0))}return function(e,t,n){var r;return e.reduce(((e,r)=>e===q3.falseFunc?q3.falseFunc:x4(e,r,t,n,_4)),null!==(r=t.rootFunc)&&void 0!==r?r:q3.trueFunc)}(e,t,i)})).reduce(I4,q3.falseFunc);return o.shouldTestNextSiblings=a,o}function I4(e,t){return t===q3.falseFunc||e===q3.trueFunc?e:e===q3.falseFunc||t===q3.trueFunc?t:function(n){return e(n)||t(n)}}const A4=(e,t)=>e===t,C4={adapter:l,equals:A4};function N4(e){var t,n,r,s;const i=null!==e&&void 0!==e?e:C4;return null!==(t=i.adapter)&&void 0!==t||(i.adapter=l),null!==(n=i.equals)&&void 0!==n||(i.equals=null!==(s=null===(r=i.adapter)||void 0===r?void 0:r.equals)&&void 0!==s?s:A4),i}function D4(e){return function(t,n,r){const s=N4(n);return e(t,s,r)}}D4((function(e,t,n){return f4(E4(e,t,n),t.adapter)})),D4(E4);const R4=D4(_4);function O4(e){return function(t,n,r){const s=N4(r);"function"!==typeof t&&(t=E4(t,s,n));const i=M4(n,s.adapter,t.shouldTestNextSiblings);return e(t,i,s)}}function M4(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(e=function(e,t){const n=Array.isArray(e)?e.slice(0):[e],r=n.length;for(let s=0;s<r;s++){const e=m4(n[s],t);n.push(...e)}return n}(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}O4(((e,t,n)=>e!==q3.falseFunc&&t&&0!==t.length?n.adapter.findAll(e,t):[])),O4(((e,t,n)=>e!==q3.falseFunc&&t&&0!==t.length?n.adapter.findOne(e,t):null));const L4=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function P4(e){return"pseudo"===e.type&&(!!L4.has(e.name)||!("not"!==e.name||!Array.isArray(e.data))&&e.data.some((e=>e.some(P4))))}function F4(e){const t=[],n=[];for(const r of e)r.some(P4)?t.push(r):n.push(r);return[n,t]}const $4={type:J1.Universal,namespace:null},B4={type:J1.Pseudo,name:"scope",data:null};function U4(e,t){return z4([e],t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function z4(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("function"===typeof t)return e.some(t);const[r,s]=F4(u2(t));return r.length>0&&e.some(R4(r,n))||s.some((t=>G4(t,e,n).length>0))}function H4(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return W4(u2(e),t,n)}function W4(e,t,n){if(0===t.length)return[];const[r,s]=F4(e);let i;if(r.length){const e=Y4(t,r,n);if(0===s.length)return e;e.length&&(i=new Set(e))}for(let a=0;a<s.length&&(null===i||void 0===i?void 0:i.size)!==t.length;a++){const e=s[a];if(0===(i?t.filter((e=>d2(e)&&!i.has(e))):t).length)break;const r=G4(e,t,n);if(r.length)if(i)r.forEach((e=>i.add(e)));else{if(a===s.length-1)return r;i=new Set(r)}}return"undefined"!==typeof i?i.size===t.length?t:t.filter((e=>i.has(e))):[]}function G4(e,t,n){var r;if(e.some(s2)){const s=null!==(r=n.root)&&void 0!==r?r:function(e){for(;e.parent;)e=e.parent;return e}(t[0]),i={...n,context:t,relativeSelector:!1};return e.push(B4),V4(s,e,i,!0,t.length)}return V4(t,e,n,!1,t.length)}function V4(e,t,n,r,s){const i=t.findIndex(P4),a=t.slice(0,i),o=t[i],c=t.length-1===i?s:1/0,u=function(e,t,n){const r=null!=t?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}(o.name,o.data,c);if(0===u)return[];const h=(0!==a.length||Array.isArray(e)?0===a.length?(Array.isArray(e)?e:[e]).filter(d2):r||a.some(s2)?q4(e,[a],n,u):Y4(e,[a],n):s3(e).filter(d2)).slice(0,u);let d=function(e,t,n,r){const s="string"===typeof n?parseInt(n,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(s)&&Math.abs(s)<t.length?[s<0?t[t.length+s]:t[s]]:[];case"gt":return isFinite(s)?t.slice(s+1):[];case"even":return t.filter(((e,t)=>t%2===0));case"odd":return t.filter(((e,t)=>t%2===1));case"not":{const e=new Set(W4(n,t,r));return t.filter((t=>!e.has(t)))}}}(o.name,h,o.data,n);if(0===d.length||t.length===i+1)return d;const p=t.slice(i+1),f=p.some(s2);if(f){if(s2(p[0])){const{type:e}=p[0];e!==J1.Sibling&&e!==J1.Adjacent||(d=M4(d,l,!0)),p.unshift($4)}n={...n,relativeSelector:!1,rootFunc:e=>d.includes(e)}}else n.rootFunc&&n.rootFunc!==q3.trueFunc&&(n={...n,rootFunc:q3.trueFunc});return p.some(P4)?V4(d,p,n,!1,s):f?q4(d,[p],n,s):Y4(d,[p],n)}function q4(e,t,n,r){return j4(e,R4(t,n,e),r)}function j4(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return v3((e=>d2(e)&&t(e)),M4(e,l,t.shouldTestNextSiblings),!0,n)}function Y4(e,t,n){const r=(Array.isArray(e)?e:[e]).filter(d2);if(0===r.length)return r;const s=R4(t,n);return s===q3.trueFunc?r:r.filter(s)}const K4=/^\s*[+~]/;function X4(e){if(!e)return this._make([]);if("string"!==typeof e){const t=_1(e)?e.toArray():[e],n=this.toArray();return this._make(t.filter((e=>n.some((t=>T1(t,e))))))}return this._findBySelector(e,Number.POSITIVE_INFINITY)}function Q4(e,t){var n;const r=this.toArray(),s=K4.test(e)?r:this.children().toArray(),i={context:r,root:null===(n=this._root)||void 0===n?void 0:n[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;if("function"===typeof e)return j4(t,e);const[s,i]=F4(u2(e)),a=i.map((e=>V4(t,e,n,!0,r)));return s.length&&a.push(q4(t,s,n,r)),0===a.length?[]:1===a.length?a[0]:F3(a.reduce(((e,t)=>[...e,...t])))}(e,s,i,t))}function J4(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return function(n){var s;let i=e(t,this);return n&&(i=x5(i,n,this.options.xmlMode,null===(s=this._root)||void 0===s?void 0:s[0])),this._make(this.length>1&&i.length>1?r.reduce(((e,t)=>t(e)),i):i)}}}const Z4=J4(((e,t)=>{let n=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s.length>0&&(n=n.concat(s))}return n})),e5=J4(((e,t)=>{const n=[];for(let r=0;r<t.length;r++){const s=e(t[r]);null!==s&&n.push(s)}return n}));function t5(e){let t=null;for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=J4(((e,n)=>{const r=[];return I1(n,(n=>{for(let s;(s=e(n))&&!(null===t||void 0===t?void 0:t(s,r.length));n=s)r.push(s)})),r}))(e,...r);return function(e,n){t="string"===typeof e?t=>U4(t,e,this.options):e?y5(e):null;const r=i.call(this,n);return t=null,r}}function n5(e){return e.length>1?Array.from(new Set(e)):e}const r5=e5((e=>{let{parent:t}=e;return t&&!v0(t)?t:null}),n5),s5=Z4((e=>{const t=[];for(;e.parent&&!v0(e.parent);)t.push(e.parent),e=e.parent;return t}),p1,(e=>e.reverse())),i5=t5((e=>{let{parent:t}=e;return t&&!v0(t)?t:null}),p1,(e=>e.reverse()));function a5(e){var t;const n=[];if(!e)return this._make(n);const r={xmlMode:this.options.xmlMode,root:null===(t=this._root)||void 0===t?void 0:t[0]},s="string"===typeof e?t=>U4(t,e,r):y5(e);return I1(this,(e=>{for(!e||v0(e)||m0(e)||(e=e.parent);e&&m0(e);){if(s(e,0)){n.includes(e)||n.push(e);break}e=e.parent}})),this._make(n)}const o5=e5((e=>c1(e))),l5=Z4((e=>{const t=[];for(;e.next;)m0(e=e.next)&&t.push(e);return t}),n5),c5=t5((e=>c1(e)),n5),u5=e5((e=>u1(e))),h5=Z4((e=>{const t=[];for(;e.prev;)m0(e=e.prev)&&t.push(e);return t}),n5),d5=t5((e=>u1(e)),n5),p5=Z4((e=>function(e){const t=function(e){return e.parent||null}(e);if(null!=t)return l1(t);const n=[e];let{prev:r,next:s}=e;for(;null!=r;)n.unshift(r),({prev:r}=r);for(;null!=s;)n.push(s),({next:s}=s);return n}(e).filter((t=>m0(t)&&t!==e))),p1),f5=Z4((e=>l1(e).filter(m0)),n5);function m5(){const e=this.toArray().reduce(((e,t)=>x0(t)?e.concat(t.children):e),[]);return this._make(e)}function g5(e){let t=0;const n=this.length;for(;t<n&&!1!==e.call(this[t],t,this[t]);)++t;return this}function b5(e){let t=[];for(let n=0;n<this.length;n++){const r=this[n],s=e.call(r,n,r);null!=s&&(t=t.concat(s))}return this._make(t)}function y5(e){return"function"===typeof e?(t,n)=>e.call(t,n,t):_1(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function v5(e){var t;return this._make(x5(this.toArray(),e,this.options.xmlMode,null===(t=this._root)||void 0===t?void 0:t[0]))}function x5(e,t,n,r){return"string"===typeof t?H4(t,e,{xmlMode:n,root:r}):e.filter(y5(t))}function E5(e){const t=this.toArray();return"string"===typeof e?z4(t.filter(m0),e,this.options):!!e&&t.some(y5(e))}function T5(e){let t=this.toArray();if("string"===typeof e){const n=new Set(H4(e,t,this.options));t=t.filter((e=>!n.has(e)))}else{const n=y5(e);t=t.filter(((e,t)=>!n(e,t)))}return this._make(t)}function w5(e){return this.filter("string"===typeof e?`:has(${e})`:(t,n)=>this._make(n).find(e).length>0)}function k5(){return this.length>1?this._make(this[0]):this}function S5(){return this.length>0?this._make(this[this.length-1]):this}function _5(e){var t;return 0===(e=+e)&&this.length<=1?this:(e<0&&(e=this.length+e),this._make(null!==(t=this[e])&&void 0!==t?t:[]))}function I5(e){return null==e?this.toArray():this[e<0?this.length+e:e]}function A5(){return Array.prototype.slice.call(this)}function C5(e){let t,n;return null==e?(t=this.parent().children(),n=this[0]):"string"===typeof e?(t=this._make(e),n=this[0]):(t=this,n=_1(e)?e[0]:e),Array.prototype.indexOf.call(t,n)}function N5(e,t){return this._make(Array.prototype.slice.call(this,e,t))}function D5(){var e;return null!==(e=this.prevObject)&&void 0!==e?e:this._make([])}function R5(e,t){const n=this._make(e,t),r=p1([...this.get(),...n.get()]);return this._make(r)}function O5(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}function M5(e,t){const n=Array.isArray(e)?e:[e];t?t.children=n:t=null;for(let r=0;r<n.length;r++){const e=n[r];e.parent&&e.parent.children!==n&&h1(e),t?(e.prev=n[r-1]||null,e.next=n[r+1]||null):e.prev=e.next=null,e.parent=t}return t}function L5(e,t){if(null==e)return[];if("string"===typeof e)return this._parse(e,this.options,!1,null).children.slice(0);if("length"in e){if(1===e.length)return this._makeDomArray(e[0],t);const n=[];for(let r=0;r<e.length;r++){const s=e[r];if("object"===typeof s){if(null==s)continue;if(!("length"in s)){n.push(t?E0(s,!0):s);continue}}n.push(...this._makeDomArray(s,t))}return n}return[t?E0(e,!0):e]}function P5(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const s=this.length-1;return I1(this,((t,r)=>{if(!x0(t))return;const i="function"===typeof n[0]?n[0].call(t,r,this._render(t.children)):n,a=this._makeDomArray(i,r<s);e(a,t.children,t)}))}}function F5(e,t,n,r,s){var i,a;const o=[t,n,...r],l=0===t?null:e[t-1],c=t+n>=e.length?null:e[t+n];for(let u=0;u<r.length;++u){const e=r[u],n=e.parent;if(n){const r=n.children.indexOf(e);r>-1&&(n.children.splice(r,1),s===n&&t>r&&o[0]--)}e.parent=s,e.prev&&(e.prev.next=null!==(i=e.next)&&void 0!==i?i:null),e.next&&(e.next.prev=null!==(a=e.prev)&&void 0!==a?a:null),e.prev=0===u?l:r[u-1],e.next=u===r.length-1?c:r[u+1]}return l&&(l.next=r[0]),c&&(c.prev=r[r.length-1]),e.splice(...o)}function $5(e){return(_1(e)?e:this._make(e)).append(this),this}function B5(e){return(_1(e)?e:this._make(e)).prepend(this),this}const U5=P5(((e,t,n)=>{F5(t,t.length,0,e,n)})),z5=P5(((e,t,n)=>{F5(t,0,0,e,n)}));function H5(e){return function(t){const n=this.length-1,r=this.parents().last();for(let s=0;s<this.length;s++){const i=this[s],a="function"===typeof t?t.call(i,s,i):"string"!==typeof t||C1(t)?t:r.find(t).clone(),[o]=this._makeDomArray(a,s<n);if(!o||!x0(o))continue;let l=o,c=0;for(;c<l.children.length;){const e=l.children[c];m0(e)?(l=e,c=0):c++}e(i,l,[o])}return this}}const W5=H5(((e,t,n)=>{const{parent:r}=e;if(!r)return;const s=r.children,i=s.indexOf(e);M5([e],t),F5(s,i,0,n,r)})),G5=H5(((e,t,n)=>{x0(e)&&(M5(e.children,t),M5(n,e))}));function V5(e){return this.parent(e).not("body").each(((e,t)=>{this._make(t).replaceWith(t.children)})),this}function q5(e){const t=this[0];if(t){const n=this._make("function"===typeof e?e.call(t,0,t):e).insertBefore(t);let r;for(let e=0;e<n.length;e++)"tag"===n[e].type&&(r=n[e]);let s=0;for(;r&&s<r.children.length;){const e=r.children[s];"tag"===e.type?(r=e,s=0):s++}r&&this._make(r).append(this)}return this}function j5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=this.length-1;return I1(this,((e,n)=>{if(!x0(e)||!e.parent)return;const s=e.parent.children,i=s.indexOf(e);if(i<0)return;const a="function"===typeof t[0]?t[0].call(e,n,this._render(e.children)):t;F5(s,i+1,0,this._makeDomArray(a,n<r),e.parent)}))}function Y5(e){"string"===typeof e&&(e=this._make(e)),this.remove();const t=[];for(const n of this._makeDomArray(e)){const e=this.clone().toArray(),{parent:r}=n;if(!r)continue;const s=r.children,i=s.indexOf(n);i<0||(F5(s,i+1,0,e,r),t.push(...e))}return this._make(t)}function K5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=this.length-1;return I1(this,((e,n)=>{if(!x0(e)||!e.parent)return;const s=e.parent.children,i=s.indexOf(e);if(i<0)return;const a="function"===typeof t[0]?t[0].call(e,n,this._render(e.children)):t;F5(s,i,0,this._makeDomArray(a,n<r),e.parent)}))}function X5(e){const t=this._make(e);this.remove();const n=[];return I1(t,(e=>{const t=this.clone().toArray(),{parent:r}=e;if(!r)return;const s=r.children,i=s.indexOf(e);i<0||(F5(s,i,0,t,r),n.push(...t))})),this._make(n)}function Q5(e){return I1(e?this.filter(e):this,(e=>{h1(e),e.prev=e.next=e.parent=null})),this}function J5(e){return I1(this,((t,n)=>{const{parent:r}=t;if(!r)return;const s=r.children,i="function"===typeof e?e.call(t,n,t):e,a=this._makeDomArray(i);M5(a,null);const o=s.indexOf(t);F5(s,o,1,a,r),a.includes(t)||(t.parent=t.prev=t.next=null)}))}function Z5(){return I1(this,(e=>{if(x0(e)){for(const t of e.children)t.next=t.prev=t.parent=null;e.children.length=0}}))}function e6(e){if(void 0===e){const e=this[0];return e&&x0(e)?this._render(e.children):null}return I1(this,(t=>{if(!x0(t))return;for(const e of t.children)e.next=e.prev=e.parent=null;M5(_1(e)?e.toArray():this._parse(`${e}`,this.options,!1,t).children,t)}))}function t6(){return this._render(this)}function n6(e){return void 0===e?v1(this):I1(this,"function"===typeof e?(t,n)=>this._make(t).text(e.call(t,n,v1([t]))):t=>{if(!x0(t))return;for(const e of t.children)e.next=e.prev=e.parent=null;M5(new l0(`${e}`),t)})}function r6(){const e=Array.prototype.map.call(this.get(),(e=>E0(e,!0))),t=new p0(e);for(const n of e)n.parent=t;return this._make(e)}function s6(e,t){return null!=e&&null!=t||"object"===typeof e&&!Array.isArray(e)?I1(this,((n,r)=>{m0(n)&&i6(n,e,t,r)})):0!==this.length?a6(this[0],e):void 0}function i6(e,t,n,r){if("string"===typeof t){const i=a6(e),a="function"===typeof n?n.call(e,r,i[t]):n;""===a?delete i[t]:null!=a&&(i[t]=a),e.attribs.style=(s=i,Object.keys(s).reduce(((e,t)=>`${e}${e?" ":""}${t}: ${s[t]};`),""))}else if("object"===typeof t){const n=Object.keys(t);for(let r=0;r<n.length;r++){const s=n[r];i6(e,s,t[s],r)}}var s}function a6(e,t){if(!e||!m0(e))return;const n=function(e){if(e=(e||"").trim(),!e)return{};const t={};let n;for(const r of e.split(";")){const e=r.indexOf(":");if(e<1||e===r.length-1){const e=r.trimEnd();e.length>0&&void 0!==n&&(t[n]+=`;${e}`)}else n=r.slice(0,e).trim(),t[n]=r.slice(e+1).trim()}return t}(e.attribs.style);if("string"===typeof t)return n[t];if(Array.isArray(t)){const e={};for(const r of t)null!=n[r]&&(e[r]=n[r]);return e}return n}const o6="input,select,textarea,keygen",l6=/%20/g,c6=/\r?\n/g;function u6(){const e=this.serializeArray().map((e=>`${encodeURIComponent(e.name)}=${encodeURIComponent(e.value)}`));return e.join("&").replace(l6,"+")}function h6(){return this.map(((e,t)=>{const n=this._make(t);return m0(t)&&"form"===t.name?n.find(o6).toArray():n.filter(o6).toArray()})).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(((e,t)=>{var n;const r=this._make(t),s=r.attr("name"),i=null!==(n=r.val())&&void 0!==n?n:"";return Array.isArray(i)?i.map((e=>({name:s,value:e.replace(c6,"\r\n")}))):{name:s,value:i.replace(c6,"\r\n")}})).toArray()}function d6(e){var t;return"string"===typeof e?{selector:e,value:"textContent"}:{selector:e.selector,value:null!==(t=e.value)&&void 0!==t?t:"textContent"}}function p6(e){const t={};for(const n in e){const r=e[n],s=Array.isArray(r),{selector:i,value:a}=d6(s?r[0]:r),o="function"===typeof a?a:"string"===typeof a?e=>this._make(e).prop(a):e=>this._make(e).extract(a);if(s)t[n]=this._findBySelector(i,Number.POSITIVE_INFINITY).map(((e,r)=>o(r,n,t))).get();else{const e=this._findBySelector(i,1);t[n]=e.length>0?o(e[0],n,t):void 0}}return t}class f6{constructor(e,t,n){if(this.length=0,this.options=n,this._root=t,e){for(let t=0;t<e.length;t++)this[t]=e[t];this.length=e.length}}}f6.prototype.cheerio="[cheerio object]",f6.prototype.splice=Array.prototype.splice,f6.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(f6.prototype,o,c,u,h,d,p);const m6=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),g6="\ufffd";var b6;!function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"}(b6||(b6={}));const y6="--",v6="[CDATA[",x6="doctype",E6="script",T6="public",w6="system";function k6(e){return e>=55296&&e<=57343}function S6(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function _6(e){return e>=64976&&e<=65007||m6.has(e)}var I6;!function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(I6||(I6={}));class A6{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,t){const{line:n,col:r,offset:s}=this,i=r+t,a=s+t;return{code:e,startLine:n,endLine:n,startCol:i,endCol:i,startOffset:a,endOffset:a}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if(function(e){return e>=56320&&e<=57343}(t))return this.pos++,this._addGap(),1024*(e-55296)+9216+t}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,b6.EOF;return this._err(I6.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let n=0;n<e.length;n++){if((32|this.html.charCodeAt(this.pos+n))!==e.charCodeAt(n))return!1}return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,b6.EOF;const n=this.html.charCodeAt(t);return n===b6.CARRIAGE_RETURN?b6.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,b6.EOF;let e=this.html.charCodeAt(this.pos);if(e===b6.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,b6.LINE_FEED;if(e===b6.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,k6(e)&&(e=this._processSurrogate(e));return null===this.handler.onParseError||e>31&&e<127||e===b6.LINE_FEED||e===b6.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e}_checkForProblematicCharacters(e){S6(e)?this._err(I6.controlCharacterInInputStream):_6(e)&&this._err(I6.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var C6,N6,D6,R6,O6,M6;function L6(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}!function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"}(C6||(C6={})),function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"}(N6||(N6={})),function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"}(D6||(D6={})),function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"}(R6||(R6={})),function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"}(O6||(O6={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"}(M6||(M6={}));const P6=new Map([[O6.A,M6.A],[O6.ADDRESS,M6.ADDRESS],[O6.ANNOTATION_XML,M6.ANNOTATION_XML],[O6.APPLET,M6.APPLET],[O6.AREA,M6.AREA],[O6.ARTICLE,M6.ARTICLE],[O6.ASIDE,M6.ASIDE],[O6.B,M6.B],[O6.BASE,M6.BASE],[O6.BASEFONT,M6.BASEFONT],[O6.BGSOUND,M6.BGSOUND],[O6.BIG,M6.BIG],[O6.BLOCKQUOTE,M6.BLOCKQUOTE],[O6.BODY,M6.BODY],[O6.BR,M6.BR],[O6.BUTTON,M6.BUTTON],[O6.CAPTION,M6.CAPTION],[O6.CENTER,M6.CENTER],[O6.CODE,M6.CODE],[O6.COL,M6.COL],[O6.COLGROUP,M6.COLGROUP],[O6.DD,M6.DD],[O6.DESC,M6.DESC],[O6.DETAILS,M6.DETAILS],[O6.DIALOG,M6.DIALOG],[O6.DIR,M6.DIR],[O6.DIV,M6.DIV],[O6.DL,M6.DL],[O6.DT,M6.DT],[O6.EM,M6.EM],[O6.EMBED,M6.EMBED],[O6.FIELDSET,M6.FIELDSET],[O6.FIGCAPTION,M6.FIGCAPTION],[O6.FIGURE,M6.FIGURE],[O6.FONT,M6.FONT],[O6.FOOTER,M6.FOOTER],[O6.FOREIGN_OBJECT,M6.FOREIGN_OBJECT],[O6.FORM,M6.FORM],[O6.FRAME,M6.FRAME],[O6.FRAMESET,M6.FRAMESET],[O6.H1,M6.H1],[O6.H2,M6.H2],[O6.H3,M6.H3],[O6.H4,M6.H4],[O6.H5,M6.H5],[O6.H6,M6.H6],[O6.HEAD,M6.HEAD],[O6.HEADER,M6.HEADER],[O6.HGROUP,M6.HGROUP],[O6.HR,M6.HR],[O6.HTML,M6.HTML],[O6.I,M6.I],[O6.IMG,M6.IMG],[O6.IMAGE,M6.IMAGE],[O6.INPUT,M6.INPUT],[O6.IFRAME,M6.IFRAME],[O6.KEYGEN,M6.KEYGEN],[O6.LABEL,M6.LABEL],[O6.LI,M6.LI],[O6.LINK,M6.LINK],[O6.LISTING,M6.LISTING],[O6.MAIN,M6.MAIN],[O6.MALIGNMARK,M6.MALIGNMARK],[O6.MARQUEE,M6.MARQUEE],[O6.MATH,M6.MATH],[O6.MENU,M6.MENU],[O6.META,M6.META],[O6.MGLYPH,M6.MGLYPH],[O6.MI,M6.MI],[O6.MO,M6.MO],[O6.MN,M6.MN],[O6.MS,M6.MS],[O6.MTEXT,M6.MTEXT],[O6.NAV,M6.NAV],[O6.NOBR,M6.NOBR],[O6.NOFRAMES,M6.NOFRAMES],[O6.NOEMBED,M6.NOEMBED],[O6.NOSCRIPT,M6.NOSCRIPT],[O6.OBJECT,M6.OBJECT],[O6.OL,M6.OL],[O6.OPTGROUP,M6.OPTGROUP],[O6.OPTION,M6.OPTION],[O6.P,M6.P],[O6.PARAM,M6.PARAM],[O6.PLAINTEXT,M6.PLAINTEXT],[O6.PRE,M6.PRE],[O6.RB,M6.RB],[O6.RP,M6.RP],[O6.RT,M6.RT],[O6.RTC,M6.RTC],[O6.RUBY,M6.RUBY],[O6.S,M6.S],[O6.SCRIPT,M6.SCRIPT],[O6.SEARCH,M6.SEARCH],[O6.SECTION,M6.SECTION],[O6.SELECT,M6.SELECT],[O6.SOURCE,M6.SOURCE],[O6.SMALL,M6.SMALL],[O6.SPAN,M6.SPAN],[O6.STRIKE,M6.STRIKE],[O6.STRONG,M6.STRONG],[O6.STYLE,M6.STYLE],[O6.SUB,M6.SUB],[O6.SUMMARY,M6.SUMMARY],[O6.SUP,M6.SUP],[O6.TABLE,M6.TABLE],[O6.TBODY,M6.TBODY],[O6.TEMPLATE,M6.TEMPLATE],[O6.TEXTAREA,M6.TEXTAREA],[O6.TFOOT,M6.TFOOT],[O6.TD,M6.TD],[O6.TH,M6.TH],[O6.THEAD,M6.THEAD],[O6.TITLE,M6.TITLE],[O6.TR,M6.TR],[O6.TRACK,M6.TRACK],[O6.TT,M6.TT],[O6.U,M6.U],[O6.UL,M6.UL],[O6.SVG,M6.SVG],[O6.VAR,M6.VAR],[O6.WBR,M6.WBR],[O6.XMP,M6.XMP]]);function F6(e){var t;return null!==(t=P6.get(e))&&void 0!==t?t:M6.UNKNOWN}const $6=M6,B6={[N6.HTML]:new Set([$6.ADDRESS,$6.APPLET,$6.AREA,$6.ARTICLE,$6.ASIDE,$6.BASE,$6.BASEFONT,$6.BGSOUND,$6.BLOCKQUOTE,$6.BODY,$6.BR,$6.BUTTON,$6.CAPTION,$6.CENTER,$6.COL,$6.COLGROUP,$6.DD,$6.DETAILS,$6.DIR,$6.DIV,$6.DL,$6.DT,$6.EMBED,$6.FIELDSET,$6.FIGCAPTION,$6.FIGURE,$6.FOOTER,$6.FORM,$6.FRAME,$6.FRAMESET,$6.H1,$6.H2,$6.H3,$6.H4,$6.H5,$6.H6,$6.HEAD,$6.HEADER,$6.HGROUP,$6.HR,$6.HTML,$6.IFRAME,$6.IMG,$6.INPUT,$6.LI,$6.LINK,$6.LISTING,$6.MAIN,$6.MARQUEE,$6.MENU,$6.META,$6.NAV,$6.NOEMBED,$6.NOFRAMES,$6.NOSCRIPT,$6.OBJECT,$6.OL,$6.P,$6.PARAM,$6.PLAINTEXT,$6.PRE,$6.SCRIPT,$6.SECTION,$6.SELECT,$6.SOURCE,$6.STYLE,$6.SUMMARY,$6.TABLE,$6.TBODY,$6.TD,$6.TEMPLATE,$6.TEXTAREA,$6.TFOOT,$6.TH,$6.THEAD,$6.TITLE,$6.TR,$6.TRACK,$6.UL,$6.WBR,$6.XMP]),[N6.MATHML]:new Set([$6.MI,$6.MO,$6.MN,$6.MS,$6.MTEXT,$6.ANNOTATION_XML]),[N6.SVG]:new Set([$6.TITLE,$6.FOREIGN_OBJECT,$6.DESC]),[N6.XLINK]:new Set,[N6.XML]:new Set,[N6.XMLNS]:new Set},U6=new Set([$6.H1,$6.H2,$6.H3,$6.H4,$6.H5,$6.H6]),z6=new Set([O6.STYLE,O6.SCRIPT,O6.XMP,O6.IFRAME,O6.NOEMBED,O6.NOFRAMES,O6.PLAINTEXT]);var H6;!function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"}(H6||(H6={}));const W6={DATA:H6.DATA,RCDATA:H6.RCDATA,RAWTEXT:H6.RAWTEXT,SCRIPT_DATA:H6.SCRIPT_DATA,PLAINTEXT:H6.PLAINTEXT,CDATA_SECTION:H6.CDATA_SECTION};function G6(e){return e>=b6.LATIN_CAPITAL_A&&e<=b6.LATIN_CAPITAL_Z}function V6(e){return function(e){return e>=b6.LATIN_SMALL_A&&e<=b6.LATIN_SMALL_Z}(e)||G6(e)}function q6(e){return V6(e)||function(e){return e>=b6.DIGIT_0&&e<=b6.DIGIT_9}(e)}function j6(e){return e+32}function Y6(e){return e===b6.SPACE||e===b6.LINE_FEED||e===b6.TABULATION||e===b6.FORM_FEED}function K6(e){return Y6(e)||e===b6.SOLIDUS||e===b6.GREATER_THAN_SIGN}class X6{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=H6.DATA,this.returnState=H6.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new A6(t),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new F0(S0,((e,t)=>{this.preprocessor.pos=this.entityStartPos+t-1,this._flushCodePointConsumedAsCharacterReference(e)}),t.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(I6.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:e=>{this._err(I6.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+e)},validateNumericCharacterReference:e=>{const t=function(e){return e===b6.NULL?I6.nullCharacterReference:e>1114111?I6.characterReferenceOutsideUnicodeRange:k6(e)?I6.surrogateCharacterReference:_6(e)?I6.noncharacterCharacterReference:S6(e)||e===b6.CARRIAGE_RETURN?I6.controlCharacterReference:null}(e);t&&this._err(t,1)}}:void 0)}_err(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var n,r;null===(r=(n=this.handler).onParseError)||void 0===r||r.call(n,this.preprocessor.getError(e,t))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null===e||void 0===e||e())}write(e,t,n){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null===n||void 0===n||n()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:C6.START_TAG,tagName:"",tagID:M6.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:C6.END_TAG,tagName:"",tagID:M6.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:C6.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:C6.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const n=this.currentToken;if(null===L6(n,this.currentAttr.name)){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){(null!==(e=(t=n.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(I6.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=F6(e.tagName),e.type===C6.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(I6.endTagWithAttributes),e.selfClosing&&this._err(I6.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case C6.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case C6.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case C6.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:C6.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}_emitCodePoint(e){const t=Y6(e)?C6.WHITESPACE_CHARACTER:e===b6.NULL?C6.NULL_CHARACTER:C6.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(C6.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=H6.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?M0.Attribute:M0.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===H6.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===H6.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===H6.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case H6.DATA:this._stateData(e);break;case H6.RCDATA:this._stateRcdata(e);break;case H6.RAWTEXT:this._stateRawtext(e);break;case H6.SCRIPT_DATA:this._stateScriptData(e);break;case H6.PLAINTEXT:this._statePlaintext(e);break;case H6.TAG_OPEN:this._stateTagOpen(e);break;case H6.END_TAG_OPEN:this._stateEndTagOpen(e);break;case H6.TAG_NAME:this._stateTagName(e);break;case H6.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case H6.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case H6.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case H6.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case H6.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case H6.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case H6.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case H6.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case H6.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case H6.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case H6.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case H6.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case H6.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case H6.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case H6.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case H6.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case H6.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case H6.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case H6.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case H6.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case H6.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case H6.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case H6.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case H6.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case H6.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case H6.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case H6.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case H6.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case H6.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case H6.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case H6.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case H6.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case H6.BOGUS_COMMENT:this._stateBogusComment(e);break;case H6.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case H6.COMMENT_START:this._stateCommentStart(e);break;case H6.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case H6.COMMENT:this._stateComment(e);break;case H6.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case H6.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case H6.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case H6.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case H6.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case H6.COMMENT_END:this._stateCommentEnd(e);break;case H6.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case H6.DOCTYPE:this._stateDoctype(e);break;case H6.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case H6.DOCTYPE_NAME:this._stateDoctypeName(e);break;case H6.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case H6.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case H6.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case H6.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case H6.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case H6.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case H6.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case H6.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case H6.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case H6.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case H6.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case H6.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case H6.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case H6.CDATA_SECTION:this._stateCdataSection(e);break;case H6.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case H6.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case H6.CHARACTER_REFERENCE:this._stateCharacterReference();break;case H6.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;default:throw new Error("Unknown state")}}_stateData(e){switch(e){case b6.LESS_THAN_SIGN:this.state=H6.TAG_OPEN;break;case b6.AMPERSAND:this._startCharacterReference();break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this._emitCodePoint(e);break;case b6.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case b6.AMPERSAND:this._startCharacterReference();break;case b6.LESS_THAN_SIGN:this.state=H6.RCDATA_LESS_THAN_SIGN;break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this._emitChars(g6);break;case b6.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case b6.LESS_THAN_SIGN:this.state=H6.RAWTEXT_LESS_THAN_SIGN;break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this._emitChars(g6);break;case b6.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case b6.LESS_THAN_SIGN:this.state=H6.SCRIPT_DATA_LESS_THAN_SIGN;break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this._emitChars(g6);break;case b6.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case b6.NULL:this._err(I6.unexpectedNullCharacter),this._emitChars(g6);break;case b6.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(V6(e))this._createStartTagToken(),this.state=H6.TAG_NAME,this._stateTagName(e);else switch(e){case b6.EXCLAMATION_MARK:this.state=H6.MARKUP_DECLARATION_OPEN;break;case b6.SOLIDUS:this.state=H6.END_TAG_OPEN;break;case b6.QUESTION_MARK:this._err(I6.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=H6.BOGUS_COMMENT,this._stateBogusComment(e);break;case b6.EOF:this._err(I6.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(I6.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=H6.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(V6(e))this._createEndTagToken(),this.state=H6.TAG_NAME,this._stateTagName(e);else switch(e){case b6.GREATER_THAN_SIGN:this._err(I6.missingEndTagName),this.state=H6.DATA;break;case b6.EOF:this._err(I6.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(I6.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=H6.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:this.state=H6.BEFORE_ATTRIBUTE_NAME;break;case b6.SOLIDUS:this.state=H6.SELF_CLOSING_START_TAG;break;case b6.GREATER_THAN_SIGN:this.state=H6.DATA,this.emitCurrentTagToken();break;case b6.NULL:this._err(I6.unexpectedNullCharacter),t.tagName+=g6;break;case b6.EOF:this._err(I6.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(G6(e)?j6(e):e)}}_stateRcdataLessThanSign(e){e===b6.SOLIDUS?this.state=H6.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=H6.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){V6(e)?(this.state=H6.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=H6.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();this.currentToken.tagName=this.lastStartTagName;switch(this.preprocessor.peek(this.lastStartTagName.length)){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=H6.BEFORE_ATTRIBUTE_NAME,!1;case b6.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=H6.SELF_CLOSING_START_TAG,!1;case b6.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=H6.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=H6.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===b6.SOLIDUS?this.state=H6.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=H6.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){V6(e)?(this.state=H6.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=H6.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=H6.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case b6.SOLIDUS:this.state=H6.SCRIPT_DATA_END_TAG_OPEN;break;case b6.EXCLAMATION_MARK:this.state=H6.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=H6.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){V6(e)?(this.state=H6.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=H6.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=H6.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===b6.HYPHEN_MINUS?(this.state=H6.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=H6.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===b6.HYPHEN_MINUS?(this.state=H6.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=H6.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case b6.HYPHEN_MINUS:this.state=H6.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case b6.LESS_THAN_SIGN:this.state=H6.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this._emitChars(g6);break;case b6.EOF:this._err(I6.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case b6.HYPHEN_MINUS:this.state=H6.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case b6.LESS_THAN_SIGN:this.state=H6.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this.state=H6.SCRIPT_DATA_ESCAPED,this._emitChars(g6);break;case b6.EOF:this._err(I6.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=H6.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case b6.HYPHEN_MINUS:this._emitChars("-");break;case b6.LESS_THAN_SIGN:this.state=H6.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case b6.GREATER_THAN_SIGN:this.state=H6.SCRIPT_DATA,this._emitChars(">");break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this.state=H6.SCRIPT_DATA_ESCAPED,this._emitChars(g6);break;case b6.EOF:this._err(I6.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=H6.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===b6.SOLIDUS?this.state=H6.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:V6(e)?(this._emitChars("<"),this.state=H6.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=H6.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){V6(e)?(this.state=H6.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=H6.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=H6.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(E6,!1)&&K6(this.preprocessor.peek(E6.length))){this._emitCodePoint(e);for(let e=0;e<E6.length;e++)this._emitCodePoint(this._consume());this.state=H6.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=H6.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case b6.HYPHEN_MINUS:this.state=H6.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case b6.LESS_THAN_SIGN:this.state=H6.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this._emitChars(g6);break;case b6.EOF:this._err(I6.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case b6.HYPHEN_MINUS:this.state=H6.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case b6.LESS_THAN_SIGN:this.state=H6.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this.state=H6.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(g6);break;case b6.EOF:this._err(I6.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=H6.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case b6.HYPHEN_MINUS:this._emitChars("-");break;case b6.LESS_THAN_SIGN:this.state=H6.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case b6.GREATER_THAN_SIGN:this.state=H6.SCRIPT_DATA,this._emitChars(">");break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this.state=H6.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(g6);break;case b6.EOF:this._err(I6.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=H6.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===b6.SOLIDUS?(this.state=H6.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=H6.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(E6,!1)&&K6(this.preprocessor.peek(E6.length))){this._emitCodePoint(e);for(let e=0;e<E6.length;e++)this._emitCodePoint(this._consume());this.state=H6.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=H6.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:break;case b6.SOLIDUS:case b6.GREATER_THAN_SIGN:case b6.EOF:this.state=H6.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case b6.EQUALS_SIGN:this._err(I6.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=H6.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=H6.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:case b6.SOLIDUS:case b6.GREATER_THAN_SIGN:case b6.EOF:this._leaveAttrName(),this.state=H6.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case b6.EQUALS_SIGN:this._leaveAttrName(),this.state=H6.BEFORE_ATTRIBUTE_VALUE;break;case b6.QUOTATION_MARK:case b6.APOSTROPHE:case b6.LESS_THAN_SIGN:this._err(I6.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this.currentAttr.name+=g6;break;default:this.currentAttr.name+=String.fromCodePoint(G6(e)?j6(e):e)}}_stateAfterAttributeName(e){switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:break;case b6.SOLIDUS:this.state=H6.SELF_CLOSING_START_TAG;break;case b6.EQUALS_SIGN:this.state=H6.BEFORE_ATTRIBUTE_VALUE;break;case b6.GREATER_THAN_SIGN:this.state=H6.DATA,this.emitCurrentTagToken();break;case b6.EOF:this._err(I6.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=H6.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:break;case b6.QUOTATION_MARK:this.state=H6.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case b6.APOSTROPHE:this.state=H6.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case b6.GREATER_THAN_SIGN:this._err(I6.missingAttributeValue),this.state=H6.DATA,this.emitCurrentTagToken();break;default:this.state=H6.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case b6.QUOTATION_MARK:this.state=H6.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case b6.AMPERSAND:this._startCharacterReference();break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this.currentAttr.value+=g6;break;case b6.EOF:this._err(I6.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case b6.APOSTROPHE:this.state=H6.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case b6.AMPERSAND:this._startCharacterReference();break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this.currentAttr.value+=g6;break;case b6.EOF:this._err(I6.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:this._leaveAttrValue(),this.state=H6.BEFORE_ATTRIBUTE_NAME;break;case b6.AMPERSAND:this._startCharacterReference();break;case b6.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=H6.DATA,this.emitCurrentTagToken();break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this.currentAttr.value+=g6;break;case b6.QUOTATION_MARK:case b6.APOSTROPHE:case b6.LESS_THAN_SIGN:case b6.EQUALS_SIGN:case b6.GRAVE_ACCENT:this._err(I6.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case b6.EOF:this._err(I6.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:this._leaveAttrValue(),this.state=H6.BEFORE_ATTRIBUTE_NAME;break;case b6.SOLIDUS:this._leaveAttrValue(),this.state=H6.SELF_CLOSING_START_TAG;break;case b6.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=H6.DATA,this.emitCurrentTagToken();break;case b6.EOF:this._err(I6.eofInTag),this._emitEOFToken();break;default:this._err(I6.missingWhitespaceBetweenAttributes),this.state=H6.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case b6.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=H6.DATA,this.emitCurrentTagToken();break;case b6.EOF:this._err(I6.eofInTag),this._emitEOFToken();break;default:this._err(I6.unexpectedSolidusInTag),this.state=H6.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case b6.GREATER_THAN_SIGN:this.state=H6.DATA,this.emitCurrentComment(t);break;case b6.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case b6.NULL:this._err(I6.unexpectedNullCharacter),t.data+=g6;break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(y6,!0)?(this._createCommentToken(y6.length+1),this.state=H6.COMMENT_START):this._consumeSequenceIfMatch(x6,!1)?(this.currentLocation=this.getCurrentLocation(x6.length+1),this.state=H6.DOCTYPE):this._consumeSequenceIfMatch(v6,!0)?this.inForeignNode?this.state=H6.CDATA_SECTION:(this._err(I6.cdataInHtmlContent),this._createCommentToken(v6.length+1),this.currentToken.data="[CDATA[",this.state=H6.BOGUS_COMMENT):this._ensureHibernation()||(this._err(I6.incorrectlyOpenedComment),this._createCommentToken(2),this.state=H6.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case b6.HYPHEN_MINUS:this.state=H6.COMMENT_START_DASH;break;case b6.GREATER_THAN_SIGN:{this._err(I6.abruptClosingOfEmptyComment),this.state=H6.DATA;const e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=H6.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case b6.HYPHEN_MINUS:this.state=H6.COMMENT_END;break;case b6.GREATER_THAN_SIGN:this._err(I6.abruptClosingOfEmptyComment),this.state=H6.DATA,this.emitCurrentComment(t);break;case b6.EOF:this._err(I6.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=H6.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case b6.HYPHEN_MINUS:this.state=H6.COMMENT_END_DASH;break;case b6.LESS_THAN_SIGN:t.data+="<",this.state=H6.COMMENT_LESS_THAN_SIGN;break;case b6.NULL:this._err(I6.unexpectedNullCharacter),t.data+=g6;break;case b6.EOF:this._err(I6.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case b6.EXCLAMATION_MARK:t.data+="!",this.state=H6.COMMENT_LESS_THAN_SIGN_BANG;break;case b6.LESS_THAN_SIGN:t.data+="<";break;default:this.state=H6.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===b6.HYPHEN_MINUS?this.state=H6.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=H6.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===b6.HYPHEN_MINUS?this.state=H6.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=H6.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==b6.GREATER_THAN_SIGN&&e!==b6.EOF&&this._err(I6.nestedComment),this.state=H6.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case b6.HYPHEN_MINUS:this.state=H6.COMMENT_END;break;case b6.EOF:this._err(I6.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=H6.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case b6.GREATER_THAN_SIGN:this.state=H6.DATA,this.emitCurrentComment(t);break;case b6.EXCLAMATION_MARK:this.state=H6.COMMENT_END_BANG;break;case b6.HYPHEN_MINUS:t.data+="-";break;case b6.EOF:this._err(I6.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=H6.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case b6.HYPHEN_MINUS:t.data+="--!",this.state=H6.COMMENT_END_DASH;break;case b6.GREATER_THAN_SIGN:this._err(I6.incorrectlyClosedComment),this.state=H6.DATA,this.emitCurrentComment(t);break;case b6.EOF:this._err(I6.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=H6.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:this.state=H6.BEFORE_DOCTYPE_NAME;break;case b6.GREATER_THAN_SIGN:this.state=H6.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case b6.EOF:{this._err(I6.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(I6.missingWhitespaceBeforeDoctypeName),this.state=H6.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(G6(e))this._createDoctypeToken(String.fromCharCode(j6(e))),this.state=H6.DOCTYPE_NAME;else switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:break;case b6.NULL:this._err(I6.unexpectedNullCharacter),this._createDoctypeToken(g6),this.state=H6.DOCTYPE_NAME;break;case b6.GREATER_THAN_SIGN:{this._err(I6.missingDoctypeName),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=H6.DATA;break}case b6.EOF:{this._err(I6.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=H6.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:this.state=H6.AFTER_DOCTYPE_NAME;break;case b6.GREATER_THAN_SIGN:this.state=H6.DATA,this.emitCurrentDoctype(t);break;case b6.NULL:this._err(I6.unexpectedNullCharacter),t.name+=g6;break;case b6.EOF:this._err(I6.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(G6(e)?j6(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:break;case b6.GREATER_THAN_SIGN:this.state=H6.DATA,this.emitCurrentDoctype(t);break;case b6.EOF:this._err(I6.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(T6,!1)?this.state=H6.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(w6,!1)?this.state=H6.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(I6.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=H6.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:this.state=H6.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case b6.QUOTATION_MARK:this._err(I6.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=H6.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case b6.APOSTROPHE:this._err(I6.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=H6.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case b6.GREATER_THAN_SIGN:this._err(I6.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=H6.DATA,this.emitCurrentDoctype(t);break;case b6.EOF:this._err(I6.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(I6.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=H6.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:break;case b6.QUOTATION_MARK:t.publicId="",this.state=H6.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case b6.APOSTROPHE:t.publicId="",this.state=H6.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case b6.GREATER_THAN_SIGN:this._err(I6.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=H6.DATA,this.emitCurrentDoctype(t);break;case b6.EOF:this._err(I6.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(I6.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=H6.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case b6.QUOTATION_MARK:this.state=H6.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case b6.NULL:this._err(I6.unexpectedNullCharacter),t.publicId+=g6;break;case b6.GREATER_THAN_SIGN:this._err(I6.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=H6.DATA;break;case b6.EOF:this._err(I6.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case b6.APOSTROPHE:this.state=H6.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case b6.NULL:this._err(I6.unexpectedNullCharacter),t.publicId+=g6;break;case b6.GREATER_THAN_SIGN:this._err(I6.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=H6.DATA;break;case b6.EOF:this._err(I6.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:this.state=H6.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case b6.GREATER_THAN_SIGN:this.state=H6.DATA,this.emitCurrentDoctype(t);break;case b6.QUOTATION_MARK:this._err(I6.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=H6.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case b6.APOSTROPHE:this._err(I6.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=H6.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case b6.EOF:this._err(I6.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(I6.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=H6.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:break;case b6.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=H6.DATA;break;case b6.QUOTATION_MARK:t.systemId="",this.state=H6.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case b6.APOSTROPHE:t.systemId="",this.state=H6.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case b6.EOF:this._err(I6.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(I6.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=H6.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:this.state=H6.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case b6.QUOTATION_MARK:this._err(I6.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=H6.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case b6.APOSTROPHE:this._err(I6.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=H6.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case b6.GREATER_THAN_SIGN:this._err(I6.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=H6.DATA,this.emitCurrentDoctype(t);break;case b6.EOF:this._err(I6.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(I6.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=H6.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:break;case b6.QUOTATION_MARK:t.systemId="",this.state=H6.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case b6.APOSTROPHE:t.systemId="",this.state=H6.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case b6.GREATER_THAN_SIGN:this._err(I6.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=H6.DATA,this.emitCurrentDoctype(t);break;case b6.EOF:this._err(I6.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(I6.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=H6.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case b6.QUOTATION_MARK:this.state=H6.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case b6.NULL:this._err(I6.unexpectedNullCharacter),t.systemId+=g6;break;case b6.GREATER_THAN_SIGN:this._err(I6.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=H6.DATA;break;case b6.EOF:this._err(I6.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case b6.APOSTROPHE:this.state=H6.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case b6.NULL:this._err(I6.unexpectedNullCharacter),t.systemId+=g6;break;case b6.GREATER_THAN_SIGN:this._err(I6.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=H6.DATA;break;case b6.EOF:this._err(I6.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case b6.SPACE:case b6.LINE_FEED:case b6.TABULATION:case b6.FORM_FEED:break;case b6.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=H6.DATA;break;case b6.EOF:this._err(I6.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(I6.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=H6.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case b6.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=H6.DATA;break;case b6.NULL:this._err(I6.unexpectedNullCharacter);break;case b6.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case b6.RIGHT_SQUARE_BRACKET:this.state=H6.CDATA_SECTION_BRACKET;break;case b6.EOF:this._err(I6.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===b6.RIGHT_SQUARE_BRACKET?this.state=H6.CDATA_SECTION_END:(this._emitChars("]"),this.state=H6.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case b6.GREATER_THAN_SIGN:this.state=H6.DATA;break;case b6.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=H6.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0){if(!this.preprocessor.lastChunkWritten)return this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,void(this.preprocessor.endOfChunkHit=!0);e=this.entityDecoder.end()}0===e?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(b6.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&q6(this.preprocessor.peek(1))?H6.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){q6(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===b6.SEMICOLON&&this._err(I6.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const Q6=new Set([M6.DD,M6.DT,M6.LI,M6.OPTGROUP,M6.OPTION,M6.P,M6.RB,M6.RP,M6.RT,M6.RTC]),J6=new Set([...Q6,M6.CAPTION,M6.COLGROUP,M6.TBODY,M6.TD,M6.TFOOT,M6.TH,M6.THEAD,M6.TR]),Z6=new Set([M6.APPLET,M6.CAPTION,M6.HTML,M6.MARQUEE,M6.OBJECT,M6.TABLE,M6.TD,M6.TEMPLATE,M6.TH]),e8=new Set([...Z6,M6.OL,M6.UL]),t8=new Set([...Z6,M6.BUTTON]),n8=new Set([M6.ANNOTATION_XML,M6.MI,M6.MN,M6.MO,M6.MS,M6.MTEXT]),r8=new Set([M6.DESC,M6.FOREIGN_OBJECT,M6.TITLE]),s8=new Set([M6.TR,M6.TEMPLATE,M6.HTML]),i8=new Set([M6.TBODY,M6.TFOOT,M6.THEAD,M6.TEMPLATE,M6.HTML]),a8=new Set([M6.TABLE,M6.TEMPLATE,M6.HTML]),o8=new Set([M6.TD,M6.TH]);class l8{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,n){this.treeAdapter=t,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=M6.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===M6.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===N6.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){const n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&(this.current=t)}insertAfter(e,t,n){const r=this._indexOf(e)+1;this.items.splice(r,0,t),this.tagIDs.splice(r,0,n),this.stackTop++,r===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,r===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1)}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==N6.HTML);this.shortenToLength(t<0?0:t)}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(t<0?0:t)}popUntilPopped(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n<0?0:n)}popUntilNumberedHeaderPopped(){this.popUntilPopped(U6,N6.HTML)}popUntilTableCellPopped(){this.popUntilPopped(o8,N6.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let n=this.stackTop;n>=0;n--)if(e.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===t)return n;return-1}clearBackTo(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(a8,N6.HTML)}clearBackToTableBodyContext(){this.clearBackTo(i8,N6.HTML)}clearBackToTableRowContext(){this.clearBackTo(s8,N6.HTML)}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===M6.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===M6.HTML}hasInDynamicScope(e,t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case N6.HTML:if(r===e)return!0;if(t.has(r))return!1;break;case N6.SVG:if(r8.has(r))return!1;break;case N6.MATHML:if(n8.has(r))return!1}}return!0}hasInScope(e){return this.hasInDynamicScope(e,Z6)}hasInListItemScope(e){return this.hasInDynamicScope(e,e8)}hasInButtonScope(e){return this.hasInDynamicScope(e,t8)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case N6.HTML:if(U6.has(t))return!0;if(Z6.has(t))return!1;break;case N6.SVG:if(r8.has(t))return!1;break;case N6.MATHML:if(n8.has(t))return!1}}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===N6.HTML)switch(this.tagIDs[t]){case e:return!0;case M6.TABLE:case M6.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===N6.HTML)switch(this.tagIDs[e]){case M6.TBODY:case M6.THEAD:case M6.TFOOT:return!0;case M6.TABLE:case M6.HTML:return!1}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===N6.HTML)switch(this.tagIDs[t]){case e:return!0;case M6.OPTION:case M6.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;Q6.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;J6.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&J6.has(this.currentTagId);)this.pop()}}var c8;!function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"}(c8||(c8={}));const u8={type:c8.Marker};class h8{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,t){const n=[],r=t.length,s=this.treeAdapter.getTagName(e),i=this.treeAdapter.getNamespaceURI(e);for(let a=0;a<this.entries.length;a++){const e=this.entries[a];if(e.type===c8.Marker)break;const{element:t}=e;if(this.treeAdapter.getTagName(t)===s&&this.treeAdapter.getNamespaceURI(t)===i){const e=this.treeAdapter.getAttrList(t);e.length===r&&n.push({idx:a,attrs:e})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<3)return;const t=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,t);if(n.length<3)return;const r=new Map(t.map((e=>[e.name,e.value])));let s=0;for(let i=0;i<n.length;i++){const e=n[i];e.attrs.every((e=>r.get(e.name)===e.value))&&(s+=1,s>=3&&this.entries.splice(e.idx,1))}}insertMarker(){this.entries.unshift(u8)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:c8.Element,element:e,token:t})}insertElementAfterBookmark(e,t){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:c8.Element,element:e,token:t})}removeEntry(e){const t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1)}clearToLastMarker(){const e=this.entries.indexOf(u8);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const t=this.entries.find((t=>t.type===c8.Marker||this.treeAdapter.getTagName(t.element)===e));return t&&t.type===c8.Element?t:null}getElementEntry(e){return this.entries.find((t=>t.type===c8.Element&&t.element===e))}}const d8={createDocument:()=>({nodeName:"#document",mode:R6.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,n)=>({nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),createTextNode:e=>({nodeName:"#text",value:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent:e=>e.content,setDocumentType(e,t,n,r){const s=e.childNodes.find((e=>"#documentType"===e.nodeName));if(s)s.name=t,s.publicId=n,s.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};d8.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(d8.isTextNode(n))return void(n.value+=t)}d8.appendChild(e,d8.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&d8.isTextNode(r)?r.value+=t:d8.insertBefore(e,d8.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map((e=>e.name)));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},p8="html",f8=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],m8=[...f8,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],g8=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),b8=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],y8=[...b8,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function v8(e,t){return t.some((t=>e.startsWith(t)))}const x8="text/html",E8="application/xhtml+xml",T8=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),w8=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:N6.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:N6.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:N6.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:N6.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:N6.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:N6.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:N6.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:N6.XML}],["xml:space",{prefix:"xml",name:"space",namespace:N6.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:N6.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:N6.XMLNS}]]),k8=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),S8=new Set([M6.B,M6.BIG,M6.BLOCKQUOTE,M6.BODY,M6.BR,M6.CENTER,M6.CODE,M6.DD,M6.DIV,M6.DL,M6.DT,M6.EM,M6.EMBED,M6.H1,M6.H2,M6.H3,M6.H4,M6.H5,M6.H6,M6.HEAD,M6.HR,M6.I,M6.IMG,M6.LI,M6.LISTING,M6.MENU,M6.META,M6.NOBR,M6.OL,M6.P,M6.PRE,M6.RUBY,M6.S,M6.SMALL,M6.SPAN,M6.STRONG,M6.STRIKE,M6.SUB,M6.SUP,M6.TABLE,M6.TT,M6.U,M6.UL,M6.VAR]);function _8(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}}function I8(e){for(let t=0;t<e.attrs.length;t++){const n=T8.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n)}}function A8(e){for(let t=0;t<e.attrs.length;t++){const n=w8.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function C8(e,t,n,r){return(!r||r===N6.HTML)&&function(e,t,n){if(t===N6.MATHML&&e===M6.ANNOTATION_XML)for(let r=0;r<n.length;r++)if(n[r].name===D6.ENCODING){const e=n[r].value.toLowerCase();return e===x8||e===E8}return t===N6.SVG&&(e===M6.FOREIGN_OBJECT||e===M6.DESC||e===M6.TITLE)}(e,t,n)||(!r||r===N6.MATHML)&&function(e,t){return t===N6.MATHML&&(e===M6.MI||e===M6.MO||e===M6.MN||e===M6.MS||e===M6.MTEXT)}(e,t)}var N8;!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(N8||(N8={}));const D8={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},R8=new Set([M6.TABLE,M6.TBODY,M6.TFOOT,M6.THEAD,M6.TR]),O8={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:d8,onParseError:null};class M8{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.fragmentContext=n,this.scriptHandler=r,this.currentToken=null,this.stopped=!1,this.insertionMode=N8.INITIAL,this.originalInsertionMode=N8.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...O8,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!==t&&void 0!==t?t:this.treeAdapter.createDocument(),this.tokenizer=new X6(this.options,this),this.activeFormattingElements=new h8(this.treeAdapter),this.fragmentContextID=n?F6(this.treeAdapter.getTagName(n)):M6.UNKNOWN,this._setContextModes(null!==n&&void 0!==n?n:this.document,this.fragmentContextID),this.openElements=new l8(this.document,this.treeAdapter,this)}static parse(e,t){const n=new this(t);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,t){const n={...O8,...t};null!==e&&void 0!==e||(e=n.treeAdapter.createElement(O6.TEMPLATE,N6.HTML,[]));const r=n.treeAdapter.createElement("documentmock",N6.HTML,[]),s=new this(n,r,e);return s.fragmentContextID===M6.TEMPLATE&&s.tmplInsertionModeStack.unshift(N8.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,n){var r;if(!this.onParseError)return;const s=null!==(r=e.location)&&void 0!==r?r:D8,i={code:t,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:n?s.startLine:s.endLine,endCol:n?s.startCol:s.endCol,endOffset:n?s.startOffset:s.endOffset};this.onParseError(i)}onItemPush(e,t,n){var r,s;null===(s=(r=this.treeAdapter).onItemPush)||void 0===s||s.call(r,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var n,r;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(r=(n=this.treeAdapter).onItemPop)||void 0===r||r.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):({current:e,currentTagId:t}=this.openElements),this._setContextModes(e,t)}}_setContextModes(e,t){const n=e===this.document||this.treeAdapter.getNamespaceURI(e)===N6.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,N6.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=N8.TEXT}switchToPlaintextParsing(){this.insertionMode=N8.TEXT,this.originalInsertionMode=N8.IN_BODY,this.tokenizer.state=W6.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===O6.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===N6.HTML)switch(this.fragmentContextID){case M6.TITLE:case M6.TEXTAREA:this.tokenizer.state=W6.RCDATA;break;case M6.STYLE:case M6.XMP:case M6.IFRAME:case M6.NOEMBED:case M6.NOFRAMES:case M6.NOSCRIPT:this.tokenizer.state=W6.RAWTEXT;break;case M6.SCRIPT:this.tokenizer.state=W6.SCRIPT_DATA;break;case M6.PLAINTEXT:this.tokenizer.state=W6.PLAINTEXT}}_setDocumentType(e){const t=e.name||"",n=e.publicId||"",r=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,r),e.location){const t=this.treeAdapter.getChildNodes(this.document).find((e=>this.treeAdapter.isDocumentTypeNode(e)));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const n=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(t,e)}}_appendElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,t){const n=this.treeAdapter.createElement(e,N6.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,N6.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(O6.HTML,N6.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,M6.HTML)}_appendCommentNode(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?(({parent:t,beforeElement:n}=this._findFosterParentingLocation()),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const r=this.treeAdapter.getChildNodes(t),s=n?r.lastIndexOf(n):r.length,i=r[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(i)){const{endLine:t,endCol:n,endOffset:r}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(i,{endLine:t,endCol:n,endOffset:r})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,e.location)}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const n=t.location,r=this.treeAdapter.getTagName(e),s=t.type===C6.END_TAG&&r===t.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,n;return 0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):({current:t,currentTagId:n}=this.openElements),(e.tagID!==M6.SVG||this.treeAdapter.getTagName(t)!==O6.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==N6.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===M6.MGLYPH||e.tagID===M6.MALIGNMARK)&&!this._isIntegrationPoint(n,t,N6.HTML))}_processToken(e){switch(e.type){case C6.CHARACTER:this.onCharacter(e);break;case C6.NULL_CHARACTER:this.onNullCharacter(e);break;case C6.COMMENT:this.onComment(e);break;case C6.DOCTYPE:this.onDoctype(e);break;case C6.START_TAG:this._processStartTag(e);break;case C6.END_TAG:this.onEndTag(e);break;case C6.EOF:this.onEof(e);break;case C6.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,t,n){return C8(e,this.treeAdapter.getNamespaceURI(t),this.treeAdapter.getAttrList(t),n)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex((e=>e.type===c8.Marker||this.openElements.contains(e.element)));for(let n=t<0?e-1:t-1;n>=0;n--){const e=this.activeFormattingElements.entries[n];this._insertElement(e.token,this.treeAdapter.getNamespaceURI(e.element)),e.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=N8.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(M6.P),this.openElements.popUntilTagNamePopped(M6.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case M6.TR:return void(this.insertionMode=N8.IN_ROW);case M6.TBODY:case M6.THEAD:case M6.TFOOT:return void(this.insertionMode=N8.IN_TABLE_BODY);case M6.CAPTION:return void(this.insertionMode=N8.IN_CAPTION);case M6.COLGROUP:return void(this.insertionMode=N8.IN_COLUMN_GROUP);case M6.TABLE:return void(this.insertionMode=N8.IN_TABLE);case M6.BODY:return void(this.insertionMode=N8.IN_BODY);case M6.FRAMESET:return void(this.insertionMode=N8.IN_FRAMESET);case M6.SELECT:return void this._resetInsertionModeForSelect(e);case M6.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case M6.HTML:return void(this.insertionMode=this.headElement?N8.AFTER_HEAD:N8.BEFORE_HEAD);case M6.TD:case M6.TH:if(e>0)return void(this.insertionMode=N8.IN_CELL);break;case M6.HEAD:if(e>0)return void(this.insertionMode=N8.IN_HEAD)}this.insertionMode=N8.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.tagIDs[t];if(e===M6.TEMPLATE)break;if(e===M6.TABLE)return void(this.insertionMode=N8.IN_SELECT_IN_TABLE)}this.insertionMode=N8.IN_SELECT}_isElementCausesFosterParenting(e){return R8.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case M6.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===N6.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case M6.TABLE:{const n=this.treeAdapter.getParentNode(t);return n?{parent:n,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const n=this.treeAdapter.getNamespaceURI(e);return B6[n].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e);else switch(this.insertionMode){case N8.INITIAL:G8(this,e);break;case N8.BEFORE_HTML:V8(this,e);break;case N8.BEFORE_HEAD:q8(this,e);break;case N8.IN_HEAD:K8(this,e);break;case N8.IN_HEAD_NO_SCRIPT:X8(this,e);break;case N8.AFTER_HEAD:Q8(this,e);break;case N8.IN_BODY:case N8.IN_CAPTION:case N8.IN_CELL:case N8.IN_TEMPLATE:e7(this,e);break;case N8.TEXT:case N8.IN_SELECT:case N8.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case N8.IN_TABLE:case N8.IN_TABLE_BODY:case N8.IN_ROW:c7(this,e);break;case N8.IN_TABLE_TEXT:f7(this,e);break;case N8.IN_COLUMN_GROUP:y7(this,e);break;case N8.AFTER_BODY:I7(this,e);break;case N8.AFTER_AFTER_BODY:A7(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){t.chars=g6,e._insertCharacters(t)}(this,e);else switch(this.insertionMode){case N8.INITIAL:G8(this,e);break;case N8.BEFORE_HTML:V8(this,e);break;case N8.BEFORE_HEAD:q8(this,e);break;case N8.IN_HEAD:K8(this,e);break;case N8.IN_HEAD_NO_SCRIPT:X8(this,e);break;case N8.AFTER_HEAD:Q8(this,e);break;case N8.TEXT:this._insertCharacters(e);break;case N8.IN_TABLE:case N8.IN_TABLE_BODY:case N8.IN_ROW:c7(this,e);break;case N8.IN_COLUMN_GROUP:y7(this,e);break;case N8.AFTER_BODY:I7(this,e);break;case N8.AFTER_AFTER_BODY:A7(this,e)}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)H8(this,e);else switch(this.insertionMode){case N8.INITIAL:case N8.BEFORE_HTML:case N8.BEFORE_HEAD:case N8.IN_HEAD:case N8.IN_HEAD_NO_SCRIPT:case N8.AFTER_HEAD:case N8.IN_BODY:case N8.IN_TABLE:case N8.IN_CAPTION:case N8.IN_COLUMN_GROUP:case N8.IN_TABLE_BODY:case N8.IN_ROW:case N8.IN_CELL:case N8.IN_SELECT:case N8.IN_SELECT_IN_TABLE:case N8.IN_TEMPLATE:case N8.IN_FRAMESET:case N8.AFTER_FRAMESET:H8(this,e);break;case N8.IN_TABLE_TEXT:m7(this,e);break;case N8.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0])}(this,e);break;case N8.AFTER_AFTER_BODY:case N8.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document)}(this,e)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case N8.INITIAL:!function(e,t){e._setDocumentType(t);const n=t.forceQuirks?R6.QUIRKS:function(e){if(e.name!==p8)return R6.QUIRKS;const{systemId:t}=e;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return R6.QUIRKS;let{publicId:n}=e;if(null!==n){if(n=n.toLowerCase(),g8.has(n))return R6.QUIRKS;let e=null===t?m8:f8;if(v8(n,e))return R6.QUIRKS;if(e=null===t?b8:y8,v8(n,e))return R6.LIMITED_QUIRKS}return R6.NO_QUIRKS}(t);(function(e){return e.name===p8&&null===e.publicId&&(null===e.systemId||"about:legacy-compat"===e.systemId)})(t)||e._err(t,I6.nonConformingDoctype);e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=N8.BEFORE_HTML}(this,e);break;case N8.BEFORE_HEAD:case N8.IN_HEAD:case N8.IN_HEAD_NO_SCRIPT:case N8.AFTER_HEAD:this._err(e,I6.misplacedDoctype);break;case N8.IN_TABLE_TEXT:m7(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,I6.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(function(e){const t=e.tagID;return t===M6.FONT&&e.attrs.some((e=>{let{name:t}=e;return t===D6.COLOR||t===D6.SIZE||t===D6.FACE}))||S8.has(t)}(t))C7(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===N6.MATHML?_8(t):r===N6.SVG&&(!function(e){const t=k8.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=F6(e.tagName))}(t),I8(t)),A8(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case N8.INITIAL:G8(this,e);break;case N8.BEFORE_HTML:!function(e,t){t.tagID===M6.HTML?(e._insertElement(t,N6.HTML),e.insertionMode=N8.BEFORE_HEAD):V8(e,t)}(this,e);break;case N8.BEFORE_HEAD:!function(e,t){switch(t.tagID){case M6.HTML:i7(e,t);break;case M6.HEAD:e._insertElement(t,N6.HTML),e.headElement=e.openElements.current,e.insertionMode=N8.IN_HEAD;break;default:q8(e,t)}}(this,e);break;case N8.IN_HEAD:j8(this,e);break;case N8.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case M6.HTML:i7(e,t);break;case M6.BASEFONT:case M6.BGSOUND:case M6.HEAD:case M6.LINK:case M6.META:case M6.NOFRAMES:case M6.STYLE:j8(e,t);break;case M6.NOSCRIPT:e._err(t,I6.nestedNoscriptInHead);break;default:X8(e,t)}}(this,e);break;case N8.AFTER_HEAD:!function(e,t){switch(t.tagID){case M6.HTML:i7(e,t);break;case M6.BODY:e._insertElement(t,N6.HTML),e.framesetOk=!1,e.insertionMode=N8.IN_BODY;break;case M6.FRAMESET:e._insertElement(t,N6.HTML),e.insertionMode=N8.IN_FRAMESET;break;case M6.BASE:case M6.BASEFONT:case M6.BGSOUND:case M6.LINK:case M6.META:case M6.NOFRAMES:case M6.SCRIPT:case M6.STYLE:case M6.TEMPLATE:case M6.TITLE:e._err(t,I6.abandonedHeadElementChild),e.openElements.push(e.headElement,M6.HEAD),j8(e,t),e.openElements.remove(e.headElement);break;case M6.HEAD:e._err(t,I6.misplacedStartTagForHeadElement);break;default:Q8(e,t)}}(this,e);break;case N8.IN_BODY:i7(this,e);break;case N8.IN_TABLE:u7(this,e);break;case N8.IN_TABLE_TEXT:m7(this,e);break;case N8.IN_CAPTION:!function(e,t){const n=t.tagID;g7.has(n)?e.openElements.hasInTableScope(M6.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(M6.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=N8.IN_TABLE,u7(e,t)):i7(e,t)}(this,e);break;case N8.IN_COLUMN_GROUP:b7(this,e);break;case N8.IN_TABLE_BODY:v7(this,e);break;case N8.IN_ROW:E7(this,e);break;case N8.IN_CELL:!function(e,t){const n=t.tagID;g7.has(n)?(e.openElements.hasInTableScope(M6.TD)||e.openElements.hasInTableScope(M6.TH))&&(e._closeTableCell(),E7(e,t)):i7(e,t)}(this,e);break;case N8.IN_SELECT:w7(this,e);break;case N8.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===M6.CAPTION||n===M6.TABLE||n===M6.TBODY||n===M6.TFOOT||n===M6.THEAD||n===M6.TR||n===M6.TD||n===M6.TH?(e.openElements.popUntilTagNamePopped(M6.SELECT),e._resetInsertionMode(),e._processStartTag(t)):w7(e,t)}(this,e);break;case N8.IN_TEMPLATE:!function(e,t){switch(t.tagID){case M6.BASE:case M6.BASEFONT:case M6.BGSOUND:case M6.LINK:case M6.META:case M6.NOFRAMES:case M6.SCRIPT:case M6.STYLE:case M6.TEMPLATE:case M6.TITLE:j8(e,t);break;case M6.CAPTION:case M6.COLGROUP:case M6.TBODY:case M6.TFOOT:case M6.THEAD:e.tmplInsertionModeStack[0]=N8.IN_TABLE,e.insertionMode=N8.IN_TABLE,u7(e,t);break;case M6.COL:e.tmplInsertionModeStack[0]=N8.IN_COLUMN_GROUP,e.insertionMode=N8.IN_COLUMN_GROUP,b7(e,t);break;case M6.TR:e.tmplInsertionModeStack[0]=N8.IN_TABLE_BODY,e.insertionMode=N8.IN_TABLE_BODY,v7(e,t);break;case M6.TD:case M6.TH:e.tmplInsertionModeStack[0]=N8.IN_ROW,e.insertionMode=N8.IN_ROW,E7(e,t);break;default:e.tmplInsertionModeStack[0]=N8.IN_BODY,e.insertionMode=N8.IN_BODY,i7(e,t)}}(this,e);break;case N8.AFTER_BODY:!function(e,t){t.tagID===M6.HTML?i7(e,t):I7(e,t)}(this,e);break;case N8.IN_FRAMESET:!function(e,t){switch(t.tagID){case M6.HTML:i7(e,t);break;case M6.FRAMESET:e._insertElement(t,N6.HTML);break;case M6.FRAME:e._appendElement(t,N6.HTML),t.ackSelfClosing=!0;break;case M6.NOFRAMES:j8(e,t)}}(this,e);break;case N8.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case M6.HTML:i7(e,t);break;case M6.NOFRAMES:j8(e,t)}}(this,e);break;case N8.AFTER_AFTER_BODY:!function(e,t){t.tagID===M6.HTML?i7(e,t):A7(e,t)}(this,e);break;case N8.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case M6.HTML:i7(e,t);break;case M6.NOFRAMES:j8(e,t)}}(this,e)}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===M6.P||t.tagID===M6.BR)return C7(e),void e._endTagOutsideForeignContent(t);for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===N6.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(r);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(n);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case N8.INITIAL:G8(this,e);break;case N8.BEFORE_HTML:!function(e,t){const n=t.tagID;n!==M6.HTML&&n!==M6.HEAD&&n!==M6.BODY&&n!==M6.BR||V8(e,t)}(this,e);break;case N8.BEFORE_HEAD:!function(e,t){const n=t.tagID;n===M6.HEAD||n===M6.BODY||n===M6.HTML||n===M6.BR?q8(e,t):e._err(t,I6.endTagWithoutMatchingOpenElement)}(this,e);break;case N8.IN_HEAD:!function(e,t){switch(t.tagID){case M6.HEAD:e.openElements.pop(),e.insertionMode=N8.AFTER_HEAD;break;case M6.BODY:case M6.BR:case M6.HTML:K8(e,t);break;case M6.TEMPLATE:Y8(e,t);break;default:e._err(t,I6.endTagWithoutMatchingOpenElement)}}(this,e);break;case N8.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case M6.NOSCRIPT:e.openElements.pop(),e.insertionMode=N8.IN_HEAD;break;case M6.BR:X8(e,t);break;default:e._err(t,I6.endTagWithoutMatchingOpenElement)}}(this,e);break;case N8.AFTER_HEAD:!function(e,t){switch(t.tagID){case M6.BODY:case M6.HTML:case M6.BR:Q8(e,t);break;case M6.TEMPLATE:Y8(e,t);break;default:e._err(t,I6.endTagWithoutMatchingOpenElement)}}(this,e);break;case N8.IN_BODY:o7(this,e);break;case N8.TEXT:!function(e,t){var n;t.tagID===M6.SCRIPT&&(null===(n=e.scriptHandler)||void 0===n||n.call(e,e.openElements.current));e.openElements.pop(),e.insertionMode=e.originalInsertionMode}(this,e);break;case N8.IN_TABLE:h7(this,e);break;case N8.IN_TABLE_TEXT:m7(this,e);break;case N8.IN_CAPTION:!function(e,t){const n=t.tagID;switch(n){case M6.CAPTION:case M6.TABLE:e.openElements.hasInTableScope(M6.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(M6.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=N8.IN_TABLE,n===M6.TABLE&&h7(e,t));break;case M6.BODY:case M6.COL:case M6.COLGROUP:case M6.HTML:case M6.TBODY:case M6.TD:case M6.TFOOT:case M6.TH:case M6.THEAD:case M6.TR:break;default:o7(e,t)}}(this,e);break;case N8.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case M6.COLGROUP:e.openElements.currentTagId===M6.COLGROUP&&(e.openElements.pop(),e.insertionMode=N8.IN_TABLE);break;case M6.TEMPLATE:Y8(e,t);break;case M6.COL:break;default:y7(e,t)}}(this,e);break;case N8.IN_TABLE_BODY:x7(this,e);break;case N8.IN_ROW:T7(this,e);break;case N8.IN_CELL:!function(e,t){const n=t.tagID;switch(n){case M6.TD:case M6.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=N8.IN_ROW);break;case M6.TABLE:case M6.TBODY:case M6.TFOOT:case M6.THEAD:case M6.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),T7(e,t));break;case M6.BODY:case M6.CAPTION:case M6.COL:case M6.COLGROUP:case M6.HTML:break;default:o7(e,t)}}(this,e);break;case N8.IN_SELECT:k7(this,e);break;case N8.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===M6.CAPTION||n===M6.TABLE||n===M6.TBODY||n===M6.TFOOT||n===M6.THEAD||n===M6.TR||n===M6.TD||n===M6.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(M6.SELECT),e._resetInsertionMode(),e.onEndTag(t)):k7(e,t)}(this,e);break;case N8.IN_TEMPLATE:!function(e,t){t.tagID===M6.TEMPLATE&&Y8(e,t)}(this,e);break;case N8.AFTER_BODY:_7(this,e);break;case N8.IN_FRAMESET:!function(e,t){t.tagID!==M6.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagId===M6.FRAMESET||(e.insertionMode=N8.AFTER_FRAMESET))}(this,e);break;case N8.AFTER_FRAMESET:!function(e,t){t.tagID===M6.HTML&&(e.insertionMode=N8.AFTER_AFTER_FRAMESET)}(this,e);break;case N8.AFTER_AFTER_BODY:A7(this,e)}}onEof(e){switch(this.insertionMode){case N8.INITIAL:G8(this,e);break;case N8.BEFORE_HTML:V8(this,e);break;case N8.BEFORE_HEAD:q8(this,e);break;case N8.IN_HEAD:K8(this,e);break;case N8.IN_HEAD_NO_SCRIPT:X8(this,e);break;case N8.AFTER_HEAD:Q8(this,e);break;case N8.IN_BODY:case N8.IN_TABLE:case N8.IN_CAPTION:case N8.IN_COLUMN_GROUP:case N8.IN_TABLE_BODY:case N8.IN_ROW:case N8.IN_CELL:case N8.IN_SELECT:case N8.IN_SELECT_IN_TABLE:l7(this,e);break;case N8.TEXT:!function(e,t){e._err(t,I6.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}(this,e);break;case N8.IN_TABLE_TEXT:m7(this,e);break;case N8.IN_TEMPLATE:S7(this,e);break;case N8.AFTER_BODY:case N8.IN_FRAMESET:case N8.AFTER_FRAMESET:case N8.AFTER_AFTER_BODY:case N8.AFTER_AFTER_FRAMESET:W8(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===b6.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case N8.IN_HEAD:case N8.IN_HEAD_NO_SCRIPT:case N8.AFTER_HEAD:case N8.TEXT:case N8.IN_COLUMN_GROUP:case N8.IN_SELECT:case N8.IN_SELECT_IN_TABLE:case N8.IN_FRAMESET:case N8.AFTER_FRAMESET:this._insertCharacters(e);break;case N8.IN_BODY:case N8.IN_CAPTION:case N8.IN_CELL:case N8.IN_TEMPLATE:case N8.AFTER_BODY:case N8.AFTER_AFTER_BODY:case N8.AFTER_AFTER_FRAMESET:Z8(this,e);break;case N8.IN_TABLE:case N8.IN_TABLE_BODY:case N8.IN_ROW:c7(this,e);break;case N8.IN_TABLE_TEXT:p7(this,e)}}}function L8(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):a7(e,t),n}function P8(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const s=e.openElements.items[r];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[r])&&(n=s)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function F8(e,t,n){let r=t,s=e.openElements.getCommonAncestor(t);for(let i=0,a=s;a!==n;i++,a=s){s=e.openElements.getCommonAncestor(a);const n=e.activeFormattingElements.getElementEntry(a),o=n&&i>=3;!n||o?(o&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(a)):(a=$8(e,n),r===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function $8(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function B8(e,t,n){const r=F6(e.treeAdapter.getTagName(t));if(e._isElementCausesFosterParenting(r))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);r===M6.TEMPLATE&&s===N6.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function U8(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:s}=n,i=e.treeAdapter.createElement(s.tagName,r,s.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,s),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,i,s.tagID)}function z8(e,t){for(let n=0;n<8;n++){const n=L8(e,t);if(!n)break;const r=P8(e,n);if(!r)break;e.activeFormattingElements.bookmark=n;const s=F8(e,r,n.element),i=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(s),i&&B8(e,i,s),U8(e,r,n)}}function H8(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function W8(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],r=e.treeAdapter.getNodeSourceCodeLocation(n);if(r&&!r.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const n=e.openElements.items[1],r=e.treeAdapter.getNodeSourceCodeLocation(n);r&&!r.endTag&&e._setEndLocation(n,t)}}}}function G8(e,t){e._err(t,I6.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,R6.QUIRKS),e.insertionMode=N8.BEFORE_HTML,e._processToken(t)}function V8(e,t){e._insertFakeRootElement(),e.insertionMode=N8.BEFORE_HEAD,e._processToken(t)}function q8(e,t){e._insertFakeElement(O6.HEAD,M6.HEAD),e.headElement=e.openElements.current,e.insertionMode=N8.IN_HEAD,e._processToken(t)}function j8(e,t){switch(t.tagID){case M6.HTML:i7(e,t);break;case M6.BASE:case M6.BASEFONT:case M6.BGSOUND:case M6.LINK:case M6.META:e._appendElement(t,N6.HTML),t.ackSelfClosing=!0;break;case M6.TITLE:e._switchToTextParsing(t,W6.RCDATA);break;case M6.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,W6.RAWTEXT):(e._insertElement(t,N6.HTML),e.insertionMode=N8.IN_HEAD_NO_SCRIPT);break;case M6.NOFRAMES:case M6.STYLE:e._switchToTextParsing(t,W6.RAWTEXT);break;case M6.SCRIPT:e._switchToTextParsing(t,W6.SCRIPT_DATA);break;case M6.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=N8.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(N8.IN_TEMPLATE);break;case M6.HEAD:e._err(t,I6.misplacedStartTagForHeadElement);break;default:K8(e,t)}}function Y8(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==M6.TEMPLATE&&e._err(t,I6.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(M6.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,I6.endTagWithoutMatchingOpenElement)}function K8(e,t){e.openElements.pop(),e.insertionMode=N8.AFTER_HEAD,e._processToken(t)}function X8(e,t){const n=t.type===C6.EOF?I6.openElementsLeftAfterEof:I6.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=N8.IN_HEAD,e._processToken(t)}function Q8(e,t){e._insertFakeElement(O6.BODY,M6.BODY),e.insertionMode=N8.IN_BODY,J8(e,t)}function J8(e,t){switch(t.type){case C6.CHARACTER:e7(e,t);break;case C6.WHITESPACE_CHARACTER:Z8(e,t);break;case C6.COMMENT:H8(e,t);break;case C6.START_TAG:i7(e,t);break;case C6.END_TAG:o7(e,t);break;case C6.EOF:l7(e,t)}}function Z8(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function e7(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function t7(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,N6.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function n7(e){const t=L6(e,D6.TYPE);return null!=t&&"hidden"===t.toLowerCase()}function r7(e,t){e._switchToTextParsing(t,W6.RAWTEXT)}function s7(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,N6.HTML)}function i7(e,t){switch(t.tagID){case M6.I:case M6.S:case M6.B:case M6.U:case M6.EM:case M6.TT:case M6.BIG:case M6.CODE:case M6.FONT:case M6.SMALL:case M6.STRIKE:case M6.STRONG:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,N6.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case M6.A:!function(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(O6.A);n&&(z8(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,N6.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case M6.H1:case M6.H2:case M6.H3:case M6.H4:case M6.H5:case M6.H6:!function(e,t){e.openElements.hasInButtonScope(M6.P)&&e._closePElement(),U6.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,N6.HTML)}(e,t);break;case M6.P:case M6.DL:case M6.OL:case M6.UL:case M6.DIV:case M6.DIR:case M6.NAV:case M6.MAIN:case M6.MENU:case M6.ASIDE:case M6.CENTER:case M6.FIGURE:case M6.FOOTER:case M6.HEADER:case M6.HGROUP:case M6.DIALOG:case M6.DETAILS:case M6.ADDRESS:case M6.ARTICLE:case M6.SEARCH:case M6.SECTION:case M6.SUMMARY:case M6.FIELDSET:case M6.BLOCKQUOTE:case M6.FIGCAPTION:!function(e,t){e.openElements.hasInButtonScope(M6.P)&&e._closePElement(),e._insertElement(t,N6.HTML)}(e,t);break;case M6.LI:case M6.DD:case M6.DT:!function(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const t=e.openElements.tagIDs[r];if(n===M6.LI&&t===M6.LI||(n===M6.DD||n===M6.DT)&&(t===M6.DD||t===M6.DT)){e.openElements.generateImpliedEndTagsWithExclusion(t),e.openElements.popUntilTagNamePopped(t);break}if(t!==M6.ADDRESS&&t!==M6.DIV&&t!==M6.P&&e._isSpecialElement(e.openElements.items[r],t))break}e.openElements.hasInButtonScope(M6.P)&&e._closePElement(),e._insertElement(t,N6.HTML)}(e,t);break;case M6.BR:case M6.IMG:case M6.WBR:case M6.AREA:case M6.EMBED:case M6.KEYGEN:t7(e,t);break;case M6.HR:!function(e,t){e.openElements.hasInButtonScope(M6.P)&&e._closePElement(),e._appendElement(t,N6.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t);break;case M6.RB:case M6.RTC:!function(e,t){e.openElements.hasInScope(M6.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,N6.HTML)}(e,t);break;case M6.RT:case M6.RP:!function(e,t){e.openElements.hasInScope(M6.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(M6.RTC),e._insertElement(t,N6.HTML)}(e,t);break;case M6.PRE:case M6.LISTING:!function(e,t){e.openElements.hasInButtonScope(M6.P)&&e._closePElement(),e._insertElement(t,N6.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}(e,t);break;case M6.XMP:!function(e,t){e.openElements.hasInButtonScope(M6.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,W6.RAWTEXT)}(e,t);break;case M6.SVG:!function(e,t){e._reconstructActiveFormattingElements(),I8(t),A8(t),t.selfClosing?e._appendElement(t,N6.SVG):e._insertElement(t,N6.SVG),t.ackSelfClosing=!0}(e,t);break;case M6.HTML:!function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t);break;case M6.BASE:case M6.LINK:case M6.META:case M6.STYLE:case M6.TITLE:case M6.SCRIPT:case M6.BGSOUND:case M6.BASEFONT:case M6.TEMPLATE:j8(e,t);break;case M6.BODY:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t);break;case M6.FORM:!function(e,t){const n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(M6.P)&&e._closePElement(),e._insertElement(t,N6.HTML),n||(e.formElement=e.openElements.current))}(e,t);break;case M6.NOBR:!function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(M6.NOBR)&&(z8(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,N6.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case M6.MATH:!function(e,t){e._reconstructActiveFormattingElements(),_8(t),A8(t),t.selfClosing?e._appendElement(t,N6.MATHML):e._insertElement(t,N6.MATHML),t.ackSelfClosing=!0}(e,t);break;case M6.TABLE:!function(e,t){e.treeAdapter.getDocumentMode(e.document)!==R6.QUIRKS&&e.openElements.hasInButtonScope(M6.P)&&e._closePElement(),e._insertElement(t,N6.HTML),e.framesetOk=!1,e.insertionMode=N8.IN_TABLE}(e,t);break;case M6.INPUT:!function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,N6.HTML),n7(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t);break;case M6.PARAM:case M6.TRACK:case M6.SOURCE:!function(e,t){e._appendElement(t,N6.HTML),t.ackSelfClosing=!0}(e,t);break;case M6.IMAGE:!function(e,t){t.tagName=O6.IMG,t.tagID=M6.IMG,t7(e,t)}(e,t);break;case M6.BUTTON:!function(e,t){e.openElements.hasInScope(M6.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(M6.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,N6.HTML),e.framesetOk=!1}(e,t);break;case M6.APPLET:case M6.OBJECT:case M6.MARQUEE:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,N6.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}(e,t);break;case M6.IFRAME:!function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,W6.RAWTEXT)}(e,t);break;case M6.SELECT:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,N6.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===N8.IN_TABLE||e.insertionMode===N8.IN_CAPTION||e.insertionMode===N8.IN_TABLE_BODY||e.insertionMode===N8.IN_ROW||e.insertionMode===N8.IN_CELL?N8.IN_SELECT_IN_TABLE:N8.IN_SELECT}(e,t);break;case M6.OPTION:case M6.OPTGROUP:!function(e,t){e.openElements.currentTagId===M6.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,N6.HTML)}(e,t);break;case M6.NOEMBED:case M6.NOFRAMES:r7(e,t);break;case M6.FRAMESET:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,N6.HTML),e.insertionMode=N8.IN_FRAMESET)}(e,t);break;case M6.TEXTAREA:!function(e,t){e._insertElement(t,N6.HTML),e.skipNextNewLine=!0,e.tokenizer.state=W6.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=N8.TEXT}(e,t);break;case M6.NOSCRIPT:e.options.scriptingEnabled?r7(e,t):s7(e,t);break;case M6.PLAINTEXT:!function(e,t){e.openElements.hasInButtonScope(M6.P)&&e._closePElement(),e._insertElement(t,N6.HTML),e.tokenizer.state=W6.PLAINTEXT}(e,t);break;case M6.COL:case M6.TH:case M6.TD:case M6.TR:case M6.HEAD:case M6.FRAME:case M6.TBODY:case M6.TFOOT:case M6.THEAD:case M6.CAPTION:case M6.COLGROUP:break;default:s7(e,t)}}function a7(e,t){const n=t.tagName,r=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){const t=e.openElements.items[s],i=e.openElements.tagIDs[s];if(r===i&&(r!==M6.UNKNOWN||e.treeAdapter.getTagName(t)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(t,i))break}}function o7(e,t){switch(t.tagID){case M6.A:case M6.B:case M6.I:case M6.S:case M6.U:case M6.EM:case M6.TT:case M6.BIG:case M6.CODE:case M6.FONT:case M6.NOBR:case M6.SMALL:case M6.STRIKE:case M6.STRONG:z8(e,t);break;case M6.P:!function(e){e.openElements.hasInButtonScope(M6.P)||e._insertFakeElement(O6.P,M6.P),e._closePElement()}(e);break;case M6.DL:case M6.UL:case M6.OL:case M6.DIR:case M6.DIV:case M6.NAV:case M6.PRE:case M6.MAIN:case M6.MENU:case M6.ASIDE:case M6.BUTTON:case M6.CENTER:case M6.FIGURE:case M6.FOOTER:case M6.HEADER:case M6.HGROUP:case M6.DIALOG:case M6.ADDRESS:case M6.ARTICLE:case M6.DETAILS:case M6.SEARCH:case M6.SECTION:case M6.SUMMARY:case M6.LISTING:case M6.FIELDSET:case M6.BLOCKQUOTE:case M6.FIGCAPTION:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case M6.LI:!function(e){e.openElements.hasInListItemScope(M6.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(M6.LI),e.openElements.popUntilTagNamePopped(M6.LI))}(e);break;case M6.DD:case M6.DT:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case M6.H1:case M6.H2:case M6.H3:case M6.H4:case M6.H5:case M6.H6:!function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e);break;case M6.BR:!function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(O6.BR,M6.BR),e.openElements.pop(),e.framesetOk=!1}(e);break;case M6.BODY:!function(e,t){if(e.openElements.hasInScope(M6.BODY)&&(e.insertionMode=N8.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}(e,t);break;case M6.HTML:!function(e,t){e.openElements.hasInScope(M6.BODY)&&(e.insertionMode=N8.AFTER_BODY,_7(e,t))}(e,t);break;case M6.FORM:!function(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(M6.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(M6.FORM):n&&e.openElements.remove(n))}(e);break;case M6.APPLET:case M6.OBJECT:case M6.MARQUEE:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}(e,t);break;case M6.TEMPLATE:Y8(e,t);break;default:a7(e,t)}}function l7(e,t){e.tmplInsertionModeStack.length>0?S7(e,t):W8(e,t)}function c7(e,t){if(R8.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=N8.IN_TABLE_TEXT,t.type){case C6.CHARACTER:f7(e,t);break;case C6.WHITESPACE_CHARACTER:p7(e,t)}else d7(e,t)}function u7(e,t){switch(t.tagID){case M6.TD:case M6.TH:case M6.TR:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(O6.TBODY,M6.TBODY),e.insertionMode=N8.IN_TABLE_BODY,v7(e,t)}(e,t);break;case M6.STYLE:case M6.SCRIPT:case M6.TEMPLATE:j8(e,t);break;case M6.COL:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(O6.COLGROUP,M6.COLGROUP),e.insertionMode=N8.IN_COLUMN_GROUP,b7(e,t)}(e,t);break;case M6.FORM:!function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,N6.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t);break;case M6.TABLE:!function(e,t){e.openElements.hasInTableScope(M6.TABLE)&&(e.openElements.popUntilTagNamePopped(M6.TABLE),e._resetInsertionMode(),e._processStartTag(t))}(e,t);break;case M6.TBODY:case M6.TFOOT:case M6.THEAD:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,N6.HTML),e.insertionMode=N8.IN_TABLE_BODY}(e,t);break;case M6.INPUT:!function(e,t){n7(t)?e._appendElement(t,N6.HTML):d7(e,t),t.ackSelfClosing=!0}(e,t);break;case M6.CAPTION:!function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,N6.HTML),e.insertionMode=N8.IN_CAPTION}(e,t);break;case M6.COLGROUP:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,N6.HTML),e.insertionMode=N8.IN_COLUMN_GROUP}(e,t);break;default:d7(e,t)}}function h7(e,t){switch(t.tagID){case M6.TABLE:e.openElements.hasInTableScope(M6.TABLE)&&(e.openElements.popUntilTagNamePopped(M6.TABLE),e._resetInsertionMode());break;case M6.TEMPLATE:Y8(e,t);break;case M6.BODY:case M6.CAPTION:case M6.COL:case M6.COLGROUP:case M6.HTML:case M6.TBODY:case M6.TD:case M6.TFOOT:case M6.TH:case M6.THEAD:case M6.TR:break;default:d7(e,t)}}function d7(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,J8(e,t),e.fosterParentingEnabled=n}function p7(e,t){e.pendingCharacterTokens.push(t)}function f7(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function m7(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)d7(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const g7=new Set([M6.CAPTION,M6.COL,M6.COLGROUP,M6.TBODY,M6.TD,M6.TFOOT,M6.TH,M6.THEAD,M6.TR]);function b7(e,t){switch(t.tagID){case M6.HTML:i7(e,t);break;case M6.COL:e._appendElement(t,N6.HTML),t.ackSelfClosing=!0;break;case M6.TEMPLATE:j8(e,t);break;default:y7(e,t)}}function y7(e,t){e.openElements.currentTagId===M6.COLGROUP&&(e.openElements.pop(),e.insertionMode=N8.IN_TABLE,e._processToken(t))}function v7(e,t){switch(t.tagID){case M6.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,N6.HTML),e.insertionMode=N8.IN_ROW;break;case M6.TH:case M6.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(O6.TR,M6.TR),e.insertionMode=N8.IN_ROW,E7(e,t);break;case M6.CAPTION:case M6.COL:case M6.COLGROUP:case M6.TBODY:case M6.TFOOT:case M6.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=N8.IN_TABLE,u7(e,t));break;default:u7(e,t)}}function x7(e,t){const n=t.tagID;switch(t.tagID){case M6.TBODY:case M6.TFOOT:case M6.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=N8.IN_TABLE);break;case M6.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=N8.IN_TABLE,h7(e,t));break;case M6.BODY:case M6.CAPTION:case M6.COL:case M6.COLGROUP:case M6.HTML:case M6.TD:case M6.TH:case M6.TR:break;default:h7(e,t)}}function E7(e,t){switch(t.tagID){case M6.TH:case M6.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,N6.HTML),e.insertionMode=N8.IN_CELL,e.activeFormattingElements.insertMarker();break;case M6.CAPTION:case M6.COL:case M6.COLGROUP:case M6.TBODY:case M6.TFOOT:case M6.THEAD:case M6.TR:e.openElements.hasInTableScope(M6.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N8.IN_TABLE_BODY,v7(e,t));break;default:u7(e,t)}}function T7(e,t){switch(t.tagID){case M6.TR:e.openElements.hasInTableScope(M6.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N8.IN_TABLE_BODY);break;case M6.TABLE:e.openElements.hasInTableScope(M6.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N8.IN_TABLE_BODY,x7(e,t));break;case M6.TBODY:case M6.TFOOT:case M6.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(M6.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N8.IN_TABLE_BODY,x7(e,t));break;case M6.BODY:case M6.CAPTION:case M6.COL:case M6.COLGROUP:case M6.HTML:case M6.TD:case M6.TH:break;default:h7(e,t)}}function w7(e,t){switch(t.tagID){case M6.HTML:i7(e,t);break;case M6.OPTION:e.openElements.currentTagId===M6.OPTION&&e.openElements.pop(),e._insertElement(t,N6.HTML);break;case M6.OPTGROUP:e.openElements.currentTagId===M6.OPTION&&e.openElements.pop(),e.openElements.currentTagId===M6.OPTGROUP&&e.openElements.pop(),e._insertElement(t,N6.HTML);break;case M6.HR:e.openElements.currentTagId===M6.OPTION&&e.openElements.pop(),e.openElements.currentTagId===M6.OPTGROUP&&e.openElements.pop(),e._appendElement(t,N6.HTML),t.ackSelfClosing=!0;break;case M6.INPUT:case M6.KEYGEN:case M6.TEXTAREA:case M6.SELECT:e.openElements.hasInSelectScope(M6.SELECT)&&(e.openElements.popUntilTagNamePopped(M6.SELECT),e._resetInsertionMode(),t.tagID!==M6.SELECT&&e._processStartTag(t));break;case M6.SCRIPT:case M6.TEMPLATE:j8(e,t)}}function k7(e,t){switch(t.tagID){case M6.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===M6.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===M6.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===M6.OPTGROUP&&e.openElements.pop();break;case M6.OPTION:e.openElements.currentTagId===M6.OPTION&&e.openElements.pop();break;case M6.SELECT:e.openElements.hasInSelectScope(M6.SELECT)&&(e.openElements.popUntilTagNamePopped(M6.SELECT),e._resetInsertionMode());break;case M6.TEMPLATE:Y8(e,t)}}function S7(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(M6.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):W8(e,t)}function _7(e,t){var n;if(t.tagID===M6.HTML){if(e.fragmentContext||(e.insertionMode=N8.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===M6.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(null===(n=e.treeAdapter.getNodeSourceCodeLocation(r))||void 0===n?void 0:n.endTag)&&e._setEndLocation(r,t)}}else I7(e,t)}function I7(e,t){e.insertionMode=N8.IN_BODY,J8(e,t)}function A7(e,t){e.insertionMode=N8.IN_BODY,J8(e,t)}function C7(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==N6.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}const N7=new Set([O6.AREA,O6.BASE,O6.BASEFONT,O6.BGSOUND,O6.BR,O6.COL,O6.EMBED,O6.FRAME,O6.HR,O6.IMG,O6.INPUT,O6.KEYGEN,O6.LINK,O6.META,O6.PARAM,O6.SOURCE,O6.TRACK,O6.WBR]);function D7(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===N6.HTML&&N7.has(t.treeAdapter.getTagName(e))}const R7={treeAdapter:d8,scriptingEnabled:!0};function O7(e,t){return L7(e,{...R7,...t})}function M7(e,t){let n="";const r=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===O6.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===N6.HTML?t.treeAdapter.getTemplateContent(e):e,s=t.treeAdapter.getChildNodes(r);if(s)for(const i of s)n+=L7(i,t);return n}function L7(e,t){return t.treeAdapter.isElementNode(e)?function(e,t){const n=t.treeAdapter.getTagName(e);return`<${n}${function(e,t){let{treeAdapter:n}=t,r="";for(const s of n.getAttrList(e)){if(r+=" ",s.namespace)switch(s.namespace){case N6.XML:r+=`xml:${s.name}`;break;case N6.XMLNS:"xmlns"!==s.name&&(r+="xmlns:"),r+=s.name;break;case N6.XLINK:r+=`xlink:${s.name}`;break;default:r+=`${s.prefix}:${s.name}`}else r+=s.name;r+=`="${q0(s.value)}"`}return r}(e,t)}>${D7(e,t)?"":`${M7(e,t)}</${n}>`}`}(e,t):t.treeAdapter.isTextNode(e)?function(e,t){const{treeAdapter:n}=t,r=n.getTextNodeContent(e),s=n.getParentNode(e),i=s&&n.isElementNode(s)&&n.getTagName(s);return i&&n.getNamespaceURI(s)===N6.HTML&&(a=i,o=t.scriptingEnabled,z6.has(a)||o&&a===O6.NOSCRIPT)?r:j0(r);var a,o}(e,t):t.treeAdapter.isCommentNode(e)?function(e,t){let{treeAdapter:n}=t;return`\x3c!--${n.getCommentNodeContent(e)}--\x3e`}(e,t):t.treeAdapter.isDocumentTypeNode(e)?function(e,t){let{treeAdapter:n}=t;return`<!DOCTYPE ${n.getDocumentTypeNodeName(e)}>`}(e,t):""}new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);var P7;!function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"}(P7||(P7={}));var F7;!function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(F7||(F7={}));var $7;!function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"}($7||($7={}));const B7=new Uint16Array('\u1d41<\xd5\u0131\u028a\u049d\u057b\u05d0\u0675\u06de\u07a2\u07d6\u080f\u0a4a\u0a91\u0da1\u0e6d\u0f09\u0f26\u10ca\u1228\u12e1\u1415\u149d\u14c3\u14df\u1525\0\0\0\0\0\0\u156b\u16cd\u198d\u1c12\u1ddd\u1f7e\u2060\u21b0\u228d\u23c0\u23fb\u2442\u2824\u2912\u2d08\u2e48\u2fce\u3016\u32ba\u3639\u37ac\u38fe\u3a28\u3a71\u3ae0\u3b2e\u0800EMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig\u803b\xc6\u40c6P\u803b&\u4026cute\u803b\xc1\u40c1reve;\u4102\u0100iyx}rc\u803b\xc2\u40c2;\u4410r;\uc000\ud835\udd04rave\u803b\xc0\u40c0pha;\u4391acr;\u4100d;\u6a53\u0100gp\x9d\xa1on;\u4104f;\uc000\ud835\udd38plyFunction;\u6061ing\u803b\xc5\u40c5\u0100cs\xbe\xc3r;\uc000\ud835\udc9cign;\u6254ilde\u803b\xc3\u40c3ml\u803b\xc4\u40c4\u0400aceforsu\xe5\xfb\xfe\u0117\u011c\u0122\u0127\u012a\u0100cr\xea\xf2kslash;\u6216\u0176\xf6\xf8;\u6ae7ed;\u6306y;\u4411\u0180crt\u0105\u010b\u0114ause;\u6235noullis;\u612ca;\u4392r;\uc000\ud835\udd05pf;\uc000\ud835\udd39eve;\u42d8c\xf2\u0113mpeq;\u624e\u0700HOacdefhilorsu\u014d\u0151\u0156\u0180\u019e\u01a2\u01b5\u01b7\u01ba\u01dc\u0215\u0273\u0278\u027ecy;\u4427PY\u803b\xa9\u40a9\u0180cpy\u015d\u0162\u017aute;\u4106\u0100;i\u0167\u0168\u62d2talDifferentialD;\u6145leys;\u612d\u0200aeio\u0189\u018e\u0194\u0198ron;\u410cdil\u803b\xc7\u40c7rc;\u4108nint;\u6230ot;\u410a\u0100dn\u01a7\u01adilla;\u40b8terDot;\u40b7\xf2\u017fi;\u43a7rcle\u0200DMPT\u01c7\u01cb\u01d1\u01d6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01e2\u01f8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020foubleQuote;\u601duote;\u6019\u0200lnpu\u021e\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6a74\u0180git\u022f\u0236\u023aruent;\u6261nt;\u622fourIntegral;\u622e\u0100fr\u024c\u024e;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6a2fcr;\uc000\ud835\udc9ep\u0100;C\u0284\u0285\u62d3ap;\u624d\u0580DJSZacefios\u02a0\u02ac\u02b0\u02b4\u02b8\u02cb\u02d7\u02e1\u02e6\u0333\u048d\u0100;o\u0179\u02a5trahd;\u6911cy;\u4402cy;\u4405cy;\u440f\u0180grs\u02bf\u02c4\u02c7ger;\u6021r;\u61a1hv;\u6ae4\u0100ay\u02d0\u02d5ron;\u410e;\u4414l\u0100;t\u02dd\u02de\u6207a;\u4394r;\uc000\ud835\udd07\u0100af\u02eb\u0327\u0100cm\u02f0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031ccute;\u40b4o\u0174\u030b\u030d;\u42d9bleAcute;\u42ddrave;\u4060ilde;\u42dcond;\u62c4ferentialD;\u6146\u0470\u033d\0\0\0\u0342\u0354\0\u0405f;\uc000\ud835\udd3b\u0180;DE\u0348\u0349\u034d\u40a8ot;\u60dcqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03cf\u03e2\u03f8ontourIntegra\xec\u0239o\u0274\u0379\0\0\u037b\xbb\u0349nArrow;\u61d3\u0100eo\u0387\u03a4ft\u0180ART\u0390\u0396\u03a1rrow;\u61d0ightArrow;\u61d4e\xe5\u02cang\u0100LR\u03ab\u03c4eft\u0100AR\u03b3\u03b9rrow;\u67f8ightArrow;\u67faightArrow;\u67f9ight\u0100AT\u03d8\u03derrow;\u61d2ee;\u62a8p\u0241\u03e9\0\0\u03efrrow;\u61d1ownArrow;\u61d5erticalBar;\u6225n\u0300ABLRTa\u0412\u042a\u0430\u045e\u047f\u037crrow\u0180;BU\u041d\u041e\u0422\u6193ar;\u6913pArrow;\u61f5reve;\u4311eft\u02d2\u043a\0\u0446\0\u0450ightVector;\u6950eeVector;\u695eector\u0100;B\u0459\u045a\u61bdar;\u6956ight\u01d4\u0467\0\u0471eeVector;\u695fector\u0100;B\u047a\u047b\u61c1ar;\u6957ee\u0100;A\u0486\u0487\u62a4rrow;\u61a7\u0100ct\u0492\u0497r;\uc000\ud835\udc9frok;\u4110\u0800NTacdfglmopqstux\u04bd\u04c0\u04c4\u04cb\u04de\u04e2\u04e7\u04ee\u04f5\u0521\u052f\u0536\u0552\u055d\u0560\u0565G;\u414aH\u803b\xd0\u40d0cute\u803b\xc9\u40c9\u0180aiy\u04d2\u04d7\u04dcron;\u411arc\u803b\xca\u40ca;\u442dot;\u4116r;\uc000\ud835\udd08rave\u803b\xc8\u40c8ement;\u6208\u0100ap\u04fa\u04fecr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65fberySmallSquare;\u65ab\u0100gp\u0526\u052aon;\u4118f;\uc000\ud835\udd3csilon;\u4395u\u0100ai\u053c\u0549l\u0100;T\u0542\u0543\u6a75ilde;\u6242librium;\u61cc\u0100ci\u0557\u055ar;\u6130m;\u6a73a;\u4397ml\u803b\xcb\u40cb\u0100ip\u056a\u056fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058d\u05b2\u05ccy;\u4424r;\uc000\ud835\udd09lled\u0253\u0597\0\0\u05a3mallSquare;\u65fcerySmallSquare;\u65aa\u0370\u05ba\0\u05bf\0\0\u05c4f;\uc000\ud835\udd3dAll;\u6200riertrf;\u6131c\xf2\u05cb\u0600JTabcdfgorst\u05e8\u05ec\u05ef\u05fa\u0600\u0612\u0616\u061b\u061d\u0623\u066c\u0672cy;\u4403\u803b>\u403emma\u0100;d\u05f7\u05f8\u4393;\u43dcreve;\u411e\u0180eiy\u0607\u060c\u0610dil;\u4122rc;\u411c;\u4413ot;\u4120r;\uc000\ud835\udd0a;\u62d9pf;\uc000\ud835\udd3eeater\u0300EFGLST\u0635\u0644\u064e\u0656\u065b\u0666qual\u0100;L\u063e\u063f\u6265ess;\u62dbullEqual;\u6267reater;\u6aa2ess;\u6277lantEqual;\u6a7eilde;\u6273cr;\uc000\ud835\udca2;\u626b\u0400Aacfiosu\u0685\u068b\u0696\u069b\u069e\u06aa\u06be\u06caRDcy;\u442a\u0100ct\u0690\u0694ek;\u42c7;\u405eirc;\u4124r;\u610clbertSpace;\u610b\u01f0\u06af\0\u06b2f;\u610dizontalLine;\u6500\u0100ct\u06c3\u06c5\xf2\u06a9rok;\u4126mp\u0144\u06d0\u06d8ownHum\xf0\u012fqual;\u624f\u0700EJOacdfgmnostu\u06fa\u06fe\u0703\u0707\u070e\u071a\u071e\u0721\u0728\u0744\u0778\u078b\u078f\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803b\xcd\u40cd\u0100iy\u0713\u0718rc\u803b\xce\u40ce;\u4418ot;\u4130r;\u6111rave\u803b\xcc\u40cc\u0180;ap\u0720\u072f\u073f\u0100cg\u0734\u0737r;\u412ainaryI;\u6148lie\xf3\u03dd\u01f4\u0749\0\u0762\u0100;e\u074d\u074e\u622c\u0100gr\u0753\u0758ral;\u622bsection;\u62c2isible\u0100CT\u076c\u0772omma;\u6063imes;\u6062\u0180gpt\u077f\u0783\u0788on;\u412ef;\uc000\ud835\udd40a;\u4399cr;\u6110ilde;\u4128\u01eb\u079a\0\u079ecy;\u4406l\u803b\xcf\u40cf\u0280cfosu\u07ac\u07b7\u07bc\u07c2\u07d0\u0100iy\u07b1\u07b5rc;\u4134;\u4419r;\uc000\ud835\udd0dpf;\uc000\ud835\udd41\u01e3\u07c7\0\u07ccr;\uc000\ud835\udca5rcy;\u4408kcy;\u4404\u0380HJacfos\u07e4\u07e8\u07ec\u07f1\u07fd\u0802\u0808cy;\u4425cy;\u440cppa;\u439a\u0100ey\u07f6\u07fbdil;\u4136;\u441ar;\uc000\ud835\udd0epf;\uc000\ud835\udd42cr;\uc000\ud835\udca6\u0580JTaceflmost\u0825\u0829\u082c\u0850\u0863\u09b3\u09b8\u09c7\u09cd\u0a37\u0a47cy;\u4409\u803b<\u403c\u0280cmnpr\u0837\u083c\u0841\u0844\u084dute;\u4139bda;\u439bg;\u67ealacetrf;\u6112r;\u619e\u0180aey\u0857\u085c\u0861ron;\u413ddil;\u413b;\u441b\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087e\u08a9\u08b1\u08e0\u08e6\u08fc\u092f\u095b\u0390\u096a\u0100nr\u0883\u088fgleBracket;\u67e8row\u0180;BR\u0899\u089a\u089e\u6190ar;\u61e4ightArrow;\u61c6eiling;\u6308o\u01f5\u08b7\0\u08c3bleBracket;\u67e6n\u01d4\u08c8\0\u08d2eeVector;\u6961ector\u0100;B\u08db\u08dc\u61c3ar;\u6959loor;\u630aight\u0100AV\u08ef\u08f5rrow;\u6194ector;\u694e\u0100er\u0901\u0917e\u0180;AV\u0909\u090a\u0910\u62a3rrow;\u61a4ector;\u695aiangle\u0180;BE\u0924\u0925\u0929\u62b2ar;\u69cfqual;\u62b4p\u0180DTV\u0937\u0942\u094cownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61bfar;\u6958ector\u0100;B\u0965\u0966\u61bcar;\u6952ight\xe1\u039cs\u0300EFGLST\u097e\u098b\u0995\u099d\u09a2\u09adqualGreater;\u62daullEqual;\u6266reater;\u6276ess;\u6aa1lantEqual;\u6a7dilde;\u6272r;\uc000\ud835\udd0f\u0100;e\u09bd\u09be\u62d8ftarrow;\u61daidot;\u413f\u0180npw\u09d4\u0a16\u0a1bg\u0200LRlr\u09de\u09f7\u0a02\u0a10eft\u0100AR\u09e6\u09ecrrow;\u67f5ightArrow;\u67f7ightArrow;\u67f6eft\u0100ar\u03b3\u0a0aight\xe1\u03bfight\xe1\u03caf;\uc000\ud835\udd43er\u0100LR\u0a22\u0a2ceftArrow;\u6199ightArrow;\u6198\u0180cht\u0a3e\u0a40\u0a42\xf2\u084c;\u61b0rok;\u4141;\u626a\u0400acefiosu\u0a5a\u0a5d\u0a60\u0a77\u0a7c\u0a85\u0a8b\u0a8ep;\u6905y;\u441c\u0100dl\u0a65\u0a6fiumSpace;\u605flintrf;\u6133r;\uc000\ud835\udd10nusPlus;\u6213pf;\uc000\ud835\udd44c\xf2\u0a76;\u439c\u0480Jacefostu\u0aa3\u0aa7\u0aad\u0ac0\u0b14\u0b19\u0d91\u0d97\u0d9ecy;\u440acute;\u4143\u0180aey\u0ab4\u0ab9\u0aberon;\u4147dil;\u4145;\u441d\u0180gsw\u0ac7\u0af0\u0b0eative\u0180MTV\u0ad3\u0adf\u0ae8ediumSpace;\u600bhi\u0100cn\u0ae6\u0ad8\xeb\u0ad9eryThi\xee\u0ad9ted\u0100GL\u0af8\u0b06reaterGreate\xf2\u0673essLes\xf3\u0a48Line;\u400ar;\uc000\ud835\udd11\u0200Bnpt\u0b22\u0b28\u0b37\u0b3areak;\u6060BreakingSpace;\u40a0f;\u6115\u0680;CDEGHLNPRSTV\u0b55\u0b56\u0b6a\u0b7c\u0ba1\u0beb\u0c04\u0c5e\u0c84\u0ca6\u0cd8\u0d61\u0d85\u6aec\u0100ou\u0b5b\u0b64ngruent;\u6262pCap;\u626doubleVerticalBar;\u6226\u0180lqx\u0b83\u0b8a\u0b9bement;\u6209ual\u0100;T\u0b92\u0b93\u6260ilde;\uc000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0bb6\u0bb7\u0bbd\u0bc9\u0bd3\u0bd8\u0be5\u626fqual;\u6271ullEqual;\uc000\u2267\u0338reater;\uc000\u226b\u0338ess;\u6279lantEqual;\uc000\u2a7e\u0338ilde;\u6275ump\u0144\u0bf2\u0bfdownHump;\uc000\u224e\u0338qual;\uc000\u224f\u0338e\u0100fs\u0c0a\u0c27tTriangle\u0180;BE\u0c1a\u0c1b\u0c21\u62eaar;\uc000\u29cf\u0338qual;\u62ecs\u0300;EGLST\u0c35\u0c36\u0c3c\u0c44\u0c4b\u0c58\u626equal;\u6270reater;\u6278ess;\uc000\u226a\u0338lantEqual;\uc000\u2a7d\u0338ilde;\u6274ested\u0100GL\u0c68\u0c79reaterGreater;\uc000\u2aa2\u0338essLess;\uc000\u2aa1\u0338recedes\u0180;ES\u0c92\u0c93\u0c9b\u6280qual;\uc000\u2aaf\u0338lantEqual;\u62e0\u0100ei\u0cab\u0cb9verseElement;\u620cghtTriangle\u0180;BE\u0ccb\u0ccc\u0cd2\u62ebar;\uc000\u29d0\u0338qual;\u62ed\u0100qu\u0cdd\u0d0cuareSu\u0100bp\u0ce8\u0cf9set\u0100;E\u0cf0\u0cf3\uc000\u228f\u0338qual;\u62e2erset\u0100;E\u0d03\u0d06\uc000\u2290\u0338qual;\u62e3\u0180bcp\u0d13\u0d24\u0d4eset\u0100;E\u0d1b\u0d1e\uc000\u2282\u20d2qual;\u6288ceeds\u0200;EST\u0d32\u0d33\u0d3b\u0d46\u6281qual;\uc000\u2ab0\u0338lantEqual;\u62e1ilde;\uc000\u227f\u0338erset\u0100;E\u0d58\u0d5b\uc000\u2283\u20d2qual;\u6289ilde\u0200;EFT\u0d6e\u0d6f\u0d75\u0d7f\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uc000\ud835\udca9ilde\u803b\xd1\u40d1;\u439d\u0700Eacdfgmoprstuv\u0dbd\u0dc2\u0dc9\u0dd5\u0ddb\u0de0\u0de7\u0dfc\u0e02\u0e20\u0e22\u0e32\u0e3f\u0e44lig;\u4152cute\u803b\xd3\u40d3\u0100iy\u0dce\u0dd3rc\u803b\xd4\u40d4;\u441eblac;\u4150r;\uc000\ud835\udd12rave\u803b\xd2\u40d2\u0180aei\u0dee\u0df2\u0df6cr;\u414cga;\u43a9cron;\u439fpf;\uc000\ud835\udd46enCurly\u0100DQ\u0e0e\u0e1aoubleQuote;\u601cuote;\u6018;\u6a54\u0100cl\u0e27\u0e2cr;\uc000\ud835\udcaaash\u803b\xd8\u40d8i\u016c\u0e37\u0e3cde\u803b\xd5\u40d5es;\u6a37ml\u803b\xd6\u40d6er\u0100BP\u0e4b\u0e60\u0100ar\u0e50\u0e53r;\u603eac\u0100ek\u0e5a\u0e5c;\u63deet;\u63b4arenthesis;\u63dc\u0480acfhilors\u0e7f\u0e87\u0e8a\u0e8f\u0e92\u0e94\u0e9d\u0eb0\u0efcrtialD;\u6202y;\u441fr;\uc000\ud835\udd13i;\u43a6;\u43a0usMinus;\u40b1\u0100ip\u0ea2\u0eadncareplan\xe5\u069df;\u6119\u0200;eio\u0eb9\u0eba\u0ee0\u0ee4\u6abbcedes\u0200;EST\u0ec8\u0ec9\u0ecf\u0eda\u627aqual;\u6aaflantEqual;\u627cilde;\u627eme;\u6033\u0100dp\u0ee9\u0eeeuct;\u620fortion\u0100;a\u0225\u0ef9l;\u621d\u0100ci\u0f01\u0f06r;\uc000\ud835\udcab;\u43a8\u0200Ufos\u0f11\u0f16\u0f1b\u0f1fOT\u803b"\u4022r;\uc000\ud835\udd14pf;\u611acr;\uc000\ud835\udcac\u0600BEacefhiorsu\u0f3e\u0f43\u0f47\u0f60\u0f73\u0fa7\u0faa\u0fad\u1096\u10a9\u10b4\u10bearr;\u6910G\u803b\xae\u40ae\u0180cnr\u0f4e\u0f53\u0f56ute;\u4154g;\u67ebr\u0100;t\u0f5c\u0f5d\u61a0l;\u6916\u0180aey\u0f67\u0f6c\u0f71ron;\u4158dil;\u4156;\u4420\u0100;v\u0f78\u0f79\u611cerse\u0100EU\u0f82\u0f99\u0100lq\u0f87\u0f8eement;\u620builibrium;\u61cbpEquilibrium;\u696fr\xbb\u0f79o;\u43a1ght\u0400ACDFTUVa\u0fc1\u0feb\u0ff3\u1022\u1028\u105b\u1087\u03d8\u0100nr\u0fc6\u0fd2gleBracket;\u67e9row\u0180;BL\u0fdc\u0fdd\u0fe1\u6192ar;\u61e5eftArrow;\u61c4eiling;\u6309o\u01f5\u0ff9\0\u1005bleBracket;\u67e7n\u01d4\u100a\0\u1014eeVector;\u695dector\u0100;B\u101d\u101e\u61c2ar;\u6955loor;\u630b\u0100er\u102d\u1043e\u0180;AV\u1035\u1036\u103c\u62a2rrow;\u61a6ector;\u695biangle\u0180;BE\u1050\u1051\u1055\u62b3ar;\u69d0qual;\u62b5p\u0180DTV\u1063\u106e\u1078ownVector;\u694feeVector;\u695cector\u0100;B\u1082\u1083\u61bear;\u6954ector\u0100;B\u1091\u1092\u61c0ar;\u6953\u0100pu\u109b\u109ef;\u611dndImplies;\u6970ightarrow;\u61db\u0100ch\u10b9\u10bcr;\u611b;\u61b1leDelayed;\u69f4\u0680HOacfhimoqstu\u10e4\u10f1\u10f7\u10fd\u1119\u111e\u1151\u1156\u1161\u1167\u11b5\u11bb\u11bf\u0100Cc\u10e9\u10eeHcy;\u4429y;\u4428FTcy;\u442ccute;\u415a\u0280;aeiy\u1108\u1109\u110e\u1113\u1117\u6abcron;\u4160dil;\u415erc;\u415c;\u4421r;\uc000\ud835\udd16ort\u0200DLRU\u112a\u1134\u113e\u1149ownArrow\xbb\u041eeftArrow\xbb\u089aightArrow\xbb\u0fddpArrow;\u6191gma;\u43a3allCircle;\u6218pf;\uc000\ud835\udd4a\u0272\u116d\0\0\u1170t;\u621aare\u0200;ISU\u117b\u117c\u1189\u11af\u65a1ntersection;\u6293u\u0100bp\u118f\u119eset\u0100;E\u1197\u1198\u628fqual;\u6291erset\u0100;E\u11a8\u11a9\u6290qual;\u6292nion;\u6294cr;\uc000\ud835\udcaear;\u62c6\u0200bcmp\u11c8\u11db\u1209\u120b\u0100;s\u11cd\u11ce\u62d0et\u0100;E\u11cd\u11d5qual;\u6286\u0100ch\u11e0\u1205eeds\u0200;EST\u11ed\u11ee\u11f4\u11ff\u627bqual;\u6ab0lantEqual;\u627dilde;\u627fTh\xe1\u0f8c;\u6211\u0180;es\u1212\u1213\u1223\u62d1rset\u0100;E\u121c\u121d\u6283qual;\u6287et\xbb\u1213\u0580HRSacfhiors\u123e\u1244\u1249\u1255\u125e\u1271\u1276\u129f\u12c2\u12c8\u12d1ORN\u803b\xde\u40deADE;\u6122\u0100Hc\u124e\u1252cy;\u440by;\u4426\u0100bu\u125a\u125c;\u4009;\u43a4\u0180aey\u1265\u126a\u126fron;\u4164dil;\u4162;\u4422r;\uc000\ud835\udd17\u0100ei\u127b\u1289\u01f2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128e\u1298kSpace;\uc000\u205f\u200aSpace;\u6009lde\u0200;EFT\u12ab\u12ac\u12b2\u12bc\u623cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uc000\ud835\udd4bipleDot;\u60db\u0100ct\u12d6\u12dbr;\uc000\ud835\udcafrok;\u4166\u0ae1\u12f7\u130e\u131a\u1326\0\u132c\u1331\0\0\0\0\0\u1338\u133d\u1377\u1385\0\u13ff\u1404\u140a\u1410\u0100cr\u12fb\u1301ute\u803b\xda\u40dar\u0100;o\u1307\u1308\u619fcir;\u6949r\u01e3\u1313\0\u1316y;\u440eve;\u416c\u0100iy\u131e\u1323rc\u803b\xdb\u40db;\u4423blac;\u4170r;\uc000\ud835\udd18rave\u803b\xd9\u40d9acr;\u416a\u0100di\u1341\u1369er\u0100BP\u1348\u135d\u0100ar\u134d\u1350r;\u405fac\u0100ek\u1357\u1359;\u63dfet;\u63b5arenthesis;\u63ddon\u0100;P\u1370\u1371\u62c3lus;\u628e\u0100gp\u137b\u137fon;\u4172f;\uc000\ud835\udd4c\u0400ADETadps\u1395\u13ae\u13b8\u13c4\u03e8\u13d2\u13d7\u13f3rrow\u0180;BD\u1150\u13a0\u13a4ar;\u6912ownArrow;\u61c5ownArrow;\u6195quilibrium;\u696eee\u0100;A\u13cb\u13cc\u62a5rrow;\u61a5own\xe1\u03f3er\u0100LR\u13de\u13e8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13f9\u13fa\u43d2on;\u43a5ing;\u416ecr;\uc000\ud835\udcb0ilde;\u4168ml\u803b\xdc\u40dc\u0480Dbcdefosv\u1427\u142c\u1430\u1433\u143e\u1485\u148a\u1490\u1496ash;\u62abar;\u6aeby;\u4412ash\u0100;l\u143b\u143c\u62a9;\u6ae6\u0100er\u1443\u1445;\u62c1\u0180bty\u144c\u1450\u147aar;\u6016\u0100;i\u144f\u1455cal\u0200BLST\u1461\u1465\u146a\u1474ar;\u6223ine;\u407ceparator;\u6758ilde;\u6240ThinSpace;\u600ar;\uc000\ud835\udd19pf;\uc000\ud835\udd4dcr;\uc000\ud835\udcb1dash;\u62aa\u0280cefos\u14a7\u14ac\u14b1\u14b6\u14bcirc;\u4174dge;\u62c0r;\uc000\ud835\udd1apf;\uc000\ud835\udd4ecr;\uc000\ud835\udcb2\u0200fios\u14cb\u14d0\u14d2\u14d8r;\uc000\ud835\udd1b;\u439epf;\uc000\ud835\udd4fcr;\uc000\ud835\udcb3\u0480AIUacfosu\u14f1\u14f5\u14f9\u14fd\u1504\u150f\u1514\u151a\u1520cy;\u442fcy;\u4407cy;\u442ecute\u803b\xdd\u40dd\u0100iy\u1509\u150drc;\u4176;\u442br;\uc000\ud835\udd1cpf;\uc000\ud835\udd50cr;\uc000\ud835\udcb4ml;\u4178\u0400Hacdefos\u1535\u1539\u153f\u154b\u154f\u155d\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417d;\u4417ot;\u417b\u01f2\u1554\0\u155boWidt\xe8\u0ad9a;\u4396r;\u6128pf;\u6124cr;\uc000\ud835\udcb5\u0be1\u1583\u158a\u1590\0\u15b0\u15b6\u15bf\0\0\0\0\u15c6\u15db\u15eb\u165f\u166d\0\u1695\u169b\u16b2\u16b9\0\u16becute\u803b\xe1\u40e1reve;\u4103\u0300;Ediuy\u159c\u159d\u15a1\u15a3\u15a8\u15ad\u623e;\uc000\u223e\u0333;\u623frc\u803b\xe2\u40e2te\u80bb\xb4\u0306;\u4430lig\u803b\xe6\u40e6\u0100;r\xb2\u15ba;\uc000\ud835\udd1erave\u803b\xe0\u40e0\u0100ep\u15ca\u15d6\u0100fp\u15cf\u15d4sym;\u6135\xe8\u15d3ha;\u43b1\u0100ap\u15dfc\u0100cl\u15e4\u15e7r;\u4101g;\u6a3f\u0264\u15f0\0\0\u160a\u0280;adsv\u15fa\u15fb\u15ff\u1601\u1607\u6227nd;\u6a55;\u6a5clope;\u6a58;\u6a5a\u0380;elmrsz\u1618\u1619\u161b\u161e\u163f\u164f\u1659\u6220;\u69a4e\xbb\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163a\u163c\u163e;\u69a8;\u69a9;\u69aa;\u69ab;\u69ac;\u69ad;\u69ae;\u69aft\u0100;v\u1645\u1646\u621fb\u0100;d\u164c\u164d\u62be;\u699d\u0100pt\u1654\u1657h;\u6222\xbb\xb9arr;\u637c\u0100gp\u1663\u1667on;\u4105f;\uc000\ud835\udd52\u0380;Eaeiop\u12c1\u167b\u167d\u1682\u1684\u1687\u168a;\u6a70cir;\u6a6f;\u624ad;\u624bs;\u4027rox\u0100;e\u12c1\u1692\xf1\u1683ing\u803b\xe5\u40e5\u0180cty\u16a1\u16a6\u16a8r;\uc000\ud835\udcb6;\u402amp\u0100;e\u12c1\u16af\xf1\u0288ilde\u803b\xe3\u40e3ml\u803b\xe4\u40e4\u0100ci\u16c2\u16c8onin\xf4\u0272nt;\u6a11\u0800Nabcdefiklnoprsu\u16ed\u16f1\u1730\u173c\u1743\u1748\u1778\u177d\u17e0\u17e6\u1839\u1850\u170d\u193d\u1948\u1970ot;\u6aed\u0100cr\u16f6\u171ek\u0200ceps\u1700\u1705\u170d\u1713ong;\u624cpsilon;\u43f6rime;\u6035im\u0100;e\u171a\u171b\u623dq;\u62cd\u0176\u1722\u1726ee;\u62bded\u0100;g\u172c\u172d\u6305e\xbb\u172drk\u0100;t\u135c\u1737brk;\u63b6\u0100oy\u1701\u1741;\u4431quo;\u601e\u0280cmprt\u1753\u175b\u1761\u1764\u1768aus\u0100;e\u010a\u0109ptyv;\u69b0s\xe9\u170cno\xf5\u0113\u0180ahw\u176f\u1771\u1773;\u43b2;\u6136een;\u626cr;\uc000\ud835\udd1fg\u0380costuvw\u178d\u179d\u17b3\u17c1\u17d5\u17db\u17de\u0180aiu\u1794\u1796\u179a\xf0\u0760rc;\u65efp\xbb\u1371\u0180dpt\u17a4\u17a8\u17adot;\u6a00lus;\u6a01imes;\u6a02\u0271\u17b9\0\0\u17becup;\u6a06ar;\u6605riangle\u0100du\u17cd\u17d2own;\u65bdp;\u65b3plus;\u6a04e\xe5\u1444\xe5\u14adarow;\u690d\u0180ako\u17ed\u1826\u1835\u0100cn\u17f2\u1823k\u0180lst\u17fa\u05ab\u1802ozenge;\u69ebriangle\u0200;dlr\u1812\u1813\u1818\u181d\u65b4own;\u65beeft;\u65c2ight;\u65b8k;\u6423\u01b1\u182b\0\u1833\u01b2\u182f\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183e\u184d\u0100;q\u1843\u1846\uc000=\u20e5uiv;\uc000\u2261\u20e5t;\u6310\u0200ptwx\u1859\u185e\u1867\u186cf;\uc000\ud835\udd53\u0100;t\u13cb\u1863om\xbb\u13cctie;\u62c8\u0600DHUVbdhmptuv\u1885\u1896\u18aa\u18bb\u18d7\u18db\u18ec\u18ff\u1905\u190a\u1910\u1921\u0200LRlr\u188e\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18a1\u18a2\u18a4\u18a6\u18a8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18b3\u18b5\u18b7\u18b9;\u655d;\u655a;\u655c;\u6559\u0380;HLRhlr\u18ca\u18cb\u18cd\u18cf\u18d1\u18d3\u18d5\u6551;\u656c;\u6563;\u6560;\u656b;\u6562;\u655fox;\u69c9\u0200LRlr\u18e4\u18e6\u18e8\u18ea;\u6555;\u6552;\u6510;\u650c\u0280;DUdu\u06bd\u18f7\u18f9\u18fb\u18fd;\u6565;\u6568;\u652c;\u6534inus;\u629flus;\u629eimes;\u62a0\u0200LRlr\u1919\u191b\u191d\u191f;\u655b;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193b\u6502;\u656a;\u6561;\u655e;\u653c;\u6524;\u651c\u0100ev\u0123\u1942bar\u803b\xa6\u40a6\u0200ceio\u1951\u1956\u195a\u1960r;\uc000\ud835\udcb7mi;\u604fm\u0100;e\u171a\u171cl\u0180;bh\u1968\u1969\u196b\u405c;\u69c5sub;\u67c8\u016c\u1974\u197el\u0100;e\u1979\u197a\u6022t\xbb\u197ap\u0180;Ee\u012f\u1985\u1987;\u6aae\u0100;q\u06dc\u06db\u0ce1\u19a7\0\u19e8\u1a11\u1a15\u1a32\0\u1a37\u1a50\0\0\u1ab4\0\0\u1ac1\0\0\u1b21\u1b2e\u1b4d\u1b52\0\u1bfd\0\u1c0c\u0180cpr\u19ad\u19b2\u19ddute;\u4107\u0300;abcds\u19bf\u19c0\u19c4\u19ca\u19d5\u19d9\u6229nd;\u6a44rcup;\u6a49\u0100au\u19cf\u19d2p;\u6a4bp;\u6a47ot;\u6a40;\uc000\u2229\ufe00\u0100eo\u19e2\u19e5t;\u6041\xee\u0693\u0200aeiu\u19f0\u19fb\u1a01\u1a05\u01f0\u19f5\0\u19f8s;\u6a4don;\u410ddil\u803b\xe7\u40e7rc;\u4109ps\u0100;s\u1a0c\u1a0d\u6a4cm;\u6a50ot;\u410b\u0180dmn\u1a1b\u1a20\u1a26il\u80bb\xb8\u01adptyv;\u69b2t\u8100\xa2;e\u1a2d\u1a2e\u40a2r\xe4\u01b2r;\uc000\ud835\udd20\u0180cei\u1a3d\u1a40\u1a4dy;\u4447ck\u0100;m\u1a47\u1a48\u6713ark\xbb\u1a48;\u43c7r\u0380;Ecefms\u1a5f\u1a60\u1a62\u1a6b\u1aa4\u1aaa\u1aae\u65cb;\u69c3\u0180;el\u1a69\u1a6a\u1a6d\u42c6q;\u6257e\u0261\u1a74\0\0\u1a88rrow\u0100lr\u1a7c\u1a81eft;\u61baight;\u61bb\u0280RSacd\u1a92\u1a94\u1a96\u1a9a\u1a9f\xbb\u0f47;\u64c8st;\u629birc;\u629aash;\u629dnint;\u6a10id;\u6aefcir;\u69c2ubs\u0100;u\u1abb\u1abc\u6663it\xbb\u1abc\u02ec\u1ac7\u1ad4\u1afa\0\u1b0aon\u0100;e\u1acd\u1ace\u403a\u0100;q\xc7\xc6\u026d\u1ad9\0\0\u1ae2a\u0100;t\u1ade\u1adf\u402c;\u4040\u0180;fl\u1ae8\u1ae9\u1aeb\u6201\xee\u1160e\u0100mx\u1af1\u1af6ent\xbb\u1ae9e\xf3\u024d\u01e7\u1afe\0\u1b07\u0100;d\u12bb\u1b02ot;\u6a6dn\xf4\u0246\u0180fry\u1b10\u1b14\u1b17;\uc000\ud835\udd54o\xe4\u0254\u8100\xa9;s\u0155\u1b1dr;\u6117\u0100ao\u1b25\u1b29rr;\u61b5ss;\u6717\u0100cu\u1b32\u1b37r;\uc000\ud835\udcb8\u0100bp\u1b3c\u1b44\u0100;e\u1b41\u1b42\u6acf;\u6ad1\u0100;e\u1b49\u1b4a\u6ad0;\u6ad2dot;\u62ef\u0380delprvw\u1b60\u1b6c\u1b77\u1b82\u1bac\u1bd4\u1bf9arr\u0100lr\u1b68\u1b6a;\u6938;\u6935\u0270\u1b72\0\0\u1b75r;\u62dec;\u62dfarr\u0100;p\u1b7f\u1b80\u61b6;\u693d\u0300;bcdos\u1b8f\u1b90\u1b96\u1ba1\u1ba5\u1ba8\u622arcap;\u6a48\u0100au\u1b9b\u1b9ep;\u6a46p;\u6a4aot;\u628dr;\u6a45;\uc000\u222a\ufe00\u0200alrv\u1bb5\u1bbf\u1bde\u1be3rr\u0100;m\u1bbc\u1bbd\u61b7;\u693cy\u0180evw\u1bc7\u1bd4\u1bd8q\u0270\u1bce\0\0\u1bd2re\xe3\u1b73u\xe3\u1b75ee;\u62ceedge;\u62cfen\u803b\xa4\u40a4earrow\u0100lr\u1bee\u1bf3eft\xbb\u1b80ight\xbb\u1bbde\xe4\u1bdd\u0100ci\u1c01\u1c07onin\xf4\u01f7nt;\u6231lcty;\u632d\u0980AHabcdefhijlorstuwz\u1c38\u1c3b\u1c3f\u1c5d\u1c69\u1c75\u1c8a\u1c9e\u1cac\u1cb7\u1cfb\u1cff\u1d0d\u1d7b\u1d91\u1dab\u1dbb\u1dc6\u1dcdr\xf2\u0381ar;\u6965\u0200glrs\u1c48\u1c4d\u1c52\u1c54ger;\u6020eth;\u6138\xf2\u1133h\u0100;v\u1c5a\u1c5b\u6010\xbb\u090a\u016b\u1c61\u1c67arow;\u690fa\xe3\u0315\u0100ay\u1c6e\u1c73ron;\u410f;\u4434\u0180;ao\u0332\u1c7c\u1c84\u0100gr\u02bf\u1c81r;\u61catseq;\u6a77\u0180glm\u1c91\u1c94\u1c98\u803b\xb0\u40b0ta;\u43b4ptyv;\u69b1\u0100ir\u1ca3\u1ca8sht;\u697f;\uc000\ud835\udd21ar\u0100lr\u1cb3\u1cb5\xbb\u08dc\xbb\u101e\u0280aegsv\u1cc2\u0378\u1cd6\u1cdc\u1ce0m\u0180;os\u0326\u1cca\u1cd4nd\u0100;s\u0326\u1cd1uit;\u6666amma;\u43ddin;\u62f2\u0180;io\u1ce7\u1ce8\u1cf8\u40f7de\u8100\xf7;o\u1ce7\u1cf0ntimes;\u62c7n\xf8\u1cf7cy;\u4452c\u026f\u1d06\0\0\u1d0arn;\u631eop;\u630d\u0280lptuw\u1d18\u1d1d\u1d22\u1d49\u1d55lar;\u4024f;\uc000\ud835\udd55\u0280;emps\u030b\u1d2d\u1d37\u1d3d\u1d42q\u0100;d\u0352\u1d33ot;\u6251inus;\u6238lus;\u6214quare;\u62a1blebarwedg\xe5\xfan\u0180adh\u112e\u1d5d\u1d67ownarrow\xf3\u1c83arpoon\u0100lr\u1d72\u1d76ef\xf4\u1cb4igh\xf4\u1cb6\u0162\u1d7f\u1d85karo\xf7\u0f42\u026f\u1d8a\0\0\u1d8ern;\u631fop;\u630c\u0180cot\u1d98\u1da3\u1da6\u0100ry\u1d9d\u1da1;\uc000\ud835\udcb9;\u4455l;\u69f6rok;\u4111\u0100dr\u1db0\u1db4ot;\u62f1i\u0100;f\u1dba\u1816\u65bf\u0100ah\u1dc0\u1dc3r\xf2\u0429a\xf2\u0fa6angle;\u69a6\u0100ci\u1dd2\u1dd5y;\u445fgrarr;\u67ff\u0900Dacdefglmnopqrstux\u1e01\u1e09\u1e19\u1e38\u0578\u1e3c\u1e49\u1e61\u1e7e\u1ea5\u1eaf\u1ebd\u1ee1\u1f2a\u1f37\u1f44\u1f4e\u1f5a\u0100Do\u1e06\u1d34o\xf4\u1c89\u0100cs\u1e0e\u1e14ute\u803b\xe9\u40e9ter;\u6a6e\u0200aioy\u1e22\u1e27\u1e31\u1e36ron;\u411br\u0100;c\u1e2d\u1e2e\u6256\u803b\xea\u40ealon;\u6255;\u444dot;\u4117\u0100Dr\u1e41\u1e45ot;\u6252;\uc000\ud835\udd22\u0180;rs\u1e50\u1e51\u1e57\u6a9aave\u803b\xe8\u40e8\u0100;d\u1e5c\u1e5d\u6a96ot;\u6a98\u0200;ils\u1e6a\u1e6b\u1e72\u1e74\u6a99nters;\u63e7;\u6113\u0100;d\u1e79\u1e7a\u6a95ot;\u6a97\u0180aps\u1e85\u1e89\u1e97cr;\u4113ty\u0180;sv\u1e92\u1e93\u1e95\u6205et\xbb\u1e93p\u01001;\u1e9d\u1ea4\u0133\u1ea1\u1ea3;\u6004;\u6005\u6003\u0100gs\u1eaa\u1eac;\u414bp;\u6002\u0100gp\u1eb4\u1eb8on;\u4119f;\uc000\ud835\udd56\u0180als\u1ec4\u1ece\u1ed2r\u0100;s\u1eca\u1ecb\u62d5l;\u69e3us;\u6a71i\u0180;lv\u1eda\u1edb\u1edf\u43b5on\xbb\u1edb;\u43f5\u0200csuv\u1eea\u1ef3\u1f0b\u1f23\u0100io\u1eef\u1e31rc\xbb\u1e2e\u0269\u1ef9\0\0\u1efb\xed\u0548ant\u0100gl\u1f02\u1f06tr\xbb\u1e5dess\xbb\u1e7a\u0180aei\u1f12\u1f16\u1f1als;\u403dst;\u625fv\u0100;D\u0235\u1f20D;\u6a78parsl;\u69e5\u0100Da\u1f2f\u1f33ot;\u6253rr;\u6971\u0180cdi\u1f3e\u1f41\u1ef8r;\u612fo\xf4\u0352\u0100ah\u1f49\u1f4b;\u43b7\u803b\xf0\u40f0\u0100mr\u1f53\u1f57l\u803b\xeb\u40ebo;\u60ac\u0180cip\u1f61\u1f64\u1f67l;\u4021s\xf4\u056e\u0100eo\u1f6c\u1f74ctatio\xee\u0559nential\xe5\u0579\u09e1\u1f92\0\u1f9e\0\u1fa1\u1fa7\0\0\u1fc6\u1fcc\0\u1fd3\0\u1fe6\u1fea\u2000\0\u2008\u205allingdotse\xf1\u1e44y;\u4444male;\u6640\u0180ilr\u1fad\u1fb3\u1fc1lig;\u8000\ufb03\u0269\u1fb9\0\0\u1fbdg;\u8000\ufb00ig;\u8000\ufb04;\uc000\ud835\udd23lig;\u8000\ufb01lig;\uc000fj\u0180alt\u1fd9\u1fdc\u1fe1t;\u666dig;\u8000\ufb02ns;\u65b1of;\u4192\u01f0\u1fee\0\u1ff3f;\uc000\ud835\udd57\u0100ak\u05bf\u1ff7\u0100;v\u1ffc\u1ffd\u62d4;\u6ad9artint;\u6a0d\u0100ao\u200c\u2055\u0100cs\u2011\u2052\u03b1\u201a\u2030\u2038\u2045\u2048\0\u2050\u03b2\u2022\u2025\u2027\u202a\u202c\0\u202e\u803b\xbd\u40bd;\u6153\u803b\xbc\u40bc;\u6155;\u6159;\u615b\u01b3\u2034\0\u2036;\u6154;\u6156\u02b4\u203e\u2041\0\0\u2043\u803b\xbe\u40be;\u6157;\u615c5;\u6158\u01b6\u204c\0\u204e;\u615a;\u615d8;\u615el;\u6044wn;\u6322cr;\uc000\ud835\udcbb\u0880Eabcdefgijlnorstv\u2082\u2089\u209f\u20a5\u20b0\u20b4\u20f0\u20f5\u20fa\u20ff\u2103\u2112\u2138\u0317\u213e\u2152\u219e\u0100;l\u064d\u2087;\u6a8c\u0180cmp\u2090\u2095\u209dute;\u41f5ma\u0100;d\u209c\u1cda\u43b3;\u6a86reve;\u411f\u0100iy\u20aa\u20aerc;\u411d;\u4433ot;\u4121\u0200;lqs\u063e\u0642\u20bd\u20c9\u0180;qs\u063e\u064c\u20c4lan\xf4\u0665\u0200;cdl\u0665\u20d2\u20d5\u20e5c;\u6aa9ot\u0100;o\u20dc\u20dd\u6a80\u0100;l\u20e2\u20e3\u6a82;\u6a84\u0100;e\u20ea\u20ed\uc000\u22db\ufe00s;\u6a94r;\uc000\ud835\udd24\u0100;g\u0673\u061bmel;\u6137cy;\u4453\u0200;Eaj\u065a\u210c\u210e\u2110;\u6a92;\u6aa5;\u6aa4\u0200Eaes\u211b\u211d\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6a8arox\xbb\u2124\u0100;q\u212e\u212f\u6a88\u0100;q\u212e\u211bim;\u62e7pf;\uc000\ud835\udd58\u0100ci\u2143\u2146r;\u610am\u0180;el\u066b\u214e\u2150;\u6a8e;\u6a90\u8300>;cdlqr\u05ee\u2160\u216a\u216e\u2173\u2179\u0100ci\u2165\u2167;\u6aa7r;\u6a7aot;\u62d7Par;\u6995uest;\u6a7c\u0280adels\u2184\u216a\u2190\u0656\u219b\u01f0\u2189\0\u218epro\xf8\u209er;\u6978q\u0100lq\u063f\u2196les\xf3\u2088i\xed\u066b\u0100en\u21a3\u21adrtneqq;\uc000\u2269\ufe00\xc5\u21aa\u0500Aabcefkosy\u21c4\u21c7\u21f1\u21f5\u21fa\u2218\u221d\u222f\u2268\u227dr\xf2\u03a0\u0200ilmr\u21d0\u21d4\u21d7\u21dbrs\xf0\u1484f\xbb\u2024il\xf4\u06a9\u0100dr\u21e0\u21e4cy;\u444a\u0180;cw\u08f4\u21eb\u21efir;\u6948;\u61adar;\u610firc;\u4125\u0180alr\u2201\u220e\u2213rts\u0100;u\u2209\u220a\u6665it\xbb\u220alip;\u6026con;\u62b9r;\uc000\ud835\udd25s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223a\u223e\u2243\u225e\u2263rr;\u61fftht;\u623bk\u0100lr\u2249\u2253eftarrow;\u61a9ightarrow;\u61aaf;\uc000\ud835\udd59bar;\u6015\u0180clt\u226f\u2274\u2278r;\uc000\ud835\udcbdas\xe8\u21f4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xbb\u1c5b\u0ae1\u22a3\0\u22aa\0\u22b8\u22c5\u22ce\0\u22d5\u22f3\0\0\u22f8\u2322\u2367\u2362\u237f\0\u2386\u23aa\u23b4cute\u803b\xed\u40ed\u0180;iy\u0771\u22b0\u22b5rc\u803b\xee\u40ee;\u4438\u0100cx\u22bc\u22bfy;\u4435cl\u803b\xa1\u40a1\u0100fr\u039f\u22c9;\uc000\ud835\udd26rave\u803b\xec\u40ec\u0200;ino\u073e\u22dd\u22e9\u22ee\u0100in\u22e2\u22e6nt;\u6a0ct;\u622dfin;\u69dcta;\u6129lig;\u4133\u0180aop\u22fe\u231a\u231d\u0180cgt\u2305\u2308\u2317r;\u412b\u0180elp\u071f\u230f\u2313in\xe5\u078ear\xf4\u0720h;\u4131f;\u62b7ed;\u41b5\u0280;cfot\u04f4\u232c\u2331\u233d\u2341are;\u6105in\u0100;t\u2338\u2339\u621eie;\u69dddo\xf4\u2319\u0280;celp\u0757\u234c\u2350\u235b\u2361al;\u62ba\u0100gr\u2355\u2359er\xf3\u1563\xe3\u234darhk;\u6a17rod;\u6a3c\u0200cgpt\u236f\u2372\u2376\u237by;\u4451on;\u412ff;\uc000\ud835\udd5aa;\u43b9uest\u803b\xbf\u40bf\u0100ci\u238a\u238fr;\uc000\ud835\udcben\u0280;Edsv\u04f4\u239b\u239d\u23a1\u04f3;\u62f9ot;\u62f5\u0100;v\u23a6\u23a7\u62f4;\u62f3\u0100;i\u0777\u23aelde;\u4129\u01eb\u23b8\0\u23bccy;\u4456l\u803b\xef\u40ef\u0300cfmosu\u23cc\u23d7\u23dc\u23e1\u23e7\u23f5\u0100iy\u23d1\u23d5rc;\u4135;\u4439r;\uc000\ud835\udd27ath;\u4237pf;\uc000\ud835\udd5b\u01e3\u23ec\0\u23f1r;\uc000\ud835\udcbfrcy;\u4458kcy;\u4454\u0400acfghjos\u240b\u2416\u2422\u2427\u242d\u2431\u2435\u243bppa\u0100;v\u2413\u2414\u43ba;\u43f0\u0100ey\u241b\u2420dil;\u4137;\u443ar;\uc000\ud835\udd28reen;\u4138cy;\u4445cy;\u445cpf;\uc000\ud835\udd5ccr;\uc000\ud835\udcc0\u0b80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248d\u2491\u250e\u253d\u255a\u2580\u264e\u265e\u2665\u2679\u267d\u269a\u26b2\u26d8\u275d\u2768\u278b\u27c0\u2801\u2812\u0180art\u2477\u247a\u247cr\xf2\u09c6\xf2\u0395ail;\u691barr;\u690e\u0100;g\u0994\u248b;\u6a8bar;\u6962\u0963\u24a5\0\u24aa\0\u24b1\0\0\0\0\0\u24b5\u24ba\0\u24c6\u24c8\u24cd\0\u24f9ute;\u413amptyv;\u69b4ra\xee\u084cbda;\u43bbg\u0180;dl\u088e\u24c1\u24c3;\u6991\xe5\u088e;\u6a85uo\u803b\xab\u40abr\u0400;bfhlpst\u0899\u24de\u24e6\u24e9\u24eb\u24ee\u24f1\u24f5\u0100;f\u089d\u24e3s;\u691fs;\u691d\xeb\u2252p;\u61abl;\u6939im;\u6973l;\u61a2\u0180;ae\u24ff\u2500\u2504\u6aabil;\u6919\u0100;s\u2509\u250a\u6aad;\uc000\u2aad\ufe00\u0180abr\u2515\u2519\u251drr;\u690crk;\u6772\u0100ak\u2522\u252cc\u0100ek\u2528\u252a;\u407b;\u405b\u0100es\u2531\u2533;\u698bl\u0100du\u2539\u253b;\u698f;\u698d\u0200aeuy\u2546\u254b\u2556\u2558ron;\u413e\u0100di\u2550\u2554il;\u413c\xec\u08b0\xe2\u2529;\u443b\u0200cqrs\u2563\u2566\u256d\u257da;\u6936uo\u0100;r\u0e19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694bh;\u61b2\u0280;fgqs\u258b\u258c\u0989\u25f3\u25ff\u6264t\u0280ahlrt\u2598\u25a4\u25b7\u25c2\u25e8rrow\u0100;t\u0899\u25a1a\xe9\u24f6arpoon\u0100du\u25af\u25b4own\xbb\u045ap\xbb\u0966eftarrows;\u61c7ight\u0180ahs\u25cd\u25d6\u25derrow\u0100;s\u08f4\u08a7arpoon\xf3\u0f98quigarro\xf7\u21f0hreetimes;\u62cb\u0180;qs\u258b\u0993\u25falan\xf4\u09ac\u0280;cdgs\u09ac\u260a\u260d\u261d\u2628c;\u6aa8ot\u0100;o\u2614\u2615\u6a7f\u0100;r\u261a\u261b\u6a81;\u6a83\u0100;e\u2622\u2625\uc000\u22da\ufe00s;\u6a93\u0280adegs\u2633\u2639\u263d\u2649\u264bppro\xf8\u24c6ot;\u62d6q\u0100gq\u2643\u2645\xf4\u0989gt\xf2\u248c\xf4\u099bi\xed\u09b2\u0180ilr\u2655\u08e1\u265asht;\u697c;\uc000\ud835\udd29\u0100;E\u099c\u2663;\u6a91\u0161\u2669\u2676r\u0100du\u25b2\u266e\u0100;l\u0965\u2673;\u696alk;\u6584cy;\u4459\u0280;acht\u0a48\u2688\u268b\u2691\u2696r\xf2\u25c1orne\xf2\u1d08ard;\u696bri;\u65fa\u0100io\u269f\u26a4dot;\u4140ust\u0100;a\u26ac\u26ad\u63b0che\xbb\u26ad\u0200Eaes\u26bb\u26bd\u26c9\u26d4;\u6268p\u0100;p\u26c3\u26c4\u6a89rox\xbb\u26c4\u0100;q\u26ce\u26cf\u6a87\u0100;q\u26ce\u26bbim;\u62e6\u0400abnoptwz\u26e9\u26f4\u26f7\u271a\u272f\u2741\u2747\u2750\u0100nr\u26ee\u26f1g;\u67ecr;\u61fdr\xeb\u08c1g\u0180lmr\u26ff\u270d\u2714eft\u0100ar\u09e6\u2707ight\xe1\u09f2apsto;\u67fcight\xe1\u09fdparrow\u0100lr\u2725\u2729ef\xf4\u24edight;\u61ac\u0180afl\u2736\u2739\u273dr;\u6985;\uc000\ud835\udd5dus;\u6a2dimes;\u6a34\u0161\u274b\u274fst;\u6217\xe1\u134e\u0180;ef\u2757\u2758\u1800\u65cange\xbb\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277c\u2785\u2787r\xf2\u08a8orne\xf2\u1d8car\u0100;d\u0f98\u2783;\u696d;\u600eri;\u62bf\u0300achiqt\u2798\u279d\u0a40\u27a2\u27ae\u27bbquo;\u6039r;\uc000\ud835\udcc1m\u0180;eg\u09b2\u27aa\u27ac;\u6a8d;\u6a8f\u0100bu\u252a\u27b3o\u0100;r\u0e1f\u27b9;\u601arok;\u4142\u8400<;cdhilqr\u082b\u27d2\u2639\u27dc\u27e0\u27e5\u27ea\u27f0\u0100ci\u27d7\u27d9;\u6aa6r;\u6a79re\xe5\u25f2mes;\u62c9arr;\u6976uest;\u6a7b\u0100Pi\u27f5\u27f9ar;\u6996\u0180;ef\u2800\u092d\u181b\u65c3r\u0100du\u2807\u280dshar;\u694ahar;\u6966\u0100en\u2817\u2821rtneqq;\uc000\u2268\ufe00\xc5\u281e\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288e\u2893\u28a0\u28a5\u28a8\u28da\u28e2\u28e4\u0a83\u28f3\u2902Dot;\u623a\u0200clpr\u284e\u2852\u2863\u287dr\u803b\xaf\u40af\u0100et\u2857\u2859;\u6642\u0100;e\u285e\u285f\u6720se\xbb\u285f\u0100;s\u103b\u2868to\u0200;dlu\u103b\u2873\u2877\u287bow\xee\u048cef\xf4\u090f\xf0\u13d1ker;\u65ae\u0100oy\u2887\u288cmma;\u6a29;\u443cash;\u6014asuredangle\xbb\u1626r;\uc000\ud835\udd2ao;\u6127\u0180cdn\u28af\u28b4\u28c9ro\u803b\xb5\u40b5\u0200;acd\u1464\u28bd\u28c0\u28c4s\xf4\u16a7ir;\u6af0ot\u80bb\xb7\u01b5us\u0180;bd\u28d2\u1903\u28d3\u6212\u0100;u\u1d3c\u28d8;\u6a2a\u0163\u28de\u28e1p;\u6adb\xf2\u2212\xf0\u0a81\u0100dp\u28e9\u28eeels;\u62a7f;\uc000\ud835\udd5e\u0100ct\u28f8\u28fdr;\uc000\ud835\udcc2pos\xbb\u159d\u0180;lm\u2909\u290a\u290d\u43bctimap;\u62b8\u0c00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297e\u2989\u2998\u29da\u29e9\u2a15\u2a1a\u2a58\u2a5d\u2a83\u2a95\u2aa4\u2aa8\u2b04\u2b07\u2b44\u2b7f\u2bae\u2c34\u2c67\u2c7c\u2ce9\u0100gt\u2947\u294b;\uc000\u22d9\u0338\u0100;v\u2950\u0bcf\uc000\u226b\u20d2\u0180elt\u295a\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61cdightarrow;\u61ce;\uc000\u22d8\u0338\u0100;v\u297b\u0c47\uc000\u226a\u20d2ightarrow;\u61cf\u0100Dd\u298e\u2993ash;\u62afash;\u62ae\u0280bcnpt\u29a3\u29a7\u29ac\u29b1\u29ccla\xbb\u02deute;\u4144g;\uc000\u2220\u20d2\u0280;Eiop\u0d84\u29bc\u29c0\u29c5\u29c8;\uc000\u2a70\u0338d;\uc000\u224b\u0338s;\u4149ro\xf8\u0d84ur\u0100;a\u29d3\u29d4\u666el\u0100;s\u29d3\u0b38\u01f3\u29df\0\u29e3p\u80bb\xa0\u0b37mp\u0100;e\u0bf9\u0c00\u0280aeouy\u29f4\u29fe\u2a03\u2a10\u2a13\u01f0\u29f9\0\u29fb;\u6a43on;\u4148dil;\u4146ng\u0100;d\u0d7e\u2a0aot;\uc000\u2a6d\u0338p;\u6a42;\u443dash;\u6013\u0380;Aadqsx\u0b92\u2a29\u2a2d\u2a3b\u2a41\u2a45\u2a50rr;\u61d7r\u0100hr\u2a33\u2a36k;\u6924\u0100;o\u13f2\u13f0ot;\uc000\u2250\u0338ui\xf6\u0b63\u0100ei\u2a4a\u2a4ear;\u6928\xed\u0b98ist\u0100;s\u0ba0\u0b9fr;\uc000\ud835\udd2b\u0200Eest\u0bc5\u2a66\u2a79\u2a7c\u0180;qs\u0bbc\u2a6d\u0be1\u0180;qs\u0bbc\u0bc5\u2a74lan\xf4\u0be2i\xed\u0bea\u0100;r\u0bb6\u2a81\xbb\u0bb7\u0180Aap\u2a8a\u2a8d\u2a91r\xf2\u2971rr;\u61aear;\u6af2\u0180;sv\u0f8d\u2a9c\u0f8c\u0100;d\u2aa1\u2aa2\u62fc;\u62facy;\u445a\u0380AEadest\u2ab7\u2aba\u2abe\u2ac2\u2ac5\u2af6\u2af9r\xf2\u2966;\uc000\u2266\u0338rr;\u619ar;\u6025\u0200;fqs\u0c3b\u2ace\u2ae3\u2aeft\u0100ar\u2ad4\u2ad9rro\xf7\u2ac1ightarro\xf7\u2a90\u0180;qs\u0c3b\u2aba\u2aealan\xf4\u0c55\u0100;s\u0c55\u2af4\xbb\u0c36i\xed\u0c5d\u0100;r\u0c35\u2afei\u0100;e\u0c1a\u0c25i\xe4\u0d90\u0100pt\u2b0c\u2b11f;\uc000\ud835\udd5f\u8180\xac;in\u2b19\u2b1a\u2b36\u40acn\u0200;Edv\u0b89\u2b24\u2b28\u2b2e;\uc000\u22f9\u0338ot;\uc000\u22f5\u0338\u01e1\u0b89\u2b33\u2b35;\u62f7;\u62f6i\u0100;v\u0cb8\u2b3c\u01e1\u0cb8\u2b41\u2b43;\u62fe;\u62fd\u0180aor\u2b4b\u2b63\u2b69r\u0200;ast\u0b7b\u2b55\u2b5a\u2b5flle\xec\u0b7bl;\uc000\u2afd\u20e5;\uc000\u2202\u0338lint;\u6a14\u0180;ce\u0c92\u2b70\u2b73u\xe5\u0ca5\u0100;c\u0c98\u2b78\u0100;e\u0c92\u2b7d\xf1\u0c98\u0200Aait\u2b88\u2b8b\u2b9d\u2ba7r\xf2\u2988rr\u0180;cw\u2b94\u2b95\u2b99\u619b;\uc000\u2933\u0338;\uc000\u219d\u0338ghtarrow\xbb\u2b95ri\u0100;e\u0ccb\u0cd6\u0380chimpqu\u2bbd\u2bcd\u2bd9\u2b04\u0b78\u2be4\u2bef\u0200;cer\u0d32\u2bc6\u0d37\u2bc9u\xe5\u0d45;\uc000\ud835\udcc3ort\u026d\u2b05\0\0\u2bd6ar\xe1\u2b56m\u0100;e\u0d6e\u2bdf\u0100;q\u0d74\u0d73su\u0100bp\u2beb\u2bed\xe5\u0cf8\xe5\u0d0b\u0180bcp\u2bf6\u2c11\u2c19\u0200;Ees\u2bff\u2c00\u0d22\u2c04\u6284;\uc000\u2ac5\u0338et\u0100;e\u0d1b\u2c0bq\u0100;q\u0d23\u2c00c\u0100;e\u0d32\u2c17\xf1\u0d38\u0200;Ees\u2c22\u2c23\u0d5f\u2c27\u6285;\uc000\u2ac6\u0338et\u0100;e\u0d58\u2c2eq\u0100;q\u0d60\u2c23\u0200gilr\u2c3d\u2c3f\u2c45\u2c47\xec\u0bd7lde\u803b\xf1\u40f1\xe7\u0c43iangle\u0100lr\u2c52\u2c5ceft\u0100;e\u0c1a\u2c5a\xf1\u0c26ight\u0100;e\u0ccb\u2c65\xf1\u0cd7\u0100;m\u2c6c\u2c6d\u43bd\u0180;es\u2c74\u2c75\u2c79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2c8f\u2c94\u2c99\u2c9e\u2ca3\u2cb0\u2cb6\u2cd3\u2ce3ash;\u62adarr;\u6904p;\uc000\u224d\u20d2ash;\u62ac\u0100et\u2ca8\u2cac;\uc000\u2265\u20d2;\uc000>\u20d2nfin;\u69de\u0180Aet\u2cbd\u2cc1\u2cc5rr;\u6902;\uc000\u2264\u20d2\u0100;r\u2cca\u2ccd\uc000<\u20d2ie;\uc000\u22b4\u20d2\u0100At\u2cd8\u2cdcrr;\u6903rie;\uc000\u22b5\u20d2im;\uc000\u223c\u20d2\u0180Aan\u2cf0\u2cf4\u2d02rr;\u61d6r\u0100hr\u2cfa\u2cfdk;\u6923\u0100;o\u13e7\u13e5ear;\u6927\u1253\u1a95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2d2d\0\u2d38\u2d48\u2d60\u2d65\u2d72\u2d84\u1b07\0\0\u2d8d\u2dab\0\u2dc8\u2dce\0\u2ddc\u2e19\u2e2b\u2e3e\u2e43\u0100cs\u2d31\u1a97ute\u803b\xf3\u40f3\u0100iy\u2d3c\u2d45r\u0100;c\u1a9e\u2d42\u803b\xf4\u40f4;\u443e\u0280abios\u1aa0\u2d52\u2d57\u01c8\u2d5alac;\u4151v;\u6a38old;\u69bclig;\u4153\u0100cr\u2d69\u2d6dir;\u69bf;\uc000\ud835\udd2c\u036f\u2d79\0\0\u2d7c\0\u2d82n;\u42dbave\u803b\xf2\u40f2;\u69c1\u0100bm\u2d88\u0df4ar;\u69b5\u0200acit\u2d95\u2d98\u2da5\u2da8r\xf2\u1a80\u0100ir\u2d9d\u2da0r;\u69beoss;\u69bbn\xe5\u0e52;\u69c0\u0180aei\u2db1\u2db5\u2db9cr;\u414dga;\u43c9\u0180cdn\u2dc0\u2dc5\u01cdron;\u43bf;\u69b6pf;\uc000\ud835\udd60\u0180ael\u2dd4\u2dd7\u01d2r;\u69b7rp;\u69b9\u0380;adiosv\u2dea\u2deb\u2dee\u2e08\u2e0d\u2e10\u2e16\u6228r\xf2\u1a86\u0200;efm\u2df7\u2df8\u2e02\u2e05\u6a5dr\u0100;o\u2dfe\u2dff\u6134f\xbb\u2dff\u803b\xaa\u40aa\u803b\xba\u40bagof;\u62b6r;\u6a56lope;\u6a57;\u6a5b\u0180clo\u2e1f\u2e21\u2e27\xf2\u2e01ash\u803b\xf8\u40f8l;\u6298i\u016c\u2e2f\u2e34de\u803b\xf5\u40f5es\u0100;a\u01db\u2e3as;\u6a36ml\u803b\xf6\u40f6bar;\u633d\u0ae1\u2e5e\0\u2e7d\0\u2e80\u2e9d\0\u2ea2\u2eb9\0\0\u2ecb\u0e9c\0\u2f13\0\0\u2f2b\u2fbc\0\u2fc8r\u0200;ast\u0403\u2e67\u2e72\u0e85\u8100\xb6;l\u2e6d\u2e6e\u40b6le\xec\u0403\u0269\u2e78\0\0\u2e7bm;\u6af3;\u6afdy;\u443fr\u0280cimpt\u2e8b\u2e8f\u2e93\u1865\u2e97nt;\u4025od;\u402eil;\u6030enk;\u6031r;\uc000\ud835\udd2d\u0180imo\u2ea8\u2eb0\u2eb4\u0100;v\u2ead\u2eae\u43c6;\u43d5ma\xf4\u0a76ne;\u660e\u0180;tv\u2ebf\u2ec0\u2ec8\u43c0chfork\xbb\u1ffd;\u43d6\u0100au\u2ecf\u2edfn\u0100ck\u2ed5\u2eddk\u0100;h\u21f4\u2edb;\u610e\xf6\u21f4s\u0480;abcdemst\u2ef3\u2ef4\u1908\u2ef9\u2efd\u2f04\u2f06\u2f0a\u2f0e\u402bcir;\u6a23ir;\u6a22\u0100ou\u1d40\u2f02;\u6a25;\u6a72n\u80bb\xb1\u0e9dim;\u6a26wo;\u6a27\u0180ipu\u2f19\u2f20\u2f25ntint;\u6a15f;\uc000\ud835\udd61nd\u803b\xa3\u40a3\u0500;Eaceinosu\u0ec8\u2f3f\u2f41\u2f44\u2f47\u2f81\u2f89\u2f92\u2f7e\u2fb6;\u6ab3p;\u6ab7u\xe5\u0ed9\u0100;c\u0ece\u2f4c\u0300;acens\u0ec8\u2f59\u2f5f\u2f66\u2f68\u2f7eppro\xf8\u2f43urlye\xf1\u0ed9\xf1\u0ece\u0180aes\u2f6f\u2f76\u2f7approx;\u6ab9qq;\u6ab5im;\u62e8i\xed\u0edfme\u0100;s\u2f88\u0eae\u6032\u0180Eas\u2f78\u2f90\u2f7a\xf0\u2f75\u0180dfp\u0eec\u2f99\u2faf\u0180als\u2fa0\u2fa5\u2faalar;\u632eine;\u6312urf;\u6313\u0100;t\u0efb\u2fb4\xef\u0efbrel;\u62b0\u0100ci\u2fc0\u2fc5r;\uc000\ud835\udcc5;\u43c8ncsp;\u6008\u0300fiopsu\u2fda\u22e2\u2fdf\u2fe5\u2feb\u2ff1r;\uc000\ud835\udd2epf;\uc000\ud835\udd62rime;\u6057cr;\uc000\ud835\udcc6\u0180aeo\u2ff8\u3009\u3013t\u0100ei\u2ffe\u3005rnion\xf3\u06b0nt;\u6a16st\u0100;e\u3010\u3011\u403f\xf1\u1f19\xf4\u0f14\u0a80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30e0\u310e\u312b\u3147\u3162\u3172\u318e\u3206\u3215\u3224\u3229\u3258\u326e\u3272\u3290\u32b0\u32b7\u0180art\u3047\u304a\u304cr\xf2\u10b3\xf2\u03ddail;\u691car\xf2\u1c65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307f\u308f\u3094\u30cc\u0100eu\u306d\u3071;\uc000\u223d\u0331te;\u4155i\xe3\u116emptyv;\u69b3g\u0200;del\u0fd1\u3089\u308b\u308d;\u6992;\u69a5\xe5\u0fd1uo\u803b\xbb\u40bbr\u0580;abcfhlpstw\u0fdc\u30ac\u30af\u30b7\u30b9\u30bc\u30be\u30c0\u30c3\u30c7\u30cap;\u6975\u0100;f\u0fe0\u30b4s;\u6920;\u6933s;\u691e\xeb\u225d\xf0\u272el;\u6945im;\u6974l;\u61a3;\u619d\u0100ai\u30d1\u30d5il;\u691ao\u0100;n\u30db\u30dc\u6236al\xf3\u0f1e\u0180abr\u30e7\u30ea\u30eer\xf2\u17e5rk;\u6773\u0100ak\u30f3\u30fdc\u0100ek\u30f9\u30fb;\u407d;\u405d\u0100es\u3102\u3104;\u698cl\u0100du\u310a\u310c;\u698e;\u6990\u0200aeuy\u3117\u311c\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xec\u0ff2\xe2\u30fa;\u4440\u0200clqs\u3134\u3137\u313d\u3144a;\u6937dhar;\u6969uo\u0100;r\u020e\u020dh;\u61b3\u0180acg\u314e\u315f\u0f44l\u0200;ips\u0f78\u3158\u315b\u109cn\xe5\u10bbar\xf4\u0fa9t;\u65ad\u0180ilr\u3169\u1023\u316esht;\u697d;\uc000\ud835\udd2f\u0100ao\u3177\u3186r\u0100du\u317d\u317f\xbb\u047b\u0100;l\u1091\u3184;\u696c\u0100;v\u318b\u318c\u43c1;\u43f1\u0180gns\u3195\u31f9\u31fcht\u0300ahlrst\u31a4\u31b0\u31c2\u31d8\u31e4\u31eerrow\u0100;t\u0fdc\u31ada\xe9\u30c8arpoon\u0100du\u31bb\u31bfow\xee\u317ep\xbb\u1092eft\u0100ah\u31ca\u31d0rrow\xf3\u0feaarpoon\xf3\u0551ightarrows;\u61c9quigarro\xf7\u30cbhreetimes;\u62ccg;\u42daingdotse\xf1\u1f32\u0180ahm\u320d\u3210\u3213r\xf2\u0feaa\xf2\u0551;\u600foust\u0100;a\u321e\u321f\u63b1che\xbb\u321fmid;\u6aee\u0200abpt\u3232\u323d\u3240\u3252\u0100nr\u3237\u323ag;\u67edr;\u61fer\xeb\u1003\u0180afl\u3247\u324a\u324er;\u6986;\uc000\ud835\udd63us;\u6a2eimes;\u6a35\u0100ap\u325d\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6a12ar\xf2\u31e3\u0200achq\u327b\u3280\u10bc\u3285quo;\u603ar;\uc000\ud835\udcc7\u0100bu\u30fb\u328ao\u0100;r\u0214\u0213\u0180hir\u3297\u329b\u32a0re\xe5\u31f8mes;\u62cai\u0200;efl\u32aa\u1059\u1821\u32ab\u65b9tri;\u69celuhar;\u6968;\u611e\u0d61\u32d5\u32db\u32df\u332c\u3338\u3371\0\u337a\u33a4\0\0\u33ec\u33f0\0\u3428\u3448\u345a\u34ad\u34b1\u34ca\u34f1\0\u3616\0\0\u3633cute;\u415bqu\xef\u27ba\u0500;Eaceinpsy\u11ed\u32f3\u32f5\u32ff\u3302\u330b\u330f\u331f\u3326\u3329;\u6ab4\u01f0\u32fa\0\u32fc;\u6ab8on;\u4161u\xe5\u11fe\u0100;d\u11f3\u3307il;\u415frc;\u415d\u0180Eas\u3316\u3318\u331b;\u6ab6p;\u6abaim;\u62e9olint;\u6a13i\xed\u1204;\u4441ot\u0180;be\u3334\u1d47\u3335\u62c5;\u6a66\u0380Aacmstx\u3346\u334a\u3357\u335b\u335e\u3363\u336drr;\u61d8r\u0100hr\u3350\u3352\xeb\u2228\u0100;o\u0a36\u0a34t\u803b\xa7\u40a7i;\u403bwar;\u6929m\u0100in\u3369\xf0nu\xf3\xf1t;\u6736r\u0100;o\u3376\u2055\uc000\ud835\udd30\u0200acoy\u3382\u3386\u3391\u33a0rp;\u666f\u0100hy\u338b\u338fcy;\u4449;\u4448rt\u026d\u3399\0\0\u339ci\xe4\u1464ara\xec\u2e6f\u803b\xad\u40ad\u0100gm\u33a8\u33b4ma\u0180;fv\u33b1\u33b2\u33b2\u43c3;\u43c2\u0400;deglnpr\u12ab\u33c5\u33c9\u33ce\u33d6\u33de\u33e1\u33e6ot;\u6a6a\u0100;q\u12b1\u12b0\u0100;E\u33d3\u33d4\u6a9e;\u6aa0\u0100;E\u33db\u33dc\u6a9d;\u6a9fe;\u6246lus;\u6a24arr;\u6972ar\xf2\u113d\u0200aeit\u33f8\u3408\u340f\u3417\u0100ls\u33fd\u3404lsetm\xe9\u336ahp;\u6a33parsl;\u69e4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341c\u341d\u6aaa\u0100;s\u3422\u3423\u6aac;\uc000\u2aac\ufe00\u0180flp\u342e\u3433\u3442tcy;\u444c\u0100;b\u3438\u3439\u402f\u0100;a\u343e\u343f\u69c4r;\u633ff;\uc000\ud835\udd64a\u0100dr\u344d\u0402es\u0100;u\u3454\u3455\u6660it\xbb\u3455\u0180csu\u3460\u3479\u349f\u0100au\u3465\u346fp\u0100;s\u1188\u346b;\uc000\u2293\ufe00p\u0100;s\u11b4\u3475;\uc000\u2294\ufe00u\u0100bp\u347f\u348f\u0180;es\u1197\u119c\u3486et\u0100;e\u1197\u348d\xf1\u119d\u0180;es\u11a8\u11ad\u3496et\u0100;e\u11a8\u349d\xf1\u11ae\u0180;af\u117b\u34a6\u05b0r\u0165\u34ab\u05b1\xbb\u117car\xf2\u1148\u0200cemt\u34b9\u34be\u34c2\u34c5r;\uc000\ud835\udcc8tm\xee\xf1i\xec\u3415ar\xe6\u11be\u0100ar\u34ce\u34d5r\u0100;f\u34d4\u17bf\u6606\u0100an\u34da\u34edight\u0100ep\u34e3\u34eapsilo\xee\u1ee0h\xe9\u2eafs\xbb\u2852\u0280bcmnp\u34fb\u355e\u1209\u358b\u358e\u0480;Edemnprs\u350e\u350f\u3511\u3515\u351e\u3523\u352c\u3531\u3536\u6282;\u6ac5ot;\u6abd\u0100;d\u11da\u351aot;\u6ac3ult;\u6ac1\u0100Ee\u3528\u352a;\u6acb;\u628alus;\u6abfarr;\u6979\u0180eiu\u353d\u3552\u3555t\u0180;en\u350e\u3545\u354bq\u0100;q\u11da\u350feq\u0100;q\u352b\u3528m;\u6ac7\u0100bp\u355a\u355c;\u6ad5;\u6ad3c\u0300;acens\u11ed\u356c\u3572\u3579\u357b\u3326ppro\xf8\u32faurlye\xf1\u11fe\xf1\u11f3\u0180aes\u3582\u3588\u331bppro\xf8\u331aq\xf1\u3317g;\u666a\u0680123;Edehlmnps\u35a9\u35ac\u35af\u121c\u35b2\u35b4\u35c0\u35c9\u35d5\u35da\u35df\u35e8\u35ed\u803b\xb9\u40b9\u803b\xb2\u40b2\u803b\xb3\u40b3;\u6ac6\u0100os\u35b9\u35bct;\u6abeub;\u6ad8\u0100;d\u1222\u35c5ot;\u6ac4s\u0100ou\u35cf\u35d2l;\u67c9b;\u6ad7arr;\u697bult;\u6ac2\u0100Ee\u35e4\u35e6;\u6acc;\u628blus;\u6ac0\u0180eiu\u35f4\u3609\u360ct\u0180;en\u121c\u35fc\u3602q\u0100;q\u1222\u35b2eq\u0100;q\u35e7\u35e4m;\u6ac8\u0100bp\u3611\u3613;\u6ad4;\u6ad6\u0180Aan\u361c\u3620\u362drr;\u61d9r\u0100hr\u3626\u3628\xeb\u222e\u0100;o\u0a2b\u0a29war;\u692alig\u803b\xdf\u40df\u0be1\u3651\u365d\u3660\u12ce\u3673\u3679\0\u367e\u36c2\0\0\0\0\0\u36db\u3703\0\u3709\u376c\0\0\0\u3787\u0272\u3656\0\0\u365bget;\u6316;\u43c4r\xeb\u0e5f\u0180aey\u3666\u366b\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uc000\ud835\udd31\u0200eiko\u3686\u369d\u36b5\u36bc\u01f2\u368b\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369b\u43b8ym;\u43d1\u0100cn\u36a2\u36b2k\u0100as\u36a8\u36aeppro\xf8\u12c1im\xbb\u12acs\xf0\u129e\u0100as\u36ba\u36ae\xf0\u12c1rn\u803b\xfe\u40fe\u01ec\u031f\u36c6\u22e7es\u8180\xd7;bd\u36cf\u36d0\u36d8\u40d7\u0100;a\u190f\u36d5r;\u6a31;\u6a30\u0180eps\u36e1\u36e3\u3700\xe1\u2a4d\u0200;bcf\u0486\u36ec\u36f0\u36f4ot;\u6336ir;\u6af1\u0100;o\u36f9\u36fc\uc000\ud835\udd65rk;\u6ada\xe1\u3362rime;\u6034\u0180aip\u370f\u3712\u3764d\xe5\u1248\u0380adempst\u3721\u374d\u3740\u3751\u3757\u375c\u375fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65b5own\xbb\u1dbbeft\u0100;e\u2800\u373e\xf1\u092e;\u625cight\u0100;e\u32aa\u374b\xf1\u105aot;\u65ecinus;\u6a3alus;\u6a39b;\u69cdime;\u6a3bezium;\u63e2\u0180cht\u3772\u377d\u3781\u0100ry\u3777\u377b;\uc000\ud835\udcc9;\u4446cy;\u445brok;\u4167\u0100io\u378b\u378ex\xf4\u1777head\u0100lr\u3797\u37a0eftarro\xf7\u084fightarrow\xbb\u0f5d\u0900AHabcdfghlmoprstuw\u37d0\u37d3\u37d7\u37e4\u37f0\u37fc\u380e\u381c\u3823\u3834\u3851\u385d\u386b\u38a9\u38cc\u38d2\u38ea\u38f6r\xf2\u03edar;\u6963\u0100cr\u37dc\u37e2ute\u803b\xfa\u40fa\xf2\u1150r\u01e3\u37ea\0\u37edy;\u445eve;\u416d\u0100iy\u37f5\u37farc\u803b\xfb\u40fb;\u4443\u0180abh\u3803\u3806\u380br\xf2\u13adlac;\u4171a\xf2\u13c3\u0100ir\u3813\u3818sht;\u697e;\uc000\ud835\udd32rave\u803b\xf9\u40f9\u0161\u3827\u3831r\u0100lr\u382c\u382e\xbb\u0957\xbb\u1083lk;\u6580\u0100ct\u3839\u384d\u026f\u383f\0\0\u384arn\u0100;e\u3845\u3846\u631cr\xbb\u3846op;\u630fri;\u65f8\u0100al\u3856\u385acr;\u416b\u80bb\xa8\u0349\u0100gp\u3862\u3866on;\u4173f;\uc000\ud835\udd66\u0300adhlsu\u114b\u3878\u387d\u1372\u3891\u38a0own\xe1\u13b3arpoon\u0100lr\u3888\u388cef\xf4\u382digh\xf4\u382fi\u0180;hl\u3899\u389a\u389c\u43c5\xbb\u13faon\xbb\u389aparrows;\u61c8\u0180cit\u38b0\u38c4\u38c8\u026f\u38b6\0\0\u38c1rn\u0100;e\u38bc\u38bd\u631dr\xbb\u38bdop;\u630eng;\u416fri;\u65f9cr;\uc000\ud835\udcca\u0180dir\u38d9\u38dd\u38e2ot;\u62f0lde;\u4169i\u0100;f\u3730\u38e8\xbb\u1813\u0100am\u38ef\u38f2r\xf2\u38a8l\u803b\xfc\u40fcangle;\u69a7\u0780ABDacdeflnoprsz\u391c\u391f\u3929\u392d\u39b5\u39b8\u39bd\u39df\u39e4\u39e8\u39f3\u39f9\u39fd\u3a01\u3a20r\xf2\u03f7ar\u0100;v\u3926\u3927\u6ae8;\u6ae9as\xe8\u03e1\u0100nr\u3932\u3937grt;\u699c\u0380eknprst\u34e3\u3946\u394b\u3952\u395d\u3964\u3996app\xe1\u2415othin\xe7\u1e96\u0180hir\u34eb\u2ec8\u3959op\xf4\u2fb5\u0100;h\u13b7\u3962\xef\u318d\u0100iu\u3969\u396dgm\xe1\u33b3\u0100bp\u3972\u3984setneq\u0100;q\u397d\u3980\uc000\u228a\ufe00;\uc000\u2acb\ufe00setneq\u0100;q\u398f\u3992\uc000\u228b\ufe00;\uc000\u2acc\ufe00\u0100hr\u399b\u399fet\xe1\u369ciangle\u0100lr\u39aa\u39afeft\xbb\u0925ight\xbb\u1051y;\u4432ash\xbb\u1036\u0180elr\u39c4\u39d2\u39d7\u0180;be\u2dea\u39cb\u39cfar;\u62bbq;\u625alip;\u62ee\u0100bt\u39dc\u1468a\xf2\u1469r;\uc000\ud835\udd33tr\xe9\u39aesu\u0100bp\u39ef\u39f1\xbb\u0d1c\xbb\u0d59pf;\uc000\ud835\udd67ro\xf0\u0efbtr\xe9\u39b4\u0100cu\u3a06\u3a0br;\uc000\ud835\udccb\u0100bp\u3a10\u3a18n\u0100Ee\u3980\u3a16\xbb\u397en\u0100Ee\u3992\u3a1e\xbb\u3990igzag;\u699a\u0380cefoprs\u3a36\u3a3b\u3a56\u3a5b\u3a54\u3a61\u3a6airc;\u4175\u0100di\u3a40\u3a51\u0100bg\u3a45\u3a49ar;\u6a5fe\u0100;q\u15fa\u3a4f;\u6259erp;\u6118r;\uc000\ud835\udd34pf;\uc000\ud835\udd68\u0100;e\u1479\u3a66at\xe8\u1479cr;\uc000\ud835\udccc\u0ae3\u178e\u3a87\0\u3a8b\0\u3a90\u3a9b\0\0\u3a9d\u3aa8\u3aab\u3aaf\0\0\u3ac3\u3ace\0\u3ad8\u17dc\u17dftr\xe9\u17d1r;\uc000\ud835\udd35\u0100Aa\u3a94\u3a97r\xf2\u03c3r\xf2\u09f6;\u43be\u0100Aa\u3aa1\u3aa4r\xf2\u03b8r\xf2\u09eba\xf0\u2713is;\u62fb\u0180dpt\u17a4\u3ab5\u3abe\u0100fl\u3aba\u17a9;\uc000\ud835\udd69im\xe5\u17b2\u0100Aa\u3ac7\u3acar\xf2\u03cer\xf2\u0a01\u0100cq\u3ad2\u17b8r;\uc000\ud835\udccd\u0100pt\u17d6\u3adcr\xe9\u17d4\u0400acefiosu\u3af0\u3afd\u3b08\u3b0c\u3b11\u3b15\u3b1b\u3b21c\u0100uy\u3af6\u3afbte\u803b\xfd\u40fd;\u444f\u0100iy\u3b02\u3b06rc;\u4177;\u444bn\u803b\xa5\u40a5r;\uc000\ud835\udd36cy;\u4457pf;\uc000\ud835\udd6acr;\uc000\ud835\udcce\u0100cm\u3b26\u3b29y;\u444el\u803b\xff\u40ff\u0500acdefhiosw\u3b42\u3b48\u3b54\u3b58\u3b64\u3b69\u3b6d\u3b74\u3b7a\u3b80cute;\u417a\u0100ay\u3b4d\u3b52ron;\u417e;\u4437ot;\u417c\u0100et\u3b5d\u3b61tr\xe6\u155fa;\u43b6r;\uc000\ud835\udd37cy;\u4436grarr;\u61ddpf;\uc000\ud835\udd6bcr;\uc000\ud835\udccf\u0100jn\u3b85\u3b87;\u600dj;\u600c'.split("").map((e=>e.charCodeAt(0)))),U7=new Uint16Array("\u0200aglq\t\x15\x18\x1b\u026d\x0f\0\0\x12p;\u4026os;\u4027t;\u403et;\u403cuot;\u4022".split("").map((e=>e.charCodeAt(0))));var z7;const H7=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),W7=null!==(z7=String.fromCodePoint)&&void 0!==z7?z7:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};function G7(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=H7.get(e))&&void 0!==t?t:e}var V7;!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(V7||(V7={}));var q7,j7,Y7;function K7(e){return e>=V7.ZERO&&e<=V7.NINE}function X7(e){return e===V7.EQUALS||function(e){return e>=V7.UPPER_A&&e<=V7.UPPER_Z||e>=V7.LOWER_A&&e<=V7.LOWER_Z||K7(e)}(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(q7||(q7={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(j7||(j7={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(Y7||(Y7={}));class Q7{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=j7.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Y7.Strict}startEntity(e){this.decodeMode=e,this.state=j7.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case j7.EntityStart:return e.charCodeAt(t)===V7.NUM?(this.state=j7.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=j7.NamedEntity,this.stateNamedEntity(e,t));case j7.NumericStart:return this.stateNumericStart(e,t);case j7.NumericDecimal:return this.stateNumericDecimal(e,t);case j7.NumericHex:return this.stateNumericHex(e,t);case j7.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===V7.LOWER_X?(this.state=j7.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=j7.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){const s=n-t;this.result=this.result*Math.pow(r,s)+parseInt(e.substr(t,s),r),this.consumed+=s}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const s=e.charCodeAt(t);if(!(K7(s)||(r=s,r>=V7.UPPER_A&&r<=V7.UPPER_F||r>=V7.LOWER_A&&r<=V7.LOWER_F)))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(s,3);t+=1}var r;return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!K7(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===V7.SEMI)this.consumed+=1;else if(this.decodeMode===Y7.Strict)return 0;return this.emitCodePoint(G7(this.result),this.consumed),this.errors&&(e!==V7.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let r=n[this.treeIndex],s=(r&q7.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const i=e.charCodeAt(t);if(this.treeIndex=Z7(n,r,this.treeIndex+Math.max(1,s),i),this.treeIndex<0)return 0===this.result||this.decodeMode===Y7.Attribute&&(0===s||X7(i))?0:this.emitNotTerminatedNamedEntity();if(r=n[this.treeIndex],s=(r&q7.VALUE_LENGTH)>>14,0!==s){if(i===V7.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Y7.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,r=(n[t]&q7.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:r}=this;return this.emitCodePoint(1===t?r[e]&~q7.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case j7.NamedEntity:return 0===this.result||this.decodeMode===Y7.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case j7.NumericDecimal:return this.emitNumericEntity(0,2);case j7.NumericHex:return this.emitNumericEntity(0,3);case j7.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case j7.EntityStart:return 0}}}function J7(e){let t="";const n=new Q7(e,(e=>t+=W7(e)));return function(e,r){let s=0,i=0;for(;(i=e.indexOf("&",i))>=0;){t+=e.slice(s,i),n.startEntity(r);const a=n.write(e,i+1);if(a<0){s=i+n.end();break}s=i+a,i=0===a?s+1:s}const a=t+e.slice(s);return t="",a}}function Z7(e,t,n,r){const s=(t&q7.BRANCH_LENGTH)>>7,i=t&q7.JUMP_TABLE;if(0===s)return 0!==i&&r===i?n:-1;if(i){const t=r-i;return t<0||t>=s?-1:e[n+t]-1}let a=n,o=a+s-1;for(;a<=o;){const t=a+o>>>1,n=e[t];if(n<r)a=t+1;else{if(!(n>r))return e[t+s];o=t-1}}return-1}J7(B7),J7(U7);var e9,t9,n9,r9,s9;!function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"}(e9||(e9={})),function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"}(t9||(t9={})),function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"}(n9||(n9={})),function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"}(r9||(r9={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"}(s9||(s9={}));new Map([[r9.A,s9.A],[r9.ADDRESS,s9.ADDRESS],[r9.ANNOTATION_XML,s9.ANNOTATION_XML],[r9.APPLET,s9.APPLET],[r9.AREA,s9.AREA],[r9.ARTICLE,s9.ARTICLE],[r9.ASIDE,s9.ASIDE],[r9.B,s9.B],[r9.BASE,s9.BASE],[r9.BASEFONT,s9.BASEFONT],[r9.BGSOUND,s9.BGSOUND],[r9.BIG,s9.BIG],[r9.BLOCKQUOTE,s9.BLOCKQUOTE],[r9.BODY,s9.BODY],[r9.BR,s9.BR],[r9.BUTTON,s9.BUTTON],[r9.CAPTION,s9.CAPTION],[r9.CENTER,s9.CENTER],[r9.CODE,s9.CODE],[r9.COL,s9.COL],[r9.COLGROUP,s9.COLGROUP],[r9.DD,s9.DD],[r9.DESC,s9.DESC],[r9.DETAILS,s9.DETAILS],[r9.DIALOG,s9.DIALOG],[r9.DIR,s9.DIR],[r9.DIV,s9.DIV],[r9.DL,s9.DL],[r9.DT,s9.DT],[r9.EM,s9.EM],[r9.EMBED,s9.EMBED],[r9.FIELDSET,s9.FIELDSET],[r9.FIGCAPTION,s9.FIGCAPTION],[r9.FIGURE,s9.FIGURE],[r9.FONT,s9.FONT],[r9.FOOTER,s9.FOOTER],[r9.FOREIGN_OBJECT,s9.FOREIGN_OBJECT],[r9.FORM,s9.FORM],[r9.FRAME,s9.FRAME],[r9.FRAMESET,s9.FRAMESET],[r9.H1,s9.H1],[r9.H2,s9.H2],[r9.H3,s9.H3],[r9.H4,s9.H4],[r9.H5,s9.H5],[r9.H6,s9.H6],[r9.HEAD,s9.HEAD],[r9.HEADER,s9.HEADER],[r9.HGROUP,s9.HGROUP],[r9.HR,s9.HR],[r9.HTML,s9.HTML],[r9.I,s9.I],[r9.IMG,s9.IMG],[r9.IMAGE,s9.IMAGE],[r9.INPUT,s9.INPUT],[r9.IFRAME,s9.IFRAME],[r9.KEYGEN,s9.KEYGEN],[r9.LABEL,s9.LABEL],[r9.LI,s9.LI],[r9.LINK,s9.LINK],[r9.LISTING,s9.LISTING],[r9.MAIN,s9.MAIN],[r9.MALIGNMARK,s9.MALIGNMARK],[r9.MARQUEE,s9.MARQUEE],[r9.MATH,s9.MATH],[r9.MENU,s9.MENU],[r9.META,s9.META],[r9.MGLYPH,s9.MGLYPH],[r9.MI,s9.MI],[r9.MO,s9.MO],[r9.MN,s9.MN],[r9.MS,s9.MS],[r9.MTEXT,s9.MTEXT],[r9.NAV,s9.NAV],[r9.NOBR,s9.NOBR],[r9.NOFRAMES,s9.NOFRAMES],[r9.NOEMBED,s9.NOEMBED],[r9.NOSCRIPT,s9.NOSCRIPT],[r9.OBJECT,s9.OBJECT],[r9.OL,s9.OL],[r9.OPTGROUP,s9.OPTGROUP],[r9.OPTION,s9.OPTION],[r9.P,s9.P],[r9.PARAM,s9.PARAM],[r9.PLAINTEXT,s9.PLAINTEXT],[r9.PRE,s9.PRE],[r9.RB,s9.RB],[r9.RP,s9.RP],[r9.RT,s9.RT],[r9.RTC,s9.RTC],[r9.RUBY,s9.RUBY],[r9.S,s9.S],[r9.SCRIPT,s9.SCRIPT],[r9.SEARCH,s9.SEARCH],[r9.SECTION,s9.SECTION],[r9.SELECT,s9.SELECT],[r9.SOURCE,s9.SOURCE],[r9.SMALL,s9.SMALL],[r9.SPAN,s9.SPAN],[r9.STRIKE,s9.STRIKE],[r9.STRONG,s9.STRONG],[r9.STYLE,s9.STYLE],[r9.SUB,s9.SUB],[r9.SUMMARY,s9.SUMMARY],[r9.SUP,s9.SUP],[r9.TABLE,s9.TABLE],[r9.TBODY,s9.TBODY],[r9.TEMPLATE,s9.TEMPLATE],[r9.TEXTAREA,s9.TEXTAREA],[r9.TFOOT,s9.TFOOT],[r9.TD,s9.TD],[r9.TH,s9.TH],[r9.THEAD,s9.THEAD],[r9.TITLE,s9.TITLE],[r9.TR,s9.TR],[r9.TRACK,s9.TRACK],[r9.TT,s9.TT],[r9.U,s9.U],[r9.UL,s9.UL],[r9.SVG,s9.SVG],[r9.VAR,s9.VAR],[r9.WBR,s9.WBR],[r9.XMP,s9.XMP]]);const i9=s9;e9.HTML,new Set([i9.ADDRESS,i9.APPLET,i9.AREA,i9.ARTICLE,i9.ASIDE,i9.BASE,i9.BASEFONT,i9.BGSOUND,i9.BLOCKQUOTE,i9.BODY,i9.BR,i9.BUTTON,i9.CAPTION,i9.CENTER,i9.COL,i9.COLGROUP,i9.DD,i9.DETAILS,i9.DIR,i9.DIV,i9.DL,i9.DT,i9.EMBED,i9.FIELDSET,i9.FIGCAPTION,i9.FIGURE,i9.FOOTER,i9.FORM,i9.FRAME,i9.FRAMESET,i9.H1,i9.H2,i9.H3,i9.H4,i9.H5,i9.H6,i9.HEAD,i9.HEADER,i9.HGROUP,i9.HR,i9.HTML,i9.IFRAME,i9.IMG,i9.INPUT,i9.LI,i9.LINK,i9.LISTING,i9.MAIN,i9.MARQUEE,i9.MENU,i9.META,i9.NAV,i9.NOEMBED,i9.NOFRAMES,i9.NOSCRIPT,i9.OBJECT,i9.OL,i9.P,i9.PARAM,i9.PLAINTEXT,i9.PRE,i9.SCRIPT,i9.SECTION,i9.SELECT,i9.SOURCE,i9.STYLE,i9.SUMMARY,i9.TABLE,i9.TBODY,i9.TD,i9.TEMPLATE,i9.TEXTAREA,i9.TFOOT,i9.TH,i9.THEAD,i9.TITLE,i9.TR,i9.TRACK,i9.UL,i9.WBR,i9.XMP]),e9.MATHML,new Set([i9.MI,i9.MO,i9.MN,i9.MS,i9.MTEXT,i9.ANNOTATION_XML]),e9.SVG,new Set([i9.TITLE,i9.FOREIGN_OBJECT,i9.DESC]),e9.XLINK,new Set,e9.XML,new Set,e9.XMLNS,new Set,new Set([i9.H1,i9.H2,i9.H3,i9.H4,i9.H5,i9.H6]),new Set([r9.STYLE,r9.SCRIPT,r9.XMP,r9.IFRAME,r9.NOEMBED,r9.NOFRAMES,r9.PLAINTEXT]);var a9;!function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"}(a9||(a9={}));a9.DATA,a9.RCDATA,a9.RAWTEXT,a9.SCRIPT_DATA,a9.PLAINTEXT,a9.CDATA_SECTION;const o9=new Set([s9.DD,s9.DT,s9.LI,s9.OPTGROUP,s9.OPTION,s9.P,s9.RB,s9.RP,s9.RT,s9.RTC]),l9=(new Set([...o9,s9.CAPTION,s9.COLGROUP,s9.TBODY,s9.TD,s9.TFOOT,s9.TH,s9.THEAD,s9.TR]),new Set([s9.APPLET,s9.CAPTION,s9.HTML,s9.MARQUEE,s9.OBJECT,s9.TABLE,s9.TD,s9.TEMPLATE,s9.TH]));new Set([...l9,s9.OL,s9.UL]),new Set([...l9,s9.BUTTON]),new Set([s9.ANNOTATION_XML,s9.MI,s9.MN,s9.MO,s9.MS,s9.MTEXT]),new Set([s9.DESC,s9.FOREIGN_OBJECT,s9.TITLE]),new Set([s9.TR,s9.TEMPLATE,s9.HTML]),new Set([s9.TBODY,s9.TFOOT,s9.THEAD,s9.TEMPLATE,s9.HTML]),new Set([s9.TABLE,s9.TEMPLATE,s9.HTML]),new Set([s9.TD,s9.TH]);var c9;!function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"}(c9||(c9={}));c9.Marker;const u9=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],h9=(new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"]);new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:e9.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:e9.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:e9.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:e9.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:e9.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:e9.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:e9.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:e9.XML}],["xml:space",{prefix:"xml",name:"space",namespace:e9.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:e9.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:e9.XMLNS}]]),new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),new Set([s9.B,s9.BIG,s9.BLOCKQUOTE,s9.BODY,s9.BR,s9.CENTER,s9.CODE,s9.DD,s9.DIV,s9.DL,s9.DT,s9.EM,s9.EMBED,s9.H1,s9.H2,s9.H3,s9.H4,s9.H5,s9.H6,s9.HEAD,s9.HR,s9.I,s9.IMG,s9.LI,s9.LISTING,s9.MENU,s9.META,s9.NOBR,s9.OL,s9.P,s9.PRE,s9.RUBY,s9.S,s9.SMALL,s9.SPAN,s9.STRONG,s9.STRIKE,s9.SUB,s9.SUP,s9.TABLE,s9.TT,s9.U,s9.UL,s9.VAR]);var d9;!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(d9||(d9={}));new Set([s9.TABLE,s9.TBODY,s9.TFOOT,s9.THEAD,s9.TR]);new Set([s9.CAPTION,s9.COL,s9.COLGROUP,s9.TBODY,s9.TD,s9.TFOOT,s9.TH,s9.THEAD,s9.TR]);const p9=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);String.prototype.codePointAt;function f9(e,t){return function(n){let r,s=0,i="";for(;r=e.exec(n);)s!==r.index&&(i+=n.substring(s,r.index)),i+=t.get(r[0].charCodeAt(0)),s=r.index+1;return i+n.substring(s)}}f9(/[&<>'"]/g,p9),f9(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),f9(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),new Set([r9.AREA,r9.BASE,r9.BASEFONT,r9.BGSOUND,r9.BR,r9.COL,r9.EMBED,r9.FRAME,r9.HR,r9.IMG,r9.INPUT,r9.KEYGEN,r9.LINK,r9.META,r9.PARAM,r9.SOURCE,r9.TRACK,r9.WBR]);class m9{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(){return A9(this,arguments.length>0&&void 0!==arguments[0]&&arguments[0])}}class g9 extends m9{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}class b9 extends g9{constructor(){super(...arguments),this.type=KZ.Text}get nodeType(){return 3}}class y9 extends g9{constructor(){super(...arguments),this.type=KZ.Comment}get nodeType(){return 8}}class v9 extends g9{constructor(e,t){super(t),this.name=e,this.type=KZ.Directive}get nodeType(){return 1}}class x9 extends m9{constructor(e){super(),this.children=e}get firstChild(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class E9 extends x9{constructor(){super(...arguments),this.type=KZ.CDATA}get nodeType(){return 4}}class T9 extends x9{constructor(){super(...arguments),this.type=KZ.Root}get nodeType(){return 9}}class w9 extends x9{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"script"===e?KZ.Script:"style"===e?KZ.Style:KZ.Tag;super(n),this.name=e,this.attribs=t,this.type=r}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map((e=>{var t,n;return{name:e,value:this.attribs[e],namespace:null===(t=this["x-attribsNamespace"])||void 0===t?void 0:t[e],prefix:null===(n=this["x-attribsPrefix"])||void 0===n?void 0:n[e]}}))}}function k9(e){return XZ(e)}function S9(e){return e.type===KZ.Text}function _9(e){return e.type===KZ.Comment}function I9(e){return e.type===KZ.Directive}function A9(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(S9(e))t=new b9(e.data);else if(_9(e))t=new y9(e.data);else if(k9(e)){const r=n?C9(e.children):[],s=new w9(e.name,{...e.attribs},r);r.forEach((e=>e.parent=s)),null!=e.namespace&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]={...e["x-attribsPrefix"]}),t=s}else if(function(e){return e.type===KZ.CDATA}(e)){const r=n?C9(e.children):[],s=new E9(r);r.forEach((e=>e.parent=s)),t=s}else if(function(e){return e.type===KZ.Root}(e)){const r=n?C9(e.children):[],s=new T9(r);r.forEach((e=>e.parent=s)),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),t=s}else{if(!I9(e))throw new Error(`Not implemented yet: ${e.type}`);{const n=new v9(e.name,e.data);null!=e["x-name"]&&(n["x-name"]=e["x-name"],n["x-publicId"]=e["x-publicId"],n["x-systemId"]=e["x-systemId"]),t=n}}return t.startIndex=e.startIndex,t.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(t.sourceCodeLocation=e.sourceCodeLocation),t}function C9(e){const t=e.map((e=>A9(e,!0)));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}function N9(e){const t=e.includes('"')?"'":'"';return t+e+t}const D9={isCommentNode:_9,isElementNode:k9,isTextNode:S9,createDocument(){const e=new T9([]);return e["x-mode"]=n9.NO_QUIRKS,e},createDocumentFragment:()=>new T9([]),createElement(e,t,n){const r=Object.create(null),s=Object.create(null),i=Object.create(null);for(let o=0;o<n.length;o++){const e=n[o].name;r[e]=n[o].value,s[e]=n[o].namespace,i[e]=n[o].prefix}const a=new w9(e,r,[]);return a.namespace=t,a["x-attribsNamespace"]=s,a["x-attribsPrefix"]=i,a},createCommentNode:e=>new y9(e),createTextNode:e=>new b9(e),appendChild(e,t){const n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},insertBefore(e,t,n){const r=e.children.indexOf(n),{prev:s}=n;s&&(s.next=t,t.prev=s),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e},setTemplateContent(e,t){D9.appendChild(e,t)},getTemplateContent:e=>e.children[0],setDocumentType(e,t,n,r){const s=function(e,t,n){let r="!DOCTYPE ";return e&&(r+=e),t?r+=` PUBLIC ${N9(t)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${N9(n)}`),r}(t,n,r);let i=e.children.find((e=>I9(e)&&"!doctype"===e.name));i?i.data=null!==s&&void 0!==s?s:null:(i=new v9("!doctype",s),D9.appendChild(e,i)),i["x-name"]=t,i["x-publicId"]=n,i["x-systemId"]=r},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode:e=>e["x-mode"],detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:n,next:r}=e;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){const n=e.children[e.children.length-1];n&&S9(n)?n.data+=t:D9.appendChild(e,D9.createTextNode(t))},insertTextBefore(e,t,n){const r=e.children[e.children.indexOf(n)-1];r&&S9(r)?r.data+=t:D9.insertBefore(e,D9.createTextNode(t),n)},adoptAttributes(e,t){for(let n=0;n<t.length;n++){const r=t[n].name;void 0===e.attribs[r]&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},getFirstChild:e=>e.children[0],getChildNodes:e=>e.children,getParentNode:e=>e.parent,getAttrList:e=>e.attributes,getTagName:e=>e.name,getNamespaceURI:e=>e.namespace,getTextNodeContent:e=>e.data,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName(e){var t;return null!==(t=e["x-name"])&&void 0!==t?t:""},getDocumentTypeNodePublicId(e){var t;return null!==(t=e["x-publicId"])&&void 0!==t?t:""},getDocumentTypeNodeSystemId(e){var t;return null!==(t=e["x-systemId"])&&void 0!==t?t:""},isDocumentTypeNode:e=>I9(e)&&"!doctype"===e.name,setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){null!=t.endOffset&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};function R9(e,t,n,r){var s;return null!==(s=t.treeAdapter)&&void 0!==s||(t.treeAdapter=D9),!1!==t.scriptingEnabled&&(t.scriptingEnabled=!0),n?function(e,t){return M8.parse(e,t)}(e,t):function(e,t,n){"string"===typeof e&&(n=t,t=e,e=null);const r=M8.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}(r,e,t)}const O9={treeAdapter:D9};var M9,L9,P9;function F9(e){return e===M9.Space||e===M9.NewLine||e===M9.Tab||e===M9.FormFeed||e===M9.CarriageReturn}function $9(e){return e===M9.Slash||e===M9.Gt||F9(e)}!function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"}(M9||(M9={})),function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"}(L9||(L9={})),function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"}(P9||(P9={}));const B9={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class U9{constructor(e,t){let{xmlMode:n=!1,decodeEntities:r=!0}=e;this.cbs=t,this.state=L9.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=L9.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=n,this.decodeEntities=r,this.entityDecoder=new F0(n?_0:S0,((e,t)=>this.emitCodePoint(e,t)))}reset(){this.state=L9.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=L9.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(e){e===M9.Lt||!this.decodeEntities&&this.fastForwardTo(M9.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=L9.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===M9.Amp&&this.startEntity()}stateSpecialStartSequence(e){const t=this.sequenceIndex===this.currentSequence.length;if(t?$9(e):(32|e)===this.currentSequence[this.sequenceIndex]){if(!t)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=L9.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===M9.Gt||F9(e)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const e=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=e}return this.isSpecial=!1,this.sectionStart=t+2,void this.stateInClosingTagName(e)}this.sequenceIndex=0}(32|e)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===B9.TitleEnd?this.decodeEntities&&e===M9.Amp&&this.startEntity():this.fastForwardTo(M9.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(e===M9.Lt)}stateCDATASequence(e){e===B9.Cdata[this.sequenceIndex]?++this.sequenceIndex===B9.Cdata.length&&(this.state=L9.InCommentLike,this.currentSequence=B9.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=L9.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===B9.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=L9.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!$9(e):function(e){return e>=M9.LowerA&&e<=M9.LowerZ||e>=M9.UpperA&&e<=M9.UpperZ}(e)}startSpecial(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=L9.SpecialStartSequence}stateBeforeTagName(e){if(e===M9.ExclamationMark)this.state=L9.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===M9.Questionmark)this.state=L9.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const t=32|e;this.sectionStart=this.index,this.xmlMode?this.state=L9.InTagName:t===B9.ScriptEnd[2]?this.state=L9.BeforeSpecialS:t===B9.TitleEnd[2]?this.state=L9.BeforeSpecialT:this.state=L9.InTagName}else e===M9.Slash?this.state=L9.BeforeClosingTagName:(this.state=L9.Text,this.stateText(e))}stateInTagName(e){$9(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=L9.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){F9(e)||(e===M9.Gt?this.state=L9.Text:(this.state=this.isTagStartChar(e)?L9.InClosingTagName:L9.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===M9.Gt||F9(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=L9.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===M9.Gt||this.fastForwardTo(M9.Gt))&&(this.state=L9.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===M9.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=L9.InSpecialTag,this.sequenceIndex=0):this.state=L9.Text,this.sectionStart=this.index+1):e===M9.Slash?this.state=L9.InSelfClosingTag:F9(e)||(this.state=L9.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===M9.Gt?(this.cbs.onselfclosingtag(this.index),this.state=L9.Text,this.sectionStart=this.index+1,this.isSpecial=!1):F9(e)||(this.state=L9.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===M9.Eq||$9(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=L9.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===M9.Eq?this.state=L9.BeforeAttributeValue:e===M9.Slash||e===M9.Gt?(this.cbs.onattribend(P9.NoValue,this.sectionStart),this.sectionStart=-1,this.state=L9.BeforeAttributeName,this.stateBeforeAttributeName(e)):F9(e)||(this.cbs.onattribend(P9.NoValue,this.sectionStart),this.state=L9.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===M9.DoubleQuote?(this.state=L9.InAttributeValueDq,this.sectionStart=this.index+1):e===M9.SingleQuote?(this.state=L9.InAttributeValueSq,this.sectionStart=this.index+1):F9(e)||(this.sectionStart=this.index,this.state=L9.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===M9.DoubleQuote?P9.Double:P9.Single,this.index+1),this.state=L9.BeforeAttributeName):this.decodeEntities&&e===M9.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,M9.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,M9.SingleQuote)}stateInAttributeValueNoQuotes(e){F9(e)||e===M9.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(P9.Unquoted,this.index),this.state=L9.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===M9.Amp&&this.startEntity()}stateBeforeDeclaration(e){e===M9.OpeningSquareBracket?(this.state=L9.CDATASequence,this.sequenceIndex=0):this.state=e===M9.Dash?L9.BeforeComment:L9.InDeclaration}stateInDeclaration(e){(e===M9.Gt||this.fastForwardTo(M9.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=L9.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===M9.Gt||this.fastForwardTo(M9.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=L9.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===M9.Dash?(this.state=L9.InCommentLike,this.currentSequence=B9.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=L9.InDeclaration}stateInSpecialComment(e){(e===M9.Gt||this.fastForwardTo(M9.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=L9.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const t=32|e;t===B9.ScriptEnd[3]?this.startSpecial(B9.ScriptEnd,4):t===B9.StyleEnd[3]?this.startSpecial(B9.StyleEnd,4):(this.state=L9.InTagName,this.stateInTagName(e))}stateBeforeSpecialT(e){const t=32|e;t===B9.TitleEnd[3]?this.startSpecial(B9.TitleEnd,4):t===B9.TextareaEnd[3]?this.startSpecial(B9.TextareaEnd,4):(this.state=L9.InTagName,this.stateInTagName(e))}startEntity(){this.baseState=this.state,this.state=L9.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?M0.Strict:this.baseState===L9.Text||this.baseState===L9.InSpecialTag?M0.Legacy:M0.Attribute)}stateInEntity(){const e=this.entityDecoder.write(this.buffer,this.index-this.offset);e>=0?(this.state=this.baseState,0===e&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===L9.Text||this.state===L9.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==L9.InAttributeValueDq&&this.state!==L9.InAttributeValueSq&&this.state!==L9.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case L9.Text:this.stateText(e);break;case L9.SpecialStartSequence:this.stateSpecialStartSequence(e);break;case L9.InSpecialTag:this.stateInSpecialTag(e);break;case L9.CDATASequence:this.stateCDATASequence(e);break;case L9.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(e);break;case L9.InAttributeName:this.stateInAttributeName(e);break;case L9.InCommentLike:this.stateInCommentLike(e);break;case L9.InSpecialComment:this.stateInSpecialComment(e);break;case L9.BeforeAttributeName:this.stateBeforeAttributeName(e);break;case L9.InTagName:this.stateInTagName(e);break;case L9.InClosingTagName:this.stateInClosingTagName(e);break;case L9.BeforeTagName:this.stateBeforeTagName(e);break;case L9.AfterAttributeName:this.stateAfterAttributeName(e);break;case L9.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(e);break;case L9.BeforeAttributeValue:this.stateBeforeAttributeValue(e);break;case L9.BeforeClosingTagName:this.stateBeforeClosingTagName(e);break;case L9.AfterClosingTagName:this.stateAfterClosingTagName(e);break;case L9.BeforeSpecialS:this.stateBeforeSpecialS(e);break;case L9.BeforeSpecialT:this.stateBeforeSpecialT(e);break;case L9.InAttributeValueNq:this.stateInAttributeValueNoQuotes(e);break;case L9.InSelfClosingTag:this.stateInSelfClosingTag(e);break;case L9.InDeclaration:this.stateInDeclaration(e);break;case L9.BeforeDeclaration:this.stateBeforeDeclaration(e);break;case L9.BeforeComment:this.stateBeforeComment(e);break;case L9.InProcessingInstruction:this.stateInProcessingInstruction(e);break;case L9.InEntity:this.stateInEntity()}this.index++}this.cleanup()}finish(){this.state===L9.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.sectionStart>=e||(this.state===L9.InCommentLike?this.currentSequence===B9.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===L9.InTagName||this.state===L9.BeforeAttributeName||this.state===L9.BeforeAttributeValue||this.state===L9.AfterAttributeName||this.state===L9.InAttributeName||this.state===L9.InAttributeValueSq||this.state===L9.InAttributeValueDq||this.state===L9.InAttributeValueNq||this.state===L9.InClosingTagName||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,t){this.baseState!==L9.Text&&this.baseState!==L9.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.onattribentity(e)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.ontextentity(e,this.sectionStart))}}const z9=new Set(["input","option","optgroup","select","button","datalist","textarea"]),H9=new Set(["p"]),W9=new Set(["thead","tbody"]),G9=new Set(["dd","dt"]),V9=new Set(["rt","rp"]),q9=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",H9],["h1",H9],["h2",H9],["h3",H9],["h4",H9],["h5",H9],["h6",H9],["select",z9],["input",z9],["output",z9],["button",z9],["datalist",z9],["textarea",z9],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",G9],["dt",G9],["address",H9],["article",H9],["aside",H9],["blockquote",H9],["details",H9],["div",H9],["dl",H9],["fieldset",H9],["figcaption",H9],["figure",H9],["footer",H9],["form",H9],["header",H9],["hr",H9],["main",H9],["nav",H9],["ol",H9],["pre",H9],["section",H9],["table",H9],["ul",H9],["rt",V9],["rp",V9],["tbody",W9],["tfoot",W9]]),j9=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Y9=new Set(["math","svg"]),K9=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),X9=/\s|\//;class Q9{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r,s,i,a,o;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!==e&&void 0!==e?e:{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=null!==(n=t.lowerCaseTags)&&void 0!==n?n:this.htmlMode,this.lowerCaseAttributeNames=null!==(r=t.lowerCaseAttributeNames)&&void 0!==r?r:this.htmlMode,this.recognizeSelfClosing=null!==(s=t.recognizeSelfClosing)&&void 0!==s?s:!this.htmlMode,this.tokenizer=new(null!==(i=t.Tokenizer)&&void 0!==i?i:U9)(this.options,this),this.foreignContext=[!this.htmlMode],null===(o=(a=this.cbs).onparserinit)||void 0===o||o.call(a,this)}ontext(e,t){var n,r;const s=this.getSlice(e,t);this.endIndex=t-1,null===(r=(n=this.cbs).ontext)||void 0===r||r.call(n,s),this.startIndex=t}ontextentity(e,t){var n,r;this.endIndex=t-1,null===(r=(n=this.cbs).ontext)||void 0===r||r.call(n,C0(e)),this.startIndex=t}isVoidElement(e){return this.htmlMode&&j9.has(e)}onopentagname(e,t){this.endIndex=t;let n=this.getSlice(e,t);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)}emitOpenTag(e){var t,n,r,s;this.openTagStart=this.startIndex,this.tagname=e;const i=this.htmlMode&&q9.get(e);if(i)for(;this.stack.length>0&&i.has(this.stack[0]);){const e=this.stack.shift();null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,e,!0)}this.isVoidElement(e)||(this.stack.unshift(e),this.htmlMode&&(Y9.has(e)?this.foreignContext.unshift(!0):K9.has(e)&&this.foreignContext.unshift(!1))),null===(s=(r=this.cbs).onopentagname)||void 0===s||s.call(r,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var t,n;this.startIndex=this.openTagStart,this.attribs&&(null===(n=(t=this.cbs).onopentag)||void 0===n||n.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,t){var n,r,s,i,a,o,l,c;this.endIndex=t;let u=this.getSlice(e,t);if(this.lowerCaseTagNames&&(u=u.toLowerCase()),this.htmlMode&&(Y9.has(u)||K9.has(u))&&this.foreignContext.shift(),this.isVoidElement(u))this.htmlMode&&"br"===u&&(null===(i=(s=this.cbs).onopentagname)||void 0===i||i.call(s,"br"),null===(o=(a=this.cbs).onopentag)||void 0===o||o.call(a,"br",{},!0),null===(c=(l=this.cbs).onclosetag)||void 0===c||c.call(l,"br",!1));else{const e=this.stack.indexOf(u);if(-1!==e)for(let t=0;t<=e;t++){const s=this.stack.shift();null===(r=(n=this.cbs).onclosetag)||void 0===r||r.call(n,s,t!==e)}else this.htmlMode&&"p"===u&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(e){this.endIndex=e,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var t,n;const r=this.tagname;this.endOpenTag(e),this.stack[0]===r&&(null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,r,!e),this.stack.shift())}onattribname(e,t){this.startIndex=e;const n=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n}onattribdata(e,t){this.attribvalue+=this.getSlice(e,t)}onattribentity(e){this.attribvalue+=C0(e)}onattribend(e,t){var n,r;this.endIndex=t,null===(r=(n=this.cbs).onattribute)||void 0===r||r.call(n,this.attribname,this.attribvalue,e===P9.Double?'"':e===P9.Single?"'":e===P9.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const t=e.search(X9);let n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n}ondeclaration(e,t){this.endIndex=t;const n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const e=this.getInstructionName(n);this.cbs.onprocessinginstruction(`!${e}`,`!${n}`)}this.startIndex=t+1}onprocessinginstruction(e,t){this.endIndex=t;const n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const e=this.getInstructionName(n);this.cbs.onprocessinginstruction(`?${e}`,`?${n}`)}this.startIndex=t+1}oncomment(e,t,n){var r,s,i,a;this.endIndex=t,null===(s=(r=this.cbs).oncomment)||void 0===s||s.call(r,this.getSlice(e,t-n)),null===(a=(i=this.cbs).oncommentend)||void 0===a||a.call(i),this.startIndex=t+1}oncdata(e,t,n){var r,s,i,a,o,l,c,u,h,d;this.endIndex=t;const p=this.getSlice(e,t-n);!this.htmlMode||this.options.recognizeCDATA?(null===(s=(r=this.cbs).oncdatastart)||void 0===s||s.call(r),null===(a=(i=this.cbs).ontext)||void 0===a||a.call(i,p),null===(l=(o=this.cbs).oncdataend)||void 0===l||l.call(o)):(null===(u=(c=this.cbs).oncomment)||void 0===u||u.call(c,`[CDATA[${p}]]`),null===(d=(h=this.cbs).oncommentend)||void 0===d||d.call(h)),this.startIndex=t+1}onend(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let e=0;e<this.stack.length;e++)this.cbs.onclosetag(this.stack[e],!0)}null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)}reset(){var e,t,n,r;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(r=(n=this.cbs).onparserinit)||void 0===r||r.call(n,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let n=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,t-this.bufferOffset);return n}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".write() after done!")):(this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++))}end(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".end() after done!")):(e&&this.write(e),this.ended=!0,this.tokenizer.end())}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}}function J9(e,t){const n=new k0(void 0,t);return new Q9(n,t).end(e),n.root}const Z9=(eee=(e,t,n,r)=>t._useHtmlParser2?J9(e,t):R9(e,t,n,r),function(e,t,n,r){if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)&&(e=e.toString()),"string"===typeof e)return eee(e,t,n,r);const s=e;if(!Array.isArray(s)&&v0(s))return s;const i=new p0([]);return M5(s,i),i});var eee;const tee=function(e,t){return function n(r,s){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==r)throw new Error("cheerio.load() expects a string");const o=m1(s),l=e(r,o,i,null);class c extends f6{_make(e,t){const n=u(e,t);return n.prevObject=this,n}_parse(t,n,r,s){return e(t,n,r,s)}_render(e){return t(e,this.options)}}function u(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,s=arguments.length>3?arguments[3]:void 0;if(t&&_1(t))return t;const i=m1(s,o),a="string"===typeof r?[e(r,i,!1,null)]:"length"in r?r:[r],u=_1(a)?a:new c(a,null,i);if(u._root=u,!t)return new c(void 0,u,i);const h="string"===typeof t&&C1(t)?e(t,i,!1,null).children:(d=t).name||"root"===d.type||"text"===d.type||"comment"===d.type?[t]:Array.isArray(t)?t:void 0;var d;const p=new c(h,u,i);if(h)return p;if("string"!==typeof t)throw new TypeError("Unexpected type of selector");let f=t;const m=n?"string"===typeof n?C1(n)?new c([e(n,i,!1,null)],u,i):(f=`${n} ${f}`,u):_1(n)?n:new c(Array.isArray(n)?n:[n],u,i):u;return m?m.find(f):p}return Object.assign(u,a,{load:n,_root:l,_options:o,fn:c.prototype,prototype:c.prototype}),u}}(Z9,((e,t)=>t._useHtmlParser2?n1(e,t):function(e){const t="length"in e?e:[e];for(let r=0;r<t.length;r+=1){const e=t[r];v0(e)&&Array.prototype.splice.call(t,r,1,...e.children)}let n="";for(let r=0;r<t.length;r+=1)n+=O7(t[r],O9);return n}(e)));var nee=n(875),ree=n.n(nee);const see=e=>new Promise((t=>setTimeout(t,e))),iee=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;for(let s=0;s<n;s++)try{const n=await Pt(e,{...t,timeout:1e4});return await see(1500),n}catch(r){if(console.error(`Attempt ${s+1} failed:`,r.message),s===n-1)throw r;await see(2e3*Math.pow(2,s))}},aee={Neuroradiology:["brain","neurological","spine","head","neck","neural","neuro"],"Chest/Cardiac":["chest","lung","cardiac","heart","thoracic","pulmonary","cardiovascular"],Abdominal:["abdomen","liver","pancreas","gastrointestinal","gi","abdominal"],Musculoskeletal:["musculoskeletal","bone","joint","orthopedic","msk","skeletal"],Breast:["breast","mammography","mammogram","mammographic"],"Nuclear/Molecular":["nuclear","pet","molecular","spect","radioisotope"],"General/Other":[]},oee=["Radiology","European Radiology","American Journal of Roentgenology","European Journal of Radiology","Academic Radiology","Journal of Digital Imaging","Clinical Radiology","British Journal of Radiology","Radiographics","Journal of the American College of Radiology","Investigative Radiology","Abdominal Radiology","Neuroradiology","Pediatric Radiology","CardioVascular and Interventional Radiology","Emergency Radiology"];const lee=e=>{let{onSectionClick:t,activeSection:n}=e;return(0,Pd.jsx)("nav",{className:"nav-bar",role:"navigation","aria-label":"Main navigation",children:(0,Pd.jsxs)("div",{className:"nav-container",children:[(0,Pd.jsx)("a",{href:"/",className:"nav-logo","aria-label":"Home",children:"Radiology AI Dashboard"}),(0,Pd.jsxs)("div",{className:"nav-links",children:[(0,Pd.jsx)("a",{href:"#overview",className:"nav-link "+("overview"===n?"active":""),onClick:()=>t("overview"),children:"Overview"}),(0,Pd.jsx)("a",{href:"#statistics",className:"nav-link "+("statistics"===n?"active":""),onClick:()=>t("statistics"),children:"Statistics"}),(0,Pd.jsx)("a",{href:"#publications",className:"nav-link "+("publications"===n?"active":""),onClick:()=>t("publications"),children:"Publications"}),(0,Pd.jsx)("a",{href:"#help",className:"nav-link "+("help"===n?"active":""),onClick:()=>t("help"),children:"Help"})]})]})})},cee="https://corsproxy.io/?",uee="artificial intelligence radiology clinical",hee=1;const dee=function(){const[e,t]=(0,f.useState)([]),[n,r]=(0,f.useState)({}),[s,i]=(0,f.useState)(!0),[a,o]=(0,f.useState)(""),[l,c]=(0,f.useState)(null),[u,h]=(0,f.useState)(1),[d,p]=(0,f.useState)(null),[m,g]=(0,f.useState)(!1),[b,y]=(0,f.useState)(localStorage.getItem("lastRefresh")||null),[v,x]=(0,f.useState)([null,null]),[E,T]=v,[w,k]=(0,f.useState)("overview"),S="radiology_ai_articles",_=(0,f.useMemo)((()=>[`("Artificial Intelligence"[Mesh] OR "Deep Learning"[Mesh] OR "Machine Learning"[Mesh]) AND (${oee.map((e=>`"${e}"[Journal]`)).join(" OR ")})`,`("Artificial Intelligence" OR "Deep Learning" OR "Machine Learning") AND (${oee.map((e=>`"${e}"[Journal]`)).join(" OR ")}) AND ("Clinical Trial"[Publication Type] OR "Validation Studies"[Publication Type])`,`(artificial intelligence[Title/Abstract] OR machine learning[Title/Abstract]) AND (${oee.map((e=>`"${e}"[Journal]`)).join(" OR ")})`]),[]),I=(0,f.useCallback)((e=>{const t={};e.forEach((e=>{const n=function(e){const t=(e.title+" "+e.abstract).toLowerCase();for(const[n,r]of Object.entries(aee))if(r.some((e=>t.includes(e))))return n;return"General/Other"}(e);t[n]=(t[n]||0)+1})),r(t)}),[]),A=(0,f.useCallback)((e=>{if(!oee.some((t=>e.journal.toLowerCase().includes(t.toLowerCase()))))return!1;const t=(e.title+" "+e.abstract).toLowerCase(),n=t.includes("artificial intelligence")||t.includes("machine learning")||t.includes("deep learning")||t.includes("neural network"),r=t.includes("imaging")||t.includes("radiology")||t.includes("radiological")||t.includes("radiographic"),s=["letter to editor","editorial","erratum","retraction"].some((e=>t.includes(e)));return n&&r&&!s}),[]),C=(0,f.useCallback)(((e,t)=>{var n;const r=e.pubdate||e.sortpubdate;let s;try{s=r?new Date(r):t}catch(a){s=t}const i={title:e.title||"No Title",abstract:e.abstract||"",authors:(null===(n=e.authors)||void 0===n?void 0:n.map((e=>e.name)))||[],journal:e.fulljournalname||"",publicationDate:s.toISOString(),year:s.getFullYear(),link:`https://pubmed.ncbi.nlm.nih.gov/${e.uid}`,meshTerms:e.mesh||[],publicationType:e.pubtype||[],chemicals:e.chemicals||[],keywords:e.keywords||[],dateIndexed:(new Date).toISOString()};return A(i)?i:null}),[A]),N=(0,f.useCallback)((async()=>{console.log("Fetching from Google Scholar...");try{const e=`${cee}${encodeURIComponent(`https://scholar.google.com/scholar?q=${encodeURIComponent(uee)}&as_ylo=${(new Date).getFullYear()-hee}`)}`,t=await Pt.get(e,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"}}),n=tee(t.data),r=[];return n(".gs_r").each(((e,t)=>{const s=n(t),i={title:s.find(".gs_rt").text().trim(),authors:s.find(".gs_a").text().trim(),abstract:s.find(".gs_rs").text().trim(),link:s.find(".gs_rt a").attr("href"),citations:parseInt(s.find('.gs_fl a:contains("Cited by")').text().match(/\d+/)||"0"),publicationDate:(new Date).toISOString(),source:"Google Scholar"};A(i)&&r.push(i)})),r}catch(l){return console.error("Error fetching from Google Scholar:",l),[]}}),[A]),D=(0,f.useCallback)((async()=>{const e="https://eutils.ncbi.nlm.nih.gov/entrez/eutils";try{const t=new Date,n={db:"pubmed",retmax:100,retmode:"json",sort:"date",tool:"radiology-ai-dashboard",email:"user@example.com",mindate:new Date(t.setDate(t.getDate()-30)).toISOString().split("T")[0],maxdate:(new Date).toISOString().split("T")[0]},r=[],s="https://corsproxy.io/?";for(const i of _){const t=`${s}${encodeURIComponent(`${e}/esearch.fcgi?${new URLSearchParams({...n,term:i})}`)}`,a=(await iee(t)).data.esearchresult.idlist;if(a.length>0)for(let n=0;n<a.length;n+=5){const t=a.slice(n,n+5),i=`${s}${encodeURIComponent(`${e}/esummary.fcgi?${new URLSearchParams({db:"pubmed",id:t.join(","),retmode:"json",tool:"radiology-ai-dashboard",email:"user@example.com"})}`)}`;await see(1e3);const o=await iee(i);Object.values(o.data.result).filter((e=>null===e||void 0===e?void 0:e.uid)).forEach((e=>{const t=C(e,new Date);t&&r.push(t)}))}}return r}catch(l){return console.error("Error fetching from PubMed:",l),[]}}),[_,C]),R=(0,f.useCallback)((async()=>{i(!0),console.log("Fetching articles from multiple sources...");try{const[e,n]=await Promise.all([D(),N()]),r=[...e];n.forEach((e=>{r.some((t=>ree().compareTwoStrings(t.title.toLowerCase(),e.title.toLowerCase())>.8))||r.push(e)})),r.sort(((e,t)=>new Date(t.publicationDate)-new Date(e.publicationDate))),t(r),I(r)}catch(l){console.error("Error fetching articles:",l),c("Failed to fetch articles. Please try again later.")}finally{i(!1)}}),[D,N]),O=(0,f.useCallback)((()=>{const e=new Date,t=b?new Date(b):null;(!t||t.getDate()!==e.getDate()||t.getMonth()!==e.getMonth()||t.getFullYear()!==e.getFullYear())&&(R(),y(e.toISOString()),localStorage.setItem("lastRefresh",e.toISOString()))}),[b,R]);(0,f.useEffect)((()=>{b||R();const e=setInterval(O,18e5),t=()=>O();return window.addEventListener("focus",t),()=>{clearInterval(e),window.removeEventListener("focus",t)}}),[R,O,b]),(0,f.useEffect)((()=>{(async()=>{i(!0);try{const e=(()=>{const e=localStorage.getItem(S);if(e){const{timestamp:t,data:n}=JSON.parse(e);if(Date.now()-t<864e5)return n}return null})();if(e)return t(e),void I(e);const n=await R();localStorage.setItem(S,JSON.stringify({timestamp:Date.now(),data:n}))}catch(l){console.error("Error initializing articles:",l),c("Failed to load articles. Please try again later.")}finally{i(!1)}})()}),[R]);const M=(0,f.useCallback)((()=>E||T?e.filter((e=>{const t=new Date(e.publicationDate);return E&&T?t>=E&&t<=T:E?t>=E:!T||t<=T})):e),[e,E,T])().filter((e=>{const t=e.title.toLowerCase().includes(a.toLowerCase()),n=!d||e.subdomain===d;return t&&n})),L=Math.ceil(M.length/10),P=M.slice(10*(u-1),10*u),F={labels:Object.keys(n),datasets:[{data:Object.values(n),backgroundColor:["#3b82f6","#6366f1","#8b5cf6","#ec4899","#f43f5e","#f97316","#eab308"]}]},$=e=>{let{articles:t}=e;const n=(0,f.useCallback)((e=>{const[t,n]=e.split("-W"),r=((e,t)=>new Date(t,0,1+7*(e-1)))(parseInt(n),parseInt(t));return r.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),[]),r=(0,f.useMemo)((()=>{const e={};return t.forEach((t=>{const n=(e=>{const t=new Date(e);t.setHours(0,0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));const n=new Date(t.getFullYear(),0,1),r=Math.ceil(((t-n)/864e5+1)/7);return`${t.getFullYear()}-W${r.toString().padStart(2,"0")}`})(new Date(t.publicationDate));e[n]=(e[n]||0)+1})),Object.entries(e).sort(((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)})).slice(-12).map((e=>{let[t,r]=e;return{week:n(t),count:r}}))}),[t,n]);return(0,Pd.jsxs)("div",{className:"charts-section",children:[(0,Pd.jsx)("h2",{children:"Weekly Publication Trends"}),(0,Pd.jsx)("div",{className:"chart-container",children:(0,Pd.jsx)(bc,{data:{labels:r.map((e=>e.week)),datasets:[{label:"Articles per Week",data:r.map((e=>e.count)),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#ffffff"}},y:{grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#ffffff"}}},plugins:{legend:{display:!1}}}})})]})},B=e=>{let{article:t}=e;return(0,Pd.jsxs)("article",{className:"article-card",tabIndex:"0",onClick:()=>window.open(t.link,"_blank","noopener,noreferrer"),children:[(0,Pd.jsx)("span",{className:"article-category",role:"tag",children:t.subdomain||"General"}),(0,Pd.jsx)("h3",{className:"article-title",children:t.title}),(0,Pd.jsxs)("div",{className:"article-meta",children:[(0,Pd.jsxs)("span",{className:"article-journal",children:[t.journal||t.source,t.citations>0&&` \u2022 ${t.citations} citations`]}),(0,Pd.jsx)("time",{dateTime:t.publicationDate,children:new Date(t.publicationDate).toLocaleDateString()})]})]})},U=e=>{let{stats:t}=e;return(0,Pd.jsxs)("section",{className:"hero-section",children:[(0,Pd.jsx)("h1",{className:"hero-title",children:"Radiology AI Research Dashboard"}),(0,Pd.jsx)("p",{className:"hero-subtitle",children:"Track and analyze the latest developments in AI-powered radiology research"}),(0,Pd.jsxs)("div",{className:"quick-stats",children:[(0,Pd.jsxs)("div",{className:"quick-stat",children:[(0,Pd.jsx)("div",{className:"quick-stat-value",children:t.totalArticles}),(0,Pd.jsx)("div",{className:"quick-stat-label",children:"Publications"})]}),(0,Pd.jsxs)("div",{className:"quick-stat",children:[(0,Pd.jsx)("div",{className:"quick-stat-value",children:t.topSubdomain}),(0,Pd.jsx)("div",{className:"quick-stat-label",children:"Top Specialty"})]}),(0,Pd.jsxs)("div",{className:"quick-stat",children:[(0,Pd.jsx)("div",{className:"quick-stat-value",children:t.avgAuthors}),(0,Pd.jsx)("div",{className:"quick-stat-label",children:"Avg. Authors"})]})]})]})};return(0,Pd.jsxs)(Pd.Fragment,{children:[(0,Pd.jsx)(lee,{onSectionClick:k,activeSection:w}),(0,Pd.jsx)("div",{className:"dashboard",children:s?(0,Pd.jsxs)("div",{className:"loading-state",children:[(0,Pd.jsx)("div",{className:"loading-spinner"}),(0,Pd.jsx)("p",{children:"Loading articles..."})]}):l?(0,Pd.jsxs)("div",{className:"error-state",children:[(0,Pd.jsx)("p",{children:l}),(0,Pd.jsx)("button",{onClick:()=>R(),children:"Retry"})]}):(0,Pd.jsxs)(Pd.Fragment,{children:["overview"===w&&(0,Pd.jsx)(Pd.Fragment,{children:(0,Pd.jsx)(U,{stats:{totalArticles:e.length,topSubdomain:Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return r>e.value?{key:n,value:r}:e}),{key:"",value:0}).key.split("/")[0],avgAuthors:(e.reduce(((e,t)=>e+(t.authors?t.authors.length:0)),0)/e.length||0).toFixed(1)}})}),"statistics"===w&&(0,Pd.jsxs)(Pd.Fragment,{children:[(0,Pd.jsxs)("div",{className:"charts-section",children:[(0,Pd.jsx)("h2",{children:"Distribution by Radiology Subdomain"}),(0,Pd.jsx)("div",{className:"chart-container",children:(0,Pd.jsx)(yc,{data:F,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:"#ffffff",font:{size:14,family:"'Open Sans', sans-serif"},padding:20}}}}})})]}),(0,Pd.jsx)($,{articles:e})]}),"publications"===w&&(0,Pd.jsxs)(Pd.Fragment,{children:[(0,Pd.jsxs)("div",{className:"filters-container",children:[(0,Pd.jsx)("div",{className:"date-range-picker",children:(0,Pd.jsx)(og,{selectsRange:!0,startDate:E,endDate:T,onChange:e=>x(e),isClearable:!0,placeholderText:"Select date range",className:"date-picker"})}),(0,Pd.jsx)("div",{className:"search-container",children:(0,Pd.jsx)("input",{className:"search-input",type:"text",value:a,placeholder:"Search articles...",onChange:e=>o(e.target.value)})})]}),(0,Pd.jsx)("div",{className:"subdomain-filters",children:Object.keys(aee).map((e=>(0,Pd.jsx)("button",{className:"subdomain-filter "+(d===e?"active":""),onClick:()=>p(e),children:e},e)))}),(0,Pd.jsx)("div",{className:"articles-container",children:P.map((e=>(0,Pd.jsx)(B,{article:e},e.uid)))}),(0,Pd.jsx)("div",{className:"pagination",children:Array.from({length:L},((e,t)=>(0,Pd.jsx)("button",{className:"page-button "+(u===t+1?"active":""),onClick:()=>h(t+1),children:t+1},t+1)))})]})]})})]})};class pee extends f.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t)}render(){return this.state.hasError?(0,Pd.jsxs)("div",{className:"error-state",children:[(0,Pd.jsx)("h2",{children:"Something went wrong."}),(0,Pd.jsx)("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]}):this.props.children}}const fee=pee,mee=document.getElementById("root");(0,g.H)(mee).render((0,Pd.jsx)(f.StrictMode,{children:(0,Pd.jsx)(fee,{children:(0,Pd.jsx)(dee,{})})}))})()})();